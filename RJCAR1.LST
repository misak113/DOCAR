MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3A
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 o1tmp       
  0000005F            00081 o2tmp       
  00000060            00082 o3tmp       
  00000061            00083 o4tmp       
  00000062            00084 o1tar       
  00000063            00085 o2tar       
  00000064            00086 o3tar       
  00000065            00087 o4tar       
                      00088 
  00000066            00089 timwtu      
  00000067            00090 spinac      
  00000068            00091 timspi      
  00000069            00092 timods      
  0000006A            00093 timala      
  0000006B            00094 x0          
                      00095 
  0000006C            00096 x1          
  0000006D            00097 x2          
  0000006E            00098 casvar
                      00099       ; registr 79/96
                      00100       endc
                      00101 
                      00102 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 ;Lokální promìne (pracovni a parametry) od 6D
                      00104       cblock 0x70
  00000070            00105 pri0       
  00000071            00106 pri1       
  00000072            00107 pri2        
  00000073            00108 pri3      
  00000074            00109 pri4        
  00000075            00110 pri5       
  00000076            00111 pri6    
  00000077            00112 pri7        
  00000078            00113 cil       
                      00114       endc  
                      00115 
                      00116       cblock 0x70
  00000070            00117 CIS1_L      
  00000071            00118 CIS1_H      
  00000072            00119 CIS2_L 
  00000073            00120 CIS2_H 
  00000074            00121 OUT_L 
  00000075            00122 OUT_H       
  00000076            00123 ran1      
  00000077            00124 ran2      
  00000078            00125 ran3       
  00000079            00126 ran4    
  0000007A            00127 ran5  
                      00128       endc
                      00129   
                      00130       cblock 0x70
  00000070            00131 A1    
  00000071            00132 A2    
  00000072            00133 A3    
  00000073            00134 B1    
  00000074            00135 B2    
  00000075            00136 B3    
  00000076            00137 C1    
  00000077            00138 C2    
  00000078            00139 C3    
  00000079            00140 D1    
  0000007A            00141 D2    
  0000007B            00142 D3    
  0000007C            00143 X1    
  0000007D            00144 X2    
  0000007E            00145 FL    
                      00146       endc
                      00147 
                      00148 
                      00149 
                      00150 ;KONSTANTY
                      00151 ;conf constant
  00000000            00152 T0OF        equ .0
  00000001            00153 STARTED     equ .1
  00000002            00154 WATCHOVER   equ .2
                      00155 ;casov constant
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00156 ;VAROV       equ .0
  00000001            00157 REDTUN      equ .1
  00000002            00158 LEDZAM      equ .2
  00000003            00159 WHITUN      equ .3
  00000004            00160 ODSKOK      equ .4
  00000005            00161 ALARM       equ .5
                      00162 
                      00163 
                      00164 
                      00165 
0000                  00166             org 000h        ;vektor zacatku
0000   2812           00167             goto init
                      00168 
0004                  00169             org 004h        ;vektor preruseni
0004   00A6           00170             movwf w_temp ;copy w to temp register
0005   0E0A           00171             swapf PCLATH, W ;swap pclath to be saved into w
0006   00A8           00172             movwf pcl_temp ;save status to bank zero pclath_temp register
0007   0E03           00173             swapf STATUS, W ;swap status to be saved into w
0008   00A7           00174             movwf s_temp ;save status to bank zero s_temp register
0009   0183           00175             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00176             
000A   118A           00177             bcf PCLATH,3 ;Select page 0
000B   203F           00178             call inter
                      00179         
000C   0E27           00180             swapf s_temp, W ;swap status_temp register into w
000D   0083           00181             movwf STATUS ;move w into status register;(sets bank to original state)
000E   0E28           00182             swapf pcl_temp, W ;swap pcl_temp register into w
000F   008A           00183             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
0010   0E26           00184             swapf w_temp, W ;
0011   0008           00185             return
                      00186 
0012   0185           00187 init        clrf PORTA      ;Init PORTS
0013   0186           00188             clrf PORTB
0014   0187           00189             clrf PORTC
0015   0188           00190             clrf PORTD
0016   0189           00191             clrf PORTE
                      00192             
0017   1683           00193             bsf STATUS, RP0  ;Bank 1
                      00194             
0018   3003           00195             movlw b'00000011' ; PCON 000000XX POR, BOR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0019   008E           00196             movwf PCON
                      00197     
001A   3049           00198             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových 
                            vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001B   009F           00199             movwf ADCON1
                      00200     
001C   302F           00201             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001D   0085           00202             movwf TRISA
001E   3001           00203             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001F   0086           00204             movwf TRISB
0020   3000           00205             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0087           00206             movwf TRISC
0022   3000           00207             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0088           00208             movwf TRISD
0024   3001           00209             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0089           00210             movwf TRISE
                      00211             
0026   30C7           00212             movlw b'11000111' ; timer0 control
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0081           00213             movwf OPTION_REG
                      00214             
                      00215             
0028   1283           00216             bcf STATUS, RP0 ;Bank 0
                      00217     
0029   3046           00218             movlw b'01000110' ; nastaví control register timer2
002A   0092           00219             movwf T2CON
                      00220             
002B   202E           00221             call inton
                      00222             
                      00223             ;po startu zamkne a zapne alarm
                      00224             ;call t1_00  ;@todo: Zkouka, aby se po startu ve nevypínalo
                      00225             
002C   158A           00226             bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
002D   2800           00227             goto start      ;zacni na startu
                      00228         
                      00229         
                      00230         
                      00231 
002E   108B           00232 inton       bcf INTCON, INTF ; nastavení pøeruení od RB0        
002F   160B           00233             bsf INTCON, INTE
0030   110B           00234             bcf INTCON, T0IF ;nastavení pøeruení od Timer0
0031   168B           00235             bsf INTCON, T0IE
0032   108C           00236             bcf PIR1, TMR2IF ;nastavení pøeruení od Timer2
0033   1683           00237             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0034   148C           00238             bsf PIE1, TMR2IE
0035   1283           00239             bcf STATUS, RP0 ;Bank 0
0036   170B           00240             bsf INTCON, PEIE
0037   178B           00241             bsf INTCON, GIE
0038   0008           00242             return
                      00243         
0039   120B           00244 intoff      bcf INTCON, INTE
003A   128B           00245             bcf INTCON, T0IE
003B   1683           00246             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003C   108C           00247             bcf PIE1, TMR2IE
003D   1283           00248             bcf STATUS, RP0 ;Bank 0
003E   0008           00249             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00250 
                      00251 
                      00252 
003F   2039           00253 inter       call intoff
                      00254       
0040   188B           00255             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0041   2051           00256             call radio
0042   190B           00257             btfsc INTCON, T0IF
0043   1459           00258             bsf conf, T0OF
0044   188C           00259             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0045   2048           00260             call watchover
                      00261     
0046   202E           00262             call inton
0047   0008           00263             return
                      00264 
                      00265 ;pokud pøetekl timer2 pro watch
0048   1559           00266 watchover   bsf conf, WATCHOVER
0049   0008           00267             return
                      00268             
                      00269 ;Zapnutí stopek pro kontrolu zacyklení - timer2
004A   1159           00270 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
004B   0191           00271             clrf TMR2 ;vynuluje timer2
004C   0008           00272             return
                      00273             
004D   1D59           00274 watchwait   btfss conf, WATCHOVER
004E   284D           00275             goto $-1
                      00276             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
004F   268C           00277             call w100c
0050   0008           00278             return
                      00279 
                      00280 ;pøi zachyceni signalu na radiovem pøijímaèi        
0051   0000           00281 radio       nop
0052   0008           00282             return
                      00283             
                      00284 ;pøi pøeteèení timeru 0, a po fázi synchronizace procesorù    
0053   1858           00285 timer0      btfsc cassir, 0
0054   2065           00286             call sirbeep
0055   186E           00287             btfsc casvar, 0
0056   206E           00288             call varoff
0057   18DA           00289             btfsc casov, REDTUN
0058   2091           00290             call rtuoff
0059   195A           00291             btfsc casov, LEDZAM
005A   20A2           00292             call lzabli
005B   19DA           00293             btfsc casov, WHITUN
005C   20A9           00294             call wtuoff
005D   1A5A           00295             btfsc casov, ODSKOK
005E   20BF           00296             call odsoff
005F   1ADA           00297             btfsc casov, ALARM
0060   20EE           00298             call alabli
0061   1967           00299             btfsc spinac, 2
0062   20BA           00300             call spioff
                      00301 
0063   1059           00302             bcf conf, T0OF
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0064   0008           00303             return
                      00304             
                      00305 ;houkani sireny v intervalech cca 240ms        
0065   03D7           00306 sirbeep     decf timsir, F
0066   1D03           00307             btfss STATUS, Z
0067   0008           00308             return
0068   1003           00309             bcf STATUS, C
0069   0CD8           00310             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
006A   25E6           00311             call t1_53 ;neguje houkani sireny
006B   3003           00312             movlw .3 ;nastavy na dalsich 240ms
006C   00D7           00313             movwf timsir
006D   0008           00314             return
                      00315             
                      00316 ;blikani varovek
006E   03DB           00317 varoff      decf timvar, F
006F   1D03           00318             btfss STATUS, Z
0070   0008           00319             return
0071   0CEE           00320             rrf casvar, F
0072   1C03           00321             btfss STATUS, C
0073   13EE           00322             bcf casvar, 7
0074   1803           00323             btfsc STATUS, C
0075   17EE           00324             bsf casvar, 7
                      00325             
0076   01A1           00326             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
0077   01A2           00327             clrf r3
0078   1A2D           00328             btfsc o_e, 4
0079   1421           00329             bsf r2, 0
007A   1AAD           00330             btfsc o_e, 5
007B   1422           00331             bsf r3, 0
007C   0821           00332             movf r2, W
007D   05A2           00333             andwf r3, F
                      00334             
007E   1822           00335             btfsc r3, 0 ;pokud oba zaply oba vypne
007F   122D           00336             bcf o_e, 4
0080   1822           00337             btfsc r3, 0 ;pokud oba zaply oba vypne
0081   1308           00338             bcf PORTD, 6
0082   1822           00339             btfsc r3, 0 ;pokud oba zaply oba vypne
0083   12AD           00340             bcf o_e, 5
0084   1822           00341             btfsc r3, 0 ;pokud oba zaply oba vypne
0085   1388           00342             bcf PORTD, 7
                      00343     
0086   1C22           00344             btfss r3, 0 ;pokud jeden vyply oba zapne
0087   162D           00345             bsf o_e, 4
0088   1C22           00346             btfss r3, 0 ;pokud jeden vyply oba zapne
0089   1708           00347             bsf PORTD, 6
008A   1C22           00348             btfss r3, 0 ;pokud jeden vyply oba zapne
008B   16AD           00349             bsf o_e, 5
008C   1C22           00350             btfss r3, 0 ;pokud jeden vyply oba zapne
008D   1788           00351             bsf PORTD, 7
                      00352             
008E   3008           00353             movlw .8 ;nastavy na dalsich 240ms
008F   00DB           00354             movwf timvar
0090   0008           00355             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00356 
                      00357 ;vypnuti red tuning
0091   03DC           00358 rtuoff      decf timrtu, F
0092   1D03           00359             btfss STATUS, Z
0093   0008           00360             return
0094   112B           00361             bcf o_c, 2 ;vypne red tunning
0095   3016           00362             movlw b'10110' ;port C6
0096   00D2           00363             movwf port
0097   3002           00364             movlw b'10' ;procesor 2
0098   00D3           00365             movwf prc
0099   21D9           00366             call clrout ;smaz port v prc
009A   11AE           00367             bcf o_f, 3 ;vypne red interier
009B   301A           00368             movlw b'11010' ;port D2
009C   00D2           00369             movwf port
009D   3002           00370             movlw b'10' ;procesor 2
009E   00D3           00371             movwf prc
009F   21D9           00372             call clrout ;smaz port v prc
00A0   10DA           00373             bcf casov, REDTUN ;timer red tunningu nebude vniman
00A1   0008           00374             return
                      00375             
                      00376 ;blikani led zamknuto
00A2   03DD           00377 lzabli      decf timlza, F
00A3   1D03           00378             btfss STATUS, Z
00A4   0008           00379             return
00A5   26A5           00380             call ledzam ;neguje led zamknuto
00A6   300F           00381             movlw .15 ;nasavy na dalsich 240ms
00A7   00DD           00382             movwf timlza
00A8   0008           00383             return
                      00384             
                      00385 ;vypnuti white tuning
00A9   03E6           00386 wtuoff      decf timwtu, F
00AA   1D03           00387             btfss STATUS, Z
00AB   0008           00388             return
00AC   11AB           00389             bcf o_c, 3 ;vypne white tunning
00AD   3017           00390             movlw b'10111' ;port C7
00AE   00D2           00391             movwf port
00AF   3002           00392             movlw b'10' ;procesor 2
00B0   00D3           00393             movwf prc
00B1   21D9           00394             call clrout ;smaz port v prc
00B2   122E           00395             bcf o_f, 4 ;vypne white interier
00B3   301B           00396             movlw b'11011' ;port D3
00B4   00D2           00397             movwf port
00B5   3002           00398             movlw b'10' ;procesor 2
00B6   00D3           00399             movwf prc
00B7   21D9           00400             call clrout ;smaz port v prc
00B8   11DA           00401             bcf casov, WHITUN ;timer red tunningu nebude vniman
00B9   0008           00402             return
                      00403             
                      00404 ;vypnuti polohy 3 spinacky
00BA   03E8           00405 spioff      decf timspi, F
00BB   1D03           00406             btfss STATUS, Z
00BC   0008           00407             return
00BD   23F5           00408             call t1_03
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BE   0008           00409             return
                      00410             
                      00411 ;vypnuti odskokù
00BF   03E9           00412 odsoff      decf timods, F
00C0   1D03           00413             btfss STATUS, Z
00C1   0008           00414             return
00C2   122A           00415             bcf o_b, 4
00C3   301F           00416             movlw b'11111' ;port D7
00C4   00D2           00417             movwf port
00C5   3003           00418             movlw b'11' ;procesor 3
00C6   00D3           00419             movwf prc
00C7   21D9           00420             call clrout ;smaz port v prc
00C8   12AA           00421             bcf o_b, 5
00C9   1387           00422             bcf PORTC, 7
00CA   132A           00423             bcf o_b, 6
00CB   1106           00424             bcf PORTB, 2
00CC   13AA           00425             bcf o_b, 7
00CD   1186           00426             bcf PORTB, 3
00CE   11AA           00427             bcf o_b, 3
00CF   1206           00428             bcf PORTB, 4
00D0   102D           00429             bcf o_e, 0
00D1   1286           00430             bcf PORTB, 5
00D2   102B           00431             bcf o_c, 0
00D3   1306           00432             bcf PORTB, 6
                      00433 
00D4   13AD           00434             bcf o_e, 7
00D5   301E           00435             movlw b'11110' ;port D6
00D6   00D2           00436             movwf port
00D7   3002           00437             movlw b'10' ;procesor 2
00D8   00D3           00438             movwf prc
00D9   21D9           00439             call clrout ;nastav port v prc
00DA   132D           00440             bcf o_e, 6
00DB   301C           00441             movlw b'11100' ;port D4
00DC   00D2           00442             movwf port
00DD   3002           00443             movlw b'10' ;procesor 2
00DE   00D3           00444             movwf prc
00DF   21D9           00445             call clrout ;nastav port v prc
00E0   12AE           00446             bcf o_f, 5
00E1   301D           00447             movlw b'11101' ;port D5
00E2   00D2           00448             movwf port
00E3   3002           00449             movlw b'10' ;procesor 2
00E4   00D3           00450             movwf prc
00E5   21D9           00451             call clrout ;nastav port v prc
00E6   102E           00452             bcf o_f, 0
00E7   301F           00453             movlw b'11111' ;port D7
00E8   00D2           00454             movwf port
00E9   3002           00455             movlw b'10' ;procesor 2
00EA   00D3           00456             movwf prc
00EB   21D9           00457             call clrout ;nastav port v prc
                      00458 
00EC   125A           00459             bcf casov, ODSKOK ;timer red tunningu nebude vniman
00ED   0008           00460             return
                      00461             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00462 ;Problikavani alarmu
00EE   03EA           00463 alabli      decf timala, F
00EF   1D03           00464             btfss STATUS, Z
00F0   0008           00465             return
                      00466 
00F1   2585           00467             call t1_40
00F2   2594           00468             call t1_41
00F3   2639           00469             call t1_61
00F4   2648           00470             call t1_62
00F5   2696           00471             call klakson
                      00472             
00F6   3014           00473             movlw .20 ;nasavy na dalsich 240ms
00F7   00EA           00474             movwf timala
00F8   0008           00475             return
                      00476 
                      00477 
                      00478 
                      00479 
                      00480 
                      00481 
00F9   1486           00482 dotaz       bsf PORTB, 1  ;start bity XX - 10
00FA   268C           00483             call w100c
00FB   1086           00484             bcf PORTB, 1
00FC   268C           00485             call w100c
                      00486             
00FD   0878           00487             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
00FE   00A0           00488             movwf r1
00FF   3004           00489             movlw .4
0100   00A1           00490             movwf r2
0101   19A0           00491             btfsc r1, 3
0102   1486           00492             bsf PORTB, 1
0103   1DA0           00493             btfss r1, 3
0104   1086           00494             bcf PORTB, 1
0105   268C           00495             call w100c
0106   0DA0           00496             rlf r1, F
0107   0BA1           00497             decfsz r2, F
0108   2901           00498             goto $-7
                      00499             
0109   3000           00500             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
010A   00A0           00501             movwf r1
010B   3007           00502             movlw .7
010C   00A1           00503             movwf r2
010D   1B20           00504             btfsc r1, 6
010E   1486           00505             bsf PORTB, 1
010F   1F20           00506             btfss r1, 6
0110   1086           00507             bcf PORTB, 1
0111   268C           00508             call w100c
0112   0DA0           00509             rlf r1, F
0113   0BA1           00510             decfsz r2, F
0114   290D           00511             goto $-7
                      00512             
0115   1486           00513             bsf PORTB, 1  ;STOP bity XXX - 111
0116   268C           00514             call w100c
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0117   268C           00515             call w100c
0118   268C           00516             call w100c
0119   1086           00517             bcf PORTB, 1
011A   2691           00518             call w40c
                      00519             
011B   1683           00520             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
011C   1486           00521             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
011D   1283           00522             bcf STATUS, RP0  ;Bank 0
                      00523             
011E   1959           00524             btfsc conf, WATCHOVER
011F   29AE           00525             goto dotazerr
0120   1C86           00526             btfss PORTB, 1  ;ceka az zacne vysilat signal
0121   291E           00527             goto $-3 ;ochrana proti zamrznuti
                      00528             
0122   1959           00529             btfsc conf, WATCHOVER
0123   29AE           00530             goto dotazerr
0124   1886           00531             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0125   2922           00532             goto $-3 ;ochrana proti zamrznuti
                      00533             
0126   2691           00534             call w40c   ;posune do prostred signalu X - 0
0127   268C           00535             call w100c
                      00536             
0128   01F0           00537             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0129   3008           00538             movlw .8
012A   00A1           00539             movwf r2
012B   0DF0           00540             rlf pri0, F
012C   1886           00541             btfsc PORTB, 1
012D   1470           00542             bsf pri0, 0
012E   1C86           00543             btfss PORTB, 1
012F   1070           00544             bcf pri0, 0
0130   268C           00545             call w100c
0131   0BA1           00546             decfsz r2, F
0132   292B           00547             goto $-7
                      00548             
0133   1959           00549             btfsc conf, WATCHOVER
0134   29AE           00550             goto dotazerr
0135   1886           00551             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0136   2933           00552             goto $-3 ;ochrana proti zamrznuti
0137   2691           00553             call w40c
0138   268C           00554             call w100c
                      00555             
                      00556             
0139   01F1           00557             clrf pri1        ; ulozi priijate do pri XXXX XXXX
013A   3008           00558             movlw .8
013B   00A1           00559             movwf r2
013C   0DF1           00560             rlf pri1, F
013D   1886           00561             btfsc PORTB, 1
013E   1471           00562             bsf pri1, 0
013F   1C86           00563             btfss PORTB, 1
0140   1071           00564             bcf pri1, 0
0141   268C           00565             call w100c
0142   0BA1           00566             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0143   293C           00567             goto $-7
                      00568             
0144   1959           00569             btfsc conf, WATCHOVER
0145   29AE           00570             goto dotazerr
0146   1886           00571             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0147   2944           00572             goto $-3 ;ochrana proti zamrznuti
0148   2691           00573             call w40c
0149   268C           00574             call w100c
                      00575             
                      00576             
014A   01F2           00577             clrf pri2        ; ulozi priijate do pri XXXX XXXX
014B   3008           00578             movlw .8
014C   00A1           00579             movwf r2
014D   0DF2           00580             rlf pri2, F
014E   1886           00581             btfsc PORTB, 1
014F   1472           00582             bsf pri2, 0
0150   1C86           00583             btfss PORTB, 1
0151   1072           00584             bcf pri2, 0
0152   268C           00585             call w100c
0153   0BA1           00586             decfsz r2, F
0154   294D           00587             goto $-7
                      00588             
0155   1959           00589             btfsc conf, WATCHOVER
0156   29AE           00590             goto dotazerr
0157   1886           00591             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0158   2955           00592             goto $-3 ;ochrana proti zamrznuti
0159   2691           00593             call w40c
015A   268C           00594             call w100c
                      00595             
                      00596             
015B   01F3           00597             clrf pri3        ; ulozi priijate do pri XXXX XXXX
015C   3008           00598             movlw .8
015D   00A1           00599             movwf r2
015E   0DF3           00600             rlf pri3, F
015F   1886           00601             btfsc PORTB, 1
0160   1473           00602             bsf pri3, 0
0161   1C86           00603             btfss PORTB, 1
0162   1073           00604             bcf pri3, 0
0163   268C           00605             call w100c
0164   0BA1           00606             decfsz r2, F
0165   295E           00607             goto $-7
                      00608             
0166   1959           00609             btfsc conf, WATCHOVER
0167   29AE           00610             goto dotazerr
0168   1886           00611             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0169   2966           00612             goto $-3 ;ochrana proti zamrznuti
016A   2691           00613             call w40c
016B   268C           00614             call w100c
                      00615             
                      00616             
016C   01F4           00617             clrf pri4        ; ulozi priijate do pri XXXX XXXX
016D   3008           00618             movlw .8
016E   00A1           00619             movwf r2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

016F   0DF4           00620             rlf pri4, F
0170   1886           00621             btfsc PORTB, 1
0171   1474           00622             bsf pri4, 0
0172   1C86           00623             btfss PORTB, 1
0173   1074           00624             bcf pri4, 0
0174   268C           00625             call w100c
0175   0BA1           00626             decfsz r2, F
0176   296F           00627             goto $-7
                      00628             
0177   1959           00629             btfsc conf, WATCHOVER
0178   29AE           00630             goto dotazerr
0179   1886           00631             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
017A   2977           00632             goto $-3 ;ochrana proti zamrznuti
017B   2691           00633             call w40c
017C   268C           00634             call w100c
                      00635             
                      00636             
017D   01F5           00637             clrf pri5        ; ulozi priijate do pri XXXX XXXX
017E   3008           00638             movlw .8
017F   00A1           00639             movwf r2
0180   0DF5           00640             rlf pri5, F
0181   1886           00641             btfsc PORTB, 1
0182   1475           00642             bsf pri5, 0
0183   1C86           00643             btfss PORTB, 1
0184   1075           00644             bcf pri5, 0
0185   268C           00645             call w100c
0186   0BA1           00646             decfsz r2, F
0187   2980           00647             goto $-7
                      00648             
0188   1959           00649             btfsc conf, WATCHOVER
0189   29AE           00650             goto dotazerr
018A   1886           00651             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
018B   2988           00652             goto $-3 ;ochrana proti zamrznuti
018C   2691           00653             call w40c
018D   268C           00654             call w100c
                      00655             
                      00656             
018E   01F6           00657             clrf pri6        ; ulozi priijate do pri XXXX XXXX
018F   3008           00658             movlw .8
0190   00A1           00659             movwf r2
0191   0DF6           00660             rlf pri6, F
0192   1886           00661             btfsc PORTB, 1
0193   1476           00662             bsf pri6, 0
0194   1C86           00663             btfss PORTB, 1
0195   1076           00664             bcf pri6, 0
0196   268C           00665             call w100c
0197   0BA1           00666             decfsz r2, F
0198   2991           00667             goto $-7
                      00668             
0199   1959           00669             btfsc conf, WATCHOVER
019A   29AE           00670             goto dotazerr
019B   1886           00671             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
019C   2999           00672             goto $-3 ;ochrana proti zamrznuti
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

019D   2691           00673             call w40c
019E   268C           00674             call w100c
                      00675             
                      00676             
019F   01F7           00677             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01A0   3008           00678             movlw .8
01A1   00A1           00679             movwf r2
01A2   0DF7           00680             rlf pri7, F
01A3   1886           00681             btfsc PORTB, 1
01A4   1477           00682             bsf pri7, 0
01A5   1C86           00683             btfss PORTB, 1
01A6   1077           00684             bcf pri7, 0
01A7   268C           00685             call w100c
01A8   0BA1           00686             decfsz r2, F
01A9   29A2           00687             goto $-7
                      00688             
01AA   1959           00689             btfsc conf, WATCHOVER
01AB   29AE           00690             goto dotazerr
01AC   1886           00691             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01AD   29AA           00692             goto $-3 ;ochrana proti zamrznuti
                      00693             
                      00694             
01AE   1683           00695 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AF   1086           00696             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01B0   1283           00697             bcf STATUS, RP0  ;Bank 0
01B1   0008           00698             return
                      00699         
                      00700         ; WATCH2 start
01B2   1486           00701 setout      bsf PORTB, 1  ;start bity XX - 10
01B3   268C           00702             call w100c
01B4   1086           00703             bcf PORTB, 1
01B5   268C           00704             call w100c
                      00705             
01B6   0853           00706             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01B7   00A0           00707             movwf r1
01B8   3004           00708             movlw .4
01B9   00A1           00709             movwf r2
01BA   19A0           00710             btfsc r1, 3
01BB   1486           00711             bsf PORTB, 1
01BC   1DA0           00712             btfss r1, 3
01BD   1086           00713             bcf PORTB, 1
01BE   268C           00714             call w100c
01BF   0DA0           00715             rlf r1, F
01C0   0BA1           00716             decfsz r2, F
01C1   29BA           00717             goto $-7
                      00718             
01C2   1486           00719             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01C3   268C           00720             call w100c
                      00721             
01C4   0852           00722             movf port, W   ;vysila port ke zmene XXXXX
01C5   00A0           00723             movwf r1
01C6   3005           00724             movlw .5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C7   00A1           00725             movwf r2
01C8   1A20           00726             btfsc r1, 4
01C9   1486           00727             bsf PORTB, 1
01CA   1E20           00728             btfss r1, 4
01CB   1086           00729             bcf PORTB, 1
01CC   268C           00730             call w100c
01CD   0DA0           00731             rlf r1, F
01CE   0BA1           00732             decfsz r2, F
01CF   29C8           00733             goto $-7
                      00734             
01D0   1486           00735             bsf PORTB, 1  ;vysle hodnotu 1
01D1   268C           00736             call w100c
                      00737             
01D2   1486           00738             bsf PORTB, 1  ;STOP bity XXX - 111
01D3   268C           00739             call w100c
01D4   268C           00740             call w100c
01D5   268C           00741             call w100c
01D6   1086           00742             bcf PORTB, 1
01D7   268C           00743             call w100c
                      00744             ; WATCH2 wait
01D8   0008           00745             return
                      00746 
                      00747       ; WATCH2 start
01D9   1486           00748 clrout      bsf PORTB, 1  ;start bity XX - 10
01DA   268C           00749             call w100c
01DB   1086           00750             bcf PORTB, 1
01DC   268C           00751             call w100c
                      00752             
01DD   0853           00753             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01DE   00A0           00754             movwf r1
01DF   3004           00755             movlw .4
01E0   00A1           00756             movwf r2
01E1   19A0           00757             btfsc r1, 3
01E2   1486           00758             bsf PORTB, 1
01E3   1DA0           00759             btfss r1, 3
01E4   1086           00760             bcf PORTB, 1
01E5   268C           00761             call w100c
01E6   0DA0           00762             rlf r1, F
01E7   0BA1           00763             decfsz r2, F
01E8   29E1           00764             goto $-7
                      00765             
01E9   1486           00766             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01EA   268C           00767             call w100c
                      00768             
01EB   0852           00769             movf port, W   ;vysila port ke zmene XXXXX
01EC   00A0           00770             movwf r1
01ED   3005           00771             movlw .5
01EE   00A1           00772             movwf r2
01EF   1A20           00773             btfsc r1, 4
01F0   1486           00774             bsf PORTB, 1
01F1   1E20           00775             btfss r1, 4
01F2   1086           00776             bcf PORTB, 1
01F3   268C           00777             call w100c
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F4   0DA0           00778             rlf r1, F
01F5   0BA1           00779             decfsz r2, F
01F6   29EF           00780             goto $-7
                      00781             
01F7   1086           00782             bcf PORTB, 1  ;vysle hodnotu 0
01F8   268C           00783             call w100c
                      00784             
01F9   1486           00785             bsf PORTB, 1  ;STOP bity XXX - 111
01FA   268C           00786             call w100c
01FB   268C           00787             call w100c
01FC   268C           00788             call w100c
01FD   1086           00789             bcf PORTB, 1
01FE   268C           00790             call w100c
                      00791             ; WATCH2 wait
01FF   0008           00792             return
                      00793         
                      00794         
                      00795         
                      00796         
                      00797         
                      00798         
                      00799         
                      00800         
                      00801         
                      00802         
                      00803         
                      00804         ;podprogramy
                      00805 ;Tlaèitka funkci 1
0200   1BAC           00806 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0201   0008           00807             return
                      00808             
0202   1003           00809             bcf STATUS, C
0203   0C3F           00810             rrf ir_58, W
0204   00A0           00811             movwf r1
0205   1003           00812             bcf STATUS, C
0206   0CA0           00813             rrf r1, F
0207   1003           00814             bcf STATUS, C
0208   0CA0           00815             rrf r1, F
0209   30E0           00816             movlw b'11100000'
020A   04A0           00817             iorwf r1, F
                      00818             
020B   0820           00819             movf r1, W    ;zkontroluje jestli nebylo uz minule
020C   00A3           00820             movwf r4
020D   0854           00821             movf tl1, W
020E   06A3           00822             xorwf r4, F
020F   1903           00823             btfsc STATUS, Z
0210   0008           00824             return
0211   0820           00825             movf r1, W    ;ulozi aktualni tlacitko
0212   00D4           00826             movwf tl1
                      00827             
0213   0AA0           00828             incf r1, F
0214   1903           00829             btfsc STATUS, Z
0215   2464           00830             call t1_06
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0216   0AA0           00831             incf r1, F
0217   1903           00832             btfsc STATUS, Z
0218   23D2           00833             call t1_02
0219   0AA0           00834             incf r1, F
021A   1903           00835             btfsc STATUS, Z
021B   23F5           00836             call t1_03
021C   0AA0           00837             incf r1, F
021D   1903           00838             btfsc STATUS, Z
021E   244C           00839             call t1_05
021F   0AA0           00840             incf r1, F
0220   1903           00841             btfsc STATUS, Z
0221   25AE           00842             call t1_43
0222   0AA0           00843             incf r1, F
0223   1903           00844             btfsc STATUS, Z
0224   25A3           00845             call t1_42
0225   0AA0           00846             incf r1, F
0226   1903           00847             btfsc STATUS, Z
0227   249B           00848             call t1_07
0228   0AA0           00849             incf r1, F
0229   1903           00850             btfsc STATUS, Z
022A   24A9           00851             call t1_08
022B   0AA0           00852             incf r1, F
022C   1903           00853             btfsc STATUS, Z
022D   24D9           00854             call t1_14
022E   0AA0           00855             incf r1, F
022F   1903           00856             btfsc STATUS, Z
0230   24DF           00857             call t1_15
0231   0AA0           00858             incf r1, F
0232   1903           00859             btfsc STATUS, Z
0233   2571           00860             call t1_37
0234   0AA0           00861             incf r1, F
0235   1903           00862             btfsc STATUS, Z
0236   24B9           00863             call t1_10
0237   0AA0           00864             incf r1, F
0238   1903           00865             btfsc STATUS, Z
0239   24C9           00866             call t1_12
023A   0AA0           00867             incf r1, F
023B   1903           00868             btfsc STATUS, Z
023C   252C           00869             call t1_30
023D   0AA0           00870             incf r1, F
023E   1903           00871             btfsc STATUS, Z
023F   2554           00872             call t1_34
0240   0AA0           00873             incf r1, F
0241   1903           00874             btfsc STATUS, Z
0242   253E           00875             call t1_32
0243   0AA0           00876             incf r1, F
0244   1903           00877             btfsc STATUS, Z
0245   2566           00878             call t1_36
                      00879             ;pokud je tlacitko prave pusteno
0246   1003           00880             bcf STATUS, C
0247   0C3F           00881             rrf ir_58, W
0248   00A0           00882             movwf r1
0249   0820           00883             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

024A   1903           00884             btfsc STATUS, Z
024B   2319           00885             call t1_stop
024C   0008           00886             return
                      00887 
                      00888 ;Tlaèitka funkci 2
024D   1BAC           00889 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
024E   0008           00890             return
                      00891             
024F   1003           00892             bcf STATUS, C
0250   0C43           00893             rrf ir_62, W
0251   00A0           00894             movwf r1
0252   1003           00895             bcf STATUS, C
0253   0CA0           00896             rrf r1, F
0254   1003           00897             bcf STATUS, C
0255   0CA0           00898             rrf r1, F
0256   30E0           00899             movlw b'11100000'
0257   04A0           00900             iorwf r1, F
                      00901             
0258   0820           00902             movf r1, W    ;zkontroluje jestli nebylo uz minule
0259   00A3           00903             movwf r4
025A   0855           00904             movf tl2, W
025B   06A3           00905             xorwf r4, F
025C   1903           00906             btfsc STATUS, Z
025D   0008           00907             return
025E   0820           00908             movf r1, W    ;ulozi aktualni tlacitko
025F   00D5           00909             movwf tl2
                      00910     
0260   0AA0           00911             incf r1, F
0261   1903           00912             btfsc STATUS, Z
0262   2416           00913             call t1_04
0263   0AA0           00914             incf r1, F
0264   1903           00915             btfsc STATUS, Z
0265   2607           00916             call t1_56
0266   0AA0           00917             incf r1, F
0267   1903           00918             btfsc STATUS, Z
0268   24E5           00919             call t1_16
0269   0AA0           00920             incf r1, F
026A   1903           00921             btfsc STATUS, Z
026B   251B           00922             call t1_26
026C   0AA0           00923             incf r1, F
026D   1903           00924             btfsc STATUS, Z
026E   25B9           00925             call t1_44
026F   0AA0           00926             incf r1, F
0270   1903           00927             btfsc STATUS, Z
0271   24C3           00928             call t1_11
0272   0AA0           00929             incf r1, F
0273   1903           00930             btfsc STATUS, Z
0274   24D1           00931             call t1_13
0275   0AA0           00932             incf r1, F
0276   1903           00933             btfsc STATUS, Z
0277   25F5           00934             call t1_54
0278   0AA0           00935             incf r1, F
0279   1903           00936             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

027A   2594           00937             call t1_41
027B   0AA0           00938             incf r1, F
027C   1903           00939             btfsc STATUS, Z
027D   2648           00940             call t1_62
027E   0AA0           00941             incf r1, F
027F   1903           00942             btfsc STATUS, Z
0280   2585           00943             call t1_40
0281   0AA0           00944             incf r1, F
0282   1903           00945             btfsc STATUS, Z
0283   2639           00946             call t1_61
0284   0AA0           00947             incf r1, F
0285   1903           00948             btfsc STATUS, Z
0286   2535           00949             call t1_31
0287   0AA0           00950             incf r1, F
0288   1903           00951             btfsc STATUS, Z
0289   255D           00952             call t1_35
028A   0AA0           00953             incf r1, F
028B   1903           00954             btfsc STATUS, Z
028C   25E6           00955             call t1_53
028D   0AA0           00956             incf r1, F
028E   1903           00957             btfsc STATUS, Z
028F   2549           00958             call t1_33
0290   0AA0           00959             incf r1, F
0291   1903           00960             btfsc STATUS, Z
0292   262E           00961             call t1_60
                      00962             ;pokud je tlacitko prave pusteno
0293   1003           00963             bcf STATUS, C
0294   0C43           00964             rrf ir_62, W
0295   00A0           00965             movwf r1
0296   0820           00966             movf r1, W
0297   1903           00967             btfsc STATUS, Z
0298   231B           00968             call t2_stop
0299   0008           00969             return
                      00970 ;Tlaèitka imobilizeru
029A   0000           00971 if_50       nop
029B   0008           00972             return
                      00973              ;pasy
029C   0000           00974 if_59       nop
029D   0008           00975             return
                      00976              ;rychlost
029E   0000           00977 if_60       nop
029F   0008           00978             return
                      00979              ;otáèky
02A0   0000           00980 if_61       nop
02A1   0008           00981             return
                      00982              ;teplota in set
02A2   0000           00983 if_49       nop
02A3   0008           00984             return
                      00985              ;alarm senzory
02A4   0000           00986 if_80       nop
02A5   0008           00987             return
                      00988              ;baterie
02A6   0000           00989 if_51       nop
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02A7   0008           00990             return
                      00991              ;teplota in
02A8   0000           00992 if_52       nop
02A9   0008           00993             return
                      00994              ;teplota eng
02AA   0000           00995 if_53       nop
02AB   0008           00996             return
                      00997              ;palivo
02AC   0000           00998 if_54       nop
02AD   0008           00999             return
                      01000              ;dveøe 1
02AE   0000           01001 if_55       nop
02AF   0008           01002             return
                      01003              ;ruèní brzda
02B0   0000           01004 if_56       nop
02B1   0008           01005             return
                      01006              ;kvalt
02B2   0000           01007 if_57       nop
02B3   0008           01008             return
                      01009              ;dveøe 2
02B4   0000           01010 if_84       nop
02B5   0008           01011             return
                      01012              ;dveøe 3
02B6   0000           01013 if_85       nop
02B7   0008           01014             return
                      01015              ;dveøe 4
02B8   0000           01016 if_86       nop
02B9   0008           01017             return
                      01018              ;kapota
02BA   0000           01019 if_87       nop
02BB   0008           01020             return
                      01021              ;kufr
02BC   0000           01022 if_88       nop
02BD   0008           01023             return
                      01024              ;nadrz
02BE   0000           01025 if_89       nop
02BF   0008           01026             return
                      01027              ;okno 1
02C0   0000           01028 if_90       nop
02C1   0008           01029             return
                      01030              ;okno 2
02C2   0000           01031 if_91       nop
02C3   0008           01032             return
                      01033              ;okno 3
02C4   0000           01034 if_92       nop
02C5   0008           01035             return
                      01036              ;okno 4
02C6   0000           01037 if_93       nop
02C7   0008           01038             return
                      01039              ;teplota OUT
02C8   0000           01040 if_127      nop
02C9   0008           01041             return
                      01042 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01043 ;Tlaèítka funkcí 3
02CA   1BAC           01044 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
02CB   0000           01045             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to dùleité !!!!!
                      01046             
02CC   1003           01047             bcf STATUS, C
02CD   0C50           01048             rrf ir_128, W
02CE   00A0           01049             movwf r1
02CF   1003           01050             bcf STATUS, C
02D0   0CA0           01051             rrf r1, F
02D1   1003           01052             bcf STATUS, C
02D2   0CA0           01053             rrf r1, F
02D3   30E0           01054             movlw b'11100000'
02D4   04A0           01055             iorwf r1, F
                      01056             
02D5   0820           01057             movf r1, W    ;zkontroluje jestli nebylo uz minule
02D6   00A3           01058             movwf r4
02D7   0856           01059             movf tl3, W
02D8   06A3           01060             xorwf r4, F
02D9   1903           01061             btfsc STATUS, Z
02DA   0008           01062             return
02DB   0820           01063             movf r1, W    ;ulozi aktualni tlacitko
02DC   00D6           01064             movwf tl3
                      01065     
02DD   0AA0           01066             incf r1, F
02DE   1903           01067             btfsc STATUS, Z
02DF   25CA           01068             call t1_47
02E0   0AA0           01069             incf r1, F
02E1   1903           01070             btfsc STATUS, Z
02E2   235B           01071             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
02E3   0AA0           01072             incf r1, F
02E4   1903           01073             btfsc STATUS, Z
02E5   23A4           01074             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
02E6   0AA0           01075             incf r1, F
02E7   1903           01076             btfsc STATUS, Z
02E8   2685           01077             call t1_x
02E9   0AA0           01078             incf r1, F
02EA   1903           01079             btfsc STATUS, Z
02EB   2685           01080             call t1_x
02EC   0AA0           01081             incf r1, F
02ED   1903           01082             btfsc STATUS, Z
02EE   2685           01083             call t1_x
02EF   0AA0           01084             incf r1, F
02F0   1903           01085             btfsc STATUS, Z
02F1   2685           01086             call t1_x
02F2   0AA0           01087             incf r1, F
02F3   1903           01088             btfsc STATUS, Z
02F4   2685           01089             call t1_x
02F5   0AA0           01090             incf r1, F
02F6   1903           01091             btfsc STATUS, Z
02F7   2685           01092             call t1_x
02F8   0AA0           01093             incf r1, F
02F9   1903           01094             btfsc STATUS, Z
02FA   2685           01095             call t1_x
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02FB   0AA0           01096             incf r1, F
02FC   1903           01097             btfsc STATUS, Z
02FD   2685           01098             call t1_x
02FE   0AA0           01099             incf r1, F
02FF   1903           01100             btfsc STATUS, Z
0300   2685           01101             call t1_x
0301   0AA0           01102             incf r1, F
0302   1903           01103             btfsc STATUS, Z
0303   2685           01104             call t1_x
0304   0AA0           01105             incf r1, F
0305   1903           01106             btfsc STATUS, Z
0306   2685           01107             call t1_x
0307   0AA0           01108             incf r1, F
0308   1903           01109             btfsc STATUS, Z
0309   2685           01110             call t1_x
030A   0AA0           01111             incf r1, F
030B   1903           01112             btfsc STATUS, Z
030C   2685           01113             call t1_x
030D   0AA0           01114             incf r1, F
030E   1903           01115             btfsc STATUS, Z
030F   2685           01116             call t1_x
                      01117             ;pokud je tlacitko prave pusteno
0310   1003           01118             bcf STATUS, C
0311   0C50           01119             rrf ir_128, W
0312   00A0           01120             movwf r1
0313   0820           01121             movf r1, W
0314   1903           01122             btfsc STATUS, Z
0315   231D           01123             call t3_stop
0316   0008           01124             return
                      01125 
                      01126 ;pøedpøipravené pro rozíøení procesoru 5 a vice
0317   0000           01127 if_x        nop
0318   0008           01128             return
                      01129 
                      01130 ;vypina holdovaci vystupy
0319   0000           01131 t1_stop     nop
031A   0008           01132             return
031B   0000           01133 t2_stop     nop
031C   0008           01134             return
031D   0000           01135 t3_stop     nop
031E   0008           01136             return
                      01137             
031F   3010           01138 tx_stop     movlw b'10000' ;port C0    ;6 tlaèítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0320   00D2           01139             movwf port
0321   3002           01140             movlw b'10' ;procesor 2
0322   00D3           01141             movwf prc
0323   18AC           01142             btfsc o_d, 1
0324   21D9           01143             call clrout ;nastav port v prc
0325   10AC           01144             bcf o_d, 1
0326   3011           01145             movlw b'10001' ;port C1
0327   00D2           01146             movwf port
0328   3002           01147             movlw b'10' ;procesor 2
0329   00D3           01148             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

032A   192C           01149             btfsc o_d, 2
032B   21D9           01150             call clrout ;nastav port v prc
032C   112C           01151             bcf o_d, 2
032D   3012           01152             movlw b'10010' ;port C2
032E   00D2           01153             movwf port
032F   3002           01154             movlw b'10' ;procesor 2
0330   00D3           01155             movwf prc
0331   19AC           01156             btfsc o_d, 3
0332   21D9           01157             call clrout ;nastav port v prc
0333   11AC           01158             bcf o_d, 3
0334   3013           01159             movlw b'10011' ;port C3
0335   00D2           01160             movwf port
0336   3002           01161             movlw b'10' ;procesor 2
0337   00D3           01162             movwf prc
0338   1A2C           01163             btfsc o_d, 4
0339   21D9           01164             call clrout ;nastav port v prc
033A   122C           01165             bcf o_d, 4
033B   3014           01166             movlw b'10100' ;port C4
033C   00D2           01167             movwf port
033D   3002           01168             movlw b'10' ;procesor 2
033E   00D3           01169             movwf prc
033F   1AAC           01170             btfsc o_d, 5
0340   21D9           01171             call clrout ;nastav port v prc
0341   12AC           01172             bcf o_d, 5
0342   3015           01173             movlw b'10101' ;port C5
0343   00D2           01174             movwf port
0344   3002           01175             movlw b'10' ;procesor 2
0345   00D3           01176             movwf prc
0346   1B2C           01177             btfsc o_d, 6
0347   21D9           01178             call clrout ;nastav port v prc
0348   132C           01179             bcf o_d, 6
                      01180                   ;blinkry
0349   122D           01181             bcf o_e, 4
034A   1308           01182             bcf PORTD, 6
034B   12AD           01183             bcf o_e, 5
034C   1388           01184             bcf PORTD, 7
                      01185                   ;klakson
034D   3019           01186             movlw b'11001' ;port D1
034E   00D2           01187             movwf port
034F   3003           01188             movlw b'11' ;procesor 3
0350   00D3           01189             movwf prc
0351   1A2B           01190             btfsc o_c, 4
0352   21D9           01191             call clrout ;nastav port v prc
0353   122B           01192             bcf o_c, 4
                      01193                   ;stìraèe, odstøikovaèe
0354   13AB           01194             bcf o_c, 7
0355   1188           01195             bcf PORTD, 3
0356   132B           01196             bcf o_c, 6
0357   1108           01197             bcf PORTD, 2
                      01198                   ;dálková svìtla
0358   102C           01199             bcf o_d, 0
0359   1208           01200             bcf PORTD, 4
035A   0008           01201             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01202         
                      01203         
                      01204         
                      01205 ;zamknuti alarm on
035B   1858           01206 t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
035C   0008           01207             return
035D   083C           01208             movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
035E   0445           01209             iorwf ir_84, W
035F   0446           01210             iorwf ir_85, W
0360   0447           01211             iorwf ir_86, W
0361   0448           01212             iorwf ir_87, W
0362   0449           01213             iorwf ir_88, W
0363   044A           01214             iorwf ir_89, W
0364   00A5           01215             movwf r6
0365   1BA5           01216             btfsc r6, 7
0366   0000           01217             nop ;MLUV "zkontrolujte vstupy do auta"
0367   1BA5           01218             btfsc r6, 7
0368   25E6           01219             call t1_53 ;zapne sirenu
0369   1BA5           01220             btfsc r6, 7
036A   301F           01221             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
036B   1BA5           01222             btfsc r6, 7
036C   00D8           01223             movwf cassir
036D   1BA5           01224             btfsc r6, 7
036E   3003           01225             movlw .3
036F   1BA5           01226             btfsc r6, 7
0370   00D7           01227             movwf timsir
                      01228             ;btfsc r6, 7  ;A budou indikace otevøených dveøí, tohle odkomentovat
                      01229             ;return
                      01230 
0371   2464           01231             call t1_06 ;vypne vse 
0372   17AC           01232             bsf o_d, 7 ;zapne alarm cidla
0373   1786           01233             bsf PORTB, 7
                      01234                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01235                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01236             
                      01237             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01238             ;bsf PORTD, 6
                      01239             ;bsf o_e, 5
                      01240             ;bsf PORTD, 7
                      01241             ;bsf casov, VAROV
                      01242             ;movlw .80
                      01243             ;movwf timvar
                      01244             
0374   244C           01245             call t1_05 ;zapne varovky
0375   301F           01246             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
0376   00EE           01247             movwf casvar
0377   3008           01248             movlw .8
0378   00DB           01249             movwf timvar
                      01250             
                      01251             
0379   3016           01252             movlw b'10110' ;port C6
037A   00D2           01253             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

037B   3002           01254             movlw b'10' ;procesor 2
037C   00D3           01255             movwf prc 
037D   1D2B           01256             btfss o_c, 2
037E   21B2           01257             call setout ;set port v prc
037F   152B           01258             bsf o_c, 2 ;problikne red tunning na 1 sekundu
0380   301A           01259             movlw b'11010' ;port D2
0381   00D2           01260             movwf port
0382   3002           01261             movlw b'10' ;procesor 2
0383   00D3           01262             movwf prc 
0384   1DAE           01263             btfss o_f, 3
0385   21B2           01264             call setout ;set port v prc
0386   15AE           01265             bsf o_f, 3 ;problikne red interier na 1 sekundu
0387   14DA           01266             bsf casov, REDTUN ;do timeru ze po 1s vypne
0388   301E           01267             movlw .30
0389   00DC           01268             movwf timrtu
038A   25E6           01269             call t1_53 ;zahraje sirenou na 200ms
038B   3001           01270             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
038C   00D8           01271             movwf cassir
038D   3008           01272             movlw .8
038E   00D7           01273             movwf timsir
038F   13AE           01274             bcf o_f, 7 ;sklopi zrcatka neboli vypne
0390   1089           01275             bcf PORTE, 1
0391   0000           01276             nop ;MLUV "auto zamèeno"
0392   249B           01277             call t1_07 ;zamkne
0393   155A           01278             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
0394   300F           01279             movlw .15
0395   00DD           01280             movwf timlza
                      01281 
                      01282                   ;zatahnuti okenek
0396   084B           01283             movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
0397   00DE           01284             movwf o1tmp
0398   084C           01285             movf ir_91, W
0399   00DF           01286             movwf o2tmp
039A   084D           01287             movf ir_92, W
039B   00E0           01288             movwf o3tmp
039C   084E           01289             movf ir_93, W
039D   00E1           01290             movwf o4tmp
039E   3000           01291             movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
039F   00E2           01292             movwf o1tar
03A0   00E3           01293             movwf o2tar
03A1   00E4           01294             movwf o3tar
03A2   00E5           01295             movwf o4tar
                      01296  
03A3   0008           01297             return
                      01298             
                      01299 ;odemknuti alarm off
03A4   1858           01300 t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
03A5   0008           01301             return
                      01302             
03A6   13AC           01303             bcf o_d, 7 ;vypne alarm cidla
03A7   1386           01304             bcf PORTB, 7
                      01305                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01306                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            emceno
03A8   2416           01307             call t1_04
                      01308             
                      01309             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01310             ;bsf PORTD, 6
                      01311             ;bsf o_e, 5
                      01312             ;bsf PORTD, 7
                      01313             ;bsf casov, VAROV
                      01314             ;movlw .80
                      01315             ;movwf timvar
                      01316             
03A9   244C           01317             call t1_05 ;zapne varovky
03AA   3007           01318             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03AB   00EE           01319             movwf casvar
03AC   3008           01320             movlw .8
03AD   00DB           01321             movwf timvar
                      01322             
                      01323             
03AE   3017           01324             movlw b'10111' ;port C7
03AF   00D2           01325             movwf port
03B0   3002           01326             movlw b'10' ;procesor 2
03B1   00D3           01327             movwf prc 
03B2   1DAB           01328             btfss o_c, 3
03B3   21B2           01329             call setout ;set port v prc
03B4   15AB           01330             bsf o_c, 3 ;problikne white tunning na 1 sekundu
03B5   301B           01331             movlw b'11011' ;port D3
03B6   00D2           01332             movwf port
03B7   3002           01333             movlw b'10' ;procesor 2
03B8   00D3           01334             movwf prc 
03B9   1E2E           01335             btfss o_f, 4
03BA   21B2           01336             call setout ;set port v prc
03BB   162E           01337             bsf o_f, 4 ;problikne white interier na 1 sekundu
03BC   15DA           01338             bsf casov, WHITUN ;do timeru ze po 1s vypne
03BD   301E           01339             movlw .30
03BE   00E6           01340             movwf timwtu
03BF   25E6           01341             call t1_53 ;zahraje sirenou na 200ms
03C0   3007           01342             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03C1   00D8           01343             movwf cassir
03C2   3008           01344             movlw .8
03C3   00D7           01345             movwf timsir
03C4   17AE           01346             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03C5   1489           01347             bsf PORTE, 1
03C6   0000           01348             nop ;MLUV "auto odemèeno"
03C7   115A           01349             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03C8   24A9           01350             call t1_08 ;odemkne
                      01351 
                      01352                   ;stahnuti okenek
03C9   085E           01353             movf o1tmp, W
03CA   00E2           01354             movwf o1tar
03CB   085F           01355             movf o2tmp, W
03CC   00E3           01356             movwf o2tar
03CD   0860           01357             movf o3tmp, W
03CE   00E4           01358             movwf o3tar
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03CF   0861           01359             movf o4tmp, W
03D0   00E5           01360             movwf o4tar
                      01361  
03D1   0008           01362             return
                      01363             
                      01364 ;spinacka poloha up
03D2   1967           01365 t1_02       btfsc spinac, 2
03D3   0008           01366             return
03D4   1403           01367             bsf STATUS, C
03D5   0DE7           01368             rlf spinac, F
                      01369                   ;pokud poloha 3
03D6   1D67           01370             btfss spinac, 2
03D7   2BEB           01371             goto t2_02
03D8   1029           01372             bcf o_a, 0
03D9   1007           01373             bcf PORTC, 0
03DA   10A9           01374             bcf o_a, 1
03DB   1087           01375             bcf PORTC, 1
03DC   1531           01376             bsf o_i, 2
03DD   301A           01377             movlw b'11010' ;port D2
03DE   00D2           01378             movwf port
03DF   3003           01379             movlw b'11' ;procesor 3
03E0   00D3           01380             movwf prc 
03E1   21B2           01381             call setout ;set port v prc
03E2   15B1           01382             bsf o_i, 3
03E3   301B           01383             movlw b'11011' ;port D3
03E4   00D2           01384             movwf port
03E5   3003           01385             movlw b'11' ;procesor 3
03E6   00D3           01386             movwf prc 
03E7   21B2           01387             call setout ;set port v prc
03E8   3014           01388             movlw .20 ;nastavi startovani pouze max na vterinu
03E9   00E8           01389             movwf timspi
03EA   0008           01390             return
                      01391             ;pokud poloha 2
03EB   1CE7           01392 t2_02       btfss spinac, 1
03EC   2BF2           01393             goto t3_02
03ED   1429           01394             bsf o_a, 0
03EE   1407           01395             bsf PORTC, 0
03EF   1529           01396             bsf o_a, 2
03F0   1507           01397             bsf PORTC, 2
03F1   0008           01398             return
                      01399             ;pokud poloha 1
03F2   14A9           01400 t3_02       bsf o_a, 1
03F3   1487           01401             bsf PORTC, 1
03F4   0008           01402             return
                      01403             
                      01404 ;spinacka poloha down
03F5   1C67           01405 t1_03       btfss spinac, 0
03F6   0008           01406             return
03F7   1003           01407             bcf STATUS, C
03F8   0CE7           01408             rrf spinac, F
                      01409             ;pokud poloha 2
03F9   1CE7           01410             btfss spinac, 1
03FA   2C0C           01411             goto t2_03
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03FB   1429           01412             bsf o_a, 0
03FC   1407           01413             bsf PORTC, 0
03FD   14A9           01414             bsf o_a, 1
03FE   1487           01415             bsf PORTC, 1
03FF   1131           01416             bcf o_i, 2
0400   301A           01417             movlw b'11010' ;port D2
0401   00D2           01418             movwf port
0402   3003           01419             movlw b'11' ;procesor 3
0403   00D3           01420             movwf prc 
0404   21D9           01421             call clrout ;set port v prc
0405   11B1           01422             bcf o_i, 3
0406   301B           01423             movlw b'11011' ;port D3
0407   00D2           01424             movwf port
0408   3003           01425             movlw b'11' ;procesor 3
0409   00D3           01426             movwf prc 
040A   21D9           01427             call clrout ;set port v prc
040B   0008           01428             return
                      01429             ;pokud poloha 1
040C   1C67           01430 t2_03       btfss spinac, 0
040D   2C13           01431             goto t3_03
040E   1029           01432             bcf o_a, 0
040F   1007           01433             bcf PORTC, 0
0410   1129           01434             bcf o_a, 2
0411   1107           01435             bcf PORTC, 2
0412   0008           01436             return
                      01437             ;pokud poloha 0
0413   10A9           01438 t3_03       bcf o_a, 1
0414   1087           01439             bcf PORTC, 1
0415   0008           01440             return
                      01441             
                      01442 ;alarm stop
0416   1EDA           01443 t1_04       btfss casov, ALARM
0417   0008           01444             return
0418   3018           01445             movlw b'11000' ;port D0  ;sirena
0419   00D2           01446             movwf port
041A   3003           01447             movlw b'11' ;procesor 3
041B   00D3           01448             movwf prc 
041C   18AD           01449             btfsc o_e, 1
041D   21D9           01450             call clrout ;set port v prc
041E   10AD           01451             bcf o_e, 1
                      01452             ;varovky
                      01453             ;bcf o_e, 4
                      01454             ;bcf PORTD, 6
                      01455             ;bcf o_e, 5
                      01456             ;bcf PORTD, 7
041F   244C           01457             call t1_05
                      01458             
                      01459             ;stroboskop
0420   3019           01460             movlw b'11001' ;port D1
0421   00D2           01461             movwf port
0422   3002           01462             movlw b'10' ;procesor 2
0423   00D3           01463             movwf prc 
0424   192D           01464             btfsc o_e, 2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0425   21D9           01465             call clrout ;set port v prc
0426   112D           01466             bcf o_e, 2
                      01467             
0427   3016           01468             movlw b'10110' ;port C6
0428   00D2           01469             movwf port
0429   3002           01470             movlw b'10' ;procesor 2
042A   00D3           01471             movwf prc 
042B   192B           01472             btfsc o_c, 2
042C   21D9           01473             call clrout ;set port v prc
042D   112B           01474             bcf o_c, 2
042E   3017           01475             movlw b'10111' ;port C7
042F   00D2           01476             movwf port
0430   3002           01477             movlw b'10' ;procesor 2
0431   00D3           01478             movwf prc 
0432   19AB           01479             btfsc o_c, 3
0433   21D9           01480             call clrout ;set port v prc
0434   11AB           01481             bcf o_c, 3
0435   301A           01482             movlw b'11010' ;port D2
0436   00D2           01483             movwf port
0437   3002           01484             movlw b'10' ;procesor 2
0438   00D3           01485             movwf prc 
0439   19AE           01486             btfsc o_f, 3
043A   21D9           01487             call clrout ;set port v prc
043B   11AE           01488             bcf o_f, 3
043C   301B           01489             movlw b'11011' ;port D3
043D   00D2           01490             movwf port
043E   3002           01491             movlw b'10' ;procesor 2
043F   00D3           01492             movwf prc 
0440   1A2E           01493             btfsc o_f, 4
0441   21D9           01494             call clrout ;set port v prc
0442   122E           01495             bcf o_f, 4
0443   3019           01496             movlw b'11001' ;port D1
0444   00D2           01497             movwf port
0445   3003           01498             movlw b'11' ;procesor 3
0446   00D3           01499             movwf prc 
0447   1A2B           01500             btfsc o_c, 4
0448   21D9           01501             call clrout ;set port v prc
0449   122B           01502             bcf o_c, 4
                      01503             
044A   12DA           01504             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
044B   0008           01505             return
                      01506             
                      01507 ;varovna svetla
044C   186E           01508 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
044D   122D           01509             bcf o_e, 4
044E   186E           01510             btfsc casvar, 0 ;pokud oba zaply oba vypne
044F   1308           01511             bcf PORTD, 6
0450   186E           01512             btfsc casvar, 0 ;pokud oba zaply oba vypne
0451   12AD           01513             bcf o_e, 5
0452   186E           01514             btfsc casvar, 0 ;pokud oba zaply oba vypne
0453   1388           01515             bcf PORTD, 7
                      01516     
0454   1C6E           01517             btfss casvar, 0 ;pokud jeden vyply oba zapne
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0455   162D           01518             bsf o_e, 4
0456   1C6E           01519             btfss casvar, 0 ;pokud jeden vyply oba zapne
0457   1708           01520             bsf PORTD, 6
0458   1C6E           01521             btfss casvar, 0 ;pokud jeden vyply oba zapne
0459   16AD           01522             bsf o_e, 5
045A   1C6E           01523             btfss casvar, 0 ;pokud jeden vyply oba zapne
045B   1788           01524             bsf PORTD, 7
                      01525             
045C   186E           01526             btfsc casvar, 0
045D   3000           01527             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
045E   1C6E           01528             btfss casvar, 0
045F   30FF           01529             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
0460   00EE           01530             movwf casvar
0461   3008           01531             movlw .8
0462   00DB           01532             movwf timvar
                      01533             
0463   0008           01534             return
                      01535             
                      01536 ;vypnout vse
0464   18D9           01537 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
0465   0008           01538             return
                      01539             ;svetla 
0466   10AB           01540             bcf o_c, 1
0467   1187           01541             bcf PORTC, 3
                      01542             ;red tuning
                      01543             ;white tunning
                      01544             ;red interier
                      01545             ;white interier
0468   3017           01546             movlw b'10111' ;port C7
0469   00D2           01547             movwf port
046A   3002           01548             movlw b'10' ;procesor 2
046B   00D3           01549             movwf prc 
046C   19AB           01550             btfsc o_c, 3
046D   21D9           01551             call clrout ;set port v prc
046E   11AB           01552             bcf o_c, 3
046F   301B           01553             movlw b'11011' ;port D3
0470   00D2           01554             movwf port
0471   3002           01555             movlw b'10' ;procesor 2
0472   00D3           01556             movwf prc 
0473   1A2E           01557             btfsc o_f, 4
0474   21D9           01558             call clrout ;set port v prc
0475   122E           01559             bcf o_f, 4
0476   3016           01560             movlw b'10110' ;port C6
0477   00D2           01561             movwf port
0478   3002           01562             movlw b'10' ;procesor 2
0479   00D3           01563             movwf prc 
047A   192B           01564             btfsc o_c, 2
047B   21D9           01565             call clrout ;set port v prc
047C   112B           01566             bcf o_c, 2
047D   301A           01567             movlw b'11010' ;port D2
047E   00D2           01568             movwf port
047F   3002           01569             movlw b'10' ;procesor 2
0480   00D3           01570             movwf prc 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0481   19AE           01571             btfsc o_f, 3
0482   21D9           01572             call clrout ;set port v prc
0483   11AE           01573             bcf o_f, 3
                      01574         
                      01575             ;stroboskop
0484   3019           01576             movlw b'11001' ;port D1
0485   00D2           01577             movwf port
0486   3002           01578             movlw b'10' ;procesor 2
0487   00D3           01579             movwf prc 
0488   192D           01580             btfsc o_e, 2
0489   21D9           01581             call clrout ;set port v prc
048A   112D           01582             bcf o_e, 2
                      01583             ;sirena
048B   3018           01584             movlw b'11000' ;port D0
048C   00D2           01585             movwf port
048D   3003           01586             movlw b'11' ;procesor 3
048E   00D3           01587             movwf prc 
048F   18AD           01588             btfsc o_e, 1
0490   21D9           01589             call clrout ;set port v prc
0491   10AD           01590             bcf o_e, 1
                      01591             ;parkovacky
0492   11AD           01592             bcf o_e, 3
0493   1288           01593             bcf PORTD, 5
                      01594             ;mlhovky zadni
0494   10AE           01595             bcf o_f, 1
0495   1207           01596             bcf PORTC, 4
                      01597             ;mlhovky predni
0496   12AB           01598             bcf o_c, 5
0497   1088           01599             bcf PORTD, 1
                      01600             ;rozehrivani okenka
0498   112E           01601             bcf o_f, 2
0499   1287           01602             bcf PORTC, 5
049A   0008           01603             return
                      01604             
                      01605 ;zamknuti
049B   1451           01606 t1_07       bsf locked, 0 ;nastavi registr locked
049C   12B0           01607             bcf o_h, 5 ;vypne v regs led odemceno
049D   3015           01608             movlw b'10101' ;port C5
049E   00D2           01609             movwf port
049F   3003           01610             movlw b'11' ;procesor 3
04A0   00D3           01611             movwf prc
04A1   21D9           01612             call clrout ;smaz port v prc
04A2   1730           01613             bsf o_h, 6 ;zapne v regs led zamceno
04A3   3016           01614             movlw b'10110' ;port C6
04A4   00D2           01615             movwf port
04A5   3003           01616             movlw b'0011' ;procesor 3
04A6   00D3           01617             movwf prc
04A7   21B2           01618             call setout ;nastav port v prc
04A8   0008           01619             return
                      01620 ;odemknuti
04A9   1051           01621 t1_08       bcf locked, 0 ;smaze registr locked
04AA   16B0           01622             bsf o_h, 5 ;zapne v regs led odemceno
04AB   3015           01623             movlw b'10101' ;port C5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04AC   00D2           01624             movwf port
04AD   3003           01625             movlw b'11' ;procesor 3
04AE   00D3           01626             movwf prc
04AF   21B2           01627             call setout ;nastav port v prc
04B0   1730           01628             bsf o_h, 6 ;vypne v regs led zamceno
04B1   3016           01629             movlw b'10110' ;port C6
04B2   00D2           01630             movwf port
04B3   3003           01631             movlw b'0011' ;procesor 3
04B4   00D3           01632             movwf prc
04B5   21D9           01633             call clrout ;smaz port v prc
04B6   0008           01634             return
                      01635             
                      01636 ;pripraveno
04B7   0000           01637 t1_09       nop
04B8   0008           01638             return
                      01639 
                      01640 ;odskok dvere 1
04B9   162A           01641 t1_10       bsf o_b, 4
04BA   301F           01642             movlw b'11111' ;port D7
04BB   00D2           01643             movwf port
04BC   3003           01644             movlw b'11' ;procesor 3
04BD   00D3           01645             movwf prc
04BE   21B2           01646             call setout ;smaz port v prc
04BF   165A           01647             bsf casov, ODSKOK
04C0   3008           01648             movlw .8
04C1   00E9           01649             movwf timods
04C2   0008           01650             return
                      01651             
                      01652 ;odskok dvere 2
04C3   16AA           01653 t1_11       bsf o_b, 5
04C4   1787           01654             bsf PORTC, 7
04C5   165A           01655             bsf casov, ODSKOK
04C6   3008           01656             movlw .8
04C7   00E9           01657             movwf timods
04C8   0008           01658             return
                      01659             
                      01660 ;odskok dvere 3
04C9   1A31           01661 t1_12       btfsc o_i, 4
04CA   0008           01662             return
04CB   172A           01663             bsf o_b, 6
04CC   1506           01664             bsf PORTB, 2
04CD   165A           01665             bsf casov, ODSKOK
04CE   3008           01666             movlw .8
04CF   00E9           01667             movwf timods
04D0   0008           01668             return
                      01669             
                      01670 ;odskok dvere 4
04D1   1A31           01671 t1_13       btfsc o_i, 4
04D2   0008           01672             return
04D3   17AA           01673             bsf o_b, 7
04D4   1586           01674             bsf PORTB, 3
04D5   165A           01675             bsf casov, ODSKOK
04D6   3008           01676             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04D7   00E9           01677             movwf timods
04D8   0008           01678             return
                      01679             
                      01680 ;odskok kufr
04D9   15AA           01681 t1_14       bsf o_b, 3
04DA   1606           01682             bsf PORTB, 4
04DB   165A           01683             bsf casov, ODSKOK
04DC   3008           01684             movlw .8
04DD   00E9           01685             movwf timods
04DE   0008           01686             return
                      01687             
                      01688 ;odskok nadrz
04DF   142D           01689 t1_15       bsf o_e, 0
04E0   1686           01690             bsf PORTB, 5
04E1   165A           01691             bsf casov, ODSKOK
04E2   3008           01692             movlw .8
04E3   00E9           01693             movwf timods
04E4   0008           01694             return
                      01695             
                      01696 ;odskok kapota
04E5   142B           01697 t1_16       bsf o_c, 0
04E6   1706           01698             bsf PORTB, 6
04E7   165A           01699             bsf casov, ODSKOK
04E8   3008           01700             movlw .8
04E9   00E9           01701             movwf timods
04EA   0008           01702             return
                      01703             
                      01704 ;pripraveno
04EB   0000           01705 t1_17       nop
04EC   0008           01706             return
                      01707 ;pripraveno
04ED   0000           01708 t1_18       nop
04EE   0008           01709             return
                      01710 ;pripraveno
04EF   0000           01711 t1_19       nop
04F0   0008           01712             return
                      01713 
                      01714 ;play pause
04F1   14AC           01715 t1_20       bsf o_d, 1
04F2   3010           01716             movlw b'10000' ;port C0
04F3   00D2           01717             movwf port
04F4   3002           01718             movlw b'10' ;procesor 2
04F5   00D3           01719             movwf prc
04F6   21B2           01720             call setout ;nastav port v prc
04F7   0008           01721             return
                      01722             
                      01723 ;stop
04F8   152C           01724 t1_21       bsf o_d, 2
04F9   3011           01725             movlw b'10001' ;port C1
04FA   00D2           01726             movwf port
04FB   3002           01727             movlw b'10' ;procesor 2
04FC   00D3           01728             movwf prc
04FD   21B2           01729             call setout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04FE   0008           01730             return
                      01731             
                      01732 ;forwind
04FF   15AC           01733 t1_22       bsf o_d, 3
0500   3012           01734             movlw b'10010' ;port C2
0501   00D2           01735             movwf port
0502   3002           01736             movlw b'10' ;procesor 2
0503   00D3           01737             movwf prc
0504   21B2           01738             call setout ;nastav port v prc
0505   0008           01739             return
                      01740             
                      01741 ;rewind
0506   162C           01742 t1_23       bsf o_d, 4
0507   3013           01743             movlw b'10011' ;port C3
0508   00D2           01744             movwf port
0509   3002           01745             movlw b'10' ;procesor 2
050A   00D3           01746             movwf prc
050B   21B2           01747             call setout ;nastav port v prc
050C   0008           01748             return
                      01749             
                      01750 ;volume +
050D   16AC           01751 t1_24       bsf o_d, 5
050E   3014           01752             movlw b'10100' ;port C4
050F   00D2           01753             movwf port
0510   3002           01754             movlw b'10' ;procesor 2
0511   00D3           01755             movwf prc
0512   21B2           01756             call setout ;nastav port v prc
0513   0008           01757             return
                      01758             
                      01759 ;volume -
0514   172C           01760 t1_25       bsf o_d, 6
0515   3015           01761             movlw b'10101' ;port C5
0516   00D2           01762             movwf port
0517   3002           01763             movlw b'10' ;procesor 2
0518   00D3           01764             movwf prc
0519   21B2           01765             call setout ;nastav port v prc
051A   0008           01766             return
                      01767             
                      01768 ;rozehrivani okenka
051B   082E           01769 t1_26       movf o_f, W
051C   00A4           01770             movwf r5
                      01771 
051D   1D24           01772             btfss r5, 2
051E   1687           01773             bsf PORTC, 5
051F   1D24           01774             btfss r5, 2
0520   152E           01775             bsf o_f, 2 
                      01776         
0521   1924           01777             btfsc r5, 2
0522   1287           01778             bcf PORTC, 5
0523   1924           01779             btfsc r5, 2
0524   112E           01780             bcf o_f, 2 
0525   0008           01781             return
                      01782             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01783 ;pripraveno
0526   0000           01784 t1_27       nop
0527   0008           01785             return
                      01786 ;pripraveno
0528   0000           01787 t1_28       nop
0529   0008           01788             return
                      01789 ;pripraveno
052A   0000           01790 t1_29       nop
052B   0008           01791             return
                      01792 
                      01793 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
052C   0862           01794 t1_30       movf o1tar, W
052D   00A4           01795             movwf r5
052E   30F0           01796             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
052F   07A4           01797             addwf r5, F
0530   1C03           01798             btfss STATUS, C
0531   0008           01799             return
0532   0824           01800             movf r5, W
0533   00E2           01801             movwf o1tar
0534   0008           01802             return
                      01803             
                      01804 ;okno 2 up
0535   0863           01805 t1_31       movf o2tar, W
0536   00A4           01806             movwf r5
0537   30F0           01807             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0538   07A4           01808             addwf r5, F
0539   1C03           01809             btfss STATUS, C
053A   0008           01810             return
053B   0824           01811             movf r5, W
053C   00E3           01812             movwf o2tar
053D   0008           01813             return
                      01814             
                      01815 ;okno 3 up
053E   1A31           01816 t1_32       btfsc o_i, 4
053F   0008           01817             return
0540   0864           01818             movf o3tar, W
0541   00A4           01819             movwf r5
0542   30F0           01820             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0543   07A4           01821             addwf r5, F
0544   1C03           01822             btfss STATUS, C
0545   0008           01823             return
0546   0824           01824             movf r5, W
0547   00E4           01825             movwf o3tar
0548   0008           01826             return
                      01827             
                      01828 ;okno 4 up
0549   1A31           01829 t1_33       btfsc o_i, 4
054A   0008           01830             return
054B   0865           01831             movf o4tar, W
054C   00A4           01832             movwf r5
054D   30F0           01833             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
054E   07A4           01834             addwf r5, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

054F   1C03           01835             btfss STATUS, C
0550   0008           01836             return
0551   0824           01837             movf r5, W
0552   00E5           01838             movwf o4tar
0553   0008           01839             return
                      01840             
                      01841 ;okno 1 down
0554   0862           01842 t1_34       movf o1tar, W
0555   00A4           01843             movwf r5
0556   3010           01844             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0557   07A4           01845             addwf r5, F
0558   1803           01846             btfsc STATUS, C
0559   0008           01847             return
055A   0824           01848             movf r5, W
055B   00E2           01849             movwf o1tar
055C   0008           01850             return
                      01851             
                      01852 ;okno 2 down
055D   0863           01853 t1_35       movf o2tar, W
055E   00A4           01854             movwf r5
055F   3010           01855             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0560   07A4           01856             addwf r5, F
0561   1803           01857             btfsc STATUS, C
0562   0008           01858             return
0563   0824           01859             movf r5, W
0564   00E3           01860             movwf o2tar
0565   0008           01861             return
                      01862             
                      01863 ;okno 3 down
0566   1A31           01864 t1_36       btfsc o_i, 4
0567   0008           01865             return
0568   0864           01866             movf o3tar, W
0569   00A4           01867             movwf r5
056A   3010           01868             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
056B   07A4           01869             addwf r5, F
056C   1803           01870             btfsc STATUS, C
056D   0008           01871             return
056E   0824           01872             movf r5, W
056F   00E4           01873             movwf o3tar
0570   0008           01874             return
                      01875             
                      01876 ;detský zámek zadních oken a dveri
0571   1E31           01877 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
0572   2D7A           01878             goto t2_37
0573   1231           01879             bcf o_i, 4
0574   301C           01880             movlw b'11100' ;port D4
0575   00D2           01881             movwf port
0576   3003           01882             movlw b'11' ;procesor 3
0577   00D3           01883             movwf prc
0578   21D9           01884             call clrout ;nastav port v prc        
0579   0008           01885             return
                      01886             
057A   1631           01887 t2_37       bsf o_i, 4
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

057B   301C           01888             movlw b'11100' ;port D4
057C   00D2           01889             movwf port
057D   3003           01890             movlw b'11' ;procesor 3
057E   00D3           01891             movwf prc
057F   21B2           01892             call setout ;nastav port v prc        
0580   0008           01893             return
                      01894             
                      01895 ;pripraveno
0581   0000           01896 t1_38       nop
0582   0008           01897             return
                      01898 ;pripraveno
0583   0000           01899 t1_39       nop
0584   0008           01900             return
                      01901 
                      01902 ;RED tuning
0585   3016           01903 t1_40       movlw b'10110' ;port C6
0586   00D2           01904             movwf port
0587   3002           01905             movlw b'10' ;procesor 2
0588   00D3           01906             movwf prc
                      01907             
0589   082B           01908             movf o_c, W
058A   00A4           01909             movwf r5
                      01910 
058B   1D24           01911             btfss r5, 2
058C   21B2           01912             call setout ;nastav port v prc
058D   1D24           01913             btfss r5, 2
058E   152B           01914             bsf o_c, 2 
                      01915         
058F   1924           01916             btfsc r5, 2
0590   21D9           01917             call clrout ;smaz port v prc
0591   1924           01918             btfsc r5, 2
0592   112B           01919             bcf o_c, 2 
0593   0008           01920             return
                      01921             
                      01922 ;WHITE tunning
0594   3017           01923 t1_41       movlw b'10111' ;port C7
0595   00D2           01924             movwf port
0596   3002           01925             movlw b'10' ;procesor 2
0597   00D3           01926             movwf prc
                      01927             
0598   082B           01928             movf o_c, W
0599   00A4           01929             movwf r5
                      01930 
059A   1DA4           01931             btfss r5, 3
059B   21B2           01932             call setout ;nastav port v prc
059C   1DA4           01933             btfss r5, 3
059D   15AB           01934             bsf o_c, 3 
                      01935         
059E   19A4           01936             btfsc r5, 3
059F   21D9           01937             call clrout ;smaz port v prc
05A0   19A4           01938             btfsc r5, 3
05A1   11AB           01939             bcf o_c, 3 
05A2   0008           01940             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01941             
                      01942 ;Parkovaèky
05A3   082D           01943 t1_42       movf o_e, W
05A4   00A4           01944             movwf r5
                      01945 
05A5   1DA4           01946             btfss r5, 3
05A6   1688           01947             bsf PORTD, 5
05A7   1DA4           01948             btfss r5, 3
05A8   15AD           01949             bsf o_e, 3 
                      01950         
05A9   19A4           01951             btfsc r5, 3
05AA   1288           01952             bcf PORTD, 5
05AB   19A4           01953             btfsc r5, 3
05AC   11AD           01954             bcf o_e, 3 
05AD   0008           01955             return
                      01956             
                      01957 ;Svìtla
05AE   082B           01958 t1_43       movf o_c, W
05AF   00A4           01959             movwf r5
                      01960 
05B0   1CA4           01961             btfss r5, 1
05B1   1587           01962             bsf PORTC, 3
05B2   1CA4           01963             btfss r5, 1
05B3   14AB           01964             bsf o_c, 1 
                      01965         
05B4   18A4           01966             btfsc r5, 1
05B5   1187           01967             bcf PORTC, 3
05B6   18A4           01968             btfsc r5, 1
05B7   10AB           01969             bcf o_c, 1 
05B8   0008           01970             return
                      01971             
                      01972 ;Mlhovky zadní
05B9   082E           01973 t1_44       movf o_f, W
05BA   00A4           01974             movwf r5
                      01975 
05BB   1CA4           01976             btfss r5, 1
05BC   1607           01977             bsf PORTC, 4
05BD   1CA4           01978             btfss r5, 1
05BE   14AE           01979             bsf o_f, 1 
                      01980         
05BF   18A4           01981             btfsc r5, 1
05C0   1207           01982             bcf PORTC, 4
05C1   18A4           01983             btfsc r5, 1
05C2   10AE           01984             bcf o_f, 1 
05C3   0008           01985             return
                      01986             
                      01987 ;Blinkr levý
05C4   162D           01988 t1_45       bsf o_e, 4
05C5   1708           01989             bsf PORTD, 6
05C6   0008           01990             return
                      01991             
                      01992 ;Blinkr pravý
05C7   16AD           01993 t1_46       bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05C8   1788           01994             bsf PORTD, 7
05C9   0008           01995             return
                      01996             
                      01997 ;Mlhovky pøední
05CA   082B           01998 t1_47       movf o_c, W
05CB   00A4           01999             movwf r5
                      02000 
05CC   1EA4           02001             btfss r5, 5
05CD   1488           02002             bsf PORTD, 1
05CE   1EA4           02003             btfss r5, 5
05CF   16AB           02004             bsf o_c, 5 
                      02005         
05D0   1AA4           02006             btfsc r5, 5
05D1   1088           02007             bcf PORTD, 1
05D2   1AA4           02008             btfsc r5, 5
05D3   12AB           02009             bcf o_c, 5 
05D4   0008           02010             return
                      02011             
                      02012 ;pripraveno
05D5   0000           02013 t1_48       nop
05D6   0008           02014             return
                      02015 ;pripraveno
05D7   0000           02016 t1_49       nop
05D8   0008           02017             return
                      02018 
                      02019 ;klakson
05D9   162B           02020 t1_50       bsf o_c, 4
05DA   3019           02021             movlw b'11001' ;port D1
05DB   00D2           02022             movwf port
05DC   3003           02023             movlw b'11' ;procesor 3
05DD   00D3           02024             movwf prc
05DE   21B2           02025             call setout ;nastav port v prc
05DF   0008           02026             return
                      02027             
                      02028 ;stìraèe
05E0   17AB           02029 t1_51       bsf o_c, 7
05E1   1588           02030             bsf PORTD, 3
05E2   0008           02031             return
                      02032 ;odstøikovaèe
05E3   172B           02033 t1_52       bsf o_c, 6
05E4   1508           02034             bsf PORTD, 2
05E5   0008           02035             return
                      02036             
                      02037 ;Siréna
05E6   3018           02038 t1_53       movlw b'11000' ;port D0
05E7   00D2           02039             movwf port
05E8   3003           02040             movlw b'11' ;procesor 3
05E9   00D3           02041             movwf prc
                      02042             
05EA   082D           02043             movf o_e, W
05EB   00A4           02044             movwf r5
                      02045 
05EC   1CA4           02046             btfss r5, 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05ED   21B2           02047             call setout ;nastav port v prc
05EE   1CA4           02048             btfss r5, 1
05EF   14AD           02049             bsf o_e, 1 
                      02050         
05F0   18A4           02051             btfsc r5, 1
05F1   21D9           02052             call clrout ;smaz port v prc
05F2   18A4           02053             btfsc r5, 1
05F3   10AD           02054             bcf o_e, 1 
                      02055         
05F4   0008           02056             return
                      02057 
                      02058 ;stroboskop
05F5   3019           02059 t1_54       movlw b'11001' ;port D1
05F6   00D2           02060             movwf port
05F7   3002           02061             movlw b'10' ;procesor 2
05F8   00D3           02062             movwf prc
                      02063             
05F9   082D           02064             movf o_e, W
05FA   00A4           02065             movwf r5
                      02066 
05FB   1D24           02067             btfss r5, 2
05FC   21B2           02068             call setout ;nastav port v prc
05FD   1D24           02069             btfss r5, 2
05FE   152D           02070             bsf o_e, 2 
                      02071         
05FF   1924           02072             btfsc r5, 2
0600   21D9           02073             call clrout ;smaz port v prc
0601   1924           02074             btfsc r5, 2
0602   112D           02075             bcf o_e, 2 
0603   0008           02076             return
                      02077             
                      02078 ;Dálkové svìtla
0604   142C           02079 t1_55   bsf o_d, 0
0605   1608           02080             bsf PORTD, 4
0606   0008           02081             return
                      02082             
                      02083 ;alarm start
0607   3018           02084 t1_56       movlw b'11000' ;port D0  ;sirena
0608   00D2           02085             movwf port
0609   3003           02086             movlw b'11' ;procesor 3
060A   00D3           02087             movwf prc 
060B   1CAD           02088             btfss o_e, 1
060C   21B2           02089             call setout ;set port v prc
060D   14AD           02090             bsf o_e, 1
                      02091             ;varovky
                      02092             ;bsf o_e, 4
                      02093             ;bsf PORTD, 6
                      02094             ;bsf o_e, 5
                      02095             ;bsf PORTD, 7
060E   244C           02096             call t1_05
                      02097             
                      02098             ;stroboskop
060F   3019           02099             movlw b'11001' ;port D1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0610   00D2           02100             movwf port
0611   3002           02101             movlw b'10' ;procesor 2
0612   00D3           02102             movwf prc 
0613   1D2D           02103             btfss o_e, 2
0614   21B2           02104             call setout ;set port v prc
0615   152D           02105             bsf o_e, 2
                      02106             ;red tunning
0616   3016           02107             movlw b'10110' ;port C6
0617   00D2           02108             movwf port
0618   3002           02109             movlw b'10' ;procesor 2
0619   00D3           02110             movwf prc 
061A   1D2B           02111             btfss o_c, 2
061B   21B2           02112             call setout ;set port v prc
061C   152B           02113             bsf o_c, 2
                      02114             ;white interier
061D   301B           02115             movlw b'11011' ;port D3
061E   00D2           02116             movwf port
061F   3002           02117             movlw b'10' ;procesor 2
0620   00D3           02118             movwf prc 
0621   1E2E           02119             btfss o_f, 4
0622   21B2           02120             call setout ;set port v prc
0623   162E           02121             bsf o_f, 4
                      02122             
0624   16DA           02123             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0625   301E           02124             movlw .30
0626   00EA           02125             movwf timala
                      02126 
0627   0008           02127             return
                      02128             
                      02129 ;pripraveno
0628   0000           02130 t1_57       nop
0629   0008           02131             return
                      02132             
                      02133 ;pripraveno
062A   0000           02134 t1_58       nop
062B   0008           02135             return
                      02136             
                      02137 ;pripraveno
062C   0000           02138 t1_59       nop
062D   0008           02139             return
                      02140         
                      02141 ;okno 4 down
062E   1A31           02142 t1_60       btfsc o_i, 4
062F   0008           02143             return
0630   0865           02144             movf o4tar, W
0631   00A4           02145             movwf r5
0632   3010           02146             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0633   07A4           02147             addwf r5, F
0634   1803           02148             btfsc STATUS, C
0635   0008           02149             return
0636   0824           02150             movf r5, W
0637   00E5           02151             movwf o4tar
0638   0008           02152             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02153             
                      02154 ;red interiér
0639   301A           02155 t1_61       movlw b'11010' ;port D2
063A   00D2           02156             movwf port
063B   3002           02157             movlw b'10' ;procesor 2
063C   00D3           02158             movwf prc
                      02159             
063D   082E           02160             movf o_f, W
063E   00A4           02161             movwf r5
                      02162 
063F   1DA4           02163             btfss r5, 3
0640   21B2           02164             call setout ;nastav port v prc
0641   1DA4           02165             btfss r5, 3
0642   15AE           02166             bsf o_f, 3 
                      02167         
0643   19A4           02168             btfsc r5, 3
0644   21D9           02169             call clrout ;smaz port v prc
0645   19A4           02170             btfsc r5, 3
0646   11AE           02171             bcf o_f, 3 
0647   0008           02172             return
                      02173             
                      02174 ;white interier
0648   301B           02175 t1_62       movlw b'11011' ;port D3
0649   00D2           02176             movwf port
064A   3002           02177             movlw b'10' ;procesor 2
064B   00D3           02178             movwf prc
                      02179             
064C   082E           02180             movf o_f, W
064D   00A4           02181             movwf r5
                      02182 
064E   1E24           02183             btfss r5, 4
064F   21B2           02184             call setout ;nastav port v prc
0650   1E24           02185             btfss r5, 4
0651   162E           02186             bsf o_f, 4 
                      02187         
0652   1A24           02188             btfsc r5, 4
0653   21D9           02189             call clrout ;smaz port v prc
0654   1A24           02190             btfsc r5, 4
0655   122E           02191             bcf o_f, 4 
0656   0008           02192             return
                      02193             
                      02194 ;klima on/off
0657   17AD           02195 t1_63       bsf o_e, 7
0658   301E           02196             movlw b'11110' ;port D6
0659   00D2           02197             movwf port
065A   3002           02198             movlw b'10' ;procesor 2
065B   00D3           02199             movwf prc
065C   21B2           02200             call setout ;nastav port v prc
065D   165A           02201             bsf casov, ODSKOK
065E   3008           02202             movlw .8
065F   00E9           02203             movwf timods
0660   0008           02204             return
                      02205             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02206 ;klima teplota up
0661   172D           02207 t1_64       bsf o_e, 6
0662   301C           02208             movlw b'11100' ;port D4
0663   00D2           02209             movwf port
0664   3002           02210             movlw b'10' ;procesor 2
0665   00D3           02211             movwf prc
0666   21B2           02212             call setout ;nastav port v prc
0667   165A           02213             bsf casov, ODSKOK
0668   3008           02214             movlw .8
0669   00E9           02215             movwf timods
066A   0008           02216             return
                      02217             
                      02218 ;klima teplota down
066B   16AE           02219 t1_65       bsf o_f, 5
066C   301D           02220             movlw b'11101' ;port D5
066D   00D2           02221             movwf port
066E   3002           02222             movlw b'10' ;procesor 2
066F   00D3           02223             movwf prc
0670   21B2           02224             call setout ;nastav port v prc
0671   165A           02225             bsf casov, ODSKOK
0672   3008           02226             movlw .8
0673   00E9           02227             movwf timods
0674   0008           02228             return
                      02229             
                      02230 ;klima mista ventilace
0675   142E           02231 t1_66       bsf o_f, 0
0676   301F           02232             movlw b'11111' ;port D7
0677   00D2           02233             movwf port
0678   3002           02234             movlw b'10' ;procesor 2
0679   00D3           02235             movwf prc
067A   21B2           02236             call setout ;nastav port v prc
067B   165A           02237             bsf casov, ODSKOK
067C   3008           02238             movlw .8
067D   00E9           02239             movwf timods
067E   0008           02240             return
                      02241             
                      02242 ;pripraveno
067F   0000           02243 t1_67       nop
0680   0008           02244             return
                      02245 ;pripraveno
0681   0000           02246 t1_68       nop
0682   0008           02247             return
                      02248 ;pripraveno
0683   0000           02249 t1_69       nop
0684   0008           02250             return
                      02251 
0685   0000           02252 t1_x        nop
0686   0008           02253             return
                      02254             
                      02255 
                      02256 
                      02257 
                      02258 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02259 
0687   3005           02260 w20i        movlw .5
0688   00A3           02261             movwf r4
0689   0BA3           02262             decfsz r4, F
068A   2E89           02263             goto $-1
068B   0008           02264             return
                      02265 
                      02266 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
068C   3050           02267 w100c       movlw .80
068D   00A3           02268             movwf r4
068E   0BA3           02269             decfsz r4, F
068F   2E8E           02270             goto $-1
0690   0008           02271             return
                      02272 
                      02273 ;cekej necelou polovinu w100c
0691   301E           02274 w40c        movlw .30
0692   00A3           02275             movwf r4
0693   0BA3           02276             decfsz r4, F
0694   2E93           02277             goto $-1
0695   0008           02278             return
                      02279             
                      02280 
                      02281 
                      02282 
                      02283 
                      02284 
0696   3019           02285 klakson     movlw b'11001' ;port D1
0697   00D2           02286             movwf port
0698   3003           02287             movlw b'11' ;procesor 3
0699   00D3           02288             movwf prc
                      02289             
069A   082B           02290             movf o_c, W
069B   00A4           02291             movwf r5
                      02292 
069C   1E24           02293             btfss r5, 4
069D   21B2           02294             call setout ;nastav port v prc
069E   1E24           02295             btfss r5, 4
069F   162B           02296             bsf o_c, 4 
                      02297         
06A0   1A24           02298             btfsc r5, 4
06A1   21D9           02299             call clrout ;smaz port v prc
06A2   1A24           02300             btfsc r5, 4
06A3   122B           02301             bcf o_c, 4 
06A4   0008           02302             return
                      02303 
                      02304 
                      02305 ;zmeni stav LED zamceno
06A5   3016           02306 ledzam      movlw b'10110' ;port C6
06A6   00D2           02307             movwf port
06A7   3003           02308             movlw b'11' ;procesor 3
06A8   00D3           02309             movwf prc
                      02310             
06A9   0830           02311             movf o_h, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06AA   00A4           02312             movwf r5
                      02313 
06AB   1F24           02314             btfss r5, 6
06AC   21B2           02315             call setout ;nastav port v prc
06AD   1F24           02316             btfss r5, 6
06AE   1730           02317             bsf o_h, 6 
                      02318         
06AF   1B24           02319             btfsc r5, 6
06B0   21D9           02320             call clrout ;smaz port v prc
06B1   1B24           02321             btfsc r5, 6
06B2   1330           02322             bcf o_h, 6 
                      02323         
06B3   0008           02324             return
                      02325 
                      02326 
                      02327 
                      02328 
                      02329 
                      02330 
                      02331 
                      02332 
                      02333 
                      02334 
                      02335 
                      02336 
0800                  02337             org 800h ;zacina druha stranka programu
0800   118A           02338 start       bcf PCLATH,3 ;Select page 0
                      02339 
                      02340 
                      02341             ;#### Èeká nìkolik cyklù aby se stihly ostatní procesory vzpamatovat z pøípadnejch problémù
                      02342             ; Zaène poèítat èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0801   204A           02343             call watchstart
                      02344             ; Èeká a skonèí èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0802   204D           02345             call watchwait
                      02346             
                      02347             ; Zaène poèítat èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0803   204A           02348             call watchstart
                      02349             ; Èeká a skonèí èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0804   204D           02350             call watchwait
                      02351             
                      02352             ; Zaène poèítat èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0805   204A           02353             call watchstart
                      02354             ; Èeká a skonèí èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0806   204D           02355             call watchwait
                      02356             
                      02357             ; Zaène poèítat èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0807   204A           02358             call watchstart
                      02359             ; Èeká a skonèí èas odpoèinku procesorù WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0808   204D           02360             call watchwait
                      02361       
                      02362       
                      02363       
0809   1859           02364             btfsc conf, T0OF ;pokud timer 0 pøetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
080A   2053           02365             call timer0
                      02366 
080B   158A           02367             bsf PCLATH,3 ;Select page 1
                      02368             ;call okna ;spoutí obsluhu jednotlivých okének DEBUG
080C   118A           02369             bcf PCLATH,3 ;Select page 0
                      02370 
                      02371 
                      02372             
                      02373             
080D   3000           02374             movlw .0 ;nastavime ANx kde x je zadane cislo
080E   00F6           02375             movwf ran1
080F   158A           02376             bsf PCLATH,3 ;Select page 1
0810   22AF           02377             call adconv
0811   118A           02378             bcf PCLATH,3 ;Select page 0
0812   0876           02379             movf ran1, W
0813   00A0           02380             movwf r1
                      02381             
0814   093F           02382             comf ir_58, W
0815   07A0           02383             addwf r1, F
0816   081E           02384             movf ADRESH, W
0817   0FA0           02385             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0818   00BF           02386             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0819   0820           02387             movf r1, W
081A   118A           02388             bcf PCLATH,3 ;Select page 0
081B   1D03           02389             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
081C   2200           02390             call if_58  ;pokud zmena odesle na sbernici
                      02391             
                      02392             
081D   3001           02393             movlw .1 ;nastavime ANx kde x je zadane cislo
081E   00F6           02394             movwf ran1
081F   158A           02395             bsf PCLATH,3 ;Select page 1
0820   22AF           02396             call adconv
0821   118A           02397             bcf PCLATH,3 ;Select page 0
0822   0876           02398             movf ran1, W
0823   00A0           02399             movwf r1
                      02400             
0824   0943           02401             comf ir_62, W
0825   07A0           02402             addwf r1, F
0826   081E           02403             movf ADRESH, W
0827   0FA0           02404             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0828   00C3           02405             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0829   0820           02406             movf r1, W
082A   118A           02407             bcf PCLATH,3 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

082B   1D03           02408             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
082C   224D           02409             call if_62  ;pokud zmena odesle na sbernici
                      02410             
                      02411             
082D   3002           02412             movlw .2 ;nastavime ANx kde x je zadane cislo
082E   00F6           02413             movwf ran1
082F   158A           02414             bsf PCLATH,3 ;Select page 1
0830   22AF           02415             call adconv
0831   118A           02416             bcf PCLATH,3 ;Select page 0
0832   0876           02417             movf ran1, W
0833   00A0           02418             movwf r1
                      02419             
0834   0937           02420             comf ir_50, W
0835   07A0           02421             addwf r1, F
0836   081E           02422             movf ADRESH, W
0837   0FA0           02423             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0838   00B7           02424             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0839   0820           02425             movf r1, W
083A   118A           02426             bcf PCLATH,3 ;Select page 0
083B   1D03           02427             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
083C   229A           02428             call if_50  ;pokud zmena odesle na sbernici
                      02429             
                      02430             
083D   3003           02431             movlw .3 ;nastavime ANx kde x je zadane cislo
083E   00F6           02432             movwf ran1
083F   158A           02433             bsf PCLATH,3 ;Select page 1
0840   22AF           02434             call adconv
0841   118A           02435             bcf PCLATH,3 ;Select page 0
0842   0876           02436             movf ran1, W
0843   00A0           02437             movwf r1
                      02438             
0844   0940           02439             comf ir_59, W
0845   07A0           02440             addwf r1, F
0846   081E           02441             movf ADRESH, W
0847   0FA0           02442             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0848   00C0           02443             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0849   0820           02444             movf r1, W
084A   118A           02445             bcf PCLATH,3 ;Select page 0
084B   1D03           02446             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   229C           02447             call if_59  ;pokud zmena odesle na sbernici
                      02448             
                      02449             
084D   3004           02450             movlw .4 ;nastavime ANx kde x je zadane cislo
084E   00F6           02451             movwf ran1
084F   158A           02452             bsf PCLATH,3 ;Select page 1
0850   22AF           02453             call adconv
0851   118A           02454             bcf PCLATH,3 ;Select page 0
0852   0876           02455             movf ran1, W
0853   00A0           02456             movwf r1
                      02457             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0854   0941           02458             comf ir_60, W
0855   07A0           02459             addwf r1, F
0856   081E           02460             movf ADRESH, W
0857   0FA0           02461             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0858   00C1           02462             movwf ir_60  ;prepise reg AN prevedenou hodnotou
0859   0820           02463             movf r1, W
085A   118A           02464             bcf PCLATH,3 ;Select page 0
085B   1D03           02465             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
085C   229E           02466             call if_60  ;pokud zmena odesle na sbernici
                      02467             
                      02468             
085D   3005           02469             movlw .5 ;nastavime ANx kde x je zadane cislo
085E   00F6           02470             movwf ran1
085F   158A           02471             bsf PCLATH,3 ;Select page 1
0860   22AF           02472             call adconv
0861   118A           02473             bcf PCLATH,3 ;Select page 0
0862   0876           02474             movf ran1, W
0863   00A0           02475             movwf r1
                      02476             
0864   0942           02477             comf ir_61, W
0865   07A0           02478             addwf r1, F
0866   081E           02479             movf ADRESH, W
0867   0FA0           02480             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0868   00C2           02481             movwf ir_61  ;prepise reg AN prevedenou hodnotou
0869   0820           02482             movf r1, W
086A   118A           02483             bcf PCLATH,3 ;Select page 0
086B   1D03           02484             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
086C   22A0           02485             call if_61  ;pokud zmena odesle na sbernici
                      02486             
                      02487             
                      02488             
                      02489             
                      02490 
                      02491 
                      02492             ; Zaène poèítat èas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
086D   204A           02493             call watchstart
                      02494 
                      02495             ;dotaz na procesor 2
086E   3002           02496             movlw .2  ;oznaceni ciloveho procesoru
086F   00F8           02497             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0870   20F9           02498             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02499     
                      02500             ; Èeká a dobìhne èas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0871   204D           02501             call watchwait
                      02502     
0872   0870           02503             movf pri0, W    ;kontroluje zda je zmena od minule
0873   00A0           02504             movwf r1
0874   0938           02505             comf ir_51, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0875   07A0           02506             addwf r1, F
0876   0870           02507             movf pri0, W
0877   0FA0           02508             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0878   00B8           02509             movwf ir_51  ;priepise reg AN prievedenou hodnotou
0879   0820           02510             movf r1, W
087A   1D03           02511             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
087B   22A6           02512             call if_51  ;pokud zmena spusti podprig
                      02513     
087C   0871           02514             movf pri1, W    ;kontroluje zda je zmena od minule
087D   00A0           02515             movwf r1
087E   0939           02516             comf ir_52, W
087F   07A0           02517             addwf r1, F
0880   0871           02518             movf pri1, W
0881   0FA0           02519             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0882   00B9           02520             movwf ir_52  ;priepise reg AN prievedenou hodnotou
0883   0820           02521             movf r1, W
0884   1D03           02522             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0885   22A8           02523             call if_52  ;pokud zmena spusti podprig
                      02524     
                      02525     
0886   0872           02526             movf pri2, W    ;kontroluje zda je zmena od minule
0887   00A0           02527             movwf r1
0888   093A           02528             comf ir_53, W
0889   07A0           02529             addwf r1, F
088A   0872           02530             movf pri2, W
088B   0FA0           02531             incfsz r1, F  ;pokud zadna zmena pokracuje dal
088C   00BA           02532             movwf ir_53  ;priepise reg AN prievedenou hodnotou
088D   0820           02533             movf r1, W
088E   1D03           02534             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
088F   22AA           02535             call if_53  ;pokud zmena spusti podprig
                      02536     
                      02537     
0890   0873           02538             movf pri3, W    ;kontroluje zda je zmena od minule
0891   00A0           02539             movwf r1
0892   093B           02540             comf ir_54, W
0893   07A0           02541             addwf r1, F
0894   0873           02542             movf pri3, W
0895   0FA0           02543             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0896   00BB           02544             movwf ir_54  ;priepise reg AN prievedenou hodnotou
0897   0820           02545             movf r1, W
0898   1D03           02546             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0899   22AC           02547             call if_54  ;pokud zmena spusti podprig
                      02548     
                      02549     
089A   0874           02550             movf pri4, W    ;kontroluje zda je zmena od minule
089B   00A0           02551             movwf r1
089C   093C           02552             comf ir_55, W
089D   07A0           02553             addwf r1, F
089E   0874           02554             movf pri4, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

089F   0FA0           02555             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A0   00BC           02556             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08A1   0820           02557             movf r1, W
08A2   1D03           02558             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A3   22AE           02559             call if_55  ;pokud zmena spusti podprig
                      02560     
                      02561     
08A4   0875           02562             movf pri5, W    ;kontroluje zda je zmena od minule
08A5   00A0           02563             movwf r1
08A6   093D           02564             comf ir_56, W
08A7   07A0           02565             addwf r1, F
08A8   0875           02566             movf pri5, W
08A9   0FA0           02567             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08AA   00BD           02568             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08AB   0820           02569             movf r1, W
08AC   1D03           02570             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08AD   22B0           02571             call if_56  ;pokud zmena spusti podprig
                      02572     
                      02573     
08AE   0876           02574             movf pri6, W    ;kontroluje zda je zmena od minule
08AF   00A0           02575             movwf r1
08B0   093E           02576             comf ir_57, W
08B1   07A0           02577             addwf r1, F
08B2   0876           02578             movf pri6, W
08B3   0FA0           02579             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B4   00BE           02580             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08B5   0820           02581             movf r1, W
08B6   1D03           02582             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B7   22B2           02583             call if_57  ;pokud zmena spusti podprig
                      02584     
                      02585     
08B8   0877           02586             movf pri7, W    ;kontroluje zda je zmena od minule
08B9   00A0           02587             movwf r1
08BA   0936           02588             comf ir_49, W
08BB   07A0           02589             addwf r1, F
08BC   0877           02590             movf pri7, W
08BD   0FA0           02591             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08BE   00B6           02592             movwf ir_49  ;priepise reg AN prievedenou hodnotou
08BF   0820           02593             movf r1, W
08C0   1D03           02594             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C1   22A2           02595             call if_49  ;pokud zmena spusti podprig
                      02596 
                      02597 
                      02598             ; Zaène poèítat èas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08C2   204A           02599             call watchstart
                      02600 
                      02601             ;dotaz na procesor 3
08C3   3003           02602             movlw .3  ;oznaceni ciloveho procesoru
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C4   00F8           02603             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08C5   20F9           02604             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02605             
                      02606             ; Èeká a dobìhne èas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08C6   204D           02607             call watchwait
                      02608             
                      02609     
                      02610     
08C7   0870           02611             movf pri0, W    ;kontroluje zda je zmena od minule
08C8   00A0           02612             movwf r1
08C9   0944           02613             comf ir_80, W
08CA   07A0           02614             addwf r1, F
08CB   0870           02615             movf pri0, W
08CC   0FA0           02616             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CD   00C4           02617             movwf ir_80  ;priepise reg AN prievedenou hodnotou
08CE   0820           02618             movf r1, W
08CF   1D03           02619             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D0   22A4           02620             call if_80  ;pokud zmena spusti podprig
                      02621     
                      02622     
08D1   0871           02623             movf pri1, W    ;kontroluje zda je zmena od minule
08D2   00A0           02624             movwf r1
08D3   0945           02625             comf ir_84, W
08D4   07A0           02626             addwf r1, F
08D5   0871           02627             movf pri1, W
08D6   0FA0           02628             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D7   00C5           02629             movwf ir_84  ;priepise reg AN prievedenou hodnotou
08D8   0820           02630             movf r1, W
08D9   1D03           02631             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08DA   22B4           02632             call if_84  ;pokud zmena spusti podprig
                      02633     
                      02634     
08DB   0872           02635             movf pri2, W    ;kontroluje zda je zmena od minule
08DC   00A0           02636             movwf r1
08DD   0946           02637             comf ir_85, W
08DE   07A0           02638             addwf r1, F
08DF   0872           02639             movf pri2, W
08E0   0FA0           02640             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E1   00C6           02641             movwf ir_85  ;priepise reg AN prievedenou hodnotou
08E2   0820           02642             movf r1, W
08E3   1D03           02643             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E4   22B6           02644             call if_85  ;pokud zmena spusti podprig
                      02645     
                      02646     
08E5   0873           02647             movf pri3, W    ;kontroluje zda je zmena od minule
08E6   00A0           02648             movwf r1
08E7   0947           02649             comf ir_86, W
08E8   07A0           02650             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08E9   0873           02651             movf pri3, W
08EA   0FA0           02652             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EB   00C7           02653             movwf ir_86  ;priepise reg AN prievedenou hodnotou
08EC   0820           02654             movf r1, W
08ED   1D03           02655             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EE   22B8           02656             call if_86  ;pokud zmena spusti podprig
                      02657     
                      02658     
08EF   0874           02659             movf pri4, W    ;kontroluje zda je zmena od minule
08F0   00A0           02660             movwf r1
08F1   0948           02661             comf ir_87, W
08F2   07A0           02662             addwf r1, F
08F3   0874           02663             movf pri4, W
08F4   0FA0           02664             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F5   00C8           02665             movwf ir_87  ;priepise reg AN prievedenou hodnotou
08F6   0820           02666             movf r1, W
08F7   1D03           02667             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F8   22BA           02668             call if_87  ;pokud zmena spusti podprig
                      02669     
                      02670     
08F9   0875           02671             movf pri5, W    ;kontroluje zda je zmena od minule
08FA   00A0           02672             movwf r1
08FB   0949           02673             comf ir_88, W
08FC   07A0           02674             addwf r1, F
08FD   0875           02675             movf pri5, W
08FE   0FA0           02676             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FF   00C9           02677             movwf ir_88  ;priepise reg AN prievedenou hodnotou
0900   0820           02678             movf r1, W
0901   1D03           02679             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0902   22BC           02680             call if_88  ;pokud zmena spusti podprig
                      02681     
                      02682     
0903   0876           02683             movf pri6, W    ;kontroluje zda je zmena od minule
0904   00A0           02684             movwf r1
0905   094A           02685             comf ir_89, W
0906   07A0           02686             addwf r1, F
0907   0876           02687             movf pri6, W
0908   0FA0           02688             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0909   00CA           02689             movwf ir_89  ;priepise reg AN prievedenou hodnotou
090A   0820           02690             movf r1, W
090B   1D03           02691             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090C   22BE           02692             call if_89  ;pokud zmena spusti podprig
                      02693     
                      02694     
090D   0877           02695             movf pri7, W    ;kontroluje zda je zmena od minule
090E   00A0           02696             movwf r1
090F   094B           02697             comf ir_90, W
0910   07A0           02698             addwf r1, F
0911   0877           02699             movf pri7, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0912   0FA0           02700             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0913   00CB           02701             movwf ir_90  ;priepise reg AN prievedenou hodnotou
0914   0820           02702             movf r1, W
0915   1D03           02703             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0916   22C0           02704             call if_90  ;pokud zmena spusti podprig
                      02705 
                      02706 
                      02707 
                      02708             ; Zaène poèítat èas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0917   204A           02709             call watchstart
                      02710 
                      02711             ;dotaz na procesor 4
0918   3004           02712             movlw .4  ;oznaceni ciloveho procesoru
0919   00F8           02713             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
091A   20F9           02714             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02715             
                      02716             ; Èeká a dobìhne èas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
091B   204D           02717             call watchwait
                      02718             
                      02719     
                      02720     
091C   0870           02721             movf pri0, W    ;kontroluje zda je zmena od minule
091D   00A0           02722             movwf r1
091E   094C           02723             comf ir_91, W
091F   07A0           02724             addwf r1, F
0920   0870           02725             movf pri0, W
0921   0FA0           02726             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0922   00CC           02727             movwf ir_91  ;priepise reg AN prievedenou hodnotou
0923   0820           02728             movf r1, W
0924   1D03           02729             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0925   22C2           02730             call if_91  ;pokud zmena spusti podprig
                      02731     
                      02732     
0926   0871           02733             movf pri1, W    ;kontroluje zda je zmena od minule
0927   00A0           02734             movwf r1
0928   094D           02735             comf ir_92, W
0929   07A0           02736             addwf r1, F
092A   0871           02737             movf pri1, W
092B   0FA0           02738             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092C   00CD           02739             movwf ir_92  ;priepise reg AN prievedenou hodnotou
092D   0820           02740             movf r1, W
092E   1D03           02741             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092F   22C4           02742             call if_92  ;pokud zmena spusti podprig
                      02743     
                      02744     
0930   0872           02745             movf pri2, W    ;kontroluje zda je zmena od minule
0931   00A0           02746             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0932   094E           02747             comf ir_93, W
0933   07A0           02748             addwf r1, F
0934   0872           02749             movf pri2, W
0935   0FA0           02750             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0936   00CE           02751             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0937   0820           02752             movf r1, W
0938   1D03           02753             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0939   22C6           02754             call if_93  ;pokud zmena spusti podprig
                      02755     
                      02756     
093A   0873           02757             movf pri3, W    ;kontroluje zda je zmena od minule
093B   00A0           02758             movwf r1
093C   094F           02759             comf ir_127, W
093D   07A0           02760             addwf r1, F
093E   0873           02761             movf pri3, W
093F   0FA0           02762             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0940   00CF           02763             movwf ir_127  ;priepise reg AN prievedenou hodnotou
0941   0820           02764             movf r1, W
0942   1D03           02765             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0943   22C8           02766             call if_127  ;pokud zmena spusti podprig
                      02767     
                      02768     
0944   0874           02769             movf pri4, W    ;kontroluje zda je zmena od minule
0945   00A0           02770             movwf r1
0946   0950           02771             comf ir_128, W
0947   07A0           02772             addwf r1, F
0948   0874           02773             movf pri4, W
0949   0FA0           02774             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094A   00D0           02775             movwf ir_128  ;priepise reg AN prievedenou hodnotou
094B   0820           02776             movf r1, W
094C   1D03           02777             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094D   22CA           02778             call if_128  ;pokud zmena spusti podprig
                      02779     
                      02780     
094E   0875           02781             movf pri5, W    ;kontroluje zda je zmena od minule
094F   00A0           02782             movwf r1
0950   0935           02783             comf ir_x, W
0951   07A0           02784             addwf r1, F
0952   0875           02785             movf pri5, W
0953   0FA0           02786             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0954   00B5           02787             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0955   0820           02788             movf r1, W
0956   1D03           02789             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0957   2317           02790             call if_x  ;pokud zmena spusti podprig
                      02791     
                      02792     
0958   0876           02793             movf pri6, W    ;kontroluje zda je zmena od minule
0959   00A0           02794             movwf r1
095A   0935           02795             comf ir_x, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

095B   07A0           02796             addwf r1, F
095C   0876           02797             movf pri6, W
095D   0FA0           02798             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095E   00B5           02799             movwf ir_x  ;priepise reg AN prievedenou hodnotou
095F   0820           02800             movf r1, W
0960   1D03           02801             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0961   2317           02802             call if_x  ;pokud zmena spusti podprig
                      02803     
                      02804     
0962   0877           02805             movf pri7, W    ;kontroluje zda je zmena od minule
0963   00A0           02806             movwf r1
0964   0935           02807             comf ir_x, W
0965   07A0           02808             addwf r1, F
0966   0877           02809             movf pri7, W
0967   0FA0           02810             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0968   00B5           02811             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0969   0820           02812             movf r1, W
096A   1D03           02813             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
096B   2317           02814             call if_x  ;pokud zmena spusti podprig
                      02815 
                      02816 
                      02817 
096C   158A           02818             bsf PCLATH,3 ;Select page 1
096D   2800           02819             goto start      ;zpet v cyklu na zacatek
                      02820         
                      02821         
                      02822         
                      02823 
                      02824 
                      02825 
                      02826 
                      02827 
                      02828 
096E   084B           02829 okna        movf ir_90, W
096F   39F0           02830             andlw b'11110000' ;odseknu konecnou cast
0970   00A0           02831             movwf r1
0971   09A0           02832             comf r1, F ;udelám dvojkový doplnìk
0972   0862           02833             movf o1tar, W
0973   39F0           02834             andlw b'11110000' ;odseknu konecnou cast
0974   07A0           02835             addwf r1, F ;sectu s dvojkovym doplnkem
0975   0803           02836             movf STATUS, W
0976   00A2           02837             movwf r3
0977   1922           02838             btfsc r3, Z
0978   21DD           02839             call o1stop
0979   1922           02840             btfsc r3, Z
097A   297F           02841             goto okno2
097B   1C22           02842             btfss r3, C ;pokud nepreteklo, vyjed nahoru
097C   21B3           02843             call o1up
097D   1822           02844             btfsc r3, C ;pokud preteklo, sjed dolu
097E   21C8           02845             call o1down
097F   084C           02846 okno2       movf ir_91, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0980   39F0           02847             andlw b'11110000' ;odseknu konecnou cast
0981   00A0           02848             movwf r1
0982   09A0           02849             comf r1, F ;udelám dvojkový doplnìk
0983   0863           02850             movf o2tar, W
0984   39F0           02851             andlw b'11110000' ;odseknu konecnou cast
0985   07A0           02852             addwf r1, F ;sectu s dvojkovym doplnkem
0986   0803           02853             movf STATUS, W
0987   00A2           02854             movwf r3
0988   1922           02855             btfsc r3, Z
0989   221C           02856             call o2stop
098A   1922           02857             btfsc r3, Z
098B   2990           02858             goto okno3
098C   1C22           02859             btfss r3, C ;pokud nepreteklo, vyjed nahoru
098D   21F2           02860             call o2up
098E   1822           02861             btfsc r3, C ;pokud preteklo, sjed dolu
098F   2207           02862             call o2down
0990   084D           02863 okno3       movf ir_92, W
0991   39F0           02864             andlw b'11110000' ;odseknu konecnou cast
0992   00A0           02865             movwf r1
0993   09A0           02866             comf r1, F ;udelám dvojkový doplnìk
0994   0864           02867             movf o3tar, W
0995   39F0           02868             andlw b'11110000' ;odseknu konecnou cast
0996   07A0           02869             addwf r1, F ;sectu s dvojkovym doplnkem
0997   0803           02870             movf STATUS, W
0998   00A2           02871             movwf r3
0999   1922           02872             btfsc r3, Z
099A   225B           02873             call o3stop
099B   1922           02874             btfsc r3, Z
099C   29A1           02875             goto okno4
099D   1C22           02876             btfss r3, C ;pokud nepreteklo, vyjed nahoru
099E   2231           02877             call o3up
099F   1822           02878             btfsc r3, C ;pokud preteklo, sjed dolu
09A0   2246           02879             call o3down
09A1   084E           02880 okno4       movf ir_93, W
09A2   39F0           02881             andlw b'11110000' ;odseknu konecnou cast
09A3   00A0           02882             movwf r1
09A4   09A0           02883             comf r1, F ;udelám dvojkový doplnìk
09A5   0865           02884             movf o4tar, W
09A6   39F0           02885             andlw b'11110000' ;odseknu konecnou cast
09A7   07A0           02886             addwf r1, F ;sectu s dvojkovym doplnkem
09A8   0803           02887             movf STATUS, W
09A9   00A2           02888             movwf r3
09AA   1922           02889             btfsc r3, Z
09AB   229A           02890             call o4stop
09AC   1922           02891             btfsc r3, Z
09AD   0008           02892             return
09AE   1C22           02893             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09AF   2270           02894             call o4up
09B0   1822           02895             btfsc r3, C ;pokud preteklo, sjed dolu
09B1   2285           02896             call o4down
09B2   0008           02897             return
                      02898 
                      02899 ;okno 1 nahoru, dolu, zastavit
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09B3   19A9           02900 o1up        btfsc o_a, 3
09B4   29BD           02901             goto no1up
09B5   301D           02902             movlw b'11101' ;port D5
09B6   00D2           02903             movwf port
09B7   3003           02904             movlw b'11' ;procesor 3
09B8   00D3           02905             movwf prc
                      02906         
09B9   118A           02907             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09BA   21B2           02908             call setout ;smaz port v prc
09BB   158A           02909             bsf PCLATH,3 ;Select page 1
09BC   15A9           02910             bsf o_a, 3 
09BD   1FA9           02911 no1up       btfss o_a, 7
09BE   0008           02912             return
09BF   300C           02913             movlw b'01100' ;port B4
09C0   00D2           02914             movwf port
09C1   3002           02915             movlw b'10' ;procesor 2
09C2   00D3           02916             movwf prc
                      02917             
09C3   118A           02918             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09C4   21D9           02919             call clrout ;smaz port v prc
09C5   158A           02920             bsf PCLATH,3 ;Select page 1
09C6   13A9           02921             bcf o_a, 7             
09C7   0008           02922             return
09C8   1DA9           02923 o1down      btfss o_a, 3
09C9   29D2           02924             goto no1down
09CA   301D           02925             movlw b'11101' ;port D5
09CB   00D2           02926             movwf port
09CC   3003           02927             movlw b'11' ;procesor 3
09CD   00D3           02928             movwf prc
                      02929             
09CE   118A           02930             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09CF   21D9           02931             call clrout ;smaz port v prc
09D0   158A           02932             bsf PCLATH,3 ;Select page 1
09D1   11A9           02933             bcf o_a, 3 
09D2   1BA9           02934 no1down     btfsc o_a, 7
09D3   0008           02935             return
09D4   300C           02936             movlw b'01100' ;port B4
09D5   00D2           02937             movwf port
09D6   3002           02938             movlw b'10' ;procesor 2
09D7   00D3           02939             movwf prc
                      02940             
09D8   118A           02941             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09D9   21B2           02942             call setout ;smaz port v prc
09DA   158A           02943             bsf PCLATH,3 ;Select page 1
09DB   17A9           02944             bsf o_a, 7             
09DC   0008           02945             return
09DD   1DA9           02946 o1stop      btfss o_a, 3
09DE   29E7           02947             goto no1stop
09DF   301D           02948             movlw b'11101' ;port D5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09E0   00D2           02949             movwf port
09E1   3003           02950             movlw b'11' ;procesor 3
09E2   00D3           02951             movwf prc
                      02952             
09E3   118A           02953             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09E4   21D9           02954             call clrout ;smaz port v prc
09E5   158A           02955             bsf PCLATH,3 ;Select page 1
09E6   11A9           02956             bcf o_a, 3 
09E7   1FA9           02957 no1stop     btfss o_a, 7
09E8   0008           02958             return
09E9   300C           02959             movlw b'01100' ;port B4
09EA   00D2           02960             movwf port
09EB   3002           02961             movlw b'10' ;procesor 2
09EC   00D3           02962             movwf prc
                      02963             
09ED   118A           02964             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09EE   21D9           02965             call clrout ;smaz port v prc
09EF   158A           02966             bsf PCLATH,3 ;Select page 1
09F0   13A9           02967             bcf o_a, 7             
09F1   0008           02968             return
                      02969 ;okno 2 nahoru, dolu, zastavit
09F2   1A29           02970 o2up        btfsc o_a, 4
09F3   29FC           02971             goto no2up
09F4   3018           02972             movlw b'11000' ;port D0
09F5   00D2           02973             movwf port
09F6   3002           02974             movlw b'10' ;procesor 2
09F7   00D3           02975             movwf prc
                      02976             
09F8   118A           02977             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09F9   21B2           02978             call setout ;smaz port v prc
09FA   158A           02979             bsf PCLATH,3 ;Select page 1
09FB   1629           02980             bsf o_a, 4 
09FC   1C2A           02981 no2up       btfss o_b, 0
09FD   0008           02982             return
09FE   300D           02983             movlw b'01101' ;port B5
09FF   00D2           02984             movwf port
0A00   3002           02985             movlw b'10' ;procesor 2
0A01   00D3           02986             movwf prc
                      02987             
0A02   118A           02988             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A03   21D9           02989             call clrout ;smaz port v prc
0A04   158A           02990             bsf PCLATH,3 ;Select page 1
0A05   102A           02991             bcf o_b, 0             
0A06   0008           02992             return
0A07   1E29           02993 o2down      btfss o_a, 4
0A08   2A11           02994             goto no2down
0A09   3018           02995             movlw b'11000' ;port D0
0A0A   00D2           02996             movwf port
0A0B   3002           02997             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A0C   00D3           02998             movwf prc
                      02999             
0A0D   118A           03000             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0E   21D9           03001             call clrout ;smaz port v prc
0A0F   158A           03002             bsf PCLATH,3 ;Select page 1
0A10   1229           03003             bcf o_a, 4 
0A11   182A           03004 no2down     btfsc o_b, 0
0A12   0008           03005             return
0A13   300D           03006             movlw b'01101' ;port B5
0A14   00D2           03007             movwf port
0A15   3002           03008             movlw b'10' ;procesor 2
0A16   00D3           03009             movwf prc
                      03010             
0A17   118A           03011             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A18   21B2           03012             call setout ;smaz port v prc
0A19   158A           03013             bsf PCLATH,3 ;Select page 1
0A1A   142A           03014             bsf o_b, 0             
0A1B   0008           03015             return
0A1C   1E29           03016 o2stop      btfss o_a, 4
0A1D   2A26           03017             goto no2stop
0A1E   3018           03018             movlw b'11000' ;port D0
0A1F   00D2           03019             movwf port
0A20   3002           03020             movlw b'10' ;procesor 2
0A21   00D3           03021             movwf prc
                      03022             
0A22   118A           03023             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A23   21D9           03024             call clrout ;smaz port v prc
0A24   158A           03025             bsf PCLATH,3 ;Select page 1
0A25   1229           03026             bcf o_a, 4 
0A26   1C2A           03027 no2stop     btfss o_b, 0
0A27   0008           03028             return
0A28   300D           03029             movlw b'01101' ;port B5
0A29   00D2           03030             movwf port
0A2A   3002           03031             movlw b'10' ;procesor 2
0A2B   00D3           03032             movwf prc
                      03033             
0A2C   118A           03034             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2D   21D9           03035             call clrout ;smaz port v prc
0A2E   158A           03036             bsf PCLATH,3 ;Select page 1
0A2F   102A           03037             bcf o_b, 0             
0A30   0008           03038             return
                      03039 ;okno 3 nahoru, dolu, zastavit
0A31   1AA9           03040 o3up        btfsc o_a, 5
0A32   2A3B           03041             goto no3up
0A33   300A           03042             movlw b'01010' ;port B2
0A34   00D2           03043             movwf port
0A35   3002           03044             movlw b'10' ;procesor 2
0A36   00D3           03045             movwf prc
                      03046             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A37   118A           03047             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A38   21B2           03048             call setout ;smaz port v prc
0A39   158A           03049             bsf PCLATH,3 ;Select page 1
0A3A   16A9           03050             bsf o_a, 5 
0A3B   1CAA           03051 no3up       btfss o_b, 1
0A3C   0008           03052             return
0A3D   300E           03053             movlw b'01110' ;port B6
0A3E   00D2           03054             movwf port
0A3F   3002           03055             movlw b'10' ;procesor 2
0A40   00D3           03056             movwf prc
                      03057             
0A41   118A           03058             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A42   21D9           03059             call clrout ;smaz port v prc
0A43   158A           03060             bsf PCLATH,3 ;Select page 1
0A44   10AA           03061             bcf o_b, 1             
0A45   0008           03062             return
0A46   1EA9           03063 o3down      btfss o_a, 5
0A47   2A50           03064             goto no3down
0A48   300A           03065             movlw b'01010' ;port B2
0A49   00D2           03066             movwf port
0A4A   3002           03067             movlw b'10' ;procesor 2
0A4B   00D3           03068             movwf prc
                      03069             
0A4C   118A           03070             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4D   21D9           03071             call clrout ;smaz port v prc
0A4E   158A           03072             bsf PCLATH,3 ;Select page 1
0A4F   12A9           03073             bcf o_a, 5 
0A50   18AA           03074 no3down     btfsc o_b, 1
0A51   0008           03075             return
0A52   300E           03076             movlw b'01110' ;port B6
0A53   00D2           03077             movwf port
0A54   3002           03078             movlw b'10' ;procesor 2
0A55   00D3           03079             movwf prc
                      03080             
0A56   118A           03081             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A57   21B2           03082             call setout ;smaz port v prc
0A58   158A           03083             bsf PCLATH,3 ;Select page 1
0A59   14AA           03084             bsf o_b, 1             
0A5A   0008           03085             return
0A5B   1EA9           03086 o3stop      btfss o_a, 5
0A5C   2A65           03087             goto no3stop
0A5D   300A           03088             movlw b'01010' ;port B2
0A5E   00D2           03089             movwf port
0A5F   3002           03090             movlw b'10' ;procesor 2
0A60   00D3           03091             movwf prc
                      03092             
0A61   118A           03093             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A62   21D9           03094             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A63   158A           03095             bsf PCLATH,3 ;Select page 1
0A64   12A9           03096             bcf o_a, 5 
0A65   1CAA           03097 no3stop     btfss o_b, 1
0A66   0008           03098             return
0A67   300E           03099             movlw b'01110' ;port B6
0A68   00D2           03100             movwf port
0A69   3002           03101             movlw b'10' ;procesor 2
0A6A   00D3           03102             movwf prc
                      03103             
0A6B   118A           03104             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6C   21D9           03105             call clrout ;smaz port v prc
0A6D   158A           03106             bsf PCLATH,3 ;Select page 1
0A6E   10AA           03107             bcf o_b, 1             
0A6F   0008           03108             return
                      03109 ;okno 4 nahoru, dolu, zastavit
0A70   1B29           03110 o4up        btfsc o_a, 6
0A71   2A7A           03111             goto no4up
0A72   300B           03112             movlw b'01011' ;port B3
0A73   00D2           03113             movwf port
0A74   3002           03114             movlw b'10' ;procesor 2
0A75   00D3           03115             movwf prc
                      03116             
0A76   118A           03117             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A77   21B2           03118             call setout ;smaz port v prc
0A78   158A           03119             bsf PCLATH,3 ;Select page 1
0A79   1729           03120             bsf o_a, 6 
0A7A   1D2A           03121 no4up       btfss o_b, 2
0A7B   0008           03122             return
0A7C   300F           03123             movlw b'01111' ;port B7
0A7D   00D2           03124             movwf port
0A7E   3002           03125             movlw b'10' ;procesor 2
0A7F   00D3           03126             movwf prc
                      03127             
0A80   118A           03128             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A81   21D9           03129             call clrout ;smaz port v prc
0A82   158A           03130             bsf PCLATH,3 ;Select page 1
0A83   112A           03131             bcf o_b, 2             
0A84   0008           03132             return
0A85   1F29           03133 o4down      btfss o_a, 6
0A86   2A8F           03134             goto no4down
0A87   300B           03135             movlw b'01011' ;port B3
0A88   00D2           03136             movwf port
0A89   3002           03137             movlw b'10' ;procesor 2
0A8A   00D3           03138             movwf prc
                      03139             
0A8B   118A           03140             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8C   21D9           03141             call clrout ;smaz port v prc
0A8D   158A           03142             bsf PCLATH,3 ;Select page 1
0A8E   1329           03143             bcf o_a, 6 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A8F   192A           03144 no4down     btfsc o_b, 2
0A90   0008           03145             return
0A91   300F           03146             movlw b'01111' ;port B7
0A92   00D2           03147             movwf port
0A93   3002           03148             movlw b'10' ;procesor 2
0A94   00D3           03149             movwf prc
                      03150             
0A95   118A           03151             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A96   21B2           03152             call setout ;smaz port v prc
0A97   158A           03153             bsf PCLATH,3 ;Select page 1
0A98   152A           03154             bsf o_b, 2             
0A99   0008           03155             return
0A9A   1F29           03156 o4stop      btfss o_a, 6
0A9B   2AA4           03157             goto no4stop
0A9C   300B           03158             movlw b'01011' ;port B3
0A9D   00D2           03159             movwf port
0A9E   3002           03160             movlw b'10' ;procesor 2
0A9F   00D3           03161             movwf prc
                      03162             
0AA0   118A           03163             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA1   21D9           03164             call clrout ;smaz port v prc
0AA2   158A           03165             bsf PCLATH,3 ;Select page 1
0AA3   1329           03166             bcf o_a, 6 
0AA4   1D2A           03167 no4stop     btfss o_b, 2
0AA5   0008           03168             return
0AA6   300F           03169             movlw b'01111' ;port B7
0AA7   00D2           03170             movwf port
0AA8   3002           03171             movlw b'10' ;procesor 2
0AA9   00D3           03172             movwf prc
                      03173             
0AAA   118A           03174             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAB   21D9           03175             call clrout ;smaz port v prc
0AAC   158A           03176             bsf PCLATH,3 ;Select page 1
0AAD   112A           03177             bcf o_b, 2             
0AAE   0008           03178             return
                      03179             
                      03180             
                      03181             
                      03182             
                      03183 
                      03184 
                      03185 
                      03186 
0AAF   3032           03187 adconv      movlw .50 ; kolikrat se ma merit vstup
0AB0   00F7           03188             movwf ran2 ; decrementator pro cykl
0AB1   00FA           03189             movwf ran5 ; delitel pro vypocet prumeru
0AB2   0876           03190             movf ran1, W
0AB3   00F8           03191             movwf ran3 ; zachováni ANx vstupu
0AB4   01F2           03192             clrf CIS2_L
0AB5   01F3           03193             clrf CIS2_H
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03194             
0AB6   0878           03195 adconv2     movf ran3, W
0AB7   00F6           03196             movwf ran1 ; nasteni znova ANx vstupu
0AB8   22D7           03197             call adconv_one
                      03198             
                      03199             ; pripraveni cisla 1 k pricteni
0AB9   01F1           03200             clrf CIS1_H
0ABA   0876           03201             movf ran1, W
0ABB   00F0           03202             movwf CIS1_L
                      03203             
                      03204             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03205             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03206         
0ABC   0870           03207                 movf    CIS1_L,W        ; CIS1_L do W
0ABD   0772           03208                 addwf   CIS2_L,W        ; W + CIS2_L do W
0ABE   00F4           03209                 movwf   OUT_L           ; W do OUT_L
                      03210         
0ABF   0871           03211                 movf    CIS1_H,W        ; CIS1_H do W
0AC0   1803           03212                 btfsc   STATUS,C
0AC1   3E01           03213                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0AC2   0773           03214                 addwf   CIS2_H,W
0AC3   00F5           03215                 movwf   OUT_H           ; W do OUT_H
                      03216                 
                      03217                 ; ulozi OUT do CIS2
0AC4   0874           03218             movf OUT_L, W
0AC5   00F2           03219             movwf CIS2_L
0AC6   0875           03220             movf OUT_H, W
0AC7   00F3           03221             movwf CIS2_H
                      03222             
                      03223             
0AC8   0BF7           03224             decfsz ran2, F
0AC9   2AB6           03225             goto adconv2
                      03226             
                      03227             ; vydeli poctem mereni
0ACA   0872           03228             movf CIS2_L, W
0ACB   00F0           03229             movwf A1
0ACC   0873           03230             movf CIS2_H, W
0ACD   00F1           03231             movwf A2
0ACE   01F2           03232             clrf A3
                      03233             
0ACF   087A           03234             movf ran5, W
0AD0   00F3           03235             movwf B1
0AD1   01F4           03236             clrf B2
0AD2   01F5           03237             clrf B3
                      03238             
0AD3   22E6           03239             call LOMENO24
0AD4   0876           03240             movf C1, W
0AD5   00F6           03241             movwf ran1
                      03242             
0AD6   0008           03243             return
                      03244         
0AD7   1003           03245 adconv_one  bcf STATUS, C
0AD8   0DF6           03246             rlf ran1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AD9   0DF6           03247             rlf ran1, F
0ADA   0DF6           03248             rlf ran1, F
                      03249             
                      03250             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0ADB   13F6           03251             bcf ran1, 7
0ADC   1776           03252             bsf ran1, 6
                      03253             ; 5
                      03254             ; 4
                      03255             ; 3
0ADD   1576           03256             bsf ran1, 2
                      03257             ; 1
0ADE   1476           03258             bsf ran1, 0
                      03259             
0ADF   0876           03260             movf ran1, W
0AE0   009F           03261             movwf ADCON0
                      03262             
0AE1   191F           03263             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0AE2   2AE1           03264             goto $-1
0AE3   081E           03265             movf ADRESH, W    ;kontroluje zda je zmena od minule
0AE4   00F6           03266             movwf ran1
0AE5   0008           03267             return
                      03268         
                      03269         
                      03270         
                      03271         
                      03272         
                      03273 ;-------------------------------;
                      03274 ; A1,2,3 / B1,2,3 = C1,2,3
                      03275 ;24Bit, pouze kladna cisla
                      03276 ;SZ=1=deleni nulou (B1,2,3=0)
                      03277 ;B se nezmeni, v A bude zbytek
                      03278 ;pouziva D1,2,3; X1
0AE6                  03279 LOMENO24
                      03280 ;test B na nulu; sZ=1=ANO
0AE6   08F3           03281         MOVF    B1,F
0AE7   1903           03282         BTFSC   STATUS,Z        ;nenulove?
0AE8   08F4           03283         MOVF    B2,F
0AE9   1903           03284         BTFSC   STATUS,Z        ;nenulove?
0AEA   08F5           03285         MOVF    B3,F
0AEB   1903           03286         BTFSC   STATUS,Z        ;nenulove?
0AEC   0008           03287         RETURN                  ;B1,2,3=0
                      03288 ;priprava pro deleni
0AED   0870           03289 LOM24   MOVF    A1,W            ;A do D
0AEE   00F9           03290         MOVWF   D1              ;
0AEF   0871           03291         MOVF    A2,W            ;
0AF0   00FA           03292         MOVWF   D2              ;
0AF1   0872           03293         MOVF    A3,W            ;
0AF2   00FB           03294         MOVWF   D3              ;
0AF3   01F0           03295         CLRF    A1              ;nulovat
0AF4   01F1           03296         CLRF    A2              ;
0AF5   01F2           03297         CLRF    A3              ;
0AF6   3018           03298         MOVLW   24              ;pocet bitu
0AF7   00FC           03299         MOVWF   X1              ;
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AF8   1003           03300         BCF     STATUS,C        ;SC=0
                      03301 ;deleni
0AF9   230B           03302 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0AFA   1C03           03303         BTFSS   STATUS,C        ;kladny vysledek?
0AFB   2B01           03304         GOTO    LZapor          ;NE
                      03305 ;LKlad
0AFC   00F2           03306         MOVWF   A3              ;C do A
0AFD   0877           03307         MOVF    C2,W            ;
0AFE   00F1           03308         MOVWF   A2              ;
0AFF   0876           03309         MOVF    C1,W            ;
0B00   00F0           03310         MOVWF   A1              ;
                      03311 
0B01   0BFC           03312 LZapor  DECFSZ  X1,F            ;-1=0?
0B02   2AF9           03313         GOTO    LDalsi          ;jeste neni konec
                      03314 ;vysledek
0B03   0D79           03315         RLF     D1,W            ;posledni x2
0B04   00F6           03316         MOVWF   C1              ; a W do C
0B05   0D7A           03317         RLF     D2,W            ;
0B06   00F7           03318         MOVWF   C2              ;
0B07   0D7B           03319         RLF     D3,W            ;
0B08   00F8           03320         MOVWF   C3              ;
                      03321 
0B09   1103           03322         BCF     STATUS,Z        ;SZ=0
0B0A   0008           03323         RETURN
                      03324 
                      03325 
                      03326 ;................................
                      03327 ; D1,2,3 A1,2,3 * 2 a Minus
0B0B   0DF9           03328 x2M     RLF     D1,F            ;posuv vlevo
0B0C   0DFA           03329         RLF     D2,F            ;
0B0D   0DFB           03330         RLF     D3,F            ;
0B0E   0DF0           03331         RLF     A1,F            ;
0B0F   0DF1           03332         RLF     A2,F            ;
0B10   0DF2           03333         RLF     A3,F            ;
                      03334                                 ;pokracuje MINUS
                      03335 ;--------------------------------
                      03336 ; A1,2,3 - B1,2,3 = C1,2,3
                      03337 ;SC=0=zaporny vysledek
                      03338 ;A,B se nezmeni
0B11   0873           03339 MINUS   MOVF    B1,W            ;W=B1
0B12   0270           03340         SUBWF   A1,W            ;A1-B1=W
0B13   00F6           03341         MOVWF   C1              ;C1=W=vysledek1
0B14   0103           03342         CLRW                    ;W=0
0B15   1C03           03343         BTFSS   STATUS,C        ;SUB kladne?
0B16   3001           03344         MOVLW   1               ;W=1
0B17   0774           03345         ADDWF   B2,W            ;B2+W=W
0B18   01F8           03346         CLRF    C3              ;C3=0
0B19   1803           03347         BTFSC   STATUS,C        ;ADD nepreteklo?
0B1A   1478           03348         BSF     C3,0            ;C3=1
0B1B   0271           03349         SUBWF   A2,W            ;A2-W=W
0B1C   00F7           03350         MOVWF   C2              ;C2=w=vysledek2
0B1D   0878           03351         MOVF    C3,W            ;W=C3
0B1E   1C03           03352         BTFSS   STATUS,C        ;SUB kladne?
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B1F   3001           03353         MOVLW   1               ;W=1
0B20   0775           03354         ADDWF   B3,W            ;B3+W=W
0B21   01F8           03355         CLRF    C3              ;C3=0
0B22   1803           03356         BTFSC   STATUS,C        ;ADD nepreteklo?
0B23   1478           03357         BSF     C3,0            ;C3=1
0B24   0272           03358         SUBWF   A3,W            ;A3-W=W
0B25   1878           03359         BTFSC   C3,0            ;C3=0?
0B26   1003           03360         BCF     STATUS,C        ;SC=0
0B27   00F8           03361         MOVWF   C3              ;C3=W=vysledek3
0B28   0008           03362         RETURN
                      03363 
                      03364 
                      03365         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 67


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000AF9
LEDZAM                            00000002
LOM24                             00000AED
LOMENO24                          00000AE6
LZapor                            00000B01
MINUS                             00000B11
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AAF
adconv2                           00000AB6
adconv_one                        00000AD7
alabli                            000000EE
casov                             0000005A
cassir                            00000058
casvar                            0000006E
cil                               00000078
clrout                            000001D9
conf                              00000059
dotaz                             000000F9
dotazerr                          000001AE
if_127                            000002C8
if_128                            000002CA
if_49                             000002A2
if_50                             0000029A
if_51                             000002A6
if_52                             000002A8
if_53                             000002AA
if_54                             000002AC
if_55                             000002AE
if_56                             000002B0
if_57                             000002B2
if_58                             00000200
if_59                             0000029C
if_60                             0000029E
if_61                             000002A0
if_62                             0000024D
if_80                             000002A4
if_84                             000002B4
if_85                             000002B6
if_86                             000002B8
if_87                             000002BA
if_88                             000002BC
if_89                             000002BE
if_90                             000002C0
if_91                             000002C2
if_92                             000002C4
if_93                             000002C6
if_x                              00000317
init                              00000012
inter                             0000003F
intoff                            00000039
inton                             0000002E
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           00000696
ledzam                            000006A5
locked                            00000051
lzabli                            000000A2
no1down                           000009D2
no1stop                           000009E7
no1up                             000009BD
no2down                           00000A11
no2stop                           00000A26
no2up                             000009FC
no3down                           00000A50
no3stop                           00000A65
no3up                             00000A3B
no4down                           00000A8F
no4stop                           00000AA4
no4up                             00000A7A
o1down                            000009C8
o1stop                            000009DD
o1tar                             00000062
o1tmp                             0000005E
o1up                              000009B3
o2down                            00000A07
o2stop                            00000A1C
o2tar                             00000063
o2tmp                             0000005F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

o2up                              000009F2
o3down                            00000A46
o3stop                            00000A5B
o3tar                             00000064
o3tmp                             00000060
o3up                              00000A31
o4down                            00000A85
o4stop                            00000A9A
o4tar                             00000065
o4tmp                             00000061
o4up                              00000A70
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000BF
okna                              0000096E
okno2                             0000097F
okno3                             00000990
okno4                             000009A1
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
r5                                00000024
r6                                00000025
radio                             00000051
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
rtuoff                            00000091
s_temp                            00000027
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

setout                            000001B2
sirbeep                           00000065
spinac                            00000067
spioff                            000000BA
start                             00000800
t1_00                             0000035B
t1_01                             000003A4
t1_02                             000003D2
t1_03                             000003F5
t1_04                             00000416
t1_05                             0000044C
t1_06                             00000464
t1_07                             0000049B
t1_08                             000004A9
t1_09                             000004B7
t1_10                             000004B9
t1_11                             000004C3
t1_12                             000004C9
t1_13                             000004D1
t1_14                             000004D9
t1_15                             000004DF
t1_16                             000004E5
t1_17                             000004EB
t1_18                             000004ED
t1_19                             000004EF
t1_20                             000004F1
t1_21                             000004F8
t1_22                             000004FF
t1_23                             00000506
t1_24                             0000050D
t1_25                             00000514
t1_26                             0000051B
t1_27                             00000526
t1_28                             00000528
t1_29                             0000052A
t1_30                             0000052C
t1_31                             00000535
t1_32                             0000053E
t1_33                             00000549
t1_34                             00000554
t1_35                             0000055D
t1_36                             00000566
t1_37                             00000571
t1_38                             00000581
t1_39                             00000583
t1_40                             00000585
t1_41                             00000594
t1_42                             000005A3
t1_43                             000005AE
t1_44                             000005B9
t1_45                             000005C4
t1_46                             000005C7
t1_47                             000005CA
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

t1_48                             000005D5
t1_49                             000005D7
t1_50                             000005D9
t1_51                             000005E0
t1_52                             000005E3
t1_53                             000005E6
t1_54                             000005F5
t1_55                             00000604
t1_56                             00000607
t1_57                             00000628
t1_58                             0000062A
t1_59                             0000062C
t1_60                             0000062E
t1_61                             00000639
t1_62                             00000648
t1_63                             00000657
t1_64                             00000661
t1_65                             0000066B
t1_66                             00000675
t1_67                             0000067F
t1_68                             00000681
t1_69                             00000683
t1_stop                           00000319
t1_x                              00000685
t2_02                             000003EB
t2_03                             0000040C
t2_37                             0000057A
t2_stop                           0000031B
t3_02                             000003F2
t3_03                             00000413
t3_stop                           0000031D
timala                            0000006A
timer0                            00000053
timlza                            0000005D
timods                            00000069
timrtu                            0000005C
timsir                            00000057
timspi                            00000068
timvar                            0000005B
timwtu                            00000066
tl1                               00000054
tl2                               00000055
tl3                               00000056
tx_stop                           0000031F
varoff                            0000006E
w100c                             0000068C
w20i                              00000687
w40c                              00000691
w_temp                            00000026
watchover                         00000048
watchstart                        0000004A
watchwait                         0000004D
wtuoff                            000000A9
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

x0                                0000006B
x1                                0000006C
x2                                0000006D
x2M                               00000B0B


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXX------------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-12-2012  8:32:46         PAGE 78


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXX------- ----------------

All other memory blocks unused.

Program Memory Words Used:  2522
Program Memory Words Free:  1574


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    86 reported,     0 suppressed

