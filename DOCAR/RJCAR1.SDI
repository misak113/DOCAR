,,,
,,,; CONFIG BITS: 0x3F3E
,,,
,,,      LIST        P=16F874A, R=DEC
,,,      INCLUDE     <P16F874.INC>
,,,
,,,
,,,;GLOBALNI deklarace registru
,,,      cblock    0x20
,,,r1
,,,r2
,,,r3
,,,r4
,,,r5
,,,r6
,,,
,,,w_temp
,,,s_temp
,,,pcl_temp
,,,
,,,
,,,
,,,;registry stavu
,,,o_a
,,,o_b
,,,o_c
,,,o_d
,,,o_e
,,,o_f
,,,o_g
,,,o_h
,,,o_i
,,,o_j
,,,o_k
,,,o_l
,,,
,,,ir_x
,,,ir_49
,,,ir_50
,,,ir_51
,,,ir_52
,,,ir_53
,,,ir_54
,,,ir_55
,,,ir_56
,,,ir_57
,,,ir_58
,,,ir_59
,,,ir_60
,,,ir_61
,,,ir_62
,,,ir_80
,,,ir_84
,,,ir_85
,,,ir_86
,,,ir_87
,,,ir_88
,,,ir_89
,,,ir_90
,,,ir_91
,,,ir_92
,,,ir_93
,,,ir_127
,,,ir_128
,,,
,,,locked
,,,port
,,,prc
,,,tl1
,,,tl2
,,,tl3
,,,timsir
,,,cassir
,,,conf
,,,casov
,,,timvar
,,,timrtu
,,,timlza
,,,
,,,PORTA_temp
,,,PORTB_temp
,,,PORTC_temp
,,,PORTD_temp
,,,PORTE_temp
,,,
,,,
,,,timwtu
,,,spinac
,,,timspi
,,,timods
,,,timala
,,,x0
,,,
,,,x1
,,,x2
,,,casvar
,,,vterina
,,,      ; registr 79/96
,,,      endc
,,,
,,,; BANK 1
,,,      cblock    0x20
,,,
,,,o1tmp
,,,o2tmp
,,,o3tmp
,,,o4tmp
,,,o1tar
,,,o2tar
,,,o3tar
,,,o4tar
,,,      endc
,,,
,,,
,,,;Lokální proměne (pracovni a parametry) od 6D
,,,      cblock 0x70
,,,pri0
,,,pri1
,,,pri2
,,,pri3
,,,pri4
,,,pri5
,,,pri6
,,,pri7
,,,cil
,,,      endc
,,,
,,,      cblock 0x70
,,,CIS1_L
,,,CIS1_H
,,,CIS2_L
,,,CIS2_H
,,,OUT_L
,,,OUT_H
,,,ran1
,,,ran2
,,,ran3
,,,ran4
,,,ran5
,,,      endc
,,,
,,,      cblock 0x70
,,,A1
,,,A2
,,,A3
,,,B1
,,,B2
,,,B3
,,,C1
,,,C2
,,,C3
,,,D1
,,,D2
,,,D3
,,,X1
,,,X2
,,,FL
,,,      endc
,,,
,,,
,,,
,,,;KONSTANTY
,,,;conf constant
,,,T0OF        equ .0
,,,STARTED     equ .1
,,,WATCHOVER   equ .2
,,,PCON_POR    equ .3
,,,T1OF        equ .4
,,,;casov constant
,,,;VAROV       equ .0
,,,REDTUN      equ .1
,,,LEDZAM      equ .2
,,,WHITUN      equ .3
,,,ODSKOK      equ .4
,,,ALARM       equ .5
,,,
,,,;system constants
,,,POR         equ .1
,,,
,,,
,,,
00000000,,,            org 000h        ;vektor zacatku
00000000,2816,,            goto init
,,,
00000004,,,            org 004h        ;vektor preruseni
00000004,00A6,,            movwf w_temp ;copy w to temp register
00000005,0803,,            movf STATUS, W ;swap status to be saved into w
00000006,00A7,,            movwf s_temp ;save status to bank zero s_temp register
00000007,080A,,            movf PCLATH, W ;swap pclath to be saved into w
00000008,00A8,,            movwf pcl_temp ;save status to bank zero pclath_temp register
00000009,0183,,            clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
,,,
0000000A,118A,,            bcf PCLATH,3 ;Select page 0
0000000B,204E,,            call inter
,,,
0000000C,0828,,            movf pcl_temp, W ;swap pcl_temp register into w
0000000D,008A,,            movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
0000000E,0827,,            movf s_temp, W ;swap status_temp register into w
0000000F,0083,,            movwf STATUS ;move w into status register;(sets bank to original state)
00000010,0826,,            movf w_temp, W ;
00000011,1D27,,            btfss s_temp, Z
00000012,1103,,            bcf STATUS, Z
00000013,1927,,            btfsc s_temp, Z
00000014,1503,,            bsf STATUS, Z
00000015,0008,,            return
,,,
00000016,118A,init,init        bcf PCLATH,3 ;Select page 0
00000017,120A,,            bcf PCLATH,4 ;Select page 0
,,,
00000018,0185,,            clrf PORTA      ;Init PORTS
00000019,0186,,            clrf PORTB
0000001A,0187,,            clrf PORTC
0000001B,0188,,            clrf PORTD
0000001C,0189,,            clrf PORTE
,,,
0000001D,1683,,            bsf STATUS, RP0  ;Bank 1
,,,
0000001E,3049,,            movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
0000001F,009F,,            movwf ADCON1
,,,
00000020,302F,,            movlw b'00101111'; 1 znamená vstup, 0 výstup
00000021,0085,,            movwf TRISA
00000022,3001,,            movlw b'00000001'
00000023,0086,,            movwf TRISB
00000024,3000,,            movlw b'00000000'
00000025,0087,,            movwf TRISC
00000026,3000,,            movlw b'00000000'
00000027,0088,,            movwf TRISD
00000028,3001,,            movlw b'00000001'
00000029,0089,,            movwf TRISE
,,,
0000002A,0064,,            clrwdt
0000002B,30CC,,            movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
0000002C,0081,,            movwf OPTION_REG
,,,
0000002D,080E,,            movf PCON, W
0000002E,148E,,            bsf PCON, POR
,,,
0000002F,1283,,            bcf STATUS, RP0 ;Bank 0
,,,
00000030,00A0,,            movwf r1
00000031,11D9,,            bcf conf, PCON_POR
00000032,18A0,,            btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
00000033,15D9,,            bsf conf, PCON_POR
,,,
,,,
00000034,3021,,            movlw b'00100001' ; nastaví control register timer1
00000035,0090,,            movwf T1CON
00000036,3046,,            movlw b'01000110' ; nastaví control register timer2
00000037,0092,,            movwf T2CON
,,,
00000038,203D,,            call inton
,,,
,,,
00000039,158A,,            bsf PCLATH,3 ;Select page 1
0000003A,19D9,,            btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
0000003B,2800,,            goto restart
,,,
0000003C,2827,,            goto start      ;zacni na startu
,,,
,,,
,,,
,,,
0000003D,108B,inton,inton       bcf INTCON, INTF ; nastavení přerušení od RB0
0000003E,160B,,            bsf INTCON, INTE
,,,            ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
,,,            ;bsf INTCON, T0IE
0000003F,100C,,            bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
00000040,108C,,            bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
00000041,1683,,            bsf STATUS, RP0  ;Bank 1
00000042,140C,,            bsf PIE1, TMR1IE
00000043,148C,,            bsf PIE1, TMR2IE
00000044,1283,,            bcf STATUS, RP0 ;Bank 0
00000045,170B,,            bsf INTCON, PEIE
00000046,178B,,            bsf INTCON, GIE
00000047,0008,,            return
,,,
00000048,120B,intoff,intoff      bcf INTCON, INTE
,,,            ;bcf INTCON, T0IE
00000049,1683,,            bsf STATUS, RP0  ;Bank 1
0000004A,100C,,            bcf PIE1, TMR1IE
0000004B,108C,,            bcf PIE1, TMR2IE
0000004C,1283,,            bcf STATUS, RP0 ;Bank 0
0000004D,0008,,            return
,,,
,,,
,,,
0000004E,2048,inter,inter       call intoff
,,,
0000004F,188B,,            btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
00000050,2060,,            call radio
,,,            ;btfsc INTCON, T0IF
,,,            ;bsf conf, T0OF
00000051,180C,,            btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
00000052,1659,,            bsf conf, T1OF
00000053,188C,,            btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
00000054,2057,,            call watchover
,,,
00000055,203D,,            call inton
00000056,0008,,            return
,,,
,,,;pokud přetekl timer2 pro watch
00000057,1559,watchover,watchover   bsf conf, WATCHOVER
00000058,0008,,            return
,,,
,,,;Zapnutí stopek pro kontrolu zacyklení - timer2
00000059,1159,watchstart,watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
0000005A,0191,,            clrf TMR2 ;vynuluje timer2
0000005B,0008,,            return
,,,
0000005C,1D59,watchwait,watchwait   btfss conf, WATCHOVER
0000005D,285C,,            goto $-1
,,,            ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
0000005E,26CF,,            call w100c
0000005F,0008,,            return
,,,
,,,;při zachyceni signalu na radiovem přijímači
00000060,0000,radio,radio       nop
00000061,0008,,            return
,,,
,,,;timer0     nop
,,,
,,,            ;bcf conf, T0OF
,,,            ;return
,,,
,,,;při přetečení timeru 1, až po fázi synchronizace procesorů
00000062,1858,timer1,timer1      btfsc cassir, 0
00000063,20A5,,            call sirbeep
00000064,186B,,            btfsc casvar, 0
00000065,20AE,,            call varoff
00000066,18DA,,            btfsc casov, REDTUN
00000067,20D9,,            call rtuoff
00000068,195A,,            btfsc casov, LEDZAM
00000069,20EA,,            call lzabli
0000006A,19DA,,            btfsc casov, WHITUN
0000006B,20F1,,            call wtuoff
0000006C,1A5A,,            btfsc casov, ODSKOK
0000006D,2107,,            call odsoff
0000006E,1ADA,,            btfsc casov, ALARM
0000006F,2140,,            call alabli
00000070,1964,,            btfsc spinac, 2
00000071,2102,,            call spioff
,,,
00000072,03EC,,            decf vterina, F
00000073,1903,,            btfsc STATUS, Z
00000074,2077,,            call vterinka
,,,
00000075,1259,,            bcf conf, T1OF
00000076,0008,,            return
,,,
00000077,0000,vterinka,vterinka    nop
,,,
,,,;Ledky blikajici kdyz je PC zaply
00000078,082F,ledPCRun,ledPCRun    movf o_g, W
00000079,00A4,,            movwf r5
0000007A,300C,,            movlw b'01100' ;port B4
0000007B,00D2,,            movwf port
0000007C,3003,,            movlw b'11' ;procesor 3
0000007D,00D3,,            movwf prc
0000007E,1AA4,,            btfsc r5, 5
0000007F,2203,,            call setout ;nastav port v prc
00000080,1AA4,,            btfsc r5, 5
00000081,162F,,            bsf o_g, 4
00000082,1EA4,,            btfss r5, 5
00000083,222A,,            call clrout ;nastav port v prc
00000084,1EA4,,            btfss r5, 5
00000085,122F,,            bcf o_g, 4
,,,
00000086,082F,,            movf o_g, W
00000087,00A4,,            movwf r5
00000088,300D,,            movlw b'01101' ;port B5
00000089,00D2,,            movwf port
0000008A,3003,,            movlw b'11' ;procesor 3
0000008B,00D3,,            movwf prc
0000008C,1E24,,            btfss r5, 4
0000008D,2203,,            call setout ;nastav port v prc
0000008E,1E24,,            btfss r5, 4
0000008F,16AF,,            bsf o_g, 5
00000090,1A24,,            btfsc r5, 4
00000091,222A,,            call clrout ;nastav port v prc
00000092,1A24,,            btfsc r5, 4
00000093,12AF,,            bcf o_g, 5
,,,
,,,            ;vypne zadni pasy po restartu
00000094,300E,,            movlw b'01110' ;port B6
00000095,00D2,,            movwf port
00000096,3003,,            movlw b'11' ;procesor 3
00000097,00D3,,            movwf prc
00000098,1B2F,,            btfsc o_g, 6
00000099,222A,,            call clrout ;nastav port v prc
0000009A,132F,,            bcf o_g, 6
,,,
0000009B,300F,,            movlw b'01111' ;port B7
0000009C,00D2,,            movwf port
0000009D,3003,,            movlw b'11' ;procesor 3
0000009E,00D3,,            movwf prc
0000009F,1BAF,,            btfsc o_g, 7
000000A0,222A,,            call clrout ;nastav port v prc
000000A1,13AF,,            bcf o_g, 7
,,,
,,,            ; nastaveni nove vterinky
000000A2,3009,,            movlw .9 ;nastavy na dalsich 240ms
000000A3,00EC,,            movwf vterina
000000A4,0008,,            return
,,,
,,,
,,,;houkani sireny v intervalech cca 240ms
000000A5,03D7,sirbeep,sirbeep     decf timsir, F
000000A6,1D03,,            btfss STATUS, Z
000000A7,0008,,            return
000000A8,1003,,            bcf STATUS, C
000000A9,0CD8,,            rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
000000AA,262F,,            call t1_53 ;neguje houkani sireny
000000AB,3003,,            movlw .3 ;nastavy na dalsich 240ms
000000AC,00D7,,            movwf timsir
000000AD,0008,,            return
,,,
,,,;blikani varovek
000000AE,03DB,varoff,varoff      decf timvar, F
000000AF,1D03,,            btfss STATUS, Z
000000B0,0008,,            return
000000B1,0CEB,,            rrf casvar, F
000000B2,1C03,,            btfss STATUS, C
000000B3,13EB,,            bcf casvar, 7
000000B4,1803,,            btfsc STATUS, C
000000B5,17EB,,            bsf casvar, 7
,,,
000000B6,01A1,,            clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
000000B7,01A2,,            clrf r3
000000B8,1A2D,,            btfsc o_e, 4
000000B9,1421,,            bsf r2, 0
000000BA,1AAD,,            btfsc o_e, 5
000000BB,1422,,            bsf r3, 0
000000BC,0821,,            movf r2, W
000000BD,05A2,,            andwf r3, F
,,,
000000BE,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000BF,122D,,            bcf o_e, 4
000000C0,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000C1,1361,,            bcf PORTD_temp, 6
000000C2,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000C3,1308,,            bcf PORTD, 6
000000C4,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000C5,12AD,,            bcf o_e, 5
000000C6,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000C7,13E1,,            bcf PORTD_temp, 7
000000C8,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000C9,1388,,            bcf PORTD, 7
,,,
000000CA,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000CB,162D,,            bsf o_e, 4
000000CC,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000CD,1761,,            bsf PORTD_temp, 6
000000CE,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000CF,1708,,            bsf PORTD, 6
000000D0,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000D1,16AD,,            bsf o_e, 5
000000D2,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000D3,17E1,,            bsf PORTD_temp, 7
000000D4,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000D5,1788,,            bsf PORTD, 7
,,,
000000D6,3008,,            movlw .8 ;nastavy na dalsich 240ms
000000D7,00DB,,            movwf timvar
000000D8,0008,,            return
,,,
,,,;vypnuti red tuning
000000D9,03DC,rtuoff,rtuoff      decf timrtu, F
000000DA,1D03,,            btfss STATUS, Z
000000DB,0008,,            return
000000DC,112B,,            bcf o_c, 2 ;vypne red tunning
000000DD,3016,,            movlw b'10110' ;port C6
000000DE,00D2,,            movwf port
000000DF,3002,,            movlw b'10' ;procesor 2
000000E0,00D3,,            movwf prc
000000E1,222A,,            call clrout ;smaz port v prc
000000E2,11AE,,            bcf o_f, 3 ;vypne red interier
000000E3,301A,,            movlw b'11010' ;port D2
000000E4,00D2,,            movwf port
000000E5,3002,,            movlw b'10' ;procesor 2
000000E6,00D3,,            movwf prc
000000E7,222A,,            call clrout ;smaz port v prc
000000E8,10DA,,            bcf casov, REDTUN ;timer red tunningu nebude vniman
000000E9,0008,,            return
,,,
,,,;blikani led zamknuto
000000EA,03DD,lzabli,lzabli      decf timlza, F
000000EB,1D03,,            btfss STATUS, Z
000000EC,0008,,            return
000000ED,26E8,,            call ledzam ;neguje led zamknuto
000000EE,300F,,            movlw .15 ;nasavy na dalsich 240ms
000000EF,00DD,,            movwf timlza
000000F0,0008,,            return
,,,
,,,;vypnuti white tuning
000000F1,03E3,wtuoff,wtuoff      decf timwtu, F
000000F2,1D03,,            btfss STATUS, Z
000000F3,0008,,            return
000000F4,11AB,,            bcf o_c, 3 ;vypne white tunning
000000F5,3017,,            movlw b'10111' ;port C7
000000F6,00D2,,            movwf port
000000F7,3002,,            movlw b'10' ;procesor 2
000000F8,00D3,,            movwf prc
000000F9,222A,,            call clrout ;smaz port v prc
000000FA,122E,,            bcf o_f, 4 ;vypne white interier
000000FB,301B,,            movlw b'11011' ;port D3
000000FC,00D2,,            movwf port
000000FD,3002,,            movlw b'10' ;procesor 2
000000FE,00D3,,            movwf prc
000000FF,222A,,            call clrout ;smaz port v prc
00000100,11DA,,            bcf casov, WHITUN ;timer red tunningu nebude vniman
00000101,0008,,            return
,,,
,,,;vypnuti polohy 3 spinacky
00000102,03E5,spioff,spioff      decf timspi, F
00000103,1D03,,            btfss STATUS, Z
00000104,0008,,            return
00000105,241D,,            call t1_03
00000106,0008,,            return
,,,
,,,;vypnuti odskoků
00000107,03E6,odsoff,odsoff      decf timods, F
00000108,1D03,,            btfss STATUS, Z
00000109,0008,,            return
0000010A,122A,,            bcf o_b, 4
0000010B,301F,,            movlw b'11111' ;port D7
0000010C,00D2,,            movwf port
0000010D,3003,,            movlw b'11' ;procesor 3
0000010E,00D3,,            movwf prc
0000010F,222A,,            call clrout ;smaz port v prc
00000110,12AA,,            bcf o_b, 5
00000111,13E0,,            bcf PORTC_temp, 7
00000112,1387,,            bcf PORTC, 7
00000113,132A,,            bcf o_b, 6
00000114,115F,,            bcf PORTB_temp, 2
00000115,1106,,            bcf PORTB, 2
00000116,13AA,,            bcf o_b, 7
00000117,11DF,,            bcf PORTB_temp, 3
00000118,1186,,            bcf PORTB, 3
00000119,11AA,,            bcf o_b, 3
0000011A,125F,,            bcf PORTB_temp, 4
0000011B,1206,,            bcf PORTB, 4
0000011C,102D,,            bcf o_e, 0
0000011D,12DF,,            bcf PORTB_temp, 5
0000011E,1286,,            bcf PORTB, 5
0000011F,102B,,            bcf o_c, 0
00000120,135F,,            bcf PORTB_temp, 6
00000121,1306,,            bcf PORTB, 6
,,,
00000122,13AD,,            bcf o_e, 7
00000123,301E,,            movlw b'11110' ;port D6
00000124,00D2,,            movwf port
00000125,3002,,            movlw b'10' ;procesor 2
00000126,00D3,,            movwf prc
00000127,222A,,            call clrout ;nastav port v prc
00000128,132D,,            bcf o_e, 6
00000129,301C,,            movlw b'11100' ;port D4
0000012A,00D2,,            movwf port
0000012B,3002,,            movlw b'10' ;procesor 2
0000012C,00D3,,            movwf prc
0000012D,222A,,            call clrout ;nastav port v prc
0000012E,12AE,,            bcf o_f, 5
0000012F,301D,,            movlw b'11101' ;port D5
00000130,00D2,,            movwf port
00000131,3002,,            movlw b'10' ;procesor 2
00000132,00D3,,            movwf prc
00000133,222A,,            call clrout ;nastav port v prc
00000134,102E,,            bcf o_f, 0
00000135,301F,,            movlw b'11111' ;port D7
00000136,00D2,,            movwf port
00000137,3002,,            movlw b'10' ;procesor 2
00000138,00D3,,            movwf prc
00000139,222A,,            call clrout ;nastav port v prc
,,,
,,,
,,,            ; vypnutí stahovani oken
0000013A,158A,,            bsf PCLATH,3 ;Select page 1
0000013B,2228,,            call o1stop
0000013C,2267,,            call o2stop
0000013D,118A,,            bcf PCLATH,3 ;Select page 0
,,,
0000013E,125A,,            bcf casov, ODSKOK ;timer odskuku nebude vniman
0000013F,0008,,            return
,,,
,,,;Problikavani alarmu
00000140,03E7,alabli,alabli      decf timala, F
00000141,1D03,,            btfss STATUS, Z
00000142,0008,,            return
,,,
00000143,25BA,,            call t1_40
00000144,25C9,,            call t1_41
00000145,267C,,            call t1_61
,,,            ;call t1_62 ;Baterie nebliká
00000146,26D9,,            call klakson
,,,
00000147,3014,,            movlw .20 ;nasavy na dalsich 240ms
00000148,00E7,,            movwf timala
00000149,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
0000014A,1486,dotaz,dotaz       bsf PORTB, 1  ;start bity XX - 10
0000014B,26CF,,            call w100c
0000014C,1086,,            bcf PORTB, 1
0000014D,26CF,,            call w100c
,,,
0000014E,0878,,            movf cil, W   ;vysila oznaceni cilového procesoru XXXX
0000014F,00A0,,            movwf r1
00000150,3004,,            movlw .4
00000151,00A1,,            movwf r2
00000152,19A0,,            btfsc r1, 3
00000153,1486,,            bsf PORTB, 1
00000154,1DA0,,            btfss r1, 3
00000155,1086,,            bcf PORTB, 1
00000156,26CF,,            call w100c
00000157,0DA0,,            rlf r1, F
00000158,0BA1,,            decfsz r2, F
00000159,2952,,            goto $-7
,,,
0000015A,3000,,            movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
0000015B,00A0,,            movwf r1
0000015C,3007,,            movlw .7
0000015D,00A1,,            movwf r2
0000015E,1B20,,            btfsc r1, 6
0000015F,1486,,            bsf PORTB, 1
00000160,1F20,,            btfss r1, 6
00000161,1086,,            bcf PORTB, 1
00000162,26CF,,            call w100c
00000163,0DA0,,            rlf r1, F
00000164,0BA1,,            decfsz r2, F
00000165,295E,,            goto $-7
,,,
00000166,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
00000167,26CF,,            call w100c
00000168,26CF,,            call w100c
00000169,26CF,,            call w100c
0000016A,1086,,            bcf PORTB, 1
0000016B,26D4,,            call w40c
,,,
0000016C,1683,,            bsf STATUS, RP0  ;Bank 1
0000016D,1486,,            bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
0000016E,1283,,            bcf STATUS, RP0  ;Bank 0
,,,
0000016F,1959,,            btfsc conf, WATCHOVER
00000170,29FF,,            goto dotazerr
00000171,1C86,,            btfss PORTB, 1  ;ceka az zacne vysilat signal
00000172,296F,,            goto $-3 ;ochrana proti zamrznuti
,,,
00000173,1959,,            btfsc conf, WATCHOVER
00000174,29FF,,            goto dotazerr
00000175,1886,,            btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
00000176,2973,,            goto $-3 ;ochrana proti zamrznuti
,,,
00000177,26D4,,            call w40c   ;posune do prostred signalu X - 0
00000178,26CF,,            call w100c
,,,
00000179,01F0,,            clrf pri0        ; ulozi priijate do pri XXXX XXXX
0000017A,3008,,            movlw .8
0000017B,00A1,,            movwf r2
0000017C,0DF0,,            rlf pri0, F
0000017D,1886,,            btfsc PORTB, 1
0000017E,1470,,            bsf pri0, 0
0000017F,1C86,,            btfss PORTB, 1
00000180,1070,,            bcf pri0, 0
00000181,26CF,,            call w100c
00000182,0BA1,,            decfsz r2, F
00000183,297C,,            goto $-7
,,,
00000184,1959,,            btfsc conf, WATCHOVER
00000185,29FF,,            goto dotazerr
00000186,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
00000187,2984,,            goto $-3 ;ochrana proti zamrznuti
00000188,26D4,,            call w40c
00000189,26CF,,            call w100c
,,,
,,,
0000018A,01F1,,            clrf pri1        ; ulozi priijate do pri XXXX XXXX
0000018B,3008,,            movlw .8
0000018C,00A1,,            movwf r2
0000018D,0DF1,,            rlf pri1, F
0000018E,1886,,            btfsc PORTB, 1
0000018F,1471,,            bsf pri1, 0
00000190,1C86,,            btfss PORTB, 1
00000191,1071,,            bcf pri1, 0
00000192,26CF,,            call w100c
00000193,0BA1,,            decfsz r2, F
00000194,298D,,            goto $-7
,,,
00000195,1959,,            btfsc conf, WATCHOVER
00000196,29FF,,            goto dotazerr
00000197,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
00000198,2995,,            goto $-3 ;ochrana proti zamrznuti
00000199,26D4,,            call w40c
0000019A,26CF,,            call w100c
,,,
,,,
0000019B,01F2,,            clrf pri2        ; ulozi priijate do pri XXXX XXXX
0000019C,3008,,            movlw .8
0000019D,00A1,,            movwf r2
0000019E,0DF2,,            rlf pri2, F
0000019F,1886,,            btfsc PORTB, 1
000001A0,1472,,            bsf pri2, 0
000001A1,1C86,,            btfss PORTB, 1
000001A2,1072,,            bcf pri2, 0
000001A3,26CF,,            call w100c
000001A4,0BA1,,            decfsz r2, F
000001A5,299E,,            goto $-7
,,,
000001A6,1959,,            btfsc conf, WATCHOVER
000001A7,29FF,,            goto dotazerr
000001A8,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001A9,29A6,,            goto $-3 ;ochrana proti zamrznuti
000001AA,26D4,,            call w40c
000001AB,26CF,,            call w100c
,,,
,,,
000001AC,01F3,,            clrf pri3        ; ulozi priijate do pri XXXX XXXX
000001AD,3008,,            movlw .8
000001AE,00A1,,            movwf r2
000001AF,0DF3,,            rlf pri3, F
000001B0,1886,,            btfsc PORTB, 1
000001B1,1473,,            bsf pri3, 0
000001B2,1C86,,            btfss PORTB, 1
000001B3,1073,,            bcf pri3, 0
000001B4,26CF,,            call w100c
000001B5,0BA1,,            decfsz r2, F
000001B6,29AF,,            goto $-7
,,,
000001B7,1959,,            btfsc conf, WATCHOVER
000001B8,29FF,,            goto dotazerr
000001B9,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001BA,29B7,,            goto $-3 ;ochrana proti zamrznuti
000001BB,26D4,,            call w40c
000001BC,26CF,,            call w100c
,,,
,,,
000001BD,01F4,,            clrf pri4        ; ulozi priijate do pri XXXX XXXX
000001BE,3008,,            movlw .8
000001BF,00A1,,            movwf r2
000001C0,0DF4,,            rlf pri4, F
000001C1,1886,,            btfsc PORTB, 1
000001C2,1474,,            bsf pri4, 0
000001C3,1C86,,            btfss PORTB, 1
000001C4,1074,,            bcf pri4, 0
000001C5,26CF,,            call w100c
000001C6,0BA1,,            decfsz r2, F
000001C7,29C0,,            goto $-7
,,,
000001C8,1959,,            btfsc conf, WATCHOVER
000001C9,29FF,,            goto dotazerr
000001CA,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001CB,29C8,,            goto $-3 ;ochrana proti zamrznuti
000001CC,26D4,,            call w40c
000001CD,26CF,,            call w100c
,,,
,,,
000001CE,01F5,,            clrf pri5        ; ulozi priijate do pri XXXX XXXX
000001CF,3008,,            movlw .8
000001D0,00A1,,            movwf r2
000001D1,0DF5,,            rlf pri5, F
000001D2,1886,,            btfsc PORTB, 1
000001D3,1475,,            bsf pri5, 0
000001D4,1C86,,            btfss PORTB, 1
000001D5,1075,,            bcf pri5, 0
000001D6,26CF,,            call w100c
000001D7,0BA1,,            decfsz r2, F
000001D8,29D1,,            goto $-7
,,,
000001D9,1959,,            btfsc conf, WATCHOVER
000001DA,29FF,,            goto dotazerr
000001DB,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001DC,29D9,,            goto $-3 ;ochrana proti zamrznuti
000001DD,26D4,,            call w40c
000001DE,26CF,,            call w100c
,,,
,,,
000001DF,01F6,,            clrf pri6        ; ulozi priijate do pri XXXX XXXX
000001E0,3008,,            movlw .8
000001E1,00A1,,            movwf r2
000001E2,0DF6,,            rlf pri6, F
000001E3,1886,,            btfsc PORTB, 1
000001E4,1476,,            bsf pri6, 0
000001E5,1C86,,            btfss PORTB, 1
000001E6,1076,,            bcf pri6, 0
000001E7,26CF,,            call w100c
000001E8,0BA1,,            decfsz r2, F
000001E9,29E2,,            goto $-7
,,,
000001EA,1959,,            btfsc conf, WATCHOVER
000001EB,29FF,,            goto dotazerr
000001EC,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001ED,29EA,,            goto $-3 ;ochrana proti zamrznuti
000001EE,26D4,,            call w40c
000001EF,26CF,,            call w100c
,,,
,,,
000001F0,01F7,,            clrf pri7        ; ulozi priijate do pri XXXX XXXX
000001F1,3008,,            movlw .8
000001F2,00A1,,            movwf r2
000001F3,0DF7,,            rlf pri7, F
000001F4,1886,,            btfsc PORTB, 1
000001F5,1477,,            bsf pri7, 0
000001F6,1C86,,            btfss PORTB, 1
000001F7,1077,,            bcf pri7, 0
000001F8,26CF,,            call w100c
000001F9,0BA1,,            decfsz r2, F
000001FA,29F3,,            goto $-7
,,,
000001FB,1959,,            btfsc conf, WATCHOVER
000001FC,29FF,,            goto dotazerr
000001FD,1886,,            btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
000001FE,29FB,,            goto $-3 ;ochrana proti zamrznuti
,,,
,,,
000001FF,1683,dotazerr,dotazerr    bsf STATUS, RP0  ;Bank 1
00000200,1086,,            bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
00000201,1283,,            bcf STATUS, RP0  ;Bank 0
00000202,0008,,            return
,,,
,,,        ; WATCH2 start
00000203,1486,setout,setout      bsf PORTB, 1  ;start bity XX - 10
00000204,26CF,,            call w100c
00000205,1086,,            bcf PORTB, 1
00000206,26CF,,            call w100c
,,,
00000207,0853,,            movf prc, W   ;vysila oznaceni cilového procesoru XXXX
00000208,00A0,,            movwf r1
00000209,3004,,            movlw .4
0000020A,00A1,,            movwf r2
0000020B,19A0,,            btfsc r1, 3
0000020C,1486,,            bsf PORTB, 1
0000020D,1DA0,,            btfss r1, 3
0000020E,1086,,            bcf PORTB, 1
0000020F,26CF,,            call w100c
00000210,0DA0,,            rlf r1, F
00000211,0BA1,,            decfsz r2, F
00000212,2A0B,,            goto $-7
,,,
00000213,1486,,            bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
00000214,26CF,,            call w100c
,,,
00000215,0852,,            movf port, W   ;vysila port ke zmene XXXXX
00000216,00A0,,            movwf r1
00000217,3005,,            movlw .5
00000218,00A1,,            movwf r2
00000219,1A20,,            btfsc r1, 4
0000021A,1486,,            bsf PORTB, 1
0000021B,1E20,,            btfss r1, 4
0000021C,1086,,            bcf PORTB, 1
0000021D,26CF,,            call w100c
0000021E,0DA0,,            rlf r1, F
0000021F,0BA1,,            decfsz r2, F
00000220,2A19,,            goto $-7
,,,
00000221,1486,,            bsf PORTB, 1  ;vysle hodnotu 1
00000222,26CF,,            call w100c
,,,
00000223,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
00000224,26CF,,            call w100c
00000225,26CF,,            call w100c
00000226,26CF,,            call w100c
00000227,1086,,            bcf PORTB, 1
00000228,26CF,,            call w100c
,,,            ; WATCH2 wait
00000229,0008,,            return
,,,
,,,      ; WATCH2 start
0000022A,1486,clrout,clrout      bsf PORTB, 1  ;start bity XX - 10
0000022B,26CF,,            call w100c
0000022C,1086,,            bcf PORTB, 1
0000022D,26CF,,            call w100c
,,,
0000022E,0853,,            movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0000022F,00A0,,            movwf r1
00000230,3004,,            movlw .4
00000231,00A1,,            movwf r2
00000232,19A0,,            btfsc r1, 3
00000233,1486,,            bsf PORTB, 1
00000234,1DA0,,            btfss r1, 3
00000235,1086,,            bcf PORTB, 1
00000236,26CF,,            call w100c
00000237,0DA0,,            rlf r1, F
00000238,0BA1,,            decfsz r2, F
00000239,2A32,,            goto $-7
,,,
0000023A,1486,,            bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0000023B,26CF,,            call w100c
,,,
0000023C,0852,,            movf port, W   ;vysila port ke zmene XXXXX
0000023D,00A0,,            movwf r1
0000023E,3005,,            movlw .5
0000023F,00A1,,            movwf r2
00000240,1A20,,            btfsc r1, 4
00000241,1486,,            bsf PORTB, 1
00000242,1E20,,            btfss r1, 4
00000243,1086,,            bcf PORTB, 1
00000244,26CF,,            call w100c
00000245,0DA0,,            rlf r1, F
00000246,0BA1,,            decfsz r2, F
00000247,2A40,,            goto $-7
,,,
00000248,1086,,            bcf PORTB, 1  ;vysle hodnotu 0
00000249,26CF,,            call w100c
,,,
0000024A,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
0000024B,26CF,,            call w100c
0000024C,26CF,,            call w100c
0000024D,26CF,,            call w100c
0000024E,1086,,            bcf PORTB, 1
0000024F,26CF,,            call w100c
,,,            ; WATCH2 wait
00000250,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,        ;podprogramy
,,,;Tlačitka funkci 1
00000251,1BAC,if_58,if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
00000252,0008,,            return
,,,
00000253,1003,,            bcf STATUS, C
00000254,0C3F,,            rrf ir_58, W
00000255,00A0,,            movwf r1
00000256,1003,,            bcf STATUS, C
00000257,0CA0,,            rrf r1, F
00000258,1003,,            bcf STATUS, C
00000259,0CA0,,            rrf r1, F
0000025A,30E0,,            movlw b'11100000'
0000025B,04A0,,            iorwf r1, F
,,,
0000025C,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
0000025D,00A3,,            movwf r4
0000025E,0854,,            movf tl1, W
0000025F,06A3,,            xorwf r4, F
00000260,1903,,            btfsc STATUS, Z
00000261,0008,,            return
00000262,0820,,            movf r1, W    ;ulozi aktualni tlacitko
00000263,00D4,,            movwf tl1
,,,
00000264,0AA0,,            incf r1, F
00000265,1903,,            btfsc STATUS, Z
00000266,2492,,            call t1_06
00000267,0AA0,,            incf r1, F
00000268,1903,,            btfsc STATUS, Z
00000269,23F5,,            call t1_02
0000026A,0AA0,,            incf r1, F
0000026B,1903,,            btfsc STATUS, Z
0000026C,241D,,            call t1_03
0000026D,0AA0,,            incf r1, F
0000026E,1903,,            btfsc STATUS, Z
0000026F,2472,,            call t1_05
00000270,0AA0,,            incf r1, F
00000271,1903,,            btfsc STATUS, Z
00000272,25E7,,            call t1_43
00000273,0AA0,,            incf r1, F
00000274,1903,,            btfsc STATUS, Z
00000275,25D8,,            call t1_42
00000276,0AA0,,            incf r1, F
00000277,1903,,            btfsc STATUS, Z
00000278,24CE,,            call t1_07
00000279,0AA0,,            incf r1, F
0000027A,1903,,            btfsc STATUS, Z
0000027B,24DC,,            call t1_08
0000027C,0AA0,,            incf r1, F
0000027D,1903,,            btfsc STATUS, Z
0000027E,250F,,            call t1_14
0000027F,0AA0,,            incf r1, F
00000280,1903,,            btfsc STATUS, Z
00000281,2516,,            call t1_15
00000282,0AA0,,            incf r1, F
00000283,1903,,            btfsc STATUS, Z
00000284,25A6,,            call t1_37
00000285,0AA0,,            incf r1, F
00000286,1903,,            btfsc STATUS, Z
00000287,24EC,,            call t1_10
00000288,0AA0,,            incf r1, F
00000289,1903,,            btfsc STATUS, Z
0000028A,24FD,,            call t1_12
0000028B,0AA0,,            incf r1, F
0000028C,1903,,            btfsc STATUS, Z
0000028D,2569,,            call t1_30
0000028E,0AA0,,            incf r1, F
0000028F,1903,,            btfsc STATUS, Z
00000290,258D,,            call t1_34
00000291,0AA0,,            incf r1, F
00000292,1903,,            btfsc STATUS, Z
00000293,2577,,            call t1_32
00000294,0AA0,,            incf r1, F
00000295,1903,,            btfsc STATUS, Z
00000296,259B,,            call t1_36
,,,            ;pokud je tlacitko prave pusteno
00000297,1003,,            bcf STATUS, C
00000298,0C3F,,            rrf ir_58, W
00000299,00A0,,            movwf r1
0000029A,0820,,            movf r1, W
0000029B,1903,,            btfsc STATUS, Z
0000029C,236A,,            call t1_stop
0000029D,0008,,            return
,,,
,,,;Tlačitka funkci 2
0000029E,1BAC,if_62,if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0000029F,0008,,            return
,,,
000002A0,1003,,            bcf STATUS, C
000002A1,0C43,,            rrf ir_62, W
000002A2,00A0,,            movwf r1
000002A3,1003,,            bcf STATUS, C
000002A4,0CA0,,            rrf r1, F
000002A5,1003,,            bcf STATUS, C
000002A6,0CA0,,            rrf r1, F
000002A7,30E0,,            movlw b'11100000'
000002A8,04A0,,            iorwf r1, F
,,,
000002A9,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
000002AA,00A3,,            movwf r4
000002AB,0855,,            movf tl2, W
000002AC,06A3,,            xorwf r4, F
000002AD,1903,,            btfsc STATUS, Z
000002AE,0008,,            return
000002AF,0820,,            movf r1, W    ;ulozi aktualni tlacitko
000002B0,00D5,,            movwf tl2
,,,
000002B1,0AA0,,            incf r1, F
000002B2,1903,,            btfsc STATUS, Z
000002B3,2443,,            call t1_04
000002B4,0AA0,,            incf r1, F
000002B5,1903,,            btfsc STATUS, Z
000002B6,2651,,            call t1_56
000002B7,0AA0,,            incf r1, F
000002B8,1903,,            btfsc STATUS, Z
000002B9,251D,,            call t1_16
000002BA,0AA0,,            incf r1, F
000002BB,1903,,            btfsc STATUS, Z
000002BC,2554,,            call t1_26
000002BD,0AA0,,            incf r1, F
000002BE,1903,,            btfsc STATUS, Z
000002BF,25F6,,            call t1_44
000002C0,0AA0,,            incf r1, F
000002C1,1903,,            btfsc STATUS, Z
000002C2,24F6,,            call t1_11
000002C3,0AA0,,            incf r1, F
000002C4,1903,,            btfsc STATUS, Z
000002C5,2506,,            call t1_13
000002C6,0AA0,,            incf r1, F
000002C7,1903,,            btfsc STATUS, Z
000002C8,263E,,            call t1_54
000002C9,0AA0,,            incf r1, F
000002CA,1903,,            btfsc STATUS, Z
000002CB,25C9,,            call t1_41
000002CC,0AA0,,            incf r1, F
000002CD,1903,,            btfsc STATUS, Z
000002CE,268B,,            call t1_62
000002CF,0AA0,,            incf r1, F
000002D0,1903,,            btfsc STATUS, Z
000002D1,25BA,,            call t1_40
000002D2,0AA0,,            incf r1, F
000002D3,1903,,            btfsc STATUS, Z
000002D4,267C,,            call t1_61
000002D5,0AA0,,            incf r1, F
000002D6,1903,,            btfsc STATUS, Z
000002D7,2570,,            call t1_31
000002D8,0AA0,,            incf r1, F
000002D9,1903,,            btfsc STATUS, Z
000002DA,2594,,            call t1_35
000002DB,0AA0,,            incf r1, F
000002DC,1903,,            btfsc STATUS, Z
000002DD,262F,,            call t1_53
000002DE,0AA0,,            incf r1, F
000002DF,1903,,            btfsc STATUS, Z
000002E0,2582,,            call t1_33
000002E1,0AA0,,            incf r1, F
000002E2,1903,,            btfsc STATUS, Z
000002E3,2671,,            call t1_60
,,,            ;pokud je tlacitko prave pusteno
000002E4,1003,,            bcf STATUS, C
000002E5,0C43,,            rrf ir_62, W
000002E6,00A0,,            movwf r1
000002E7,0820,,            movf r1, W
000002E8,1903,,            btfsc STATUS, Z
000002E9,236C,,            call t2_stop
000002EA,0008,,            return
,,,;Tlačitka imobilizeru
000002EB,0000,if_50,if_50       nop
000002EC,0008,,            return
,,,             ;pasy
000002ED,0000,if_59,if_59       nop
000002EE,0008,,            return
,,,             ;rychlost
000002EF,0000,if_60,if_60       nop
000002F0,0008,,            return
,,,             ;otáčky
000002F1,0000,if_61,if_61       nop
000002F2,0008,,            return
,,,             ;teplota in set
000002F3,0000,if_49,if_49       nop
000002F4,0008,,            return
,,,             ;alarm senzory
000002F5,0000,if_80,if_80       nop
000002F6,0008,,            return
,,,             ;baterie
000002F7,0000,if_51,if_51       nop
000002F8,0008,,            return
,,,             ;teplota in
000002F9,0000,if_52,if_52       nop
000002FA,0008,,            return
,,,             ;teplota eng
000002FB,0000,if_53,if_53       nop
000002FC,0008,,            return
,,,             ;palivo
000002FD,0000,if_54,if_54       nop
000002FE,0008,,            return
,,,             ;dveře 1
000002FF,0000,if_55,if_55       nop
00000300,0008,,            return
,,,             ;ruční brzda
00000301,0000,if_56,if_56       nop
00000302,0008,,            return
,,,             ;kvalt
00000303,0000,if_57,if_57       nop
00000304,0008,,            return
,,,             ;dveře 2
00000305,0000,if_84,if_84       nop
00000306,0008,,            return
,,,             ;dveře 3
00000307,0000,if_85,if_85       nop
00000308,0008,,            return
,,,             ;dveře 4
00000309,0000,if_86,if_86       nop
0000030A,0008,,            return
,,,             ;kapota
0000030B,0000,if_87,if_87       nop
0000030C,0008,,            return
,,,             ;kufr
0000030D,0000,if_88,if_88       nop
0000030E,0008,,            return
,,,             ;nadrz
0000030F,0000,if_89,if_89       nop
00000310,0008,,            return
,,,             ;okno 1
00000311,0000,if_90,if_90       nop
00000312,0008,,            return
,,,             ;okno 2
00000313,0000,if_91,if_91       nop
00000314,0008,,            return
,,,             ;okno 3
00000315,0000,if_92,if_92       nop
00000316,0008,,            return
,,,             ;okno 4
00000317,0000,if_93,if_93       nop
00000318,0008,,            return
,,,             ;teplota OUT
00000319,0000,if_127,if_127      nop
0000031A,0008,,            return
,,,
,,,;Tlačítka funkcí 3
0000031B,1BAC,if_128,if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0000031C,0000,,            nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
,,,
0000031D,1003,,            bcf STATUS, C
0000031E,0C50,,            rrf ir_128, W
0000031F,00A0,,            movwf r1
00000320,1003,,            bcf STATUS, C
00000321,0CA0,,            rrf r1, F
00000322,1003,,            bcf STATUS, C
00000323,0CA0,,            rrf r1, F
00000324,30E0,,            movlw b'11100000'
00000325,04A0,,            iorwf r1, F
,,,
00000326,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
00000327,00A3,,            movwf r4
00000328,0856,,            movf tl3, W
00000329,06A3,,            xorwf r4, F
0000032A,1903,,            btfsc STATUS, Z
0000032B,0008,,            return
0000032C,0820,,            movf r1, W    ;ulozi aktualni tlacitko
0000032D,00D6,,            movwf tl3
,,,
0000032E,0AA0,,            incf r1, F
0000032F,1903,,            btfsc STATUS, Z
00000330,260D,,            call t1_47
00000331,0AA0,,            incf r1, F
00000332,1903,,            btfsc STATUS, Z
00000333,0000,,            nop;call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
00000334,0AA0,,            incf r1, F
00000335,1903,,            btfsc STATUS, Z
00000336,23D4,,            call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
00000337,0AA0,,            incf r1, F
00000338,1903,,            btfsc STATUS, Z
00000339,26C8,,            call t1_x
0000033A,0AA0,,            incf r1, F
0000033B,1903,,            btfsc STATUS, Z
0000033C,26C8,,            call t1_x
0000033D,0AA0,,            incf r1, F
0000033E,1903,,            btfsc STATUS, Z
0000033F,26C8,,            call t1_x
00000340,0AA0,,            incf r1, F
00000341,1903,,            btfsc STATUS, Z
00000342,26C8,,            call t1_x
00000343,0AA0,,            incf r1, F
00000344,1903,,            btfsc STATUS, Z
00000345,26C8,,            call t1_x
00000346,0AA0,,            incf r1, F
00000347,1903,,            btfsc STATUS, Z
00000348,26C8,,            call t1_x
00000349,0AA0,,            incf r1, F
0000034A,1903,,            btfsc STATUS, Z
0000034B,26C8,,            call t1_x
0000034C,0AA0,,            incf r1, F
0000034D,1903,,            btfsc STATUS, Z
0000034E,26C8,,            call t1_x
0000034F,0AA0,,            incf r1, F
00000350,1903,,            btfsc STATUS, Z
00000351,26C8,,            call t1_x
00000352,0AA0,,            incf r1, F
00000353,1903,,            btfsc STATUS, Z
00000354,26C8,,            call t1_x
00000355,0AA0,,            incf r1, F
00000356,1903,,            btfsc STATUS, Z
00000357,26C8,,            call t1_x
00000358,0AA0,,            incf r1, F
00000359,1903,,            btfsc STATUS, Z
0000035A,26C8,,            call t1_x
0000035B,0AA0,,            incf r1, F
0000035C,1903,,            btfsc STATUS, Z
0000035D,26C8,,            call t1_x
0000035E,0AA0,,            incf r1, F
0000035F,1903,,            btfsc STATUS, Z
00000360,26C8,,            call t1_x
,,,            ;pokud je tlacitko prave pusteno
00000361,1003,,            bcf STATUS, C
00000362,0C50,,            rrf ir_128, W
00000363,00A0,,            movwf r1
00000364,0820,,            movf r1, W
00000365,1903,,            btfsc STATUS, Z
00000366,236E,,            call t3_stop
00000367,0008,,            return
,,,
,,,;předpřipravené pro rozšíření procesoru 5 a vice
00000368,0000,if_x,if_x        nop
00000369,0008,,            return
,,,
,,,;vypina holdovaci vystupy
0000036A,0000,t1_stop,t1_stop     nop
0000036B,0008,,            return
0000036C,0000,t2_stop,t2_stop     nop
0000036D,0008,,            return
0000036E,0000,t3_stop,t3_stop     nop
0000036F,0008,,            return
,,,
00000370,3010,tx_stop,tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
00000371,00D2,,            movwf port
00000372,3002,,            movlw b'10' ;procesor 2
00000373,00D3,,            movwf prc
00000374,18AC,,            btfsc o_d, 1
00000375,222A,,            call clrout ;nastav port v prc
00000376,10AC,,            bcf o_d, 1
00000377,3011,,            movlw b'10001' ;port C1
00000378,00D2,,            movwf port
00000379,3002,,            movlw b'10' ;procesor 2
0000037A,00D3,,            movwf prc
0000037B,192C,,            btfsc o_d, 2
0000037C,222A,,            call clrout ;nastav port v prc
0000037D,112C,,            bcf o_d, 2
0000037E,3012,,            movlw b'10010' ;port C2
0000037F,00D2,,            movwf port
00000380,3002,,            movlw b'10' ;procesor 2
00000381,00D3,,            movwf prc
00000382,19AC,,            btfsc o_d, 3
00000383,222A,,            call clrout ;nastav port v prc
00000384,11AC,,            bcf o_d, 3
00000385,3013,,            movlw b'10011' ;port C3
00000386,00D2,,            movwf port
00000387,3002,,            movlw b'10' ;procesor 2
00000388,00D3,,            movwf prc
00000389,1A2C,,            btfsc o_d, 4
0000038A,222A,,            call clrout ;nastav port v prc
0000038B,122C,,            bcf o_d, 4
0000038C,3014,,            movlw b'10100' ;port C4
0000038D,00D2,,            movwf port
0000038E,3002,,            movlw b'10' ;procesor 2
0000038F,00D3,,            movwf prc
00000390,1AAC,,            btfsc o_d, 5
00000391,222A,,            call clrout ;nastav port v prc
00000392,12AC,,            bcf o_d, 5
00000393,3015,,            movlw b'10101' ;port C5
00000394,00D2,,            movwf port
00000395,3002,,            movlw b'10' ;procesor 2
00000396,00D3,,            movwf prc
00000397,1B2C,,            btfsc o_d, 6
00000398,222A,,            call clrout ;nastav port v prc
00000399,132C,,            bcf o_d, 6
,,,                  ;blinkry
0000039A,122D,,            bcf o_e, 4
0000039B,1361,,            bcf PORTD_temp, 6
0000039C,1308,,            bcf PORTD, 6
0000039D,12AD,,            bcf o_e, 5
0000039E,13E1,,            bcf PORTD_temp, 7
0000039F,1388,,            bcf PORTD, 7
,,,                  ;klakson
000003A0,3019,,            movlw b'11001' ;port D1
000003A1,00D2,,            movwf port
000003A2,3003,,            movlw b'11' ;procesor 3
000003A3,00D3,,            movwf prc
000003A4,1A2B,,            btfsc o_c, 4
000003A5,222A,,            call clrout ;nastav port v prc
000003A6,122B,,            bcf o_c, 4
,,,                  ;stěrače, odstřikovače
000003A7,13AB,,            bcf o_c, 7
000003A8,11E1,,            bcf PORTD_temp, 3
000003A9,1188,,            bcf PORTD, 3
000003AA,132B,,            bcf o_c, 6
000003AB,1161,,            bcf PORTD_temp, 2
000003AC,1108,,            bcf PORTD, 2
,,,                  ;dálková světla
000003AD,102C,,            bcf o_d, 0
000003AE,1261,,            bcf PORTD_temp, 4
000003AF,1208,,            bcf PORTD, 4
000003B0,0008,,            return
,,,
,,,
,,,
,,,;zamknuti alarm on
000003B1,1BAC,t1_00,t1_00       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
000003B2,0008,,            return
,,,            ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
,,,            ;return
,,,            ;movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
,,,            ;iorwf ir_84, W
,,,            ;iorwf ir_85, W
,,,            ;iorwf ir_86, W
,,,            ;iorwf ir_87, W
,,,            ;iorwf ir_88, W
,,,            ;iorwf ir_89, W
,,,            ;movwf r6
,,,            ;btfsc r6, 7
,,,            ;nop ;MLUV "zkontrolujte vstupy do auta"
,,,            ;btfsc r6, 7
,,,            ;call t1_53 ;zapne sirenu
,,,            ;btfsc r6, 7
,,,            ;movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
,,,            ;btfsc r6, 7
,,,            ;movwf cassir
,,,            ;btfsc r6, 7
,,,            ;movlw .3
,,,            ;btfsc r6, 7
,,,            ;movwf timsir
,,,            ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
,,,            ;return
,,,
000003B3,2492,,            call t1_06 ;vypne vse
000003B4,17AC,,            bsf o_d, 7 ;zapne alarm cidla
000003B5,17DF,,            bsf PORTB_temp, 7
000003B6,1786,,            bsf PORTB, 7
,,,                  ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne,
,,,                  ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
,,,
,,,
000003B7,2472,,            call t1_05 ;zapne varovky
000003B8,301F,,            movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
000003B9,00EB,,            movwf casvar
000003BA,3008,,            movlw .8
000003BB,00DB,,            movwf timvar
,,,
,,,
000003BC,3016,,            movlw b'10110' ;port C6
000003BD,00D2,,            movwf port
000003BE,3002,,            movlw b'10' ;procesor 2
000003BF,00D3,,            movwf prc
000003C0,1D2B,,            btfss o_c, 2
000003C1,2203,,            call setout ;set port v prc
000003C2,152B,,            bsf o_c, 2 ;problikne red tunning na 1 sekundu
,,,
,,,            ;movlw b'11010' ;port D2
,,,            ;movwf port
,,,            ;movlw b'10' ;procesor 2
,,,            ;movwf prc
,,,            ;btfss o_f, 3
,,,            ;call setout ;set port v prc
,,,            ;bsf o_f, 3 ;problikne red interier na 1 sekundu
,,,
000003C3,14DA,,            bsf casov, REDTUN ;do timeru ze po 1s vypne
000003C4,3014,,            movlw .20
000003C5,00DC,,            movwf timrtu
,,,
000003C6,262F,,            call t1_53 ;zahraje sirenou na 200ms
000003C7,3001,,            movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
000003C8,00D8,,            movwf cassir
000003C9,3008,,            movlw .8
000003CA,00D7,,            movwf timsir
,,,
000003CB,13AE,,            bcf o_f, 7 ;sklopi zrcatka neboli vypne
000003CC,10E2,,            bcf PORTE_temp, 1
000003CD,1089,,            bcf PORTE, 1
,,,
000003CE,0000,,            nop ;MLUV "auto zamčeno"
000003CF,24CE,,            call t1_07 ;zamkne
,,,
000003D0,155A,,            bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
000003D1,300F,,            movlw .15
000003D2,00DD,,            movwf timlza
,,,
,,,                  ;zatahnuti okenek
,,,            ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
,,,            ;movwf o1tmp
,,,            ;movf ir_91, W
,,,            ;movwf o2tmp
,,,            ;movf ir_92, W
,,,            ;movwf o3tmp
,,,            ;movf ir_93, W
,,,            ;movwf o4tmp
,,,            ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
,,,            ;movwf o1tar
,,,            ;movwf o2tar
,,,            ;movwf o3tar
,,,            ;movwf o4tar
,,,
000003D3,0008,,            return
,,,
,,,;odemknuti alarm off
000003D4,1FAC,t1_01,t1_01       btfss o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
000003D5,0008,,            return
,,,            ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
,,,            ;return
,,,
000003D6,13AC,,            bcf o_d, 7 ;vypne alarm cidla
000003D7,13DF,,            bcf PORTB_temp, 7
000003D8,1386,,            bcf PORTB, 7
,,,                  ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
,,,                  ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
000003D9,2443,,            call t1_04
,,,
,,,
000003DA,2472,,            call t1_05 ;zapne varovky
000003DB,3007,,            movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
000003DC,00EB,,            movwf casvar
000003DD,3008,,            movlw .8
000003DE,00DB,,            movwf timvar
,,,
,,,
000003DF,3017,,            movlw b'10111' ;port C7
000003E0,00D2,,            movwf port
000003E1,3002,,            movlw b'10' ;procesor 2
000003E2,00D3,,            movwf prc
000003E3,1DAB,,            btfss o_c, 3
000003E4,2203,,            call setout ;set port v prc
000003E5,15AB,,            bsf o_c, 3 ;problikne white tunning na 1 sekundu
,,,
,,,            ;movlw b'11011' ;port D3
,,,            ;movwf port
,,,            ;movlw b'10' ;procesor 2
,,,            ;movwf prc
,,,            ;btfss o_f, 4
,,,            ;call setout ;set port v prc
,,,            ;bsf o_f, 4 ;problikne white interier na 1 sekundu
,,,
000003E6,15DA,,            bsf casov, WHITUN ;do timeru ze po 1s vypne
000003E7,3014,,            movlw .20
000003E8,00E3,,            movwf timwtu
,,,
000003E9,262F,,            call t1_53 ;zahraje sirenou na 200ms
000003EA,3007,,            movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
000003EB,00D8,,            movwf cassir
000003EC,3008,,            movlw .8
000003ED,00D7,,            movwf timsir
,,,
000003EE,17AE,,            bsf o_f, 7 ;odklopi zrcatka neboli zapne
000003EF,14E2,,            bsf PORTE_temp, 1
000003F0,1489,,            bsf PORTE, 1
,,,
000003F1,0000,,            nop ;MLUV "auto odemčeno"
000003F2,115A,,            bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
,,,
000003F3,24DC,,            call t1_08 ;odemkne
,,,
,,,                  ;stahnuti okenek
,,,            ;movf o1tmp, W
,,,            ;movwf o1tar
,,,            ;movf o2tmp, W
,,,            ;movwf o2tar
,,,            ;movf o3tmp, W
,,,            ;movwf o3tar
,,,            ;movf o4tmp, W
,,,            ;movwf o4tar
,,,
000003F4,0008,,            return
,,,
,,,;spinacka poloha up
000003F5,1964,t1_02,t1_02       btfsc spinac, 2
000003F6,0008,,            return
000003F7,1403,,            bsf STATUS, C
000003F8,0DE4,,            rlf spinac, F
,,,                  ;pokud poloha 3
000003F9,1D64,,            btfss spinac, 2
000003FA,2C10,,            goto t2_02
000003FB,1029,,            bcf o_a, 0
000003FC,1060,,            bcf PORTC_temp, 0
000003FD,1007,,            bcf PORTC, 0
000003FE,10A9,,            bcf o_a, 1
000003FF,10E0,,            bcf PORTC_temp, 1
00000400,1087,,            bcf PORTC, 1
00000401,1531,,            bsf o_i, 2
00000402,301A,,            movlw b'11010' ;port D2
00000403,00D2,,            movwf port
00000404,3003,,            movlw b'11' ;procesor 3
00000405,00D3,,            movwf prc
00000406,2203,,            call setout ;set port v prc
00000407,15B1,,            bsf o_i, 3
00000408,301B,,            movlw b'11011' ;port D3
00000409,00D2,,            movwf port
0000040A,3003,,            movlw b'11' ;procesor 3
0000040B,00D3,,            movwf prc
0000040C,2203,,            call setout ;set port v prc
0000040D,300F,,            movlw .15 ;nastavi startovani pouze max na vterinu
0000040E,00E5,,            movwf timspi
0000040F,0008,,            return
,,,            ;pokud poloha 2
00000410,1CE4,t2_02,t2_02       btfss spinac, 1
00000411,2C19,,            goto t3_02
00000412,1429,,            bsf o_a, 0
00000413,1460,,            bsf PORTC_temp, 0
00000414,1407,,            bsf PORTC, 0
00000415,1529,,            bsf o_a, 2
00000416,1560,,            bsf PORTC_temp, 2
00000417,1507,,            bsf PORTC, 2
00000418,0008,,            return
,,,            ;pokud poloha 1
00000419,14A9,t3_02,t3_02       bsf o_a, 1
0000041A,14E0,,            bsf PORTC_temp, 1
0000041B,1487,,            bsf PORTC, 1
0000041C,0008,,            return
,,,
,,,;spinacka poloha down
0000041D,1C64,t1_03,t1_03       btfss spinac, 0
0000041E,0008,,            return
0000041F,1003,,            bcf STATUS, C
00000420,0CE4,,            rrf spinac, F
,,,            ;pokud poloha 2
00000421,1CE4,,            btfss spinac, 1
00000422,2C36,,            goto t2_03
00000423,1429,,            bsf o_a, 0
00000424,1460,,            bsf PORTC_temp, 0
00000425,1407,,            bsf PORTC, 0
00000426,14A9,,            bsf o_a, 1
00000427,14E0,,            bsf PORTC_temp, 1
00000428,1487,,            bsf PORTC, 1
00000429,1131,,            bcf o_i, 2
0000042A,301A,,            movlw b'11010' ;port D2
0000042B,00D2,,            movwf port
0000042C,3003,,            movlw b'11' ;procesor 3
0000042D,00D3,,            movwf prc
0000042E,222A,,            call clrout ;set port v prc
0000042F,11B1,,            bcf o_i, 3
00000430,301B,,            movlw b'11011' ;port D3
00000431,00D2,,            movwf port
00000432,3003,,            movlw b'11' ;procesor 3
00000433,00D3,,            movwf prc
00000434,222A,,            call clrout ;set port v prc
00000435,0008,,            return
,,,            ;pokud poloha 1
00000436,1C64,t2_03,t2_03       btfss spinac, 0
00000437,2C3F,,            goto t3_03
00000438,1029,,            bcf o_a, 0
00000439,1060,,            bcf PORTC_temp, 0
0000043A,1007,,            bcf PORTC, 0
0000043B,1129,,            bcf o_a, 2
0000043C,1160,,            bcf PORTC_temp, 2
0000043D,1107,,            bcf PORTC, 2
0000043E,0008,,            return
,,,            ;pokud poloha 0
0000043F,10A9,t3_03,t3_03       bcf o_a, 1
00000440,10E0,,            bcf PORTC_temp, 1
00000441,1087,,            bcf PORTC, 1
00000442,0008,,            return
,,,
,,,;alarm stop
00000443,1EDA,t1_04,t1_04       btfss casov, ALARM
00000444,0008,,            return
00000445,3018,,            movlw b'11000' ;port D0  ;sirena
00000446,00D2,,            movwf port
00000447,3003,,            movlw b'11' ;procesor 3
00000448,00D3,,            movwf prc
00000449,18AD,,            btfsc o_e, 1
0000044A,222A,,            call clrout ;set port v prc
0000044B,10AD,,            bcf o_e, 1
,,,            ;varovky
0000044C,2472,,            call t1_05
,,,
,,,            ;stroboskop
0000044D,3019,,            movlw b'11001' ;port D1
0000044E,00D2,,            movwf port
0000044F,3002,,            movlw b'10' ;procesor 2
00000450,00D3,,            movwf prc
00000451,192D,,            btfsc o_e, 2
00000452,222A,,            call clrout ;set port v prc
00000453,112D,,            bcf o_e, 2
,,,
00000454,3016,,            movlw b'10110' ;port C6
00000455,00D2,,            movwf port
00000456,3002,,            movlw b'10' ;procesor 2
00000457,00D3,,            movwf prc
00000458,192B,,            btfsc o_c, 2
00000459,222A,,            call clrout ;set port v prc
0000045A,112B,,            bcf o_c, 2
0000045B,3017,,            movlw b'10111' ;port C7
0000045C,00D2,,            movwf port
0000045D,3002,,            movlw b'10' ;procesor 2
0000045E,00D3,,            movwf prc
0000045F,19AB,,            btfsc o_c, 3
00000460,222A,,            call clrout ;set port v prc
00000461,11AB,,            bcf o_c, 3
00000462,301A,,            movlw b'11010' ;port D2
00000463,00D2,,            movwf port
00000464,3002,,            movlw b'10' ;procesor 2
00000465,00D3,,            movwf prc
00000466,19AE,,            btfsc o_f, 3
00000467,222A,,            call clrout ;set port v prc
00000468,11AE,,            bcf o_f, 3
,,,            ;movlw b'11011' ;port D3
,,,            ;movwf port
,,,            ;movlw b'10' ;procesor 2
,,,            ;movwf prc
,,,            ;btfsc o_f, 4
,,,            ;call clrout ;set port v prc
,,,            ;bcf o_f, 4
00000469,3019,,            movlw b'11001' ;port D1
0000046A,00D2,,            movwf port
0000046B,3003,,            movlw b'11' ;procesor 3
0000046C,00D3,,            movwf prc
0000046D,1A2B,,            btfsc o_c, 4
0000046E,222A,,            call clrout ;set port v prc
0000046F,122B,,            bcf o_c, 4
,,,
00000470,12DA,,            bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
00000471,0008,,            return
,,,
,,,;varovna svetla
00000472,186B,t1_05,t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
00000473,122D,,            bcf o_e, 4
00000474,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000475,1361,,            bcf PORTD_temp, 6
00000476,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000477,1308,,            bcf PORTD, 6
00000478,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000479,12AD,,            bcf o_e, 5
0000047A,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
0000047B,13E1,,            bcf PORTD_temp, 7
0000047C,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
0000047D,1388,,            bcf PORTD, 7
,,,
0000047E,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
0000047F,162D,,            bsf o_e, 4
00000480,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000481,1761,,            bsf PORTD_temp, 6
00000482,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000483,1708,,            bsf PORTD, 6
00000484,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000485,16AD,,            bsf o_e, 5
00000486,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000487,17E1,,            bsf PORTD_temp, 7
00000488,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000489,1788,,            bsf PORTD, 7
,,,
0000048A,186B,,            btfsc casvar, 0
0000048B,3000,,            movlw b'00000000' ;nastavi do timeru ze prestane blikat porad
0000048C,1C6B,,            btfss casvar, 0
0000048D,30FF,,            movlw b'11111111' ;nastavi do timeru ze bude blikat porad
0000048E,00EB,,            movwf casvar
0000048F,3008,,            movlw .8
00000490,00DB,,            movwf timvar
,,,
00000491,0008,,            return
,,,
,,,;vypnout vse
00000492,18D9,t1_06,t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
00000493,0008,,            return
,,,            ;svetla
00000494,10AB,,            bcf o_c, 1
00000495,11E0,,            bcf PORTC_temp, 3
00000496,1187,,            bcf PORTC, 3
,,,            ;red tuning
,,,            ;white tunning
,,,            ;red interier
,,,            ;white interier
00000497,3017,,            movlw b'10111' ;port C7
00000498,00D2,,            movwf port
00000499,3002,,            movlw b'10' ;procesor 2
0000049A,00D3,,            movwf prc
0000049B,19AB,,            btfsc o_c, 3
0000049C,222A,,            call clrout ;set port v prc
0000049D,11AB,,            bcf o_c, 3
0000049E,301B,,            movlw b'11011' ;port D3
0000049F,00D2,,            movwf port
000004A0,3002,,            movlw b'10' ;procesor 2
000004A1,00D3,,            movwf prc
000004A2,1A2E,,            btfsc o_f, 4
000004A3,222A,,            call clrout ;set port v prc
000004A4,122E,,            bcf o_f, 4
000004A5,3016,,            movlw b'10110' ;port C6
000004A6,00D2,,            movwf port
000004A7,3002,,            movlw b'10' ;procesor 2
000004A8,00D3,,            movwf prc
000004A9,192B,,            btfsc o_c, 2
000004AA,222A,,            call clrout ;set port v prc
000004AB,112B,,            bcf o_c, 2
000004AC,301A,,            movlw b'11010' ;port D2
000004AD,00D2,,            movwf port
000004AE,3002,,            movlw b'10' ;procesor 2
000004AF,00D3,,            movwf prc
000004B0,19AE,,            btfsc o_f, 3
000004B1,222A,,            call clrout ;set port v prc
000004B2,11AE,,            bcf o_f, 3
,,,
,,,            ;stroboskop
000004B3,3019,,            movlw b'11001' ;port D1
000004B4,00D2,,            movwf port
000004B5,3002,,            movlw b'10' ;procesor 2
000004B6,00D3,,            movwf prc
000004B7,192D,,            btfsc o_e, 2
000004B8,222A,,            call clrout ;set port v prc
000004B9,112D,,            bcf o_e, 2
,,,            ;sirena
000004BA,3018,,            movlw b'11000' ;port D0
000004BB,00D2,,            movwf port
000004BC,3003,,            movlw b'11' ;procesor 3
000004BD,00D3,,            movwf prc
000004BE,18AD,,            btfsc o_e, 1
000004BF,222A,,            call clrout ;set port v prc
000004C0,10AD,,            bcf o_e, 1
,,,            ;parkovacky
000004C1,11AD,,            bcf o_e, 3
000004C2,12E1,,            bcf PORTD_temp, 5
000004C3,1288,,            bcf PORTD, 5
,,,            ;mlhovky zadni
000004C4,10AE,,            bcf o_f, 1
000004C5,1260,,            bcf PORTC_temp, 4
000004C6,1207,,            bcf PORTC, 4
,,,            ;mlhovky predni
000004C7,12AB,,            bcf o_c, 5
000004C8,10E1,,            bcf PORTD_temp, 1
000004C9,1088,,            bcf PORTD, 1
,,,            ;rozehrivani okenka
000004CA,112E,,            bcf o_f, 2
000004CB,12E0,,            bcf PORTC_temp, 5
000004CC,1287,,            bcf PORTC, 5
000004CD,0008,,            return
,,,
,,,;zamknuti
000004CE,1451,t1_07,t1_07       bsf locked, 0 ;nastavi registr locked
000004CF,12B0,,            bcf o_h, 5 ;vypne v regs led odemceno
000004D0,3015,,            movlw b'10101' ;port C5
000004D1,00D2,,            movwf port
000004D2,3003,,            movlw b'11' ;procesor 3
000004D3,00D3,,            movwf prc
000004D4,222A,,            call clrout ;smaz port v prc
000004D5,1730,,            bsf o_h, 6 ;zapne v regs led zamceno
000004D6,3016,,            movlw b'10110' ;port C6
000004D7,00D2,,            movwf port
000004D8,3003,,            movlw b'0011' ;procesor 3
000004D9,00D3,,            movwf prc
000004DA,2203,,            call setout ;nastav port v prc
000004DB,0008,,            return
,,,;odemknuti
000004DC,1051,t1_08,t1_08       bcf locked, 0 ;smaze registr locked
000004DD,16B0,,            bsf o_h, 5 ;zapne v regs led odemceno
000004DE,3015,,            movlw b'10101' ;port C5
000004DF,00D2,,            movwf port
000004E0,3003,,            movlw b'11' ;procesor 3
000004E1,00D3,,            movwf prc
000004E2,2203,,            call setout ;nastav port v prc
000004E3,1730,,            bsf o_h, 6 ;vypne v regs led zamceno
000004E4,3016,,            movlw b'10110' ;port C6
000004E5,00D2,,            movwf port
000004E6,3003,,            movlw b'0011' ;procesor 3
000004E7,00D3,,            movwf prc
000004E8,222A,,            call clrout ;smaz port v prc
000004E9,0008,,            return
,,,
,,,;pripraveno
000004EA,0000,t1_09,t1_09       nop
000004EB,0008,,            return
,,,
,,,;odskok dvere 1
000004EC,162A,t1_10,t1_10       bsf o_b, 4
000004ED,301F,,            movlw b'11111' ;port D7
000004EE,00D2,,            movwf port
000004EF,3003,,            movlw b'11' ;procesor 3
000004F0,00D3,,            movwf prc
000004F1,2203,,            call setout ;smaz port v prc
000004F2,165A,,            bsf casov, ODSKOK
000004F3,3008,,            movlw .8
000004F4,00E6,,            movwf timods
000004F5,0008,,            return
,,,
,,,;odskok dvere 2
000004F6,16AA,t1_11,t1_11       bsf o_b, 5
000004F7,17E0,,            bsf PORTC_temp, 7
000004F8,1787,,            bsf PORTC, 7
000004F9,165A,,            bsf casov, ODSKOK
000004FA,3008,,            movlw .8
000004FB,00E6,,            movwf timods
000004FC,0008,,            return
,,,
,,,;odskok dvere 3
000004FD,1A31,t1_12,t1_12       btfsc o_i, 4
000004FE,0008,,            return
000004FF,172A,,            bsf o_b, 6
00000500,155F,,            bsf PORTB_temp, 2
00000501,1506,,            bsf PORTB, 2
00000502,165A,,            bsf casov, ODSKOK
00000503,3008,,            movlw .8
00000504,00E6,,            movwf timods
00000505,0008,,            return
,,,
,,,;odskok dvere 4
00000506,1A31,t1_13,t1_13       btfsc o_i, 4
00000507,0008,,            return
00000508,17AA,,            bsf o_b, 7
00000509,15DF,,            bsf PORTB_temp, 3
0000050A,1586,,            bsf PORTB, 3
0000050B,165A,,            bsf casov, ODSKOK
0000050C,3008,,            movlw .8
0000050D,00E6,,            movwf timods
0000050E,0008,,            return
,,,
,,,;odskok kufr
0000050F,15AA,t1_14,t1_14       bsf o_b, 3
00000510,165F,,            bsf PORTB_temp, 4
00000511,1606,,            bsf PORTB, 4
00000512,165A,,            bsf casov, ODSKOK
00000513,3008,,            movlw .8
00000514,00E6,,            movwf timods
00000515,0008,,            return
,,,
,,,;odskok nadrz
00000516,142D,t1_15,t1_15       bsf o_e, 0
00000517,16DF,,            bsf PORTB_temp, 5
00000518,1686,,            bsf PORTB, 5
00000519,165A,,            bsf casov, ODSKOK
0000051A,3008,,            movlw .8
0000051B,00E6,,            movwf timods
0000051C,0008,,            return
,,,
,,,;odskok kapota
0000051D,142B,t1_16,t1_16       bsf o_c, 0
0000051E,175F,,            bsf PORTB_temp, 6
0000051F,1706,,            bsf PORTB, 6
00000520,165A,,            bsf casov, ODSKOK
00000521,3008,,            movlw .8
00000522,00E6,,            movwf timods
00000523,0008,,            return
,,,
,,,;pripraveno
00000524,0000,t1_17,t1_17       nop
00000525,0008,,            return
,,,;pripraveno
00000526,0000,t1_18,t1_18       nop
00000527,0008,,            return
,,,;pripraveno
00000528,0000,t1_19,t1_19       nop
00000529,0008,,            return
,,,
,,,;play pause
0000052A,14AC,t1_20,t1_20       bsf o_d, 1
0000052B,3010,,            movlw b'10000' ;port C0
0000052C,00D2,,            movwf port
0000052D,3002,,            movlw b'10' ;procesor 2
0000052E,00D3,,            movwf prc
0000052F,2203,,            call setout ;nastav port v prc
00000530,0008,,            return
,,,
,,,;stop
00000531,152C,t1_21,t1_21       bsf o_d, 2
00000532,3011,,            movlw b'10001' ;port C1
00000533,00D2,,            movwf port
00000534,3002,,            movlw b'10' ;procesor 2
00000535,00D3,,            movwf prc
00000536,2203,,            call setout ;nastav port v prc
00000537,0008,,            return
,,,
,,,;forwind
00000538,15AC,t1_22,t1_22       bsf o_d, 3
00000539,3012,,            movlw b'10010' ;port C2
0000053A,00D2,,            movwf port
0000053B,3002,,            movlw b'10' ;procesor 2
0000053C,00D3,,            movwf prc
0000053D,2203,,            call setout ;nastav port v prc
0000053E,0008,,            return
,,,
,,,;rewind
0000053F,162C,t1_23,t1_23       bsf o_d, 4
00000540,3013,,            movlw b'10011' ;port C3
00000541,00D2,,            movwf port
00000542,3002,,            movlw b'10' ;procesor 2
00000543,00D3,,            movwf prc
00000544,2203,,            call setout ;nastav port v prc
00000545,0008,,            return
,,,
,,,;volume +
00000546,16AC,t1_24,t1_24       bsf o_d, 5
00000547,3014,,            movlw b'10100' ;port C4
00000548,00D2,,            movwf port
00000549,3002,,            movlw b'10' ;procesor 2
0000054A,00D3,,            movwf prc
0000054B,2203,,            call setout ;nastav port v prc
0000054C,0008,,            return
,,,
,,,;volume -
0000054D,172C,t1_25,t1_25       bsf o_d, 6
0000054E,3015,,            movlw b'10101' ;port C5
0000054F,00D2,,            movwf port
00000550,3002,,            movlw b'10' ;procesor 2
00000551,00D3,,            movwf prc
00000552,2203,,            call setout ;nastav port v prc
00000553,0008,,            return
,,,
,,,;rozehrivani okenka
00000554,082E,t1_26,t1_26       movf o_f, W
00000555,00A4,,            movwf r5
,,,
00000556,1D24,,            btfss r5, 2
00000557,16E0,,            bsf PORTC_temp, 5
00000558,1D24,,            btfss r5, 2
00000559,1687,,            bsf PORTC, 5
0000055A,1D24,,            btfss r5, 2
0000055B,152E,,            bsf o_f, 2
,,,
0000055C,1924,,            btfsc r5, 2
0000055D,12E0,,            bcf PORTC_temp, 5
0000055E,1924,,            btfsc r5, 2
0000055F,1287,,            bcf PORTC, 5
00000560,1924,,            btfsc r5, 2
00000561,112E,,            bcf o_f, 2
00000562,0008,,            return
,,,
,,,;pripraveno
00000563,0000,t1_27,t1_27       nop
00000564,0008,,            return
,,,;pripraveno
00000565,0000,t1_28,t1_28       nop
00000566,0008,,            return
,,,;pripraveno
00000567,0000,t1_29,t1_29       nop
00000568,0008,,            return
,,,
,,,;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
00000569,158A,t1_30,t1_30       bsf PCLATH,3 ;Select page 1
0000056A,21FE,,            call o1up
0000056B,118A,,            bcf PCLATH,3 ;Select page 0
,,,            ; zapne casovac na vypnuti
0000056C,165A,,            bsf casov, ODSKOK
0000056D,3010,,            movlw .16 ; o neco déle než odskok
0000056E,00E6,,            movwf timods
0000056F,0008,,            return
,,,
,,,;okno 2 up
00000570,158A,t1_31,t1_31       bsf PCLATH,3 ;Select page 1
00000571,223D,,            call o2up
00000572,118A,,            bcf PCLATH,3 ;Select page 0
,,,            ; zapne casovac na vypnuti
00000573,165A,,            bsf casov, ODSKOK
00000574,3010,,            movlw .16 ; o neco déle než odskok
00000575,00E6,,            movwf timods
00000576,0008,,            return
,,,
,,,;okno 3 up
00000577,0008,t1_32,t1_32       return;btfsc o_i, 4
00000578,0008,,            return
00000579,0826,,            movf o3tar, W
0000057A,00A4,,            movwf r5
0000057B,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0000057C,07A4,,            addwf r5, F
0000057D,1C03,,            btfss STATUS, C
0000057E,0008,,            return
0000057F,0824,,            movf r5, W
00000580,00A6,,            movwf o3tar
00000581,0008,,            return
,,,
,,,;okno 4 up
00000582,0008,t1_33,t1_33       return;btfsc o_i, 4
00000583,0008,,            return
00000584,0827,,            movf o4tar, W
00000585,00A4,,            movwf r5
00000586,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
00000587,07A4,,            addwf r5, F
00000588,1C03,,            btfss STATUS, C
00000589,0008,,            return
0000058A,0824,,            movf r5, W
0000058B,00A7,,            movwf o4tar
0000058C,0008,,            return
,,,
,,,;okno 1 down
0000058D,158A,t1_34,t1_34       bsf PCLATH,3 ;Select page 1
0000058E,2213,,            call o1down
0000058F,118A,,            bcf PCLATH,3 ;Select page 0
,,,            ; zapne casovac na vypnuti
00000590,165A,,            bsf casov, ODSKOK
00000591,3010,,            movlw .16 ; o neco déle než odskok
00000592,00E6,,            movwf timods
00000593,0008,,            return
,,,
,,,;okno 2 down
00000594,158A,t1_35,t1_35       bsf PCLATH,3 ;Select page 1
00000595,2252,,            call o2down
00000596,118A,,            bcf PCLATH,3 ;Select page 0
,,,            ; zapne casovac na vypnuti
00000597,165A,,            bsf casov, ODSKOK
00000598,3010,,            movlw .16 ; o neco déle než odskok
00000599,00E6,,            movwf timods
0000059A,0008,,            return
,,,
,,,;okno 3 down
0000059B,0008,t1_36,t1_36       return;btfsc o_i, 4
0000059C,0008,,            return
0000059D,0826,,            movf o3tar, W
0000059E,00A4,,            movwf r5
0000059F,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
000005A0,07A4,,            addwf r5, F
000005A1,1803,,            btfsc STATUS, C
000005A2,0008,,            return
000005A3,0824,,            movf r5, W
000005A4,00A6,,            movwf o3tar
000005A5,0008,,            return
,,,
,,,;detský zámek zadních oken a dveri
000005A6,1E31,t1_37,t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
000005A7,2DAF,,            goto t2_37
000005A8,1231,,            bcf o_i, 4
000005A9,301C,,            movlw b'11100' ;port D4
000005AA,00D2,,            movwf port
000005AB,3003,,            movlw b'11' ;procesor 3
000005AC,00D3,,            movwf prc
000005AD,222A,,            call clrout ;nastav port v prc
000005AE,0008,,            return
,,,
000005AF,1631,t2_37,t2_37       bsf o_i, 4
000005B0,301C,,            movlw b'11100' ;port D4
000005B1,00D2,,            movwf port
000005B2,3003,,            movlw b'11' ;procesor 3
000005B3,00D3,,            movwf prc
000005B4,2203,,            call setout ;nastav port v prc
000005B5,0008,,            return
,,,
,,,;pripraveno
000005B6,0000,t1_38,t1_38       nop
000005B7,0008,,            return
,,,;pripraveno
000005B8,0000,t1_39,t1_39       nop
000005B9,0008,,            return
,,,
,,,;RED tuning
000005BA,3016,t1_40,t1_40       movlw b'10110' ;port C6
000005BB,00D2,,            movwf port
000005BC,3002,,            movlw b'10' ;procesor 2
000005BD,00D3,,            movwf prc
,,,
000005BE,082B,,            movf o_c, W
000005BF,00A4,,            movwf r5
,,,
000005C0,1D24,,            btfss r5, 2
000005C1,2203,,            call setout ;nastav port v prc
000005C2,1D24,,            btfss r5, 2
000005C3,152B,,            bsf o_c, 2
,,,
000005C4,1924,,            btfsc r5, 2
000005C5,222A,,            call clrout ;smaz port v prc
000005C6,1924,,            btfsc r5, 2
000005C7,112B,,            bcf o_c, 2
000005C8,0008,,            return
,,,
,,,;WHITE tunning
000005C9,3017,t1_41,t1_41       movlw b'10111' ;port C7
000005CA,00D2,,            movwf port
000005CB,3002,,            movlw b'10' ;procesor 2
000005CC,00D3,,            movwf prc
,,,
000005CD,082B,,            movf o_c, W
000005CE,00A4,,            movwf r5
,,,
000005CF,1DA4,,            btfss r5, 3
000005D0,2203,,            call setout ;nastav port v prc
000005D1,1DA4,,            btfss r5, 3
000005D2,15AB,,            bsf o_c, 3
,,,
000005D3,19A4,,            btfsc r5, 3
000005D4,222A,,            call clrout ;smaz port v prc
000005D5,19A4,,            btfsc r5, 3
000005D6,11AB,,            bcf o_c, 3
000005D7,0008,,            return
,,,
,,,;Parkovačky
000005D8,082D,t1_42,t1_42       movf o_e, W
000005D9,00A4,,            movwf r5
,,,
000005DA,1DA4,,            btfss r5, 3
000005DB,16E1,,            bsf PORTD_temp, 5
000005DC,1DA4,,            btfss r5, 3
000005DD,1688,,            bsf PORTD, 5
000005DE,1DA4,,            btfss r5, 3
000005DF,15AD,,            bsf o_e, 3
,,,
000005E0,19A4,,            btfsc r5, 3
000005E1,12E1,,            bcf PORTD_temp, 5
000005E2,19A4,,            btfsc r5, 3
000005E3,1288,,            bcf PORTD, 5
000005E4,19A4,,            btfsc r5, 3
000005E5,11AD,,            bcf o_e, 3
000005E6,0008,,            return
,,,
,,,;Světla
000005E7,082B,t1_43,t1_43       movf o_c, W
000005E8,00A4,,            movwf r5
,,,
000005E9,1CA4,,            btfss r5, 1
000005EA,15E0,,            bsf PORTC_temp, 3
000005EB,1CA4,,            btfss r5, 1
000005EC,1587,,            bsf PORTC, 3
000005ED,1CA4,,            btfss r5, 1
000005EE,14AB,,            bsf o_c, 1
,,,
000005EF,18A4,,            btfsc r5, 1
000005F0,11E0,,            bcf PORTC_temp, 3
000005F1,18A4,,            btfsc r5, 1
000005F2,1187,,            bcf PORTC, 3
000005F3,18A4,,            btfsc r5, 1
000005F4,10AB,,            bcf o_c, 1
000005F5,0008,,            return
,,,
,,,;Mlhovky zadní
000005F6,082E,t1_44,t1_44       movf o_f, W
000005F7,00A4,,            movwf r5
,,,
000005F8,1CA4,,            btfss r5, 1
000005F9,1660,,            bsf PORTC_temp, 4
000005FA,1CA4,,            btfss r5, 1
000005FB,1607,,            bsf PORTC, 4
000005FC,1CA4,,            btfss r5, 1
000005FD,14AE,,            bsf o_f, 1
,,,
000005FE,18A4,,            btfsc r5, 1
000005FF,1260,,            bcf PORTC_temp, 4
00000600,18A4,,            btfsc r5, 1
00000601,1207,,            bcf PORTC, 4
00000602,18A4,,            btfsc r5, 1
00000603,10AE,,            bcf o_f, 1
00000604,0008,,            return
,,,
,,,;Blinkr levý
00000605,162D,t1_45,t1_45       bsf o_e, 4
00000606,1761,,            bsf PORTD_temp, 6
00000607,1708,,            bsf PORTD, 6
00000608,0008,,            return
,,,
,,,;Blinkr pravý
00000609,16AD,t1_46,t1_46       bsf o_e, 5
0000060A,17E1,,            bsf PORTD_temp, 7
0000060B,1788,,            bsf PORTD, 7
0000060C,0008,,            return
,,,
,,,;Mlhovky přední
0000060D,082B,t1_47,t1_47       movf o_c, W
0000060E,00A4,,            movwf r5
,,,
0000060F,1EA4,,            btfss r5, 5
00000610,14E1,,            bsf PORTD_temp, 1
00000611,1EA4,,            btfss r5, 5
00000612,1488,,            bsf PORTD, 1
00000613,1EA4,,            btfss r5, 5
00000614,16AB,,            bsf o_c, 5
,,,
00000615,1AA4,,            btfsc r5, 5
00000616,10E1,,            bcf PORTD_temp, 1
00000617,1AA4,,            btfsc r5, 5
00000618,1088,,            bcf PORTD, 1
00000619,1AA4,,            btfsc r5, 5
0000061A,12AB,,            bcf o_c, 5
0000061B,0008,,            return
,,,
,,,;pripraveno
0000061C,0000,t1_48,t1_48       nop
0000061D,0008,,            return
,,,;pripraveno
0000061E,0000,t1_49,t1_49       nop
0000061F,0008,,            return
,,,
,,,;klakson
00000620,162B,t1_50,t1_50       bsf o_c, 4
00000621,3019,,            movlw b'11001' ;port D1
00000622,00D2,,            movwf port
00000623,3003,,            movlw b'11' ;procesor 3
00000624,00D3,,            movwf prc
00000625,2203,,            call setout ;nastav port v prc
00000626,0008,,            return
,,,
,,,;stěrače
00000627,17AB,t1_51,t1_51       bsf o_c, 7
00000628,15E1,,            bsf PORTD_temp, 3
00000629,1588,,            bsf PORTD, 3
0000062A,0008,,            return
,,,;odstřikovače
0000062B,172B,t1_52,t1_52       bsf o_c, 6
0000062C,1561,,            bsf PORTD_temp, 2
0000062D,1508,,            bsf PORTD, 2
0000062E,0008,,            return
,,,
,,,;Siréna
0000062F,3018,t1_53,t1_53       movlw b'11000' ;port D0
00000630,00D2,,            movwf port
00000631,3003,,            movlw b'11' ;procesor 3
00000632,00D3,,            movwf prc
,,,
00000633,082D,,            movf o_e, W
00000634,00A4,,            movwf r5
,,,
00000635,1CA4,,            btfss r5, 1
00000636,2203,,            call setout ;nastav port v prc
00000637,1CA4,,            btfss r5, 1
00000638,14AD,,            bsf o_e, 1
,,,
00000639,18A4,,            btfsc r5, 1
0000063A,222A,,            call clrout ;smaz port v prc
0000063B,18A4,,            btfsc r5, 1
0000063C,10AD,,            bcf o_e, 1
,,,
0000063D,0008,,            return
,,,
,,,;stroboskop
0000063E,3019,t1_54,t1_54       movlw b'11001' ;port D1
0000063F,00D2,,            movwf port
00000640,3002,,            movlw b'10' ;procesor 2
00000641,00D3,,            movwf prc
,,,
00000642,082D,,            movf o_e, W
00000643,00A4,,            movwf r5
,,,
00000644,1D24,,            btfss r5, 2
00000645,2203,,            call setout ;nastav port v prc
00000646,1D24,,            btfss r5, 2
00000647,152D,,            bsf o_e, 2
,,,
00000648,1924,,            btfsc r5, 2
00000649,222A,,            call clrout ;smaz port v prc
0000064A,1924,,            btfsc r5, 2
0000064B,112D,,            bcf o_e, 2
0000064C,0008,,            return
,,,
,,,;Dálkové světla
0000064D,142C,t1_55,t1_55       bsf o_d, 0
0000064E,1661,,            bsf PORTD_temp, 4
0000064F,1608,,            bsf PORTD, 4
00000650,0008,,            return
,,,
,,,;alarm start
00000651,3018,t1_56,t1_56       movlw b'11000' ;port D0  ;sirena
00000652,00D2,,            movwf port
00000653,3003,,            movlw b'11' ;procesor 3
00000654,00D3,,            movwf prc
00000655,1CAD,,            btfss o_e, 1
00000656,2203,,            call setout ;set port v prc
00000657,14AD,,            bsf o_e, 1
,,,            ;varovky
00000658,2472,,            call t1_05
,,,
,,,            ;stroboskop
00000659,3019,,            movlw b'11001' ;port D1
0000065A,00D2,,            movwf port
0000065B,3002,,            movlw b'10' ;procesor 2
0000065C,00D3,,            movwf prc
0000065D,1D2D,,            btfss o_e, 2
0000065E,2203,,            call setout ;set port v prc
0000065F,152D,,            bsf o_e, 2
,,,            ;red tunning
00000660,3016,,            movlw b'10110' ;port C6
00000661,00D2,,            movwf port
00000662,3002,,            movlw b'10' ;procesor 2
00000663,00D3,,            movwf prc
00000664,1D2B,,            btfss o_c, 2
00000665,2203,,            call setout ;set port v prc
00000666,152B,,            bsf o_c, 2
,,,            ;white interier
,,,            ;movlw b'11011' ;port D3
,,,            ;movwf port
,,,            ;movlw b'10' ;procesor 2
,,,            ;movwf prc
,,,            ;btfss o_f, 4
,,,            ;call setout ;set port v prc
,,,            ;bsf o_f, 4
,,,
00000667,16DA,,            bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
00000668,301E,,            movlw .30
00000669,00E7,,            movwf timala
,,,
0000066A,0008,,            return
,,,
,,,;pripraveno
0000066B,0000,t1_57,t1_57       nop
0000066C,0008,,            return
,,,
,,,;pripraveno
0000066D,0000,t1_58,t1_58       nop
0000066E,0008,,            return
,,,
,,,;pripraveno
0000066F,0000,t1_59,t1_59       nop
00000670,0008,,            return
,,,
,,,;okno 4 down
00000671,0008,t1_60,t1_60       return;btfsc o_i, 4
00000672,0008,,            return
00000673,0827,,            movf o4tar, W
00000674,00A4,,            movwf r5
00000675,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
00000676,07A4,,            addwf r5, F
00000677,1803,,            btfsc STATUS, C
00000678,0008,,            return
00000679,0824,,            movf r5, W
0000067A,00A7,,            movwf o4tar
0000067B,0008,,            return
,,,
,,,;red interiér
0000067C,301A,t1_61,t1_61       movlw b'11010' ;port D2
0000067D,00D2,,            movwf port
0000067E,3002,,            movlw b'10' ;procesor 2
0000067F,00D3,,            movwf prc
,,,
00000680,082E,,            movf o_f, W
00000681,00A4,,            movwf r5
,,,
00000682,1DA4,,            btfss r5, 3
00000683,2203,,            call setout ;nastav port v prc
00000684,1DA4,,            btfss r5, 3
00000685,15AE,,            bsf o_f, 3
,,,
00000686,19A4,,            btfsc r5, 3
00000687,222A,,            call clrout ;smaz port v prc
00000688,19A4,,            btfsc r5, 3
00000689,11AE,,            bcf o_f, 3
0000068A,0008,,            return
,,,
,,,;white interier (Baterie na budíkách)
0000068B,301B,t1_62,t1_62       movlw b'11011' ;port D3
0000068C,00D2,,            movwf port
0000068D,3002,,            movlw b'10' ;procesor 2
0000068E,00D3,,            movwf prc
,,,
0000068F,082E,,            movf o_f, W
00000690,00A4,,            movwf r5
,,,
00000691,1E24,,            btfss r5, 4
00000692,2203,,            call setout ;nastav port v prc
00000693,1E24,,            btfss r5, 4
00000694,162E,,            bsf o_f, 4
,,,
00000695,1A24,,            btfsc r5, 4
00000696,222A,,            call clrout ;smaz port v prc
00000697,1A24,,            btfsc r5, 4
00000698,122E,,            bcf o_f, 4
00000699,0008,,            return
,,,
,,,;klima on/off
0000069A,17AD,t1_63,t1_63       bsf o_e, 7
0000069B,301E,,            movlw b'11110' ;port D6
0000069C,00D2,,            movwf port
0000069D,3002,,            movlw b'10' ;procesor 2
0000069E,00D3,,            movwf prc
0000069F,2203,,            call setout ;nastav port v prc
000006A0,165A,,            bsf casov, ODSKOK
000006A1,3008,,            movlw .8
000006A2,00E6,,            movwf timods
000006A3,0008,,            return
,,,
,,,;klima teplota up
000006A4,172D,t1_64,t1_64       bsf o_e, 6
000006A5,301C,,            movlw b'11100' ;port D4
000006A6,00D2,,            movwf port
000006A7,3002,,            movlw b'10' ;procesor 2
000006A8,00D3,,            movwf prc
000006A9,2203,,            call setout ;nastav port v prc
000006AA,165A,,            bsf casov, ODSKOK
000006AB,3008,,            movlw .8
000006AC,00E6,,            movwf timods
000006AD,0008,,            return
,,,
,,,;klima teplota down
000006AE,16AE,t1_65,t1_65       bsf o_f, 5
000006AF,301D,,            movlw b'11101' ;port D5
000006B0,00D2,,            movwf port
000006B1,3002,,            movlw b'10' ;procesor 2
000006B2,00D3,,            movwf prc
000006B3,2203,,            call setout ;nastav port v prc
000006B4,165A,,            bsf casov, ODSKOK
000006B5,3008,,            movlw .8
000006B6,00E6,,            movwf timods
000006B7,0008,,            return
,,,
,,,;klima mista ventilace
000006B8,142E,t1_66,t1_66       bsf o_f, 0
000006B9,301F,,            movlw b'11111' ;port D7
000006BA,00D2,,            movwf port
000006BB,3002,,            movlw b'10' ;procesor 2
000006BC,00D3,,            movwf prc
000006BD,2203,,            call setout ;nastav port v prc
000006BE,165A,,            bsf casov, ODSKOK
000006BF,3008,,            movlw .8
000006C0,00E6,,            movwf timods
000006C1,0008,,            return
,,,
,,,;pripraveno
000006C2,0000,t1_67,t1_67       nop
000006C3,0008,,            return
,,,;pripraveno
000006C4,0000,t1_68,t1_68       nop
000006C5,0008,,            return
,,,;pripraveno
000006C6,0000,t1_69,t1_69       nop
000006C7,0008,,            return
,,,
000006C8,0000,t1_x,t1_x        nop
000006C9,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
000006CA,3005,w20i,w20i        movlw .5
000006CB,00A3,,            movwf r4
000006CC,0BA3,,            decfsz r4, F
000006CD,2ECC,,            goto $-1
000006CE,0008,,            return
,,,
,,,;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
000006CF,3050,w100c,w100c       movlw .80
000006D0,00A3,,            movwf r4
000006D1,0BA3,,            decfsz r4, F
000006D2,2ED1,,            goto $-1
000006D3,0008,,            return
,,,
,,,;cekej necelou polovinu w100c
000006D4,301E,w40c,w40c        movlw .30
000006D5,00A3,,            movwf r4
000006D6,0BA3,,            decfsz r4, F
000006D7,2ED6,,            goto $-1
000006D8,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
000006D9,3019,klakson,klakson     movlw b'11001' ;port D1
000006DA,00D2,,            movwf port
000006DB,3003,,            movlw b'11' ;procesor 3
000006DC,00D3,,            movwf prc
,,,
000006DD,082B,,            movf o_c, W
000006DE,00A4,,            movwf r5
,,,
000006DF,1E24,,            btfss r5, 4
000006E0,2203,,            call setout ;nastav port v prc
000006E1,1E24,,            btfss r5, 4
000006E2,162B,,            bsf o_c, 4
,,,
000006E3,1A24,,            btfsc r5, 4
000006E4,222A,,            call clrout ;smaz port v prc
000006E5,1A24,,            btfsc r5, 4
000006E6,122B,,            bcf o_c, 4
000006E7,0008,,            return
,,,
,,,
,,,;zmeni stav LED zamceno
000006E8,3016,ledzam,ledzam      movlw b'10110' ;port C6
000006E9,00D2,,            movwf port
000006EA,3003,,            movlw b'11' ;procesor 3
000006EB,00D3,,            movwf prc
,,,
000006EC,0830,,            movf o_h, W
000006ED,00A4,,            movwf r5
,,,
000006EE,1F24,,            btfss r5, 6
000006EF,2203,,            call setout ;nastav port v prc
000006F0,1F24,,            btfss r5, 6
000006F1,1730,,            bsf o_h, 6
,,,
000006F2,1B24,,            btfsc r5, 6
000006F3,222A,,            call clrout ;smaz port v prc
000006F4,1B24,,            btfsc r5, 6
000006F5,1330,,            bcf o_h, 6
,,,
000006F6,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
00000800,,,            org 800h ;zacina druha stranka programu
00000800,118A,restart,restart     bcf PCLATH,3 ;Select page 0
,,,            ;Po restartu se obnovi stare registry PORTU
,,,
00000801,085E,,            movf PORTA_temp, W
00000802,0085,,            movwf PORTA
00000803,085F,,            movf PORTB_temp, W
00000804,0086,,            movwf PORTB
00000805,0860,,            movf PORTC_temp, W
00000806,0087,,            movwf PORTC
00000807,0861,,            movf PORTD_temp, W
00000808,0088,,            movwf PORTD
00000809,0862,,            movf PORTE_temp, W
0000080A,0089,,            movwf PORTE
,,,
,,,            ;zapne zadni pasy po restartu
0000080B,300E,,            movlw b'01110' ;port B6
0000080C,00D2,,            movwf port
0000080D,3003,,            movlw b'11' ;procesor 3
0000080E,00D3,,            movwf prc
0000080F,2203,,            call setout ;nastav port v prc
00000810,172F,,            bsf o_g, 6
,,,
00000811,300F,,            movlw b'01111' ;port B7
00000812,00D2,,            movwf port
00000813,3003,,            movlw b'11' ;procesor 3
00000814,00D3,,            movwf prc
00000815,2203,,            call setout ;nastav port v prc
00000816,17AF,,            bsf o_g, 7
,,,
,,,            ; zapne predni pasy po startu
00000817,300C,,            movlw b'01100' ;port B4
00000818,00D2,,            movwf port
00000819,3003,,            movlw b'11' ;procesor 3
0000081A,00D3,,            movwf prc
0000081B,222A,,            call clrout ;nastav port v prc
0000081C,122F,,            bcf o_g, 4
,,,
0000081D,300D,,            movlw b'01101' ;port B5
0000081E,00D2,,            movwf port
0000081F,3003,,            movlw b'11' ;procesor 3
00000820,00D3,,            movwf prc
00000821,222A,,            call clrout ;nastav port v prc
00000822,12AF,,            bcf o_g, 5
,,,
00000823,301E,,            movlw .30 ;trochu delsi vterina
00000824,00EC,,            movwf vterina
,,,
,,,
00000825,158A,,            bsf PCLATH,3 ;Select page 0
00000826,284A,,            goto loop
,,,
00000827,118A,start,start       bcf PCLATH,3 ;Select page 0
,,,
00000828,01DE,,            clrf PORTA_temp
00000829,01DF,,            clrf PORTB_temp
0000082A,01E0,,            clrf PORTC_temp
0000082B,01E1,,            clrf PORTD_temp
0000082C,01E2,,            clrf PORTE_temp
,,,
0000082D,26CF,,            call w100c
,,,
,,,            ;call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne a
,,,
,,,            ; zapne predni pasy po startu
0000082E,300C,,            movlw b'01100' ;port B4
0000082F,00D2,,            movwf port
00000830,3003,,            movlw b'11' ;procesor 3
00000831,00D3,,            movwf prc
00000832,2203,,            call setout ;nastav port v prc
00000833,162F,,            bsf o_g, 4
,,,
00000834,300D,,            movlw b'01101' ;port B5
00000835,00D2,,            movwf port
00000836,3003,,            movlw b'11' ;procesor 3
00000837,00D3,,            movwf prc
00000838,2203,,            call setout ;nastav port v prc
00000839,16AF,,            bsf o_g, 5
,,,
,,,            ;zapne zadni pasy po restartu
0000083A,300E,,            movlw b'01110' ;port B6
0000083B,00D2,,            movwf port
0000083C,3003,,            movlw b'11' ;procesor 3
0000083D,00D3,,            movwf prc
0000083E,222A,,            call clrout ;nastav port v prc
0000083F,132F,,            bcf o_g, 6
,,,
00000840,300F,,            movlw b'01111' ;port B7
00000841,00D2,,            movwf port
00000842,3003,,            movlw b'11' ;procesor 3
00000843,00D3,,            movwf prc
00000844,222A,,            call clrout ;nastav port v prc
00000845,13AF,,            bcf o_g, 7
,,,
00000846,301E,,            movlw .30
00000847,00EC,,            movwf vterina
,,,
,,,
00000848,158A,,            bsf PCLATH,3 ;Select page 0
00000849,284A,,            goto loop
,,,
0000084A,118A,loop,loop        bcf PCLATH,3 ;Select page 0
,,,
0000084B,0064,,            clrwdt
,,,
,,,            ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
0000084C,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
0000084D,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
0000084E,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
0000084F,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
00000850,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
00000851,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
00000852,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
00000853,205C,,            call watchwait
,,,
,,,
,,,
00000854,1A59,,            btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
00000855,2062,,            call timer1
,,,
00000856,158A,,            bsf PCLATH,3 ;Select page 1
,,,            ;call okna ;spouští obsluhu jednotlivých okének DEBUG
00000857,118A,,            bcf PCLATH,3 ;Select page 0
,,,
,,,
,,,
,,,
00000858,3000,,            movlw .0 ;nastavime ANx kde x je zadane cislo
00000859,00F6,,            movwf ran1
0000085A,158A,,            bsf PCLATH,3 ;Select page 1
0000085B,22FA,,            call adconv
0000085C,118A,,            bcf PCLATH,3 ;Select page 0
0000085D,0876,,            movf ran1, W
0000085E,00A0,,            movwf r1
,,,
0000085F,093F,,            comf ir_58, W
00000860,07A0,,            addwf r1, F
00000861,081E,,            movf ADRESH, W
00000862,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000863,00BF,,            movwf ir_58  ;prepise reg AN prevedenou hodnotou
00000864,0820,,            movf r1, W
00000865,118A,,            bcf PCLATH,3 ;Select page 0
00000866,1D03,,            btfss STATUS, Z
00000867,2251,,            call if_58  ;pokud zmena odesle na sbernici
,,,
,,,
00000868,3001,,            movlw .1 ;nastavime ANx kde x je zadane cislo
00000869,00F6,,            movwf ran1
0000086A,158A,,            bsf PCLATH,3 ;Select page 1
0000086B,22FA,,            call adconv
0000086C,118A,,            bcf PCLATH,3 ;Select page 0
0000086D,0876,,            movf ran1, W
0000086E,00A0,,            movwf r1
,,,
0000086F,0943,,            comf ir_62, W
00000870,07A0,,            addwf r1, F
00000871,081E,,            movf ADRESH, W
00000872,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000873,00C3,,            movwf ir_62  ;prepise reg AN prevedenou hodnotou
00000874,0820,,            movf r1, W
00000875,118A,,            bcf PCLATH,3 ;Select page 0
00000876,1D03,,            btfss STATUS, Z
00000877,229E,,            call if_62  ;pokud zmena odesle na sbernici
,,,
,,,
00000878,3002,,            movlw .2 ;nastavime ANx kde x je zadane cislo
00000879,00F6,,            movwf ran1
0000087A,158A,,            bsf PCLATH,3 ;Select page 1
0000087B,22FA,,            call adconv
0000087C,118A,,            bcf PCLATH,3 ;Select page 0
0000087D,0876,,            movf ran1, W
0000087E,00A0,,            movwf r1
,,,
0000087F,0937,,            comf ir_50, W
00000880,07A0,,            addwf r1, F
00000881,081E,,            movf ADRESH, W
00000882,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000883,00B7,,            movwf ir_50  ;prepise reg AN prevedenou hodnotou
00000884,0820,,            movf r1, W
00000885,118A,,            bcf PCLATH,3 ;Select page 0
00000886,1D03,,            btfss STATUS, Z
00000887,22EB,,            call if_50  ;pokud zmena odesle na sbernici
,,,
,,,
00000888,3003,,            movlw .3 ;nastavime ANx kde x je zadane cislo
00000889,00F6,,            movwf ran1
0000088A,158A,,            bsf PCLATH,3 ;Select page 1
0000088B,22FA,,            call adconv
0000088C,118A,,            bcf PCLATH,3 ;Select page 0
0000088D,0876,,            movf ran1, W
0000088E,00A0,,            movwf r1
,,,
0000088F,0940,,            comf ir_59, W
00000890,07A0,,            addwf r1, F
00000891,081E,,            movf ADRESH, W
00000892,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000893,00C0,,            movwf ir_59  ;prepise reg AN prevedenou hodnotou
00000894,0820,,            movf r1, W
00000895,118A,,            bcf PCLATH,3 ;Select page 0
00000896,1D03,,            btfss STATUS, Z
00000897,22ED,,            call if_59  ;pokud zmena odesle na sbernici
,,,
,,,
00000898,3004,,            movlw .4 ;nastavime ANx kde x je zadane cislo
00000899,00F6,,            movwf ran1
0000089A,158A,,            bsf PCLATH,3 ;Select page 1
0000089B,22FA,,            call adconv
0000089C,118A,,            bcf PCLATH,3 ;Select page 0
0000089D,0876,,            movf ran1, W
0000089E,00A0,,            movwf r1
,,,
0000089F,0941,,            comf ir_60, W
000008A0,07A0,,            addwf r1, F
000008A1,081E,,            movf ADRESH, W
000008A2,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008A3,00C1,,            movwf ir_60  ;prepise reg AN prevedenou hodnotou
000008A4,0820,,            movf r1, W
000008A5,118A,,            bcf PCLATH,3 ;Select page 0
000008A6,1D03,,            btfss STATUS, Z
000008A7,22EF,,            call if_60  ;pokud zmena odesle na sbernici
,,,
,,,
000008A8,3005,,            movlw .5 ;nastavime ANx kde x je zadane cislo
000008A9,00F6,,            movwf ran1
000008AA,158A,,            bsf PCLATH,3 ;Select page 1
000008AB,22FA,,            call adconv
000008AC,118A,,            bcf PCLATH,3 ;Select page 0
000008AD,0876,,            movf ran1, W
000008AE,00A0,,            movwf r1
,,,
000008AF,0942,,            comf ir_61, W
000008B0,07A0,,            addwf r1, F
000008B1,081E,,            movf ADRESH, W
000008B2,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008B3,00C2,,            movwf ir_61  ;prepise reg AN prevedenou hodnotou
000008B4,0820,,            movf r1, W
000008B5,118A,,            bcf PCLATH,3 ;Select page 0
000008B6,1D03,,            btfss STATUS, Z
000008B7,22F1,,            call if_61  ;pokud zmena odesle na sbernici
,,,
,,,
,,,
,,,
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
000008B8,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 2
000008B9,3002,,            movlw .2  ;oznaceni ciloveho procesoru
000008BA,00F8,,            movwf cil
000008BB,214A,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
000008BC,205C,,            call watchwait
,,,
000008BD,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
000008BE,00A0,,            movwf r1
000008BF,0938,,            comf ir_51, W
000008C0,07A0,,            addwf r1, F
000008C1,0870,,            movf pri0, W
000008C2,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008C3,00B8,,            movwf ir_51  ;priepise reg AN prievedenou hodnotou
000008C4,0820,,            movf r1, W
000008C5,1D03,,            btfss STATUS, Z
000008C6,22F7,,            call if_51  ;pokud zmena spusti podprig
,,,
000008C7,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
000008C8,00A0,,            movwf r1
000008C9,0939,,            comf ir_52, W
000008CA,07A0,,            addwf r1, F
000008CB,0871,,            movf pri1, W
000008CC,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008CD,00B9,,            movwf ir_52  ;priepise reg AN prievedenou hodnotou
000008CE,0820,,            movf r1, W
000008CF,1D03,,            btfss STATUS, Z
000008D0,22F9,,            call if_52  ;pokud zmena spusti podprig
,,,
,,,
000008D1,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
000008D2,00A0,,            movwf r1
000008D3,093A,,            comf ir_53, W
000008D4,07A0,,            addwf r1, F
000008D5,0872,,            movf pri2, W
000008D6,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008D7,00BA,,            movwf ir_53  ;priepise reg AN prievedenou hodnotou
000008D8,0820,,            movf r1, W
000008D9,1D03,,            btfss STATUS, Z
000008DA,22FB,,            call if_53  ;pokud zmena spusti podprig
,,,
,,,
000008DB,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
000008DC,00A0,,            movwf r1
000008DD,093B,,            comf ir_54, W
000008DE,07A0,,            addwf r1, F
000008DF,0873,,            movf pri3, W
000008E0,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008E1,00BB,,            movwf ir_54  ;priepise reg AN prievedenou hodnotou
000008E2,0820,,            movf r1, W
000008E3,1D03,,            btfss STATUS, Z
000008E4,22FD,,            call if_54  ;pokud zmena spusti podprig
,,,
,,,
000008E5,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
000008E6,00A0,,            movwf r1
000008E7,093C,,            comf ir_55, W
000008E8,07A0,,            addwf r1, F
000008E9,0874,,            movf pri4, W
000008EA,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008EB,00BC,,            movwf ir_55  ;priepise reg AN prievedenou hodnotou
000008EC,0820,,            movf r1, W
000008ED,1D03,,            btfss STATUS, Z
000008EE,22FF,,            call if_55  ;pokud zmena spusti podprig
,,,
,,,
000008EF,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
000008F0,00A0,,            movwf r1
000008F1,093D,,            comf ir_56, W
000008F2,07A0,,            addwf r1, F
000008F3,0875,,            movf pri5, W
000008F4,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008F5,00BD,,            movwf ir_56  ;priepise reg AN prievedenou hodnotou
000008F6,0820,,            movf r1, W
000008F7,1D03,,            btfss STATUS, Z
000008F8,2301,,            call if_56  ;pokud zmena spusti podprig
,,,
,,,
000008F9,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
000008FA,00A0,,            movwf r1
000008FB,093E,,            comf ir_57, W
000008FC,07A0,,            addwf r1, F
000008FD,0876,,            movf pri6, W
000008FE,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008FF,00BE,,            movwf ir_57  ;priepise reg AN prievedenou hodnotou
00000900,0820,,            movf r1, W
00000901,1D03,,            btfss STATUS, Z
00000902,2303,,            call if_57  ;pokud zmena spusti podprig
,,,
,,,
00000903,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
00000904,00A0,,            movwf r1
00000905,0936,,            comf ir_49, W
00000906,07A0,,            addwf r1, F
00000907,0877,,            movf pri7, W
00000908,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000909,00B6,,            movwf ir_49  ;priepise reg AN prievedenou hodnotou
0000090A,0820,,            movf r1, W
0000090B,1D03,,            btfss STATUS, Z
0000090C,22F3,,            call if_49  ;pokud zmena spusti podprig
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
0000090D,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 3
0000090E,3003,,            movlw .3  ;oznaceni ciloveho procesoru
0000090F,00F8,,            movwf cil
00000910,214A,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
00000911,205C,,            call watchwait
,,,
,,,
,,,
00000912,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
00000913,00A0,,            movwf r1
00000914,0944,,            comf ir_80, W
00000915,07A0,,            addwf r1, F
00000916,0870,,            movf pri0, W
00000917,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000918,00C4,,            movwf ir_80  ;priepise reg AN prievedenou hodnotou
00000919,0820,,            movf r1, W
0000091A,1D03,,            btfss STATUS, Z
0000091B,22F5,,            call if_80  ;pokud zmena spusti podprig
,,,
,,,
0000091C,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
0000091D,00A0,,            movwf r1
0000091E,0945,,            comf ir_84, W
0000091F,07A0,,            addwf r1, F
00000920,0871,,            movf pri1, W
00000921,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000922,00C5,,            movwf ir_84  ;priepise reg AN prievedenou hodnotou
00000923,0820,,            movf r1, W
00000924,1D03,,            btfss STATUS, Z
00000925,2305,,            call if_84  ;pokud zmena spusti podprig
,,,
,,,
00000926,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
00000927,00A0,,            movwf r1
00000928,0946,,            comf ir_85, W
00000929,07A0,,            addwf r1, F
0000092A,0872,,            movf pri2, W
0000092B,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000092C,00C6,,            movwf ir_85  ;priepise reg AN prievedenou hodnotou
0000092D,0820,,            movf r1, W
0000092E,1D03,,            btfss STATUS, Z
0000092F,2307,,            call if_85  ;pokud zmena spusti podprig
,,,
,,,
00000930,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
00000931,00A0,,            movwf r1
00000932,0947,,            comf ir_86, W
00000933,07A0,,            addwf r1, F
00000934,0873,,            movf pri3, W
00000935,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000936,00C7,,            movwf ir_86  ;priepise reg AN prievedenou hodnotou
00000937,0820,,            movf r1, W
00000938,1D03,,            btfss STATUS, Z
00000939,2309,,            call if_86  ;pokud zmena spusti podprig
,,,
,,,
0000093A,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
0000093B,00A0,,            movwf r1
0000093C,0948,,            comf ir_87, W
0000093D,07A0,,            addwf r1, F
0000093E,0874,,            movf pri4, W
0000093F,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000940,00C8,,            movwf ir_87  ;priepise reg AN prievedenou hodnotou
00000941,0820,,            movf r1, W
00000942,1D03,,            btfss STATUS, Z
00000943,230B,,            call if_87  ;pokud zmena spusti podprig
,,,
,,,
00000944,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
00000945,00A0,,            movwf r1
00000946,0949,,            comf ir_88, W
00000947,07A0,,            addwf r1, F
00000948,0875,,            movf pri5, W
00000949,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000094A,00C9,,            movwf ir_88  ;priepise reg AN prievedenou hodnotou
0000094B,0820,,            movf r1, W
0000094C,1D03,,            btfss STATUS, Z
0000094D,230D,,            call if_88  ;pokud zmena spusti podprig
,,,
,,,
0000094E,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
0000094F,00A0,,            movwf r1
00000950,094A,,            comf ir_89, W
00000951,07A0,,            addwf r1, F
00000952,0876,,            movf pri6, W
00000953,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000954,00CA,,            movwf ir_89  ;priepise reg AN prievedenou hodnotou
00000955,0820,,            movf r1, W
00000956,1D03,,            btfss STATUS, Z
00000957,230F,,            call if_89  ;pokud zmena spusti podprig
,,,
,,,
00000958,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
00000959,00A0,,            movwf r1
0000095A,094B,,            comf ir_90, W
0000095B,07A0,,            addwf r1, F
0000095C,0877,,            movf pri7, W
0000095D,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000095E,00CB,,            movwf ir_90  ;priepise reg AN prievedenou hodnotou
0000095F,0820,,            movf r1, W
00000960,1D03,,            btfss STATUS, Z
00000961,2311,,            call if_90  ;pokud zmena spusti podprig
,,,
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
00000962,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 4
00000963,3004,,            movlw .4  ;oznaceni ciloveho procesoru
00000964,00F8,,            movwf cil
00000965,214A,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
00000966,205C,,            call watchwait
,,,
,,,
,,,
00000967,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
00000968,00A0,,            movwf r1
00000969,094C,,            comf ir_91, W
0000096A,07A0,,            addwf r1, F
0000096B,0870,,            movf pri0, W
0000096C,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000096D,00CC,,            movwf ir_91  ;priepise reg AN prievedenou hodnotou
0000096E,0820,,            movf r1, W
0000096F,1D03,,            btfss STATUS, Z
00000970,2313,,            call if_91  ;pokud zmena spusti podprig
,,,
,,,
00000971,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
00000972,00A0,,            movwf r1
00000973,094D,,            comf ir_92, W
00000974,07A0,,            addwf r1, F
00000975,0871,,            movf pri1, W
00000976,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000977,00CD,,            movwf ir_92  ;priepise reg AN prievedenou hodnotou
00000978,0820,,            movf r1, W
00000979,1D03,,            btfss STATUS, Z
0000097A,2315,,            call if_92  ;pokud zmena spusti podprig
,,,
,,,
0000097B,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
0000097C,00A0,,            movwf r1
0000097D,094E,,            comf ir_93, W
0000097E,07A0,,            addwf r1, F
0000097F,0872,,            movf pri2, W
00000980,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000981,00CE,,            movwf ir_93  ;priepise reg AN prievedenou hodnotou
00000982,0820,,            movf r1, W
00000983,1D03,,            btfss STATUS, Z
00000984,2317,,            call if_93  ;pokud zmena spusti podprig
,,,
,,,
00000985,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
00000986,00A0,,            movwf r1
00000987,094F,,            comf ir_127, W
00000988,07A0,,            addwf r1, F
00000989,0873,,            movf pri3, W
0000098A,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000098B,00CF,,            movwf ir_127  ;priepise reg AN prievedenou hodnotou
0000098C,0820,,            movf r1, W
0000098D,1D03,,            btfss STATUS, Z
0000098E,2319,,            call if_127  ;pokud zmena spusti podprig
,,,
,,,
0000098F,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
00000990,00A0,,            movwf r1
00000991,0950,,            comf ir_128, W
00000992,07A0,,            addwf r1, F
00000993,0874,,            movf pri4, W
00000994,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000995,00D0,,            movwf ir_128  ;priepise reg AN prievedenou hodnotou
00000996,0820,,            movf r1, W
00000997,1D03,,            btfss STATUS, Z
00000998,231B,,            call if_128  ;pokud zmena spusti podprig
,,,
,,,
00000999,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
0000099A,00A0,,            movwf r1
0000099B,0935,,            comf ir_x, W
0000099C,07A0,,            addwf r1, F
0000099D,0875,,            movf pri5, W
0000099E,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000099F,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
000009A0,0820,,            movf r1, W
000009A1,1D03,,            btfss STATUS, Z
000009A2,2368,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
000009A3,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
000009A4,00A0,,            movwf r1
000009A5,0935,,            comf ir_x, W
000009A6,07A0,,            addwf r1, F
000009A7,0876,,            movf pri6, W
000009A8,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000009A9,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
000009AA,0820,,            movf r1, W
000009AB,1D03,,            btfss STATUS, Z
000009AC,2368,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
000009AD,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
000009AE,00A0,,            movwf r1
000009AF,0935,,            comf ir_x, W
000009B0,07A0,,            addwf r1, F
000009B1,0877,,            movf pri7, W
000009B2,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000009B3,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
000009B4,0820,,            movf r1, W
000009B5,1D03,,            btfss STATUS, Z
000009B6,2368,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
,,,
000009B7,158A,,            bsf PCLATH,3 ;Select page 1
000009B8,284A,,            goto loop      ;zpet v cyklu na zacatek
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
000009B9,084B,okna,okna        movf ir_90, W
000009BA,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009BB,00A0,,            movwf r1
000009BC,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009BD,0824,,            movf o1tar, W
000009BE,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009BF,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009C0,0803,,            movf STATUS, W
000009C1,00A2,,            movwf r3
000009C2,1922,,            btfsc r3, Z
000009C3,2228,,            call o1stop
000009C4,1922,,            btfsc r3, Z
000009C5,29CA,,            goto okno2
000009C6,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009C7,21FE,,            call o1up
000009C8,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009C9,2213,,            call o1down
000009CA,084C,okno2,okno2       movf ir_91, W
000009CB,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009CC,00A0,,            movwf r1
000009CD,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009CE,0825,,            movf o2tar, W
000009CF,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009D0,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009D1,0803,,            movf STATUS, W
000009D2,00A2,,            movwf r3
000009D3,1922,,            btfsc r3, Z
000009D4,2267,,            call o2stop
000009D5,1922,,            btfsc r3, Z
000009D6,29DB,,            goto okno3
000009D7,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009D8,223D,,            call o2up
000009D9,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009DA,2252,,            call o2down
000009DB,084D,okno3,okno3       movf ir_92, W
000009DC,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009DD,00A0,,            movwf r1
000009DE,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009DF,0826,,            movf o3tar, W
000009E0,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009E1,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009E2,0803,,            movf STATUS, W
000009E3,00A2,,            movwf r3
000009E4,1922,,            btfsc r3, Z
000009E5,22A6,,            call o3stop
000009E6,1922,,            btfsc r3, Z
000009E7,29EC,,            goto okno4
000009E8,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009E9,227C,,            call o3up
000009EA,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009EB,2291,,            call o3down
000009EC,084E,okno4,okno4       movf ir_93, W
000009ED,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009EE,00A0,,            movwf r1
000009EF,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009F0,0827,,            movf o4tar, W
000009F1,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009F2,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009F3,0803,,            movf STATUS, W
000009F4,00A2,,            movwf r3
000009F5,1922,,            btfsc r3, Z
000009F6,22E5,,            call o4stop
000009F7,1922,,            btfsc r3, Z
000009F8,0008,,            return
000009F9,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009FA,22BB,,            call o4up
000009FB,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009FC,22D0,,            call o4down
000009FD,0008,,            return
,,,
,,,;okno 1 nahoru, dolu, zastavit
000009FE,19A9,o1up,o1up        btfsc o_a, 3
000009FF,2A08,,            goto no1up
00000A00,301D,,            movlw b'11101' ;port D5
00000A01,00D2,,            movwf port
00000A02,3003,,            movlw b'11' ;procesor 3
00000A03,00D3,,            movwf prc
,,,
00000A04,118A,,            bcf PCLATH,3 ;Select page 0
00000A05,2203,,            call setout ;smaz port v prc
00000A06,158A,,            bsf PCLATH,3 ;Select page 1
00000A07,15A9,,            bsf o_a, 3
00000A08,1FA9,no1up,no1up       btfss o_a, 7
00000A09,0008,,            return
00000A0A,300C,,            movlw b'01100' ;port B4
00000A0B,00D2,,            movwf port
00000A0C,3002,,            movlw b'10' ;procesor 2
00000A0D,00D3,,            movwf prc
,,,
00000A0E,118A,,            bcf PCLATH,3 ;Select page 0
00000A0F,222A,,            call clrout ;smaz port v prc
00000A10,158A,,            bsf PCLATH,3 ;Select page 1
00000A11,13A9,,            bcf o_a, 7
00000A12,0008,,            return
00000A13,1DA9,o1down,o1down      btfss o_a, 3
00000A14,2A1D,,            goto no1down
00000A15,301D,,            movlw b'11101' ;port D5
00000A16,00D2,,            movwf port
00000A17,3003,,            movlw b'11' ;procesor 3
00000A18,00D3,,            movwf prc
,,,
00000A19,118A,,            bcf PCLATH,3 ;Select page 0
00000A1A,222A,,            call clrout ;smaz port v prc
00000A1B,158A,,            bsf PCLATH,3 ;Select page 1
00000A1C,11A9,,            bcf o_a, 3
00000A1D,1BA9,no1down,no1down     btfsc o_a, 7
00000A1E,0008,,            return
00000A1F,300C,,            movlw b'01100' ;port B4
00000A20,00D2,,            movwf port
00000A21,3002,,            movlw b'10' ;procesor 2
00000A22,00D3,,            movwf prc
,,,
00000A23,118A,,            bcf PCLATH,3 ;Select page 1
00000A24,2203,,            call setout ;smaz port v prc
00000A25,158A,,            bsf PCLATH,3 ;Select page 1
00000A26,17A9,,            bsf o_a, 7
00000A27,0008,,            return
00000A28,1DA9,o1stop,o1stop      btfss o_a, 3
00000A29,2A32,,            goto no1stop
00000A2A,301D,,            movlw b'11101' ;port D5
00000A2B,00D2,,            movwf port
00000A2C,3003,,            movlw b'11' ;procesor 3
00000A2D,00D3,,            movwf prc
,,,
00000A2E,118A,,            bcf PCLATH,3 ;Select page 1
00000A2F,222A,,            call clrout ;smaz port v prc
00000A30,158A,,            bsf PCLATH,3 ;Select page 1
00000A31,11A9,,            bcf o_a, 3
00000A32,1FA9,no1stop,no1stop     btfss o_a, 7
00000A33,0008,,            return
00000A34,300C,,            movlw b'01100' ;port B4
00000A35,00D2,,            movwf port
00000A36,3002,,            movlw b'10' ;procesor 2
00000A37,00D3,,            movwf prc
,,,
00000A38,118A,,            bcf PCLATH,3 ;Select page 1
00000A39,222A,,            call clrout ;smaz port v prc
00000A3A,158A,,            bsf PCLATH,3 ;Select page 1
00000A3B,13A9,,            bcf o_a, 7
00000A3C,0008,,            return
,,,;okno 2 nahoru, dolu, zastavit
00000A3D,1A29,o2up,o2up        btfsc o_a, 4
00000A3E,2A47,,            goto no2up
00000A3F,3018,,            movlw b'11000' ;port D0
00000A40,00D2,,            movwf port
00000A41,3002,,            movlw b'10' ;procesor 2
00000A42,00D3,,            movwf prc
,,,
00000A43,118A,,            bcf PCLATH,3 ;Select page 1
00000A44,2203,,            call setout ;smaz port v prc
00000A45,158A,,            bsf PCLATH,3 ;Select page 1
00000A46,1629,,            bsf o_a, 4
00000A47,1C2A,no2up,no2up       btfss o_b, 0
00000A48,0008,,            return
00000A49,300D,,            movlw b'01101' ;port B5
00000A4A,00D2,,            movwf port
00000A4B,3002,,            movlw b'10' ;procesor 2
00000A4C,00D3,,            movwf prc
,,,
00000A4D,118A,,            bcf PCLATH,3 ;Select page 1
00000A4E,222A,,            call clrout ;smaz port v prc
00000A4F,158A,,            bsf PCLATH,3 ;Select page 1
00000A50,102A,,            bcf o_b, 0
00000A51,0008,,            return
00000A52,1E29,o2down,o2down      btfss o_a, 4
00000A53,2A5C,,            goto no2down
00000A54,3018,,            movlw b'11000' ;port D0
00000A55,00D2,,            movwf port
00000A56,3002,,            movlw b'10' ;procesor 2
00000A57,00D3,,            movwf prc
,,,
00000A58,118A,,            bcf PCLATH,3 ;Select page 1
00000A59,222A,,            call clrout ;smaz port v prc
00000A5A,158A,,            bsf PCLATH,3 ;Select page 1
00000A5B,1229,,            bcf o_a, 4
00000A5C,182A,no2down,no2down     btfsc o_b, 0
00000A5D,0008,,            return
00000A5E,300D,,            movlw b'01101' ;port B5
00000A5F,00D2,,            movwf port
00000A60,3002,,            movlw b'10' ;procesor 2
00000A61,00D3,,            movwf prc
,,,
00000A62,118A,,            bcf PCLATH,3 ;Select page 1
00000A63,2203,,            call setout ;smaz port v prc
00000A64,158A,,            bsf PCLATH,3 ;Select page 1
00000A65,142A,,            bsf o_b, 0
00000A66,0008,,            return
00000A67,1E29,o2stop,o2stop      btfss o_a, 4
00000A68,2A71,,            goto no2stop
00000A69,3018,,            movlw b'11000' ;port D0
00000A6A,00D2,,            movwf port
00000A6B,3002,,            movlw b'10' ;procesor 2
00000A6C,00D3,,            movwf prc
,,,
00000A6D,118A,,            bcf PCLATH,3 ;Select page 1
00000A6E,222A,,            call clrout ;smaz port v prc
00000A6F,158A,,            bsf PCLATH,3 ;Select page 1
00000A70,1229,,            bcf o_a, 4
00000A71,1C2A,no2stop,no2stop     btfss o_b, 0
00000A72,0008,,            return
00000A73,300D,,            movlw b'01101' ;port B5
00000A74,00D2,,            movwf port
00000A75,3002,,            movlw b'10' ;procesor 2
00000A76,00D3,,            movwf prc
,,,
00000A77,118A,,            bcf PCLATH,3 ;Select page 1
00000A78,222A,,            call clrout ;smaz port v prc
00000A79,158A,,            bsf PCLATH,3 ;Select page 1
00000A7A,102A,,            bcf o_b, 0
00000A7B,0008,,            return
,,,;okno 3 nahoru, dolu, zastavit
00000A7C,1AA9,o3up,o3up        btfsc o_a, 5
00000A7D,2A86,,            goto no3up
00000A7E,300A,,            movlw b'01010' ;port B2
00000A7F,00D2,,            movwf port
00000A80,3002,,            movlw b'10' ;procesor 2
00000A81,00D3,,            movwf prc
,,,
00000A82,118A,,            bcf PCLATH,3 ;Select page 1
00000A83,2203,,            call setout ;smaz port v prc
00000A84,158A,,            bsf PCLATH,3 ;Select page 1
00000A85,16A9,,            bsf o_a, 5
00000A86,1CAA,no3up,no3up       btfss o_b, 1
00000A87,0008,,            return
00000A88,300E,,            movlw b'01110' ;port B6
00000A89,00D2,,            movwf port
00000A8A,3002,,            movlw b'10' ;procesor 2
00000A8B,00D3,,            movwf prc
,,,
00000A8C,118A,,            bcf PCLATH,3 ;Select page 1
00000A8D,222A,,            call clrout ;smaz port v prc
00000A8E,158A,,            bsf PCLATH,3 ;Select page 1
00000A8F,10AA,,            bcf o_b, 1
00000A90,0008,,            return
00000A91,1EA9,o3down,o3down      btfss o_a, 5
00000A92,2A9B,,            goto no3down
00000A93,300A,,            movlw b'01010' ;port B2
00000A94,00D2,,            movwf port
00000A95,3002,,            movlw b'10' ;procesor 2
00000A96,00D3,,            movwf prc
,,,
00000A97,118A,,            bcf PCLATH,3 ;Select page 1
00000A98,222A,,            call clrout ;smaz port v prc
00000A99,158A,,            bsf PCLATH,3 ;Select page 1
00000A9A,12A9,,            bcf o_a, 5
00000A9B,18AA,no3down,no3down     btfsc o_b, 1
00000A9C,0008,,            return
00000A9D,300E,,            movlw b'01110' ;port B6
00000A9E,00D2,,            movwf port
00000A9F,3002,,            movlw b'10' ;procesor 2
00000AA0,00D3,,            movwf prc
,,,
00000AA1,118A,,            bcf PCLATH,3 ;Select page 1
00000AA2,2203,,            call setout ;smaz port v prc
00000AA3,158A,,            bsf PCLATH,3 ;Select page 1
00000AA4,14AA,,            bsf o_b, 1
00000AA5,0008,,            return
00000AA6,1EA9,o3stop,o3stop      btfss o_a, 5
00000AA7,2AB0,,            goto no3stop
00000AA8,300A,,            movlw b'01010' ;port B2
00000AA9,00D2,,            movwf port
00000AAA,3002,,            movlw b'10' ;procesor 2
00000AAB,00D3,,            movwf prc
,,,
00000AAC,118A,,            bcf PCLATH,3 ;Select page 1
00000AAD,222A,,            call clrout ;smaz port v prc
00000AAE,158A,,            bsf PCLATH,3 ;Select page 1
00000AAF,12A9,,            bcf o_a, 5
00000AB0,1CAA,no3stop,no3stop     btfss o_b, 1
00000AB1,0008,,            return
00000AB2,300E,,            movlw b'01110' ;port B6
00000AB3,00D2,,            movwf port
00000AB4,3002,,            movlw b'10' ;procesor 2
00000AB5,00D3,,            movwf prc
,,,
00000AB6,118A,,            bcf PCLATH,3 ;Select page 1
00000AB7,222A,,            call clrout ;smaz port v prc
00000AB8,158A,,            bsf PCLATH,3 ;Select page 1
00000AB9,10AA,,            bcf o_b, 1
00000ABA,0008,,            return
,,,;okno 4 nahoru, dolu, zastavit
00000ABB,1B29,o4up,o4up        btfsc o_a, 6
00000ABC,2AC5,,            goto no4up
00000ABD,300B,,            movlw b'01011' ;port B3
00000ABE,00D2,,            movwf port
00000ABF,3002,,            movlw b'10' ;procesor 2
00000AC0,00D3,,            movwf prc
,,,
00000AC1,118A,,            bcf PCLATH,3 ;Select page 1
00000AC2,2203,,            call setout ;smaz port v prc
00000AC3,158A,,            bsf PCLATH,3 ;Select page 1
00000AC4,1729,,            bsf o_a, 6
00000AC5,1D2A,no4up,no4up       btfss o_b, 2
00000AC6,0008,,            return
00000AC7,300F,,            movlw b'01111' ;port B7
00000AC8,00D2,,            movwf port
00000AC9,3002,,            movlw b'10' ;procesor 2
00000ACA,00D3,,            movwf prc
,,,
00000ACB,118A,,            bcf PCLATH,3 ;Select page 1
00000ACC,222A,,            call clrout ;smaz port v prc
00000ACD,158A,,            bsf PCLATH,3 ;Select page 1
00000ACE,112A,,            bcf o_b, 2
00000ACF,0008,,            return
00000AD0,1F29,o4down,o4down      btfss o_a, 6
00000AD1,2ADA,,            goto no4down
00000AD2,300B,,            movlw b'01011' ;port B3
00000AD3,00D2,,            movwf port
00000AD4,3002,,            movlw b'10' ;procesor 2
00000AD5,00D3,,            movwf prc
,,,
00000AD6,118A,,            bcf PCLATH,3 ;Select page 1
00000AD7,222A,,            call clrout ;smaz port v prc
00000AD8,158A,,            bsf PCLATH,3 ;Select page 1
00000AD9,1329,,            bcf o_a, 6
00000ADA,192A,no4down,no4down     btfsc o_b, 2
00000ADB,0008,,            return
00000ADC,300F,,            movlw b'01111' ;port B7
00000ADD,00D2,,            movwf port
00000ADE,3002,,            movlw b'10' ;procesor 2
00000ADF,00D3,,            movwf prc
,,,
00000AE0,118A,,            bcf PCLATH,3 ;Select page 1
00000AE1,2203,,            call setout ;smaz port v prc
00000AE2,158A,,            bsf PCLATH,3 ;Select page 1
00000AE3,152A,,            bsf o_b, 2
00000AE4,0008,,            return
00000AE5,1F29,o4stop,o4stop      btfss o_a, 6
00000AE6,2AEF,,            goto no4stop
00000AE7,300B,,            movlw b'01011' ;port B3
00000AE8,00D2,,            movwf port
00000AE9,3002,,            movlw b'10' ;procesor 2
00000AEA,00D3,,            movwf prc
,,,
00000AEB,118A,,            bcf PCLATH,3 ;Select page 1
00000AEC,222A,,            call clrout ;smaz port v prc
00000AED,158A,,            bsf PCLATH,3 ;Select page 1
00000AEE,1329,,            bcf o_a, 6
00000AEF,1D2A,no4stop,no4stop     btfss o_b, 2
00000AF0,0008,,            return
00000AF1,300F,,            movlw b'01111' ;port B7
00000AF2,00D2,,            movwf port
00000AF3,3002,,            movlw b'10' ;procesor 2
00000AF4,00D3,,            movwf prc
,,,
00000AF5,118A,,            bcf PCLATH,3 ;Select page 1
00000AF6,222A,,            call clrout ;smaz port v prc
00000AF7,158A,,            bsf PCLATH,3 ;Select page 1
00000AF8,112A,,            bcf o_b, 2
00000AF9,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
00000AFA,3032,adconv,adconv      movlw .50 ; kolikrat se ma merit vstup
00000AFB,00F7,,            movwf ran2 ; decrementator pro cykl
00000AFC,00FA,,            movwf ran5 ; delitel pro vypocet prumeru
00000AFD,0876,,            movf ran1, W
00000AFE,00F8,,            movwf ran3 ; zachováni ANx vstupu
00000AFF,01F2,,            clrf CIS2_L
00000B00,01F3,,            clrf CIS2_H
,,,
00000B01,0878,adconv2,adconv2     movf ran3, W
00000B02,00F6,,            movwf ran1 ; nasteni znova ANx vstupu
00000B03,2322,,            call adconv_one
,,,
,,,            ; pripraveni cisla 1 k pricteni
00000B04,01F1,,            clrf CIS1_H
00000B05,0876,,            movf ran1, W
00000B06,00F0,,            movwf CIS1_L
,,,
,,,            ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
,,,            ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
,,,
00000B07,0870,,                movf    CIS1_L,W        ; CIS1_L do W
00000B08,0772,,                addwf   CIS2_L,W        ; W + CIS2_L do W
00000B09,00F4,,                movwf   OUT_L           ; W do OUT_L
,,,
00000B0A,0871,,                movf    CIS1_H,W        ; CIS1_H do W
00000B0B,1803,,                btfsc   STATUS,C
00000B0C,3E01,,                addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
00000B0D,0773,,                addwf   CIS2_H,W
00000B0E,00F5,,                movwf   OUT_H           ; W do OUT_H
,,,
,,,                ; ulozi OUT do CIS2
00000B0F,0874,,            movf OUT_L, W
00000B10,00F2,,            movwf CIS2_L
00000B11,0875,,            movf OUT_H, W
00000B12,00F3,,            movwf CIS2_H
,,,
,,,
00000B13,0BF7,,            decfsz ran2, F
00000B14,2B01,,            goto adconv2
,,,
,,,            ; vydeli poctem mereni
00000B15,0872,,            movf CIS2_L, W
00000B16,00F0,,            movwf A1
00000B17,0873,,            movf CIS2_H, W
00000B18,00F1,,            movwf A2
00000B19,01F2,,            clrf A3
,,,
00000B1A,087A,,            movf ran5, W
00000B1B,00F3,,            movwf B1
00000B1C,01F4,,            clrf B2
00000B1D,01F5,,            clrf B3
,,,
00000B1E,2331,,            call LOMENO24
00000B1F,0876,,            movf C1, W
00000B20,00F6,,            movwf ran1
,,,
00000B21,0008,,            return
,,,
00000B22,1003,adconv_one,adconv_one  bcf STATUS, C
00000B23,0DF6,,            rlf ran1, F
00000B24,0DF6,,            rlf ran1, F
00000B25,0DF6,,            rlf ran1, F
,,,
,,,            ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
00000B26,13F6,,            bcf ran1, 7
00000B27,1776,,            bsf ran1, 6
,,,            ; 5
,,,            ; 4
,,,            ; 3
00000B28,1576,,            bsf ran1, 2
,,,            ; 1
00000B29,1476,,            bsf ran1, 0
,,,
00000B2A,0876,,            movf ran1, W
00000B2B,009F,,            movwf ADCON0
,,,
00000B2C,191F,,            btfsc ADCON0, 2   ;ceka nez skonci AD prevod
00000B2D,2B2C,,            goto $-1
00000B2E,081E,,            movf ADRESH, W    ;kontroluje zda je zmena od minule
00000B2F,00F6,,            movwf ran1
00000B30,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,;-------------------------------;
,,,; A1,2,3 / B1,2,3 = C1,2,3
,,,;24Bit, pouze kladna cisla
,,,;SZ=1=deleni nulou (B1,2,3=0)
,,,;B se nezmeni, v A bude zbytek
,,,;pouziva D1,2,3; X1
00000B31,,LOMENO24,LOMENO24
,,,;test B na nulu; sZ=1=ANO
00000B31,08F3,,        MOVF    B1,F
00000B32,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B33,08F4,,        MOVF    B2,F
00000B34,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B35,08F5,,        MOVF    B3,F
00000B36,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B37,0008,,        RETURN                  ;B1,2,3=0
,,,;priprava pro deleni
00000B38,0870,LOM24,LOM24   MOVF    A1,W            ;A do D
00000B39,00F9,,        MOVWF   D1              ;
00000B3A,0871,,        MOVF    A2,W            ;
00000B3B,00FA,,        MOVWF   D2              ;
00000B3C,0872,,        MOVF    A3,W            ;
00000B3D,00FB,,        MOVWF   D3              ;
00000B3E,01F0,,        CLRF    A1              ;nulovat
00000B3F,01F1,,        CLRF    A2              ;
00000B40,01F2,,        CLRF    A3              ;
00000B41,3018,,        MOVLW   24              ;pocet bitu
00000B42,00FC,,        MOVWF   X1              ;
00000B43,1003,,        BCF     STATUS,C        ;SC=0
,,,;deleni
00000B44,2356,LDalsi,LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
00000B45,1C03,,        BTFSS   STATUS,C        ;kladny vysledek?
00000B46,2B4C,,        GOTO    LZapor          ;NE
,,,;LKlad
00000B47,00F2,,        MOVWF   A3              ;C do A
00000B48,0877,,        MOVF    C2,W            ;
00000B49,00F1,,        MOVWF   A2              ;
00000B4A,0876,,        MOVF    C1,W            ;
00000B4B,00F0,,        MOVWF   A1              ;
,,,
00000B4C,0BFC,LZapor,LZapor  DECFSZ  X1,F            ;-1=0?
00000B4D,2B44,,        GOTO    LDalsi          ;jeste neni konec
,,,;vysledek
00000B4E,0D79,,        RLF     D1,W            ;posledni x2
00000B4F,00F6,,        MOVWF   C1              ; a W do C
00000B50,0D7A,,        RLF     D2,W            ;
00000B51,00F7,,        MOVWF   C2              ;
00000B52,0D7B,,        RLF     D3,W            ;
00000B53,00F8,,        MOVWF   C3              ;
,,,
00000B54,1103,,        BCF     STATUS,Z        ;SZ=0
00000B55,0008,,        RETURN
,,,
,,,
,,,;................................
,,,; D1,2,3 A1,2,3 * 2 a Minus
00000B56,0DF9,x2M,x2M     RLF     D1,F            ;posuv vlevo
00000B57,0DFA,,        RLF     D2,F            ;
00000B58,0DFB,,        RLF     D3,F            ;
00000B59,0DF0,,        RLF     A1,F            ;
00000B5A,0DF1,,        RLF     A2,F            ;
00000B5B,0DF2,,        RLF     A3,F            ;
,,,                                ;pokracuje MINUS
,,,;--------------------------------
,,,; A1,2,3 - B1,2,3 = C1,2,3
,,,;SC=0=zaporny vysledek
,,,;A,B se nezmeni
00000B5C,0873,MINUS,MINUS   MOVF    B1,W            ;W=B1
00000B5D,0270,,        SUBWF   A1,W            ;A1-B1=W
00000B5E,00F6,,        MOVWF   C1              ;C1=W=vysledek1
00000B5F,0103,,        CLRW                    ;W=0
00000B60,1C03,,        BTFSS   STATUS,C        ;SUB kladne?
00000B61,3001,,        MOVLW   1               ;W=1
00000B62,0774,,        ADDWF   B2,W            ;B2+W=W
00000B63,01F8,,        CLRF    C3              ;C3=0
00000B64,1803,,        BTFSC   STATUS,C        ;ADD nepreteklo?
00000B65,1478,,        BSF     C3,0            ;C3=1
00000B66,0271,,        SUBWF   A2,W            ;A2-W=W
00000B67,00F7,,        MOVWF   C2              ;C2=w=vysledek2
00000B68,0878,,        MOVF    C3,W            ;W=C3
00000B69,1C03,,        BTFSS   STATUS,C        ;SUB kladne?
00000B6A,3001,,        MOVLW   1               ;W=1
00000B6B,0775,,        ADDWF   B3,W            ;B3+W=W
00000B6C,01F8,,        CLRF    C3              ;C3=0
00000B6D,1803,,        BTFSC   STATUS,C        ;ADD nepreteklo?
00000B6E,1478,,        BSF     C3,0            ;C3=1
00000B6F,0272,,        SUBWF   A3,W            ;A3-W=W
00000B70,1878,,        BTFSC   C3,0            ;C3=0?
00000B71,1003,,        BCF     STATUS,C        ;SC=0
00000B72,00F8,,        MOVWF   C3              ;C3=W=vysledek3
00000B73,0008,,        RETURN
,,,
,,,
,,,        end                                           ; KONEC PROGRAMU
