,,,
,,,; CONFIG BITS: 0x3F3E
,,,
,,,      LIST        P=16F874A, R=DEC
,,,      INCLUDE     <P16F874.INC>
,,,
,,,
,,,;GLOBALNI deklarace registru
,,,      cblock    0x20
,,,r1
,,,r2
,,,r3
,,,r4
,,,r5
,,,r6
,,,
,,,w_temp
,,,s_temp
,,,pcl_temp
,,,
,,,
,,,
,,,;registry stavu
,,,o_a
,,,o_b
,,,o_c
,,,o_d
,,,o_e
,,,o_f
,,,o_g
,,,o_h
,,,o_i
,,,o_j
,,,o_k
,,,o_l
,,,
,,,ir_x
,,,ir_49
,,,ir_50
,,,ir_51
,,,ir_52
,,,ir_53
,,,ir_54
,,,ir_55
,,,ir_56
,,,ir_57
,,,ir_58
,,,ir_59
,,,ir_60
,,,ir_61
,,,ir_62
,,,ir_80
,,,ir_84
,,,ir_85
,,,ir_86
,,,ir_87
,,,ir_88
,,,ir_89
,,,ir_90
,,,ir_91
,,,ir_92
,,,ir_93
,,,ir_127
,,,ir_128
,,,
,,,locked
,,,port
,,,prc
,,,tl1
,,,tl2
,,,tl3
,,,timsir
,,,cassir
,,,conf
,,,casov
,,,timvar
,,,timrtu
,,,timlza
,,,
,,,PORTA_temp
,,,PORTB_temp
,,,PORTC_temp
,,,PORTD_temp
,,,PORTE_temp
,,,
,,,
,,,timwtu
,,,spinac
,,,timspi
,,,timods
,,,timala
,,,x0
,,,
,,,x1
,,,x2
,,,casvar
,,,vterina
,,,      ; registr 79/96
,,,      endc
,,,
,,,; BANK 1
,,,      cblock    0x20
,,,
,,,o1tmp
,,,o2tmp
,,,o3tmp
,,,o4tmp
,,,o1tar
,,,o2tar
,,,o3tar
,,,o4tar
,,,      endc
,,,
,,,
,,,;Lokální proměne (pracovni a parametry) od 6D
,,,      cblock 0x70
,,,pri0
,,,pri1
,,,pri2
,,,pri3
,,,pri4
,,,pri5
,,,pri6
,,,pri7
,,,cil
,,,      endc
,,,
,,,      cblock 0x70
,,,CIS1_L
,,,CIS1_H
,,,CIS2_L
,,,CIS2_H
,,,OUT_L
,,,OUT_H
,,,ran1
,,,ran2
,,,ran3
,,,ran4
,,,ran5
,,,      endc
,,,
,,,      cblock 0x70
,,,A1
,,,A2
,,,A3
,,,B1
,,,B2
,,,B3
,,,C1
,,,C2
,,,C3
,,,D1
,,,D2
,,,D3
,,,X1
,,,X2
,,,FL
,,,      endc
,,,
,,,
,,,
,,,;KONSTANTY
,,,;conf constant
,,,T0OF        equ .0
,,,STARTED     equ .1
,,,WATCHOVER   equ .2
,,,PCON_POR    equ .3
,,,T1OF        equ .4
,,,;casov constant
,,,;VAROV       equ .0
,,,REDTUN      equ .1
,,,LEDZAM      equ .2
,,,WHITUN      equ .3
,,,ODSKOK      equ .4
,,,ALARM       equ .5
,,,
,,,;system constants
,,,POR         equ .1
,,,
,,,
,,,
00000000,,,            org 000h        ;vektor zacatku
00000000,2816,,            goto init
,,,
00000004,,,            org 004h        ;vektor preruseni
00000004,00A6,,            movwf w_temp ;copy w to temp register
00000005,0803,,            movf STATUS, W ;swap status to be saved into w
00000006,00A7,,            movwf s_temp ;save status to bank zero s_temp register
00000007,080A,,            movf PCLATH, W ;swap pclath to be saved into w
00000008,00A8,,            movwf pcl_temp ;save status to bank zero pclath_temp register
00000009,0183,,            clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
,,,
0000000A,118A,,            bcf PCLATH,3 ;Select page 0
0000000B,204E,,            call inter
,,,
0000000C,0828,,            movf pcl_temp, W ;swap pcl_temp register into w
0000000D,008A,,            movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
0000000E,0827,,            movf s_temp, W ;swap status_temp register into w
0000000F,0083,,            movwf STATUS ;move w into status register;(sets bank to original state)
00000010,0826,,            movf w_temp, W ;
00000011,1D27,,            btfss s_temp, Z
00000012,1103,,            bcf STATUS, Z
00000013,1927,,            btfsc s_temp, Z
00000014,1503,,            bsf STATUS, Z
00000015,0008,,            return
,,,
00000016,118A,init,init        bcf PCLATH,3 ;Select page 0
00000017,120A,,            bcf PCLATH,4 ;Select page 0
,,,
00000018,0185,,            clrf PORTA      ;Init PORTS
00000019,0186,,            clrf PORTB
0000001A,0187,,            clrf PORTC
0000001B,0188,,            clrf PORTD
0000001C,0189,,            clrf PORTE
,,,
0000001D,1683,,            bsf STATUS, RP0  ;Bank 1
,,,
0000001E,3049,,            movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
0000001F,009F,,            movwf ADCON1
,,,
00000020,302F,,            movlw b'00101111'; 1 znamená vstup, 0 výstup
00000021,0085,,            movwf TRISA
00000022,3001,,            movlw b'00000001'
00000023,0086,,            movwf TRISB
00000024,3000,,            movlw b'00000000'
00000025,0087,,            movwf TRISC
00000026,3000,,            movlw b'00000000'
00000027,0088,,            movwf TRISD
00000028,3001,,            movlw b'00000001'
00000029,0089,,            movwf TRISE
,,,
0000002A,0064,,            clrwdt
0000002B,30CC,,            movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
0000002C,0081,,            movwf OPTION_REG
,,,
0000002D,080E,,            movf PCON, W
0000002E,148E,,            bsf PCON, POR
,,,
0000002F,1283,,            bcf STATUS, RP0 ;Bank 0
,,,
00000030,00A0,,            movwf r1
00000031,11D9,,            bcf conf, PCON_POR
00000032,18A0,,            btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
00000033,15D9,,            bsf conf, PCON_POR
,,,
,,,
00000034,3021,,            movlw b'00100001' ; nastaví control register timer1
00000035,0090,,            movwf T1CON
00000036,3046,,            movlw b'01000110' ; nastaví control register timer2
00000037,0092,,            movwf T2CON
,,,
00000038,203D,,            call inton
,,,
,,,
00000039,158A,,            bsf PCLATH,3 ;Select page 1
0000003A,19D9,,            btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
0000003B,2800,,            goto restart
,,,
0000003C,2825,,            goto start      ;zacni na startu
,,,
,,,
,,,
,,,
0000003D,108B,inton,inton       bcf INTCON, INTF ; nastavení přerušení od RB0
0000003E,160B,,            bsf INTCON, INTE
,,,            ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
,,,            ;bsf INTCON, T0IE
0000003F,100C,,            bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
00000040,108C,,            bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
00000041,1683,,            bsf STATUS, RP0  ;Bank 1
00000042,140C,,            bsf PIE1, TMR1IE
00000043,148C,,            bsf PIE1, TMR2IE
00000044,1283,,            bcf STATUS, RP0 ;Bank 0
00000045,170B,,            bsf INTCON, PEIE
00000046,178B,,            bsf INTCON, GIE
00000047,0008,,            return
,,,
00000048,120B,intoff,intoff      bcf INTCON, INTE
,,,            ;bcf INTCON, T0IE
00000049,1683,,            bsf STATUS, RP0  ;Bank 1
0000004A,100C,,            bcf PIE1, TMR1IE
0000004B,108C,,            bcf PIE1, TMR2IE
0000004C,1283,,            bcf STATUS, RP0 ;Bank 0
0000004D,0008,,            return
,,,
,,,
,,,
0000004E,2048,inter,inter       call intoff
,,,
0000004F,188B,,            btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
00000050,2060,,            call radio
,,,            ;btfsc INTCON, T0IF
,,,            ;bsf conf, T0OF
00000051,180C,,            btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
00000052,1659,,            bsf conf, T1OF
00000053,188C,,            btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
00000054,2057,,            call watchover
,,,
00000055,203D,,            call inton
00000056,0008,,            return
,,,
,,,;pokud přetekl timer2 pro watch
00000057,1559,watchover,watchover   bsf conf, WATCHOVER
00000058,0008,,            return
,,,
,,,;Zapnutí stopek pro kontrolu zacyklení - timer2
00000059,1159,watchstart,watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
0000005A,0191,,            clrf TMR2 ;vynuluje timer2
0000005B,0008,,            return
,,,
0000005C,1D59,watchwait,watchwait   btfss conf, WATCHOVER
0000005D,285C,,            goto $-1
,,,            ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
0000005E,26F6,,            call w100c
0000005F,0008,,            return
,,,
,,,;při zachyceni signalu na radiovem přijímači
00000060,0000,radio,radio       nop
00000061,0008,,            return
,,,
,,,;timer0     nop
,,,
,,,            ;bcf conf, T0OF
,,,            ;return
,,,
,,,;při přetečení timeru 1, až po fázi synchronizace procesorů
00000062,1858,timer1,timer1      btfsc cassir, 0
00000063,2097,,            call sirbeep
00000064,186B,,            btfsc casvar, 0
00000065,20A0,,            call varoff
00000066,18DA,,            btfsc casov, REDTUN
00000067,20CB,,            call rtuoff
00000068,195A,,            btfsc casov, LEDZAM
00000069,20DC,,            call lzabli
0000006A,19DA,,            btfsc casov, WHITUN
0000006B,20E3,,            call wtuoff
0000006C,1A5A,,            btfsc casov, ODSKOK
0000006D,20F9,,            call odsoff
0000006E,1ADA,,            btfsc casov, ALARM
0000006F,212E,,            call alabli
00000070,1964,,            btfsc spinac, 2
00000071,20F4,,            call spioff
,,,
00000072,03EC,,            decf vterina, F
00000073,1903,,            btfsc STATUS, Z
00000074,2077,,            call vterinka
,,,
00000075,1259,,            bcf conf, T1OF
00000076,0008,,            return
,,,
00000077,0000,vterinka,vterinka    nop
,,,
,,,;Ledky blikajici kdyz je PC zaply
00000078,082F,ledPCRun,ledPCRun    movf o_g, W
00000079,00A4,,            movwf r5
0000007A,300C,,            movlw b'01100' ;port B4
0000007B,00D2,,            movwf port
0000007C,3003,,            movlw b'11' ;procesor 3
0000007D,00D3,,            movwf prc
0000007E,1AA4,,            btfsc r5, 5
0000007F,21F2,,            call setout ;nastav port v prc
00000080,1AA4,,            btfsc r5, 5
00000081,162F,,            bsf o_g, 4
00000082,1EA4,,            btfss r5, 5
00000083,2219,,            call clrout ;nastav port v prc
00000084,1EA4,,            btfss r5, 5
00000085,122F,,            bcf o_g, 4
,,,
00000086,082F,,            movf o_g, W
00000087,00A4,,            movwf r5
00000088,300D,,            movlw b'01101' ;port B5
00000089,00D2,,            movwf port
0000008A,3003,,            movlw b'11' ;procesor 3
0000008B,00D3,,            movwf prc
0000008C,1E24,,            btfss r5, 4
0000008D,21F2,,            call setout ;nastav port v prc
0000008E,1E24,,            btfss r5, 4
0000008F,16AF,,            bsf o_g, 5
00000090,1A24,,            btfsc r5, 4
00000091,2219,,            call clrout ;nastav port v prc
00000092,1A24,,            btfsc r5, 4
00000093,12AF,,            bcf o_g, 5
,,,
,,,
,,,            ; nastaveni nove vterinky
00000094,3009,,            movlw .9 ;nastavy na dalsich 240ms
00000095,00EC,,            movwf vterina
00000096,0008,,            return
,,,
,,,
,,,;houkani sireny v intervalech cca 240ms
00000097,03D7,sirbeep,sirbeep     decf timsir, F
00000098,1D03,,            btfss STATUS, Z
00000099,0008,,            return
0000009A,1003,,            bcf STATUS, C
0000009B,0CD8,,            rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
0000009C,264F,,            call t1_53 ;neguje houkani sireny
0000009D,3003,,            movlw .3 ;nastavy na dalsich 240ms
0000009E,00D7,,            movwf timsir
0000009F,0008,,            return
,,,
,,,;blikani varovek
000000A0,03DB,varoff,varoff      decf timvar, F
000000A1,1D03,,            btfss STATUS, Z
000000A2,0008,,            return
000000A3,0CEB,,            rrf casvar, F
000000A4,1C03,,            btfss STATUS, C
000000A5,13EB,,            bcf casvar, 7
000000A6,1803,,            btfsc STATUS, C
000000A7,17EB,,            bsf casvar, 7
,,,
000000A8,01A1,,            clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
000000A9,01A2,,            clrf r3
000000AA,1A2D,,            btfsc o_e, 4
000000AB,1421,,            bsf r2, 0
000000AC,1AAD,,            btfsc o_e, 5
000000AD,1422,,            bsf r3, 0
000000AE,0821,,            movf r2, W
000000AF,05A2,,            andwf r3, F
,,,
000000B0,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000B1,122D,,            bcf o_e, 4
000000B2,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000B3,1361,,            bcf PORTD_temp, 6
000000B4,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000B5,1308,,            bcf PORTD, 6
000000B6,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000B7,12AD,,            bcf o_e, 5
000000B8,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000B9,13E1,,            bcf PORTD_temp, 7
000000BA,1822,,            btfsc r3, 0 ;pokud oba zaply oba vypne
000000BB,1388,,            bcf PORTD, 7
,,,
000000BC,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000BD,162D,,            bsf o_e, 4
000000BE,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000BF,1761,,            bsf PORTD_temp, 6
000000C0,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000C1,1708,,            bsf PORTD, 6
000000C2,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000C3,16AD,,            bsf o_e, 5
000000C4,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000C5,17E1,,            bsf PORTD_temp, 7
000000C6,1C22,,            btfss r3, 0 ;pokud jeden vyply oba zapne
000000C7,1788,,            bsf PORTD, 7
,,,
000000C8,3008,,            movlw .8 ;nastavy na dalsich 240ms
000000C9,00DB,,            movwf timvar
000000CA,0008,,            return
,,,
,,,;vypnuti red tuning
000000CB,03DC,rtuoff,rtuoff      decf timrtu, F
000000CC,1D03,,            btfss STATUS, Z
000000CD,0008,,            return
000000CE,112B,,            bcf o_c, 2 ;vypne red tunning
000000CF,3016,,            movlw b'10110' ;port C6
000000D0,00D2,,            movwf port
000000D1,3002,,            movlw b'10' ;procesor 2
000000D2,00D3,,            movwf prc
000000D3,2219,,            call clrout ;smaz port v prc
000000D4,11AE,,            bcf o_f, 3 ;vypne red interier
000000D5,301A,,            movlw b'11010' ;port D2
000000D6,00D2,,            movwf port
000000D7,3002,,            movlw b'10' ;procesor 2
000000D8,00D3,,            movwf prc
000000D9,2219,,            call clrout ;smaz port v prc
000000DA,10DA,,            bcf casov, REDTUN ;timer red tunningu nebude vniman
000000DB,0008,,            return
,,,
,,,;blikani led zamknuto
000000DC,03DD,lzabli,lzabli      decf timlza, F
000000DD,1D03,,            btfss STATUS, Z
000000DE,0008,,            return
000000DF,270F,,            call ledzam ;neguje led zamknuto
000000E0,300F,,            movlw .15 ;nasavy na dalsich 240ms
000000E1,00DD,,            movwf timlza
000000E2,0008,,            return
,,,
,,,;vypnuti white tuning
000000E3,03E3,wtuoff,wtuoff      decf timwtu, F
000000E4,1D03,,            btfss STATUS, Z
000000E5,0008,,            return
000000E6,11AB,,            bcf o_c, 3 ;vypne white tunning
000000E7,3017,,            movlw b'10111' ;port C7
000000E8,00D2,,            movwf port
000000E9,3002,,            movlw b'10' ;procesor 2
000000EA,00D3,,            movwf prc
000000EB,2219,,            call clrout ;smaz port v prc
000000EC,122E,,            bcf o_f, 4 ;vypne white interier
000000ED,301B,,            movlw b'11011' ;port D3
000000EE,00D2,,            movwf port
000000EF,3002,,            movlw b'10' ;procesor 2
000000F0,00D3,,            movwf prc
000000F1,2219,,            call clrout ;smaz port v prc
000000F2,11DA,,            bcf casov, WHITUN ;timer red tunningu nebude vniman
000000F3,0008,,            return
,,,
,,,;vypnuti polohy 3 spinacky
000000F4,03E5,spioff,spioff      decf timspi, F
000000F5,1D03,,            btfss STATUS, Z
000000F6,0008,,            return
000000F7,242E,,            call t1_03
000000F8,0008,,            return
,,,
,,,;vypnuti odskoků
000000F9,03E6,odsoff,odsoff      decf timods, F
000000FA,1D03,,            btfss STATUS, Z
000000FB,0008,,            return
000000FC,122A,,            bcf o_b, 4
000000FD,301F,,            movlw b'11111' ;port D7
000000FE,00D2,,            movwf port
000000FF,3003,,            movlw b'11' ;procesor 3
00000100,00D3,,            movwf prc
00000101,2219,,            call clrout ;smaz port v prc
00000102,12AA,,            bcf o_b, 5
00000103,13E0,,            bcf PORTC_temp, 7
00000104,1387,,            bcf PORTC, 7
00000105,132A,,            bcf o_b, 6
00000106,115F,,            bcf PORTB_temp, 2
00000107,1106,,            bcf PORTB, 2
00000108,13AA,,            bcf o_b, 7
00000109,11DF,,            bcf PORTB_temp, 3
0000010A,1186,,            bcf PORTB, 3
0000010B,11AA,,            bcf o_b, 3
0000010C,125F,,            bcf PORTB_temp, 4
0000010D,1206,,            bcf PORTB, 4
0000010E,102D,,            bcf o_e, 0
0000010F,12DF,,            bcf PORTB_temp, 5
00000110,1286,,            bcf PORTB, 5
00000111,102B,,            bcf o_c, 0
00000112,135F,,            bcf PORTB_temp, 6
00000113,1306,,            bcf PORTB, 6
,,,
00000114,13AD,,            bcf o_e, 7
00000115,301E,,            movlw b'11110' ;port D6
00000116,00D2,,            movwf port
00000117,3002,,            movlw b'10' ;procesor 2
00000118,00D3,,            movwf prc
00000119,2219,,            call clrout ;nastav port v prc
0000011A,132D,,            bcf o_e, 6
0000011B,301C,,            movlw b'11100' ;port D4
0000011C,00D2,,            movwf port
0000011D,3002,,            movlw b'10' ;procesor 2
0000011E,00D3,,            movwf prc
0000011F,2219,,            call clrout ;nastav port v prc
00000120,12AE,,            bcf o_f, 5
00000121,301D,,            movlw b'11101' ;port D5
00000122,00D2,,            movwf port
00000123,3002,,            movlw b'10' ;procesor 2
00000124,00D3,,            movwf prc
00000125,2219,,            call clrout ;nastav port v prc
00000126,102E,,            bcf o_f, 0
00000127,301F,,            movlw b'11111' ;port D7
00000128,00D2,,            movwf port
00000129,3002,,            movlw b'10' ;procesor 2
0000012A,00D3,,            movwf prc
0000012B,2219,,            call clrout ;nastav port v prc
,,,
0000012C,125A,,            bcf casov, ODSKOK ;timer red tunningu nebude vniman
0000012D,0008,,            return
,,,
,,,;Problikavani alarmu
0000012E,03E7,alabli,alabli      decf timala, F
0000012F,1D03,,            btfss STATUS, Z
00000130,0008,,            return
,,,
00000131,25DA,,            call t1_40
00000132,25E9,,            call t1_41
00000133,26A3,,            call t1_61
00000134,26B2,,            call t1_62
00000135,2700,,            call klakson
,,,
00000136,3014,,            movlw .20 ;nasavy na dalsich 240ms
00000137,00E7,,            movwf timala
00000138,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
00000139,1486,dotaz,dotaz       bsf PORTB, 1  ;start bity XX - 10
0000013A,26F6,,            call w100c
0000013B,1086,,            bcf PORTB, 1
0000013C,26F6,,            call w100c
,,,
0000013D,0878,,            movf cil, W   ;vysila oznaceni cilového procesoru XXXX
0000013E,00A0,,            movwf r1
0000013F,3004,,            movlw .4
00000140,00A1,,            movwf r2
00000141,19A0,,            btfsc r1, 3
00000142,1486,,            bsf PORTB, 1
00000143,1DA0,,            btfss r1, 3
00000144,1086,,            bcf PORTB, 1
00000145,26F6,,            call w100c
00000146,0DA0,,            rlf r1, F
00000147,0BA1,,            decfsz r2, F
00000148,2941,,            goto $-7
,,,
00000149,3000,,            movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
0000014A,00A0,,            movwf r1
0000014B,3007,,            movlw .7
0000014C,00A1,,            movwf r2
0000014D,1B20,,            btfsc r1, 6
0000014E,1486,,            bsf PORTB, 1
0000014F,1F20,,            btfss r1, 6
00000150,1086,,            bcf PORTB, 1
00000151,26F6,,            call w100c
00000152,0DA0,,            rlf r1, F
00000153,0BA1,,            decfsz r2, F
00000154,294D,,            goto $-7
,,,
00000155,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
00000156,26F6,,            call w100c
00000157,26F6,,            call w100c
00000158,26F6,,            call w100c
00000159,1086,,            bcf PORTB, 1
0000015A,26FB,,            call w40c
,,,
0000015B,1683,,            bsf STATUS, RP0  ;Bank 1
0000015C,1486,,            bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
0000015D,1283,,            bcf STATUS, RP0  ;Bank 0
,,,
0000015E,1959,,            btfsc conf, WATCHOVER
0000015F,29EE,,            goto dotazerr
00000160,1C86,,            btfss PORTB, 1  ;ceka az zacne vysilat signal
00000161,295E,,            goto $-3 ;ochrana proti zamrznuti
,,,
00000162,1959,,            btfsc conf, WATCHOVER
00000163,29EE,,            goto dotazerr
00000164,1886,,            btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
00000165,2962,,            goto $-3 ;ochrana proti zamrznuti
,,,
00000166,26FB,,            call w40c   ;posune do prostred signalu X - 0
00000167,26F6,,            call w100c
,,,
00000168,01F0,,            clrf pri0        ; ulozi priijate do pri XXXX XXXX
00000169,3008,,            movlw .8
0000016A,00A1,,            movwf r2
0000016B,0DF0,,            rlf pri0, F
0000016C,1886,,            btfsc PORTB, 1
0000016D,1470,,            bsf pri0, 0
0000016E,1C86,,            btfss PORTB, 1
0000016F,1070,,            bcf pri0, 0
00000170,26F6,,            call w100c
00000171,0BA1,,            decfsz r2, F
00000172,296B,,            goto $-7
,,,
00000173,1959,,            btfsc conf, WATCHOVER
00000174,29EE,,            goto dotazerr
00000175,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
00000176,2973,,            goto $-3 ;ochrana proti zamrznuti
00000177,26FB,,            call w40c
00000178,26F6,,            call w100c
,,,
,,,
00000179,01F1,,            clrf pri1        ; ulozi priijate do pri XXXX XXXX
0000017A,3008,,            movlw .8
0000017B,00A1,,            movwf r2
0000017C,0DF1,,            rlf pri1, F
0000017D,1886,,            btfsc PORTB, 1
0000017E,1471,,            bsf pri1, 0
0000017F,1C86,,            btfss PORTB, 1
00000180,1071,,            bcf pri1, 0
00000181,26F6,,            call w100c
00000182,0BA1,,            decfsz r2, F
00000183,297C,,            goto $-7
,,,
00000184,1959,,            btfsc conf, WATCHOVER
00000185,29EE,,            goto dotazerr
00000186,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
00000187,2984,,            goto $-3 ;ochrana proti zamrznuti
00000188,26FB,,            call w40c
00000189,26F6,,            call w100c
,,,
,,,
0000018A,01F2,,            clrf pri2        ; ulozi priijate do pri XXXX XXXX
0000018B,3008,,            movlw .8
0000018C,00A1,,            movwf r2
0000018D,0DF2,,            rlf pri2, F
0000018E,1886,,            btfsc PORTB, 1
0000018F,1472,,            bsf pri2, 0
00000190,1C86,,            btfss PORTB, 1
00000191,1072,,            bcf pri2, 0
00000192,26F6,,            call w100c
00000193,0BA1,,            decfsz r2, F
00000194,298D,,            goto $-7
,,,
00000195,1959,,            btfsc conf, WATCHOVER
00000196,29EE,,            goto dotazerr
00000197,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
00000198,2995,,            goto $-3 ;ochrana proti zamrznuti
00000199,26FB,,            call w40c
0000019A,26F6,,            call w100c
,,,
,,,
0000019B,01F3,,            clrf pri3        ; ulozi priijate do pri XXXX XXXX
0000019C,3008,,            movlw .8
0000019D,00A1,,            movwf r2
0000019E,0DF3,,            rlf pri3, F
0000019F,1886,,            btfsc PORTB, 1
000001A0,1473,,            bsf pri3, 0
000001A1,1C86,,            btfss PORTB, 1
000001A2,1073,,            bcf pri3, 0
000001A3,26F6,,            call w100c
000001A4,0BA1,,            decfsz r2, F
000001A5,299E,,            goto $-7
,,,
000001A6,1959,,            btfsc conf, WATCHOVER
000001A7,29EE,,            goto dotazerr
000001A8,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001A9,29A6,,            goto $-3 ;ochrana proti zamrznuti
000001AA,26FB,,            call w40c
000001AB,26F6,,            call w100c
,,,
,,,
000001AC,01F4,,            clrf pri4        ; ulozi priijate do pri XXXX XXXX
000001AD,3008,,            movlw .8
000001AE,00A1,,            movwf r2
000001AF,0DF4,,            rlf pri4, F
000001B0,1886,,            btfsc PORTB, 1
000001B1,1474,,            bsf pri4, 0
000001B2,1C86,,            btfss PORTB, 1
000001B3,1074,,            bcf pri4, 0
000001B4,26F6,,            call w100c
000001B5,0BA1,,            decfsz r2, F
000001B6,29AF,,            goto $-7
,,,
000001B7,1959,,            btfsc conf, WATCHOVER
000001B8,29EE,,            goto dotazerr
000001B9,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001BA,29B7,,            goto $-3 ;ochrana proti zamrznuti
000001BB,26FB,,            call w40c
000001BC,26F6,,            call w100c
,,,
,,,
000001BD,01F5,,            clrf pri5        ; ulozi priijate do pri XXXX XXXX
000001BE,3008,,            movlw .8
000001BF,00A1,,            movwf r2
000001C0,0DF5,,            rlf pri5, F
000001C1,1886,,            btfsc PORTB, 1
000001C2,1475,,            bsf pri5, 0
000001C3,1C86,,            btfss PORTB, 1
000001C4,1075,,            bcf pri5, 0
000001C5,26F6,,            call w100c
000001C6,0BA1,,            decfsz r2, F
000001C7,29C0,,            goto $-7
,,,
000001C8,1959,,            btfsc conf, WATCHOVER
000001C9,29EE,,            goto dotazerr
000001CA,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001CB,29C8,,            goto $-3 ;ochrana proti zamrznuti
000001CC,26FB,,            call w40c
000001CD,26F6,,            call w100c
,,,
,,,
000001CE,01F6,,            clrf pri6        ; ulozi priijate do pri XXXX XXXX
000001CF,3008,,            movlw .8
000001D0,00A1,,            movwf r2
000001D1,0DF6,,            rlf pri6, F
000001D2,1886,,            btfsc PORTB, 1
000001D3,1476,,            bsf pri6, 0
000001D4,1C86,,            btfss PORTB, 1
000001D5,1076,,            bcf pri6, 0
000001D6,26F6,,            call w100c
000001D7,0BA1,,            decfsz r2, F
000001D8,29D1,,            goto $-7
,,,
000001D9,1959,,            btfsc conf, WATCHOVER
000001DA,29EE,,            goto dotazerr
000001DB,1886,,            btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
000001DC,29D9,,            goto $-3 ;ochrana proti zamrznuti
000001DD,26FB,,            call w40c
000001DE,26F6,,            call w100c
,,,
,,,
000001DF,01F7,,            clrf pri7        ; ulozi priijate do pri XXXX XXXX
000001E0,3008,,            movlw .8
000001E1,00A1,,            movwf r2
000001E2,0DF7,,            rlf pri7, F
000001E3,1886,,            btfsc PORTB, 1
000001E4,1477,,            bsf pri7, 0
000001E5,1C86,,            btfss PORTB, 1
000001E6,1077,,            bcf pri7, 0
000001E7,26F6,,            call w100c
000001E8,0BA1,,            decfsz r2, F
000001E9,29E2,,            goto $-7
,,,
000001EA,1959,,            btfsc conf, WATCHOVER
000001EB,29EE,,            goto dotazerr
000001EC,1886,,            btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
000001ED,29EA,,            goto $-3 ;ochrana proti zamrznuti
,,,
,,,
000001EE,1683,dotazerr,dotazerr    bsf STATUS, RP0  ;Bank 1
000001EF,1086,,            bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
000001F0,1283,,            bcf STATUS, RP0  ;Bank 0
000001F1,0008,,            return
,,,
,,,        ; WATCH2 start
000001F2,1486,setout,setout      bsf PORTB, 1  ;start bity XX - 10
000001F3,26F6,,            call w100c
000001F4,1086,,            bcf PORTB, 1
000001F5,26F6,,            call w100c
,,,
000001F6,0853,,            movf prc, W   ;vysila oznaceni cilového procesoru XXXX
000001F7,00A0,,            movwf r1
000001F8,3004,,            movlw .4
000001F9,00A1,,            movwf r2
000001FA,19A0,,            btfsc r1, 3
000001FB,1486,,            bsf PORTB, 1
000001FC,1DA0,,            btfss r1, 3
000001FD,1086,,            bcf PORTB, 1
000001FE,26F6,,            call w100c
000001FF,0DA0,,            rlf r1, F
00000200,0BA1,,            decfsz r2, F
00000201,29FA,,            goto $-7
,,,
00000202,1486,,            bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
00000203,26F6,,            call w100c
,,,
00000204,0852,,            movf port, W   ;vysila port ke zmene XXXXX
00000205,00A0,,            movwf r1
00000206,3005,,            movlw .5
00000207,00A1,,            movwf r2
00000208,1A20,,            btfsc r1, 4
00000209,1486,,            bsf PORTB, 1
0000020A,1E20,,            btfss r1, 4
0000020B,1086,,            bcf PORTB, 1
0000020C,26F6,,            call w100c
0000020D,0DA0,,            rlf r1, F
0000020E,0BA1,,            decfsz r2, F
0000020F,2A08,,            goto $-7
,,,
00000210,1486,,            bsf PORTB, 1  ;vysle hodnotu 1
00000211,26F6,,            call w100c
,,,
00000212,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
00000213,26F6,,            call w100c
00000214,26F6,,            call w100c
00000215,26F6,,            call w100c
00000216,1086,,            bcf PORTB, 1
00000217,26F6,,            call w100c
,,,            ; WATCH2 wait
00000218,0008,,            return
,,,
,,,      ; WATCH2 start
00000219,1486,clrout,clrout      bsf PORTB, 1  ;start bity XX - 10
0000021A,26F6,,            call w100c
0000021B,1086,,            bcf PORTB, 1
0000021C,26F6,,            call w100c
,,,
0000021D,0853,,            movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0000021E,00A0,,            movwf r1
0000021F,3004,,            movlw .4
00000220,00A1,,            movwf r2
00000221,19A0,,            btfsc r1, 3
00000222,1486,,            bsf PORTB, 1
00000223,1DA0,,            btfss r1, 3
00000224,1086,,            bcf PORTB, 1
00000225,26F6,,            call w100c
00000226,0DA0,,            rlf r1, F
00000227,0BA1,,            decfsz r2, F
00000228,2A21,,            goto $-7
,,,
00000229,1486,,            bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0000022A,26F6,,            call w100c
,,,
0000022B,0852,,            movf port, W   ;vysila port ke zmene XXXXX
0000022C,00A0,,            movwf r1
0000022D,3005,,            movlw .5
0000022E,00A1,,            movwf r2
0000022F,1A20,,            btfsc r1, 4
00000230,1486,,            bsf PORTB, 1
00000231,1E20,,            btfss r1, 4
00000232,1086,,            bcf PORTB, 1
00000233,26F6,,            call w100c
00000234,0DA0,,            rlf r1, F
00000235,0BA1,,            decfsz r2, F
00000236,2A2F,,            goto $-7
,,,
00000237,1086,,            bcf PORTB, 1  ;vysle hodnotu 0
00000238,26F6,,            call w100c
,,,
00000239,1486,,            bsf PORTB, 1  ;STOP bity XXX - 111
0000023A,26F6,,            call w100c
0000023B,26F6,,            call w100c
0000023C,26F6,,            call w100c
0000023D,1086,,            bcf PORTB, 1
0000023E,26F6,,            call w100c
,,,            ; WATCH2 wait
0000023F,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,        ;podprogramy
,,,;Tlačitka funkci 1
00000240,1BAC,if_58,if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
00000241,0008,,            return
,,,
00000242,1003,,            bcf STATUS, C
00000243,0C3F,,            rrf ir_58, W
00000244,00A0,,            movwf r1
00000245,1003,,            bcf STATUS, C
00000246,0CA0,,            rrf r1, F
00000247,1003,,            bcf STATUS, C
00000248,0CA0,,            rrf r1, F
00000249,30E0,,            movlw b'11100000'
0000024A,04A0,,            iorwf r1, F
,,,
0000024B,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
0000024C,00A3,,            movwf r4
0000024D,0854,,            movf tl1, W
0000024E,06A3,,            xorwf r4, F
0000024F,1903,,            btfsc STATUS, Z
00000250,0008,,            return
00000251,0820,,            movf r1, W    ;ulozi aktualni tlacitko
00000252,00D4,,            movwf tl1
,,,
00000253,0AA0,,            incf r1, F
00000254,1903,,            btfsc STATUS, Z
00000255,24AA,,            call t1_06
00000256,0AA0,,            incf r1, F
00000257,1903,,            btfsc STATUS, Z
00000258,2406,,            call t1_02
00000259,0AA0,,            incf r1, F
0000025A,1903,,            btfsc STATUS, Z
0000025B,242E,,            call t1_03
0000025C,0AA0,,            incf r1, F
0000025D,1903,,            btfsc STATUS, Z
0000025E,248A,,            call t1_05
0000025F,0AA0,,            incf r1, F
00000260,1903,,            btfsc STATUS, Z
00000261,2607,,            call t1_43
00000262,0AA0,,            incf r1, F
00000263,1903,,            btfsc STATUS, Z
00000264,25F8,,            call t1_42
00000265,0AA0,,            incf r1, F
00000266,1903,,            btfsc STATUS, Z
00000267,24E6,,            call t1_07
00000268,0AA0,,            incf r1, F
00000269,1903,,            btfsc STATUS, Z
0000026A,24F4,,            call t1_08
0000026B,0AA0,,            incf r1, F
0000026C,1903,,            btfsc STATUS, Z
0000026D,2527,,            call t1_14
0000026E,0AA0,,            incf r1, F
0000026F,1903,,            btfsc STATUS, Z
00000270,252E,,            call t1_15
00000271,0AA0,,            incf r1, F
00000272,1903,,            btfsc STATUS, Z
00000273,25C6,,            call t1_37
00000274,0AA0,,            incf r1, F
00000275,1903,,            btfsc STATUS, Z
00000276,2504,,            call t1_10
00000277,0AA0,,            incf r1, F
00000278,1903,,            btfsc STATUS, Z
00000279,2515,,            call t1_12
0000027A,0AA0,,            incf r1, F
0000027B,1903,,            btfsc STATUS, Z
0000027C,2581,,            call t1_30
0000027D,0AA0,,            incf r1, F
0000027E,1903,,            btfsc STATUS, Z
0000027F,25A9,,            call t1_34
00000280,0AA0,,            incf r1, F
00000281,1903,,            btfsc STATUS, Z
00000282,2593,,            call t1_32
00000283,0AA0,,            incf r1, F
00000284,1903,,            btfsc STATUS, Z
00000285,25BB,,            call t1_36
,,,            ;pokud je tlacitko prave pusteno
00000286,1003,,            bcf STATUS, C
00000287,0C3F,,            rrf ir_58, W
00000288,00A0,,            movwf r1
00000289,0820,,            movf r1, W
0000028A,1903,,            btfsc STATUS, Z
0000028B,2359,,            call t1_stop
0000028C,0008,,            return
,,,
,,,;Tlačitka funkci 2
0000028D,1BAC,if_62,if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0000028E,0008,,            return
,,,
0000028F,1003,,            bcf STATUS, C
00000290,0C43,,            rrf ir_62, W
00000291,00A0,,            movwf r1
00000292,1003,,            bcf STATUS, C
00000293,0CA0,,            rrf r1, F
00000294,1003,,            bcf STATUS, C
00000295,0CA0,,            rrf r1, F
00000296,30E0,,            movlw b'11100000'
00000297,04A0,,            iorwf r1, F
,,,
00000298,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
00000299,00A3,,            movwf r4
0000029A,0855,,            movf tl2, W
0000029B,06A3,,            xorwf r4, F
0000029C,1903,,            btfsc STATUS, Z
0000029D,0008,,            return
0000029E,0820,,            movf r1, W    ;ulozi aktualni tlacitko
0000029F,00D5,,            movwf tl2
,,,
000002A0,0AA0,,            incf r1, F
000002A1,1903,,            btfsc STATUS, Z
000002A2,2454,,            call t1_04
000002A3,0AA0,,            incf r1, F
000002A4,1903,,            btfsc STATUS, Z
000002A5,2671,,            call t1_56
000002A6,0AA0,,            incf r1, F
000002A7,1903,,            btfsc STATUS, Z
000002A8,2535,,            call t1_16
000002A9,0AA0,,            incf r1, F
000002AA,1903,,            btfsc STATUS, Z
000002AB,256C,,            call t1_26
000002AC,0AA0,,            incf r1, F
000002AD,1903,,            btfsc STATUS, Z
000002AE,2616,,            call t1_44
000002AF,0AA0,,            incf r1, F
000002B0,1903,,            btfsc STATUS, Z
000002B1,250E,,            call t1_11
000002B2,0AA0,,            incf r1, F
000002B3,1903,,            btfsc STATUS, Z
000002B4,251E,,            call t1_13
000002B5,0AA0,,            incf r1, F
000002B6,1903,,            btfsc STATUS, Z
000002B7,265E,,            call t1_54
000002B8,0AA0,,            incf r1, F
000002B9,1903,,            btfsc STATUS, Z
000002BA,25E9,,            call t1_41
000002BB,0AA0,,            incf r1, F
000002BC,1903,,            btfsc STATUS, Z
000002BD,26B2,,            call t1_62
000002BE,0AA0,,            incf r1, F
000002BF,1903,,            btfsc STATUS, Z
000002C0,25DA,,            call t1_40
000002C1,0AA0,,            incf r1, F
000002C2,1903,,            btfsc STATUS, Z
000002C3,26A3,,            call t1_61
000002C4,0AA0,,            incf r1, F
000002C5,1903,,            btfsc STATUS, Z
000002C6,258A,,            call t1_31
000002C7,0AA0,,            incf r1, F
000002C8,1903,,            btfsc STATUS, Z
000002C9,25B2,,            call t1_35
000002CA,0AA0,,            incf r1, F
000002CB,1903,,            btfsc STATUS, Z
000002CC,264F,,            call t1_53
000002CD,0AA0,,            incf r1, F
000002CE,1903,,            btfsc STATUS, Z
000002CF,259E,,            call t1_33
000002D0,0AA0,,            incf r1, F
000002D1,1903,,            btfsc STATUS, Z
000002D2,2698,,            call t1_60
,,,            ;pokud je tlacitko prave pusteno
000002D3,1003,,            bcf STATUS, C
000002D4,0C43,,            rrf ir_62, W
000002D5,00A0,,            movwf r1
000002D6,0820,,            movf r1, W
000002D7,1903,,            btfsc STATUS, Z
000002D8,235B,,            call t2_stop
000002D9,0008,,            return
,,,;Tlačitka imobilizeru
000002DA,0000,if_50,if_50       nop
000002DB,0008,,            return
,,,             ;pasy
000002DC,0000,if_59,if_59       nop
000002DD,0008,,            return
,,,             ;rychlost
000002DE,0000,if_60,if_60       nop
000002DF,0008,,            return
,,,             ;otáčky
000002E0,0000,if_61,if_61       nop
000002E1,0008,,            return
,,,             ;teplota in set
000002E2,0000,if_49,if_49       nop
000002E3,0008,,            return
,,,             ;alarm senzory
000002E4,0000,if_80,if_80       nop
000002E5,0008,,            return
,,,             ;baterie
000002E6,0000,if_51,if_51       nop
000002E7,0008,,            return
,,,             ;teplota in
000002E8,0000,if_52,if_52       nop
000002E9,0008,,            return
,,,             ;teplota eng
000002EA,0000,if_53,if_53       nop
000002EB,0008,,            return
,,,             ;palivo
000002EC,0000,if_54,if_54       nop
000002ED,0008,,            return
,,,             ;dveře 1
000002EE,0000,if_55,if_55       nop
000002EF,0008,,            return
,,,             ;ruční brzda
000002F0,0000,if_56,if_56       nop
000002F1,0008,,            return
,,,             ;kvalt
000002F2,0000,if_57,if_57       nop
000002F3,0008,,            return
,,,             ;dveře 2
000002F4,0000,if_84,if_84       nop
000002F5,0008,,            return
,,,             ;dveře 3
000002F6,0000,if_85,if_85       nop
000002F7,0008,,            return
,,,             ;dveře 4
000002F8,0000,if_86,if_86       nop
000002F9,0008,,            return
,,,             ;kapota
000002FA,0000,if_87,if_87       nop
000002FB,0008,,            return
,,,             ;kufr
000002FC,0000,if_88,if_88       nop
000002FD,0008,,            return
,,,             ;nadrz
000002FE,0000,if_89,if_89       nop
000002FF,0008,,            return
,,,             ;okno 1
00000300,0000,if_90,if_90       nop
00000301,0008,,            return
,,,             ;okno 2
00000302,0000,if_91,if_91       nop
00000303,0008,,            return
,,,             ;okno 3
00000304,0000,if_92,if_92       nop
00000305,0008,,            return
,,,             ;okno 4
00000306,0000,if_93,if_93       nop
00000307,0008,,            return
,,,             ;teplota OUT
00000308,0000,if_127,if_127      nop
00000309,0008,,            return
,,,
,,,;Tlačítka funkcí 3
0000030A,1BAC,if_128,if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0000030B,0000,,            nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
,,,
0000030C,1003,,            bcf STATUS, C
0000030D,0C50,,            rrf ir_128, W
0000030E,00A0,,            movwf r1
0000030F,1003,,            bcf STATUS, C
00000310,0CA0,,            rrf r1, F
00000311,1003,,            bcf STATUS, C
00000312,0CA0,,            rrf r1, F
00000313,30E0,,            movlw b'11100000'
00000314,04A0,,            iorwf r1, F
,,,
00000315,0820,,            movf r1, W    ;zkontroluje jestli nebylo uz minule
00000316,00A3,,            movwf r4
00000317,0856,,            movf tl3, W
00000318,06A3,,            xorwf r4, F
00000319,1903,,            btfsc STATUS, Z
0000031A,0008,,            return
0000031B,0820,,            movf r1, W    ;ulozi aktualni tlacitko
0000031C,00D6,,            movwf tl3
,,,
0000031D,0AA0,,            incf r1, F
0000031E,1903,,            btfsc STATUS, Z
0000031F,262D,,            call t1_47
00000320,0AA0,,            incf r1, F
00000321,1903,,            btfsc STATUS, Z
00000322,23A0,,            call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
00000323,0AA0,,            incf r1, F
00000324,1903,,            btfsc STATUS, Z
00000325,23DE,,            call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
00000326,0AA0,,            incf r1, F
00000327,1903,,            btfsc STATUS, Z
00000328,26EF,,            call t1_x
00000329,0AA0,,            incf r1, F
0000032A,1903,,            btfsc STATUS, Z
0000032B,26EF,,            call t1_x
0000032C,0AA0,,            incf r1, F
0000032D,1903,,            btfsc STATUS, Z
0000032E,26EF,,            call t1_x
0000032F,0AA0,,            incf r1, F
00000330,1903,,            btfsc STATUS, Z
00000331,26EF,,            call t1_x
00000332,0AA0,,            incf r1, F
00000333,1903,,            btfsc STATUS, Z
00000334,26EF,,            call t1_x
00000335,0AA0,,            incf r1, F
00000336,1903,,            btfsc STATUS, Z
00000337,26EF,,            call t1_x
00000338,0AA0,,            incf r1, F
00000339,1903,,            btfsc STATUS, Z
0000033A,26EF,,            call t1_x
0000033B,0AA0,,            incf r1, F
0000033C,1903,,            btfsc STATUS, Z
0000033D,26EF,,            call t1_x
0000033E,0AA0,,            incf r1, F
0000033F,1903,,            btfsc STATUS, Z
00000340,26EF,,            call t1_x
00000341,0AA0,,            incf r1, F
00000342,1903,,            btfsc STATUS, Z
00000343,26EF,,            call t1_x
00000344,0AA0,,            incf r1, F
00000345,1903,,            btfsc STATUS, Z
00000346,26EF,,            call t1_x
00000347,0AA0,,            incf r1, F
00000348,1903,,            btfsc STATUS, Z
00000349,26EF,,            call t1_x
0000034A,0AA0,,            incf r1, F
0000034B,1903,,            btfsc STATUS, Z
0000034C,26EF,,            call t1_x
0000034D,0AA0,,            incf r1, F
0000034E,1903,,            btfsc STATUS, Z
0000034F,26EF,,            call t1_x
,,,            ;pokud je tlacitko prave pusteno
00000350,1003,,            bcf STATUS, C
00000351,0C50,,            rrf ir_128, W
00000352,00A0,,            movwf r1
00000353,0820,,            movf r1, W
00000354,1903,,            btfsc STATUS, Z
00000355,235D,,            call t3_stop
00000356,0008,,            return
,,,
,,,;předpřipravené pro rozšíření procesoru 5 a vice
00000357,0000,if_x,if_x        nop
00000358,0008,,            return
,,,
,,,;vypina holdovaci vystupy
00000359,0000,t1_stop,t1_stop     nop
0000035A,0008,,            return
0000035B,0000,t2_stop,t2_stop     nop
0000035C,0008,,            return
0000035D,0000,t3_stop,t3_stop     nop
0000035E,0008,,            return
,,,
0000035F,3010,tx_stop,tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
00000360,00D2,,            movwf port
00000361,3002,,            movlw b'10' ;procesor 2
00000362,00D3,,            movwf prc
00000363,18AC,,            btfsc o_d, 1
00000364,2219,,            call clrout ;nastav port v prc
00000365,10AC,,            bcf o_d, 1
00000366,3011,,            movlw b'10001' ;port C1
00000367,00D2,,            movwf port
00000368,3002,,            movlw b'10' ;procesor 2
00000369,00D3,,            movwf prc
0000036A,192C,,            btfsc o_d, 2
0000036B,2219,,            call clrout ;nastav port v prc
0000036C,112C,,            bcf o_d, 2
0000036D,3012,,            movlw b'10010' ;port C2
0000036E,00D2,,            movwf port
0000036F,3002,,            movlw b'10' ;procesor 2
00000370,00D3,,            movwf prc
00000371,19AC,,            btfsc o_d, 3
00000372,2219,,            call clrout ;nastav port v prc
00000373,11AC,,            bcf o_d, 3
00000374,3013,,            movlw b'10011' ;port C3
00000375,00D2,,            movwf port
00000376,3002,,            movlw b'10' ;procesor 2
00000377,00D3,,            movwf prc
00000378,1A2C,,            btfsc o_d, 4
00000379,2219,,            call clrout ;nastav port v prc
0000037A,122C,,            bcf o_d, 4
0000037B,3014,,            movlw b'10100' ;port C4
0000037C,00D2,,            movwf port
0000037D,3002,,            movlw b'10' ;procesor 2
0000037E,00D3,,            movwf prc
0000037F,1AAC,,            btfsc o_d, 5
00000380,2219,,            call clrout ;nastav port v prc
00000381,12AC,,            bcf o_d, 5
00000382,3015,,            movlw b'10101' ;port C5
00000383,00D2,,            movwf port
00000384,3002,,            movlw b'10' ;procesor 2
00000385,00D3,,            movwf prc
00000386,1B2C,,            btfsc o_d, 6
00000387,2219,,            call clrout ;nastav port v prc
00000388,132C,,            bcf o_d, 6
,,,                  ;blinkry
00000389,122D,,            bcf o_e, 4
0000038A,1361,,            bcf PORTD_temp, 6
0000038B,1308,,            bcf PORTD, 6
0000038C,12AD,,            bcf o_e, 5
0000038D,13E1,,            bcf PORTD_temp, 7
0000038E,1388,,            bcf PORTD, 7
,,,                  ;klakson
0000038F,3019,,            movlw b'11001' ;port D1
00000390,00D2,,            movwf port
00000391,3003,,            movlw b'11' ;procesor 3
00000392,00D3,,            movwf prc
00000393,1A2B,,            btfsc o_c, 4
00000394,2219,,            call clrout ;nastav port v prc
00000395,122B,,            bcf o_c, 4
,,,                  ;stěrače, odstřikovače
00000396,13AB,,            bcf o_c, 7
00000397,11E1,,            bcf PORTD_temp, 3
00000398,1188,,            bcf PORTD, 3
00000399,132B,,            bcf o_c, 6
0000039A,1161,,            bcf PORTD_temp, 2
0000039B,1108,,            bcf PORTD, 2
,,,                  ;dálková světla
0000039C,102C,,            bcf o_d, 0
0000039D,1261,,            bcf PORTD_temp, 4
0000039E,1208,,            bcf PORTD, 4
0000039F,0008,,            return
,,,
,,,
,,,
,,,;zamknuti alarm on
000003A0,1858,t1_00,t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
000003A1,0008,,            return
000003A2,083C,,            movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
000003A3,0445,,            iorwf ir_84, W
000003A4,0446,,            iorwf ir_85, W
000003A5,0447,,            iorwf ir_86, W
000003A6,0448,,            iorwf ir_87, W
000003A7,0449,,            iorwf ir_88, W
000003A8,044A,,            iorwf ir_89, W
000003A9,00A5,,            movwf r6
000003AA,1BA5,,            btfsc r6, 7
000003AB,0000,,            nop ;MLUV "zkontrolujte vstupy do auta"
000003AC,1BA5,,            btfsc r6, 7
000003AD,264F,,            call t1_53 ;zapne sirenu
000003AE,1BA5,,            btfsc r6, 7
000003AF,301F,,            movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
000003B0,1BA5,,            btfsc r6, 7
000003B1,00D8,,            movwf cassir
000003B2,1BA5,,            btfsc r6, 7
000003B3,3003,,            movlw .3
000003B4,1BA5,,            btfsc r6, 7
000003B5,00D7,,            movwf timsir
,,,            ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
,,,            ;return
,,,
000003B6,24AA,,            call t1_06 ;vypne vse
000003B7,17AC,,            bsf o_d, 7 ;zapne alarm cidla
000003B8,17DF,,            bsf PORTB_temp, 7
000003B9,1786,,            bsf PORTB, 7
,,,                  ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne,
,,,                  ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
,,,
,,,
000003BA,248A,,            call t1_05 ;zapne varovky
000003BB,301F,,            movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
000003BC,00EB,,            movwf casvar
000003BD,3008,,            movlw .8
000003BE,00DB,,            movwf timvar
,,,
,,,
000003BF,3016,,            movlw b'10110' ;port C6
000003C0,00D2,,            movwf port
000003C1,3002,,            movlw b'10' ;procesor 2
000003C2,00D3,,            movwf prc
000003C3,1D2B,,            btfss o_c, 2
000003C4,21F2,,            call setout ;set port v prc
000003C5,152B,,            bsf o_c, 2 ;problikne red tunning na 1 sekundu
000003C6,301A,,            movlw b'11010' ;port D2
000003C7,00D2,,            movwf port
000003C8,3002,,            movlw b'10' ;procesor 2
000003C9,00D3,,            movwf prc
000003CA,1DAE,,            btfss o_f, 3
000003CB,21F2,,            call setout ;set port v prc
000003CC,15AE,,            bsf o_f, 3 ;problikne red interier na 1 sekundu
000003CD,14DA,,            bsf casov, REDTUN ;do timeru ze po 1s vypne
000003CE,301E,,            movlw .30
000003CF,00DC,,            movwf timrtu
000003D0,264F,,            call t1_53 ;zahraje sirenou na 200ms
000003D1,3001,,            movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
000003D2,00D8,,            movwf cassir
000003D3,3008,,            movlw .8
000003D4,00D7,,            movwf timsir
000003D5,13AE,,            bcf o_f, 7 ;sklopi zrcatka neboli vypne
000003D6,10E2,,            bcf PORTE_temp, 1
000003D7,1089,,            bcf PORTE, 1
000003D8,0000,,            nop ;MLUV "auto zamčeno"
000003D9,24E6,,            call t1_07 ;zamkne
000003DA,155A,,            bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
000003DB,300F,,            movlw .15
000003DC,00DD,,            movwf timlza
,,,
,,,                  ;zatahnuti okenek
,,,            ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
,,,            ;movwf o1tmp
,,,            ;movf ir_91, W
,,,            ;movwf o2tmp
,,,            ;movf ir_92, W
,,,            ;movwf o3tmp
,,,            ;movf ir_93, W
,,,            ;movwf o4tmp
,,,            ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
,,,            ;movwf o1tar
,,,            ;movwf o2tar
,,,            ;movwf o3tar
,,,            ;movwf o4tar
,,,
000003DD,0008,,            return
,,,
,,,;odemknuti alarm off
000003DE,1858,t1_01,t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
000003DF,0008,,            return
,,,
000003E0,13AC,,            bcf o_d, 7 ;vypne alarm cidla
000003E1,13DF,,            bcf PORTB_temp, 7
000003E2,1386,,            bcf PORTB, 7
,,,                  ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
,,,                  ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
000003E3,2454,,            call t1_04
,,,
,,,
000003E4,248A,,            call t1_05 ;zapne varovky
000003E5,3007,,            movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
000003E6,00EB,,            movwf casvar
000003E7,3008,,            movlw .8
000003E8,00DB,,            movwf timvar
,,,
,,,
000003E9,3017,,            movlw b'10111' ;port C7
000003EA,00D2,,            movwf port
000003EB,3002,,            movlw b'10' ;procesor 2
000003EC,00D3,,            movwf prc
000003ED,1DAB,,            btfss o_c, 3
000003EE,21F2,,            call setout ;set port v prc
000003EF,15AB,,            bsf o_c, 3 ;problikne white tunning na 1 sekundu
000003F0,301B,,            movlw b'11011' ;port D3
000003F1,00D2,,            movwf port
000003F2,3002,,            movlw b'10' ;procesor 2
000003F3,00D3,,            movwf prc
000003F4,1E2E,,            btfss o_f, 4
000003F5,21F2,,            call setout ;set port v prc
000003F6,162E,,            bsf o_f, 4 ;problikne white interier na 1 sekundu
000003F7,15DA,,            bsf casov, WHITUN ;do timeru ze po 1s vypne
000003F8,301E,,            movlw .30
000003F9,00E3,,            movwf timwtu
000003FA,264F,,            call t1_53 ;zahraje sirenou na 200ms
000003FB,3007,,            movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
000003FC,00D8,,            movwf cassir
000003FD,3008,,            movlw .8
000003FE,00D7,,            movwf timsir
000003FF,17AE,,            bsf o_f, 7 ;odklopi zrcatka neboli zapne
00000400,14E2,,            bsf PORTE_temp, 1
00000401,1489,,            bsf PORTE, 1
00000402,0000,,            nop ;MLUV "auto odemčeno"
00000403,115A,,            bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
00000404,24F4,,            call t1_08 ;odemkne
,,,
,,,                  ;stahnuti okenek
,,,            ;movf o1tmp, W
,,,            ;movwf o1tar
,,,            ;movf o2tmp, W
,,,            ;movwf o2tar
,,,            ;movf o3tmp, W
,,,            ;movwf o3tar
,,,            ;movf o4tmp, W
,,,            ;movwf o4tar
,,,
00000405,0008,,            return
,,,
,,,;spinacka poloha up
00000406,1964,t1_02,t1_02       btfsc spinac, 2
00000407,0008,,            return
00000408,1403,,            bsf STATUS, C
00000409,0DE4,,            rlf spinac, F
,,,                  ;pokud poloha 3
0000040A,1D64,,            btfss spinac, 2
0000040B,2C21,,            goto t2_02
0000040C,1029,,            bcf o_a, 0
0000040D,1060,,            bcf PORTC_temp, 0
0000040E,1007,,            bcf PORTC, 0
0000040F,10A9,,            bcf o_a, 1
00000410,10E0,,            bcf PORTC_temp, 1
00000411,1087,,            bcf PORTC, 1
00000412,1531,,            bsf o_i, 2
00000413,301A,,            movlw b'11010' ;port D2
00000414,00D2,,            movwf port
00000415,3003,,            movlw b'11' ;procesor 3
00000416,00D3,,            movwf prc
00000417,21F2,,            call setout ;set port v prc
00000418,15B1,,            bsf o_i, 3
00000419,301B,,            movlw b'11011' ;port D3
0000041A,00D2,,            movwf port
0000041B,3003,,            movlw b'11' ;procesor 3
0000041C,00D3,,            movwf prc
0000041D,21F2,,            call setout ;set port v prc
0000041E,3014,,            movlw .20 ;nastavi startovani pouze max na vterinu
0000041F,00E5,,            movwf timspi
00000420,0008,,            return
,,,            ;pokud poloha 2
00000421,1CE4,t2_02,t2_02       btfss spinac, 1
00000422,2C2A,,            goto t3_02
00000423,1429,,            bsf o_a, 0
00000424,1460,,            bsf PORTC_temp, 0
00000425,1407,,            bsf PORTC, 0
00000426,1529,,            bsf o_a, 2
00000427,1560,,            bsf PORTC_temp, 2
00000428,1507,,            bsf PORTC, 2
00000429,0008,,            return
,,,            ;pokud poloha 1
0000042A,14A9,t3_02,t3_02       bsf o_a, 1
0000042B,14E0,,            bsf PORTC_temp, 1
0000042C,1487,,            bsf PORTC, 1
0000042D,0008,,            return
,,,
,,,;spinacka poloha down
0000042E,1C64,t1_03,t1_03       btfss spinac, 0
0000042F,0008,,            return
00000430,1003,,            bcf STATUS, C
00000431,0CE4,,            rrf spinac, F
,,,            ;pokud poloha 2
00000432,1CE4,,            btfss spinac, 1
00000433,2C47,,            goto t2_03
00000434,1429,,            bsf o_a, 0
00000435,1460,,            bsf PORTC_temp, 0
00000436,1407,,            bsf PORTC, 0
00000437,14A9,,            bsf o_a, 1
00000438,14E0,,            bsf PORTC_temp, 1
00000439,1487,,            bsf PORTC, 1
0000043A,1131,,            bcf o_i, 2
0000043B,301A,,            movlw b'11010' ;port D2
0000043C,00D2,,            movwf port
0000043D,3003,,            movlw b'11' ;procesor 3
0000043E,00D3,,            movwf prc
0000043F,2219,,            call clrout ;set port v prc
00000440,11B1,,            bcf o_i, 3
00000441,301B,,            movlw b'11011' ;port D3
00000442,00D2,,            movwf port
00000443,3003,,            movlw b'11' ;procesor 3
00000444,00D3,,            movwf prc
00000445,2219,,            call clrout ;set port v prc
00000446,0008,,            return
,,,            ;pokud poloha 1
00000447,1C64,t2_03,t2_03       btfss spinac, 0
00000448,2C50,,            goto t3_03
00000449,1029,,            bcf o_a, 0
0000044A,1060,,            bcf PORTC_temp, 0
0000044B,1007,,            bcf PORTC, 0
0000044C,1129,,            bcf o_a, 2
0000044D,1160,,            bcf PORTC_temp, 2
0000044E,1107,,            bcf PORTC, 2
0000044F,0008,,            return
,,,            ;pokud poloha 0
00000450,10A9,t3_03,t3_03       bcf o_a, 1
00000451,10E0,,            bcf PORTC_temp, 1
00000452,1087,,            bcf PORTC, 1
00000453,0008,,            return
,,,
,,,;alarm stop
00000454,1EDA,t1_04,t1_04       btfss casov, ALARM
00000455,0008,,            return
00000456,3018,,            movlw b'11000' ;port D0  ;sirena
00000457,00D2,,            movwf port
00000458,3003,,            movlw b'11' ;procesor 3
00000459,00D3,,            movwf prc
0000045A,18AD,,            btfsc o_e, 1
0000045B,2219,,            call clrout ;set port v prc
0000045C,10AD,,            bcf o_e, 1
,,,            ;varovky
0000045D,248A,,            call t1_05
,,,
,,,            ;stroboskop
0000045E,3019,,            movlw b'11001' ;port D1
0000045F,00D2,,            movwf port
00000460,3002,,            movlw b'10' ;procesor 2
00000461,00D3,,            movwf prc
00000462,192D,,            btfsc o_e, 2
00000463,2219,,            call clrout ;set port v prc
00000464,112D,,            bcf o_e, 2
,,,
00000465,3016,,            movlw b'10110' ;port C6
00000466,00D2,,            movwf port
00000467,3002,,            movlw b'10' ;procesor 2
00000468,00D3,,            movwf prc
00000469,192B,,            btfsc o_c, 2
0000046A,2219,,            call clrout ;set port v prc
0000046B,112B,,            bcf o_c, 2
0000046C,3017,,            movlw b'10111' ;port C7
0000046D,00D2,,            movwf port
0000046E,3002,,            movlw b'10' ;procesor 2
0000046F,00D3,,            movwf prc
00000470,19AB,,            btfsc o_c, 3
00000471,2219,,            call clrout ;set port v prc
00000472,11AB,,            bcf o_c, 3
00000473,301A,,            movlw b'11010' ;port D2
00000474,00D2,,            movwf port
00000475,3002,,            movlw b'10' ;procesor 2
00000476,00D3,,            movwf prc
00000477,19AE,,            btfsc o_f, 3
00000478,2219,,            call clrout ;set port v prc
00000479,11AE,,            bcf o_f, 3
0000047A,301B,,            movlw b'11011' ;port D3
0000047B,00D2,,            movwf port
0000047C,3002,,            movlw b'10' ;procesor 2
0000047D,00D3,,            movwf prc
0000047E,1A2E,,            btfsc o_f, 4
0000047F,2219,,            call clrout ;set port v prc
00000480,122E,,            bcf o_f, 4
00000481,3019,,            movlw b'11001' ;port D1
00000482,00D2,,            movwf port
00000483,3003,,            movlw b'11' ;procesor 3
00000484,00D3,,            movwf prc
00000485,1A2B,,            btfsc o_c, 4
00000486,2219,,            call clrout ;set port v prc
00000487,122B,,            bcf o_c, 4
,,,
00000488,12DA,,            bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
00000489,0008,,            return
,,,
,,,;varovna svetla
0000048A,186B,t1_05,t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0000048B,122D,,            bcf o_e, 4
0000048C,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
0000048D,1361,,            bcf PORTD_temp, 6
0000048E,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
0000048F,1308,,            bcf PORTD, 6
00000490,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000491,12AD,,            bcf o_e, 5
00000492,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000493,13E1,,            bcf PORTD_temp, 7
00000494,186B,,            btfsc casvar, 0 ;pokud oba zaply oba vypne
00000495,1388,,            bcf PORTD, 7
,,,
00000496,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000497,162D,,            bsf o_e, 4
00000498,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
00000499,1761,,            bsf PORTD_temp, 6
0000049A,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
0000049B,1708,,            bsf PORTD, 6
0000049C,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
0000049D,16AD,,            bsf o_e, 5
0000049E,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
0000049F,17E1,,            bsf PORTD_temp, 7
000004A0,1C6B,,            btfss casvar, 0 ;pokud jeden vyply oba zapne
000004A1,1788,,            bsf PORTD, 7
,,,
000004A2,186B,,            btfsc casvar, 0
000004A3,3000,,            movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
000004A4,1C6B,,            btfss casvar, 0
000004A5,30FF,,            movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
000004A6,00EB,,            movwf casvar
000004A7,3008,,            movlw .8
000004A8,00DB,,            movwf timvar
,,,
000004A9,0008,,            return
,,,
,,,;vypnout vse
000004AA,18D9,t1_06,t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
000004AB,0008,,            return
,,,            ;svetla
000004AC,10AB,,            bcf o_c, 1
000004AD,11E0,,            bcf PORTC_temp, 3
000004AE,1187,,            bcf PORTC, 3
,,,            ;red tuning
,,,            ;white tunning
,,,            ;red interier
,,,            ;white interier
000004AF,3017,,            movlw b'10111' ;port C7
000004B0,00D2,,            movwf port
000004B1,3002,,            movlw b'10' ;procesor 2
000004B2,00D3,,            movwf prc
000004B3,19AB,,            btfsc o_c, 3
000004B4,2219,,            call clrout ;set port v prc
000004B5,11AB,,            bcf o_c, 3
000004B6,301B,,            movlw b'11011' ;port D3
000004B7,00D2,,            movwf port
000004B8,3002,,            movlw b'10' ;procesor 2
000004B9,00D3,,            movwf prc
000004BA,1A2E,,            btfsc o_f, 4
000004BB,2219,,            call clrout ;set port v prc
000004BC,122E,,            bcf o_f, 4
000004BD,3016,,            movlw b'10110' ;port C6
000004BE,00D2,,            movwf port
000004BF,3002,,            movlw b'10' ;procesor 2
000004C0,00D3,,            movwf prc
000004C1,192B,,            btfsc o_c, 2
000004C2,2219,,            call clrout ;set port v prc
000004C3,112B,,            bcf o_c, 2
000004C4,301A,,            movlw b'11010' ;port D2
000004C5,00D2,,            movwf port
000004C6,3002,,            movlw b'10' ;procesor 2
000004C7,00D3,,            movwf prc
000004C8,19AE,,            btfsc o_f, 3
000004C9,2219,,            call clrout ;set port v prc
000004CA,11AE,,            bcf o_f, 3
,,,
,,,            ;stroboskop
000004CB,3019,,            movlw b'11001' ;port D1
000004CC,00D2,,            movwf port
000004CD,3002,,            movlw b'10' ;procesor 2
000004CE,00D3,,            movwf prc
000004CF,192D,,            btfsc o_e, 2
000004D0,2219,,            call clrout ;set port v prc
000004D1,112D,,            bcf o_e, 2
,,,            ;sirena
000004D2,3018,,            movlw b'11000' ;port D0
000004D3,00D2,,            movwf port
000004D4,3003,,            movlw b'11' ;procesor 3
000004D5,00D3,,            movwf prc
000004D6,18AD,,            btfsc o_e, 1
000004D7,2219,,            call clrout ;set port v prc
000004D8,10AD,,            bcf o_e, 1
,,,            ;parkovacky
000004D9,11AD,,            bcf o_e, 3
000004DA,12E1,,            bcf PORTD_temp, 5
000004DB,1288,,            bcf PORTD, 5
,,,            ;mlhovky zadni
000004DC,10AE,,            bcf o_f, 1
000004DD,1260,,            bcf PORTC_temp, 4
000004DE,1207,,            bcf PORTC, 4
,,,            ;mlhovky predni
000004DF,12AB,,            bcf o_c, 5
000004E0,10E1,,            bcf PORTD_temp, 1
000004E1,1088,,            bcf PORTD, 1
,,,            ;rozehrivani okenka
000004E2,112E,,            bcf o_f, 2
000004E3,12E0,,            bcf PORTC_temp, 5
000004E4,1287,,            bcf PORTC, 5
000004E5,0008,,            return
,,,
,,,;zamknuti
000004E6,1451,t1_07,t1_07       bsf locked, 0 ;nastavi registr locked
000004E7,12B0,,            bcf o_h, 5 ;vypne v regs led odemceno
000004E8,3015,,            movlw b'10101' ;port C5
000004E9,00D2,,            movwf port
000004EA,3003,,            movlw b'11' ;procesor 3
000004EB,00D3,,            movwf prc
000004EC,2219,,            call clrout ;smaz port v prc
000004ED,1730,,            bsf o_h, 6 ;zapne v regs led zamceno
000004EE,3016,,            movlw b'10110' ;port C6
000004EF,00D2,,            movwf port
000004F0,3003,,            movlw b'0011' ;procesor 3
000004F1,00D3,,            movwf prc
000004F2,21F2,,            call setout ;nastav port v prc
000004F3,0008,,            return
,,,;odemknuti
000004F4,1051,t1_08,t1_08       bcf locked, 0 ;smaze registr locked
000004F5,16B0,,            bsf o_h, 5 ;zapne v regs led odemceno
000004F6,3015,,            movlw b'10101' ;port C5
000004F7,00D2,,            movwf port
000004F8,3003,,            movlw b'11' ;procesor 3
000004F9,00D3,,            movwf prc
000004FA,21F2,,            call setout ;nastav port v prc
000004FB,1730,,            bsf o_h, 6 ;vypne v regs led zamceno
000004FC,3016,,            movlw b'10110' ;port C6
000004FD,00D2,,            movwf port
000004FE,3003,,            movlw b'0011' ;procesor 3
000004FF,00D3,,            movwf prc
00000500,2219,,            call clrout ;smaz port v prc
00000501,0008,,            return
,,,
,,,;pripraveno
00000502,0000,t1_09,t1_09       nop
00000503,0008,,            return
,,,
,,,;odskok dvere 1
00000504,162A,t1_10,t1_10       bsf o_b, 4
00000505,301F,,            movlw b'11111' ;port D7
00000506,00D2,,            movwf port
00000507,3003,,            movlw b'11' ;procesor 3
00000508,00D3,,            movwf prc
00000509,21F2,,            call setout ;smaz port v prc
0000050A,165A,,            bsf casov, ODSKOK
0000050B,3008,,            movlw .8
0000050C,00E6,,            movwf timods
0000050D,0008,,            return
,,,
,,,;odskok dvere 2
0000050E,16AA,t1_11,t1_11       bsf o_b, 5
0000050F,17E0,,            bsf PORTC_temp, 7
00000510,1787,,            bsf PORTC, 7
00000511,165A,,            bsf casov, ODSKOK
00000512,3008,,            movlw .8
00000513,00E6,,            movwf timods
00000514,0008,,            return
,,,
,,,;odskok dvere 3
00000515,1A31,t1_12,t1_12       btfsc o_i, 4
00000516,0008,,            return
00000517,172A,,            bsf o_b, 6
00000518,155F,,            bsf PORTB_temp, 2
00000519,1506,,            bsf PORTB, 2
0000051A,165A,,            bsf casov, ODSKOK
0000051B,3008,,            movlw .8
0000051C,00E6,,            movwf timods
0000051D,0008,,            return
,,,
,,,;odskok dvere 4
0000051E,1A31,t1_13,t1_13       btfsc o_i, 4
0000051F,0008,,            return
00000520,17AA,,            bsf o_b, 7
00000521,15DF,,            bsf PORTB_temp, 3
00000522,1586,,            bsf PORTB, 3
00000523,165A,,            bsf casov, ODSKOK
00000524,3008,,            movlw .8
00000525,00E6,,            movwf timods
00000526,0008,,            return
,,,
,,,;odskok kufr
00000527,15AA,t1_14,t1_14       bsf o_b, 3
00000528,165F,,            bsf PORTB_temp, 4
00000529,1606,,            bsf PORTB, 4
0000052A,165A,,            bsf casov, ODSKOK
0000052B,3008,,            movlw .8
0000052C,00E6,,            movwf timods
0000052D,0008,,            return
,,,
,,,;odskok nadrz
0000052E,142D,t1_15,t1_15       bsf o_e, 0
0000052F,16DF,,            bsf PORTB_temp, 5
00000530,1686,,            bsf PORTB, 5
00000531,165A,,            bsf casov, ODSKOK
00000532,3008,,            movlw .8
00000533,00E6,,            movwf timods
00000534,0008,,            return
,,,
,,,;odskok kapota
00000535,142B,t1_16,t1_16       bsf o_c, 0
00000536,175F,,            bsf PORTB_temp, 6
00000537,1706,,            bsf PORTB, 6
00000538,165A,,            bsf casov, ODSKOK
00000539,3008,,            movlw .8
0000053A,00E6,,            movwf timods
0000053B,0008,,            return
,,,
,,,;pripraveno
0000053C,0000,t1_17,t1_17       nop
0000053D,0008,,            return
,,,;pripraveno
0000053E,0000,t1_18,t1_18       nop
0000053F,0008,,            return
,,,;pripraveno
00000540,0000,t1_19,t1_19       nop
00000541,0008,,            return
,,,
,,,;play pause
00000542,14AC,t1_20,t1_20       bsf o_d, 1
00000543,3010,,            movlw b'10000' ;port C0
00000544,00D2,,            movwf port
00000545,3002,,            movlw b'10' ;procesor 2
00000546,00D3,,            movwf prc
00000547,21F2,,            call setout ;nastav port v prc
00000548,0008,,            return
,,,
,,,;stop
00000549,152C,t1_21,t1_21       bsf o_d, 2
0000054A,3011,,            movlw b'10001' ;port C1
0000054B,00D2,,            movwf port
0000054C,3002,,            movlw b'10' ;procesor 2
0000054D,00D3,,            movwf prc
0000054E,21F2,,            call setout ;nastav port v prc
0000054F,0008,,            return
,,,
,,,;forwind
00000550,15AC,t1_22,t1_22       bsf o_d, 3
00000551,3012,,            movlw b'10010' ;port C2
00000552,00D2,,            movwf port
00000553,3002,,            movlw b'10' ;procesor 2
00000554,00D3,,            movwf prc
00000555,21F2,,            call setout ;nastav port v prc
00000556,0008,,            return
,,,
,,,;rewind
00000557,162C,t1_23,t1_23       bsf o_d, 4
00000558,3013,,            movlw b'10011' ;port C3
00000559,00D2,,            movwf port
0000055A,3002,,            movlw b'10' ;procesor 2
0000055B,00D3,,            movwf prc
0000055C,21F2,,            call setout ;nastav port v prc
0000055D,0008,,            return
,,,
,,,;volume +
0000055E,16AC,t1_24,t1_24       bsf o_d, 5
0000055F,3014,,            movlw b'10100' ;port C4
00000560,00D2,,            movwf port
00000561,3002,,            movlw b'10' ;procesor 2
00000562,00D3,,            movwf prc
00000563,21F2,,            call setout ;nastav port v prc
00000564,0008,,            return
,,,
,,,;volume -
00000565,172C,t1_25,t1_25       bsf o_d, 6
00000566,3015,,            movlw b'10101' ;port C5
00000567,00D2,,            movwf port
00000568,3002,,            movlw b'10' ;procesor 2
00000569,00D3,,            movwf prc
0000056A,21F2,,            call setout ;nastav port v prc
0000056B,0008,,            return
,,,
,,,;rozehrivani okenka
0000056C,082E,t1_26,t1_26       movf o_f, W
0000056D,00A4,,            movwf r5
,,,
0000056E,1D24,,            btfss r5, 2
0000056F,16E0,,            bsf PORTC_temp, 5
00000570,1D24,,            btfss r5, 2
00000571,1687,,            bsf PORTC, 5
00000572,1D24,,            btfss r5, 2
00000573,152E,,            bsf o_f, 2
,,,
00000574,1924,,            btfsc r5, 2
00000575,12E0,,            bcf PORTC_temp, 5
00000576,1924,,            btfsc r5, 2
00000577,1287,,            bcf PORTC, 5
00000578,1924,,            btfsc r5, 2
00000579,112E,,            bcf o_f, 2
0000057A,0008,,            return
,,,
,,,;pripraveno
0000057B,0000,t1_27,t1_27       nop
0000057C,0008,,            return
,,,;pripraveno
0000057D,0000,t1_28,t1_28       nop
0000057E,0008,,            return
,,,;pripraveno
0000057F,0000,t1_29,t1_29       nop
00000580,0008,,            return
,,,
,,,;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
00000581,0008,t1_30,t1_30       return;movf o1tar, W
00000582,00A4,,            movwf r5
00000583,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
00000584,07A4,,            addwf r5, F
00000585,1C03,,            btfss STATUS, C
00000586,0008,,            return
00000587,0824,,            movf r5, W
00000588,00A4,,            movwf o1tar
00000589,0008,,            return
,,,
,,,;okno 2 up
0000058A,0008,t1_31,t1_31       return;movf o2tar, W
0000058B,00A4,,            movwf r5
0000058C,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0000058D,07A4,,            addwf r5, F
0000058E,1C03,,            btfss STATUS, C
0000058F,0008,,            return
00000590,0824,,            movf r5, W
00000591,00A5,,            movwf o2tar
00000592,0008,,            return
,,,
,,,;okno 3 up
00000593,0008,t1_32,t1_32       return;btfsc o_i, 4
00000594,0008,,            return
00000595,0826,,            movf o3tar, W
00000596,00A4,,            movwf r5
00000597,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
00000598,07A4,,            addwf r5, F
00000599,1C03,,            btfss STATUS, C
0000059A,0008,,            return
0000059B,0824,,            movf r5, W
0000059C,00A6,,            movwf o3tar
0000059D,0008,,            return
,,,
,,,;okno 4 up
0000059E,0008,t1_33,t1_33       return;btfsc o_i, 4
0000059F,0008,,            return
000005A0,0827,,            movf o4tar, W
000005A1,00A4,,            movwf r5
000005A2,30F0,,            movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
000005A3,07A4,,            addwf r5, F
000005A4,1C03,,            btfss STATUS, C
000005A5,0008,,            return
000005A6,0824,,            movf r5, W
000005A7,00A7,,            movwf o4tar
000005A8,0008,,            return
,,,
,,,;okno 1 down
000005A9,0008,t1_34,t1_34       return;movf o1tar, W
000005AA,00A4,,            movwf r5
000005AB,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
000005AC,07A4,,            addwf r5, F
000005AD,1803,,            btfsc STATUS, C
000005AE,0008,,            return
000005AF,0824,,            movf r5, W
000005B0,00A4,,            movwf o1tar
000005B1,0008,,            return
,,,
,,,;okno 2 down
000005B2,0008,t1_35,t1_35       return;movf o2tar, W
000005B3,00A4,,            movwf r5
000005B4,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
000005B5,07A4,,            addwf r5, F
000005B6,1803,,            btfsc STATUS, C
000005B7,0008,,            return
000005B8,0824,,            movf r5, W
000005B9,00A5,,            movwf o2tar
000005BA,0008,,            return
,,,
,,,;okno 3 down
000005BB,0008,t1_36,t1_36       return;btfsc o_i, 4
000005BC,0008,,            return
000005BD,0826,,            movf o3tar, W
000005BE,00A4,,            movwf r5
000005BF,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
000005C0,07A4,,            addwf r5, F
000005C1,1803,,            btfsc STATUS, C
000005C2,0008,,            return
000005C3,0824,,            movf r5, W
000005C4,00A6,,            movwf o3tar
000005C5,0008,,            return
,,,
,,,;detský zámek zadních oken a dveri
000005C6,1E31,t1_37,t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
000005C7,2DCF,,            goto t2_37
000005C8,1231,,            bcf o_i, 4
000005C9,301C,,            movlw b'11100' ;port D4
000005CA,00D2,,            movwf port
000005CB,3003,,            movlw b'11' ;procesor 3
000005CC,00D3,,            movwf prc
000005CD,2219,,            call clrout ;nastav port v prc
000005CE,0008,,            return
,,,
000005CF,1631,t2_37,t2_37       bsf o_i, 4
000005D0,301C,,            movlw b'11100' ;port D4
000005D1,00D2,,            movwf port
000005D2,3003,,            movlw b'11' ;procesor 3
000005D3,00D3,,            movwf prc
000005D4,21F2,,            call setout ;nastav port v prc
000005D5,0008,,            return
,,,
,,,;pripraveno
000005D6,0000,t1_38,t1_38       nop
000005D7,0008,,            return
,,,;pripraveno
000005D8,0000,t1_39,t1_39       nop
000005D9,0008,,            return
,,,
,,,;RED tuning
000005DA,3016,t1_40,t1_40       movlw b'10110' ;port C6
000005DB,00D2,,            movwf port
000005DC,3002,,            movlw b'10' ;procesor 2
000005DD,00D3,,            movwf prc
,,,
000005DE,082B,,            movf o_c, W
000005DF,00A4,,            movwf r5
,,,
000005E0,1D24,,            btfss r5, 2
000005E1,21F2,,            call setout ;nastav port v prc
000005E2,1D24,,            btfss r5, 2
000005E3,152B,,            bsf o_c, 2
,,,
000005E4,1924,,            btfsc r5, 2
000005E5,2219,,            call clrout ;smaz port v prc
000005E6,1924,,            btfsc r5, 2
000005E7,112B,,            bcf o_c, 2
000005E8,0008,,            return
,,,
,,,;WHITE tunning
000005E9,3017,t1_41,t1_41       movlw b'10111' ;port C7
000005EA,00D2,,            movwf port
000005EB,3002,,            movlw b'10' ;procesor 2
000005EC,00D3,,            movwf prc
,,,
000005ED,082B,,            movf o_c, W
000005EE,00A4,,            movwf r5
,,,
000005EF,1DA4,,            btfss r5, 3
000005F0,21F2,,            call setout ;nastav port v prc
000005F1,1DA4,,            btfss r5, 3
000005F2,15AB,,            bsf o_c, 3
,,,
000005F3,19A4,,            btfsc r5, 3
000005F4,2219,,            call clrout ;smaz port v prc
000005F5,19A4,,            btfsc r5, 3
000005F6,11AB,,            bcf o_c, 3
000005F7,0008,,            return
,,,
,,,;Parkovačky
000005F8,082D,t1_42,t1_42       movf o_e, W
000005F9,00A4,,            movwf r5
,,,
000005FA,1DA4,,            btfss r5, 3
000005FB,16E1,,            bsf PORTD_temp, 5
000005FC,1DA4,,            btfss r5, 3
000005FD,1688,,            bsf PORTD, 5
000005FE,1DA4,,            btfss r5, 3
000005FF,15AD,,            bsf o_e, 3
,,,
00000600,19A4,,            btfsc r5, 3
00000601,12E1,,            bcf PORTD_temp, 5
00000602,19A4,,            btfsc r5, 3
00000603,1288,,            bcf PORTD, 5
00000604,19A4,,            btfsc r5, 3
00000605,11AD,,            bcf o_e, 3
00000606,0008,,            return
,,,
,,,;Světla
00000607,082B,t1_43,t1_43       movf o_c, W
00000608,00A4,,            movwf r5
,,,
00000609,1CA4,,            btfss r5, 1
0000060A,15E0,,            bsf PORTC_temp, 3
0000060B,1CA4,,            btfss r5, 1
0000060C,1587,,            bsf PORTC, 3
0000060D,1CA4,,            btfss r5, 1
0000060E,14AB,,            bsf o_c, 1
,,,
0000060F,18A4,,            btfsc r5, 1
00000610,11E0,,            bcf PORTC_temp, 3
00000611,18A4,,            btfsc r5, 1
00000612,1187,,            bcf PORTC, 3
00000613,18A4,,            btfsc r5, 1
00000614,10AB,,            bcf o_c, 1
00000615,0008,,            return
,,,
,,,;Mlhovky zadní
00000616,082E,t1_44,t1_44       movf o_f, W
00000617,00A4,,            movwf r5
,,,
00000618,1CA4,,            btfss r5, 1
00000619,1660,,            bsf PORTC_temp, 4
0000061A,1CA4,,            btfss r5, 1
0000061B,1607,,            bsf PORTC, 4
0000061C,1CA4,,            btfss r5, 1
0000061D,14AE,,            bsf o_f, 1
,,,
0000061E,18A4,,            btfsc r5, 1
0000061F,1260,,            bcf PORTC_temp, 4
00000620,18A4,,            btfsc r5, 1
00000621,1207,,            bcf PORTC, 4
00000622,18A4,,            btfsc r5, 1
00000623,10AE,,            bcf o_f, 1
00000624,0008,,            return
,,,
,,,;Blinkr levý
00000625,162D,t1_45,t1_45       bsf o_e, 4
00000626,1761,,            bsf PORTD_temp, 6
00000627,1708,,            bsf PORTD, 6
00000628,0008,,            return
,,,
,,,;Blinkr pravý
00000629,16AD,t1_46,t1_46       bsf o_e, 5
0000062A,17E1,,            bsf PORTD_temp, 7
0000062B,1788,,            bsf PORTD, 7
0000062C,0008,,            return
,,,
,,,;Mlhovky přední
0000062D,082B,t1_47,t1_47       movf o_c, W
0000062E,00A4,,            movwf r5
,,,
0000062F,1EA4,,            btfss r5, 5
00000630,14E1,,            bsf PORTD_temp, 1
00000631,1EA4,,            btfss r5, 5
00000632,1488,,            bsf PORTD, 1
00000633,1EA4,,            btfss r5, 5
00000634,16AB,,            bsf o_c, 5
,,,
00000635,1AA4,,            btfsc r5, 5
00000636,10E1,,            bcf PORTD_temp, 1
00000637,1AA4,,            btfsc r5, 5
00000638,1088,,            bcf PORTD, 1
00000639,1AA4,,            btfsc r5, 5
0000063A,12AB,,            bcf o_c, 5
0000063B,0008,,            return
,,,
,,,;pripraveno
0000063C,0000,t1_48,t1_48       nop
0000063D,0008,,            return
,,,;pripraveno
0000063E,0000,t1_49,t1_49       nop
0000063F,0008,,            return
,,,
,,,;klakson
00000640,162B,t1_50,t1_50       bsf o_c, 4
00000641,3019,,            movlw b'11001' ;port D1
00000642,00D2,,            movwf port
00000643,3003,,            movlw b'11' ;procesor 3
00000644,00D3,,            movwf prc
00000645,21F2,,            call setout ;nastav port v prc
00000646,0008,,            return
,,,
,,,;stěrače
00000647,17AB,t1_51,t1_51       bsf o_c, 7
00000648,15E1,,            bsf PORTD_temp, 3
00000649,1588,,            bsf PORTD, 3
0000064A,0008,,            return
,,,;odstřikovače
0000064B,172B,t1_52,t1_52       bsf o_c, 6
0000064C,1561,,            bsf PORTD_temp, 2
0000064D,1508,,            bsf PORTD, 2
0000064E,0008,,            return
,,,
,,,;Siréna
0000064F,3018,t1_53,t1_53       movlw b'11000' ;port D0
00000650,00D2,,            movwf port
00000651,3003,,            movlw b'11' ;procesor 3
00000652,00D3,,            movwf prc
,,,
00000653,082D,,            movf o_e, W
00000654,00A4,,            movwf r5
,,,
00000655,1CA4,,            btfss r5, 1
00000656,21F2,,            call setout ;nastav port v prc
00000657,1CA4,,            btfss r5, 1
00000658,14AD,,            bsf o_e, 1
,,,
00000659,18A4,,            btfsc r5, 1
0000065A,2219,,            call clrout ;smaz port v prc
0000065B,18A4,,            btfsc r5, 1
0000065C,10AD,,            bcf o_e, 1
,,,
0000065D,0008,,            return
,,,
,,,;stroboskop
0000065E,3019,t1_54,t1_54       movlw b'11001' ;port D1
0000065F,00D2,,            movwf port
00000660,3002,,            movlw b'10' ;procesor 2
00000661,00D3,,            movwf prc
,,,
00000662,082D,,            movf o_e, W
00000663,00A4,,            movwf r5
,,,
00000664,1D24,,            btfss r5, 2
00000665,21F2,,            call setout ;nastav port v prc
00000666,1D24,,            btfss r5, 2
00000667,152D,,            bsf o_e, 2
,,,
00000668,1924,,            btfsc r5, 2
00000669,2219,,            call clrout ;smaz port v prc
0000066A,1924,,            btfsc r5, 2
0000066B,112D,,            bcf o_e, 2
0000066C,0008,,            return
,,,
,,,;Dálkové světla
0000066D,142C,t1_55,t1_55       bsf o_d, 0
0000066E,1661,,            bsf PORTD_temp, 4
0000066F,1608,,            bsf PORTD, 4
00000670,0008,,            return
,,,
,,,;alarm start
00000671,3018,t1_56,t1_56       movlw b'11000' ;port D0  ;sirena
00000672,00D2,,            movwf port
00000673,3003,,            movlw b'11' ;procesor 3
00000674,00D3,,            movwf prc
00000675,1CAD,,            btfss o_e, 1
00000676,21F2,,            call setout ;set port v prc
00000677,14AD,,            bsf o_e, 1
,,,            ;varovky
00000678,248A,,            call t1_05
,,,
,,,            ;stroboskop
00000679,3019,,            movlw b'11001' ;port D1
0000067A,00D2,,            movwf port
0000067B,3002,,            movlw b'10' ;procesor 2
0000067C,00D3,,            movwf prc
0000067D,1D2D,,            btfss o_e, 2
0000067E,21F2,,            call setout ;set port v prc
0000067F,152D,,            bsf o_e, 2
,,,            ;red tunning
00000680,3016,,            movlw b'10110' ;port C6
00000681,00D2,,            movwf port
00000682,3002,,            movlw b'10' ;procesor 2
00000683,00D3,,            movwf prc
00000684,1D2B,,            btfss o_c, 2
00000685,21F2,,            call setout ;set port v prc
00000686,152B,,            bsf o_c, 2
,,,            ;white interier
00000687,301B,,            movlw b'11011' ;port D3
00000688,00D2,,            movwf port
00000689,3002,,            movlw b'10' ;procesor 2
0000068A,00D3,,            movwf prc
0000068B,1E2E,,            btfss o_f, 4
0000068C,21F2,,            call setout ;set port v prc
0000068D,162E,,            bsf o_f, 4
,,,
0000068E,16DA,,            bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0000068F,301E,,            movlw .30
00000690,00E7,,            movwf timala
,,,
00000691,0008,,            return
,,,
,,,;pripraveno
00000692,0000,t1_57,t1_57       nop
00000693,0008,,            return
,,,
,,,;pripraveno
00000694,0000,t1_58,t1_58       nop
00000695,0008,,            return
,,,
,,,;pripraveno
00000696,0000,t1_59,t1_59       nop
00000697,0008,,            return
,,,
,,,;okno 4 down
00000698,0008,t1_60,t1_60       return;btfsc o_i, 4
00000699,0008,,            return
0000069A,0827,,            movf o4tar, W
0000069B,00A4,,            movwf r5
0000069C,3010,,            movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0000069D,07A4,,            addwf r5, F
0000069E,1803,,            btfsc STATUS, C
0000069F,0008,,            return
000006A0,0824,,            movf r5, W
000006A1,00A7,,            movwf o4tar
000006A2,0008,,            return
,,,
,,,;red interiér
000006A3,301A,t1_61,t1_61       movlw b'11010' ;port D2
000006A4,00D2,,            movwf port
000006A5,3002,,            movlw b'10' ;procesor 2
000006A6,00D3,,            movwf prc
,,,
000006A7,082E,,            movf o_f, W
000006A8,00A4,,            movwf r5
,,,
000006A9,1DA4,,            btfss r5, 3
000006AA,21F2,,            call setout ;nastav port v prc
000006AB,1DA4,,            btfss r5, 3
000006AC,15AE,,            bsf o_f, 3
,,,
000006AD,19A4,,            btfsc r5, 3
000006AE,2219,,            call clrout ;smaz port v prc
000006AF,19A4,,            btfsc r5, 3
000006B0,11AE,,            bcf o_f, 3
000006B1,0008,,            return
,,,
,,,;white interier
000006B2,301B,t1_62,t1_62       movlw b'11011' ;port D3
000006B3,00D2,,            movwf port
000006B4,3002,,            movlw b'10' ;procesor 2
000006B5,00D3,,            movwf prc
,,,
000006B6,082E,,            movf o_f, W
000006B7,00A4,,            movwf r5
,,,
000006B8,1E24,,            btfss r5, 4
000006B9,21F2,,            call setout ;nastav port v prc
000006BA,1E24,,            btfss r5, 4
000006BB,162E,,            bsf o_f, 4
,,,
000006BC,1A24,,            btfsc r5, 4
000006BD,2219,,            call clrout ;smaz port v prc
000006BE,1A24,,            btfsc r5, 4
000006BF,122E,,            bcf o_f, 4
000006C0,0008,,            return
,,,
,,,;klima on/off
000006C1,17AD,t1_63,t1_63       bsf o_e, 7
000006C2,301E,,            movlw b'11110' ;port D6
000006C3,00D2,,            movwf port
000006C4,3002,,            movlw b'10' ;procesor 2
000006C5,00D3,,            movwf prc
000006C6,21F2,,            call setout ;nastav port v prc
000006C7,165A,,            bsf casov, ODSKOK
000006C8,3008,,            movlw .8
000006C9,00E6,,            movwf timods
000006CA,0008,,            return
,,,
,,,;klima teplota up
000006CB,172D,t1_64,t1_64       bsf o_e, 6
000006CC,301C,,            movlw b'11100' ;port D4
000006CD,00D2,,            movwf port
000006CE,3002,,            movlw b'10' ;procesor 2
000006CF,00D3,,            movwf prc
000006D0,21F2,,            call setout ;nastav port v prc
000006D1,165A,,            bsf casov, ODSKOK
000006D2,3008,,            movlw .8
000006D3,00E6,,            movwf timods
000006D4,0008,,            return
,,,
,,,;klima teplota down
000006D5,16AE,t1_65,t1_65       bsf o_f, 5
000006D6,301D,,            movlw b'11101' ;port D5
000006D7,00D2,,            movwf port
000006D8,3002,,            movlw b'10' ;procesor 2
000006D9,00D3,,            movwf prc
000006DA,21F2,,            call setout ;nastav port v prc
000006DB,165A,,            bsf casov, ODSKOK
000006DC,3008,,            movlw .8
000006DD,00E6,,            movwf timods
000006DE,0008,,            return
,,,
,,,;klima mista ventilace
000006DF,142E,t1_66,t1_66       bsf o_f, 0
000006E0,301F,,            movlw b'11111' ;port D7
000006E1,00D2,,            movwf port
000006E2,3002,,            movlw b'10' ;procesor 2
000006E3,00D3,,            movwf prc
000006E4,21F2,,            call setout ;nastav port v prc
000006E5,165A,,            bsf casov, ODSKOK
000006E6,3008,,            movlw .8
000006E7,00E6,,            movwf timods
000006E8,0008,,            return
,,,
,,,;pripraveno
000006E9,0000,t1_67,t1_67       nop
000006EA,0008,,            return
,,,;pripraveno
000006EB,0000,t1_68,t1_68       nop
000006EC,0008,,            return
,,,;pripraveno
000006ED,0000,t1_69,t1_69       nop
000006EE,0008,,            return
,,,
000006EF,0000,t1_x,t1_x        nop
000006F0,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
000006F1,3005,w20i,w20i        movlw .5
000006F2,00A3,,            movwf r4
000006F3,0BA3,,            decfsz r4, F
000006F4,2EF3,,            goto $-1
000006F5,0008,,            return
,,,
,,,;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
000006F6,3050,w100c,w100c       movlw .80
000006F7,00A3,,            movwf r4
000006F8,0BA3,,            decfsz r4, F
000006F9,2EF8,,            goto $-1
000006FA,0008,,            return
,,,
,,,;cekej necelou polovinu w100c
000006FB,301E,w40c,w40c        movlw .30
000006FC,00A3,,            movwf r4
000006FD,0BA3,,            decfsz r4, F
000006FE,2EFD,,            goto $-1
000006FF,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
00000700,3019,klakson,klakson     movlw b'11001' ;port D1
00000701,00D2,,            movwf port
00000702,3003,,            movlw b'11' ;procesor 3
00000703,00D3,,            movwf prc
,,,
00000704,082B,,            movf o_c, W
00000705,00A4,,            movwf r5
,,,
00000706,1E24,,            btfss r5, 4
00000707,21F2,,            call setout ;nastav port v prc
00000708,1E24,,            btfss r5, 4
00000709,162B,,            bsf o_c, 4
,,,
0000070A,1A24,,            btfsc r5, 4
0000070B,2219,,            call clrout ;smaz port v prc
0000070C,1A24,,            btfsc r5, 4
0000070D,122B,,            bcf o_c, 4
0000070E,0008,,            return
,,,
,,,
,,,;zmeni stav LED zamceno
0000070F,3016,ledzam,ledzam      movlw b'10110' ;port C6
00000710,00D2,,            movwf port
00000711,3003,,            movlw b'11' ;procesor 3
00000712,00D3,,            movwf prc
,,,
00000713,0830,,            movf o_h, W
00000714,00A4,,            movwf r5
,,,
00000715,1F24,,            btfss r5, 6
00000716,21F2,,            call setout ;nastav port v prc
00000717,1F24,,            btfss r5, 6
00000718,1730,,            bsf o_h, 6
,,,
00000719,1B24,,            btfsc r5, 6
0000071A,2219,,            call clrout ;smaz port v prc
0000071B,1B24,,            btfsc r5, 6
0000071C,1330,,            bcf o_h, 6
,,,
0000071D,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
00000800,,,            org 800h ;zacina druha stranka programu
00000800,118A,restart,restart     bcf PCLATH,3 ;Select page 0
,,,            ;Po restartu se obnovi stare registry PORTU
,,,
00000801,085E,,            movf PORTA_temp, W
00000802,0085,,            movwf PORTA
00000803,085F,,            movf PORTB_temp, W
00000804,0086,,            movwf PORTB
00000805,0860,,            movf PORTC_temp, W
00000806,0087,,            movwf PORTC
00000807,0861,,            movf PORTD_temp, W
00000808,0088,,            movwf PORTD
00000809,0862,,            movf PORTE_temp, W
0000080A,0089,,            movwf PORTE
,,,
,,,            ;zapne zadni pasy po restartu
0000080B,300E,,            movlw b'01110' ;port B6
0000080C,00D2,,            movwf port
0000080D,3003,,            movlw b'11' ;procesor 3
0000080E,00D3,,            movwf prc
0000080F,21F2,,            call setout ;nastav port v prc
00000810,172F,,            bsf o_g, 6
,,,
00000811,300F,,            movlw b'01111' ;port B7
00000812,00D2,,            movwf port
00000813,3003,,            movlw b'11' ;procesor 3
00000814,00D3,,            movwf prc
00000815,21F2,,            call setout ;nastav port v prc
00000816,17AF,,            bsf o_g, 7
,,,
,,,            ; zapne predni pasy po startu
00000817,300C,,            movlw b'01100' ;port B4
00000818,00D2,,            movwf port
00000819,3003,,            movlw b'11' ;procesor 3
0000081A,00D3,,            movwf prc
0000081B,2219,,            call clrout ;nastav port v prc
0000081C,122F,,            bcf o_g, 4
,,,
0000081D,300D,,            movlw b'01101' ;port B5
0000081E,00D2,,            movwf port
0000081F,3003,,            movlw b'11' ;procesor 3
00000820,00D3,,            movwf prc
00000821,2219,,            call clrout ;nastav port v prc
00000822,12AF,,            bcf o_g, 5
,,,
,,,
00000823,158A,,            bsf PCLATH,3 ;Select page 0
00000824,2848,,            goto loop
,,,
00000825,118A,start,start       bcf PCLATH,3 ;Select page 0
,,,
00000826,01DE,,            clrf PORTA_temp
00000827,01DF,,            clrf PORTB_temp
00000828,01E0,,            clrf PORTC_temp
00000829,01E1,,            clrf PORTD_temp
0000082A,01E2,,            clrf PORTE_temp
,,,
0000082B,23A0,,            call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
,,,
,,,            ; zapne predni pasy po startu
0000082C,300C,,            movlw b'01100' ;port B4
0000082D,00D2,,            movwf port
0000082E,3003,,            movlw b'11' ;procesor 3
0000082F,00D3,,            movwf prc
00000830,21F2,,            call setout ;nastav port v prc
00000831,162F,,            bsf o_g, 4
,,,
00000832,300D,,            movlw b'01101' ;port B5
00000833,00D2,,            movwf port
00000834,3003,,            movlw b'11' ;procesor 3
00000835,00D3,,            movwf prc
00000836,21F2,,            call setout ;nastav port v prc
00000837,16AF,,            bsf o_g, 5
,,,
,,,            ;zapne zadni pasy po restartu
00000838,300E,,            movlw b'01110' ;port B6
00000839,00D2,,            movwf port
0000083A,3003,,            movlw b'11' ;procesor 3
0000083B,00D3,,            movwf prc
0000083C,2219,,            call clrout ;nastav port v prc
0000083D,132F,,            bcf o_g, 6
,,,
0000083E,300F,,            movlw b'01111' ;port B7
0000083F,00D2,,            movwf port
00000840,3003,,            movlw b'11' ;procesor 3
00000841,00D3,,            movwf prc
00000842,2219,,            call clrout ;nastav port v prc
00000843,13AF,,            bcf o_g, 7
,,,
00000844,3019,,            movlw .25
00000845,00EC,,            movwf vterina
,,,
,,,
00000846,158A,,            bsf PCLATH,3 ;Select page 0
00000847,2848,,            goto loop
,,,
00000848,118A,loop,loop        bcf PCLATH,3 ;Select page 0
,,,
00000849,0064,,            clrwdt
,,,
,,,            ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
0000084A,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
0000084B,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
0000084C,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
0000084D,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
0000084E,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
0000084F,205C,,            call watchwait
,,,
,,,            ; Začne počítat čas odpočinku procesorů WATCH2
00000850,2059,,            call watchstart
,,,            ; Čeká až skončí čas odpočinku procesorů WATCH2
00000851,205C,,            call watchwait
,,,
,,,
,,,
00000852,1A59,,            btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
00000853,2062,,            call timer1
,,,
00000854,158A,,            bsf PCLATH,3 ;Select page 1
,,,            ;call okna ;spouští obsluhu jednotlivých okének DEBUG
00000855,118A,,            bcf PCLATH,3 ;Select page 0
,,,
,,,
,,,
,,,
00000856,3000,,            movlw .0 ;nastavime ANx kde x je zadane cislo
00000857,00F6,,            movwf ran1
00000858,158A,,            bsf PCLATH,3 ;Select page 1
00000859,22F8,,            call adconv
0000085A,118A,,            bcf PCLATH,3 ;Select page 0
0000085B,0876,,            movf ran1, W
0000085C,00A0,,            movwf r1
,,,
0000085D,093F,,            comf ir_58, W
0000085E,07A0,,            addwf r1, F
0000085F,081E,,            movf ADRESH, W
00000860,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000861,00BF,,            movwf ir_58  ;prepise reg AN prevedenou hodnotou
00000862,0820,,            movf r1, W
00000863,118A,,            bcf PCLATH,3 ;Select page 0
00000864,1D03,,            btfss STATUS, Z
00000865,2240,,            call if_58  ;pokud zmena odesle na sbernici
,,,
,,,
00000866,3001,,            movlw .1 ;nastavime ANx kde x je zadane cislo
00000867,00F6,,            movwf ran1
00000868,158A,,            bsf PCLATH,3 ;Select page 1
00000869,22F8,,            call adconv
0000086A,118A,,            bcf PCLATH,3 ;Select page 0
0000086B,0876,,            movf ran1, W
0000086C,00A0,,            movwf r1
,,,
0000086D,0943,,            comf ir_62, W
0000086E,07A0,,            addwf r1, F
0000086F,081E,,            movf ADRESH, W
00000870,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000871,00C3,,            movwf ir_62  ;prepise reg AN prevedenou hodnotou
00000872,0820,,            movf r1, W
00000873,118A,,            bcf PCLATH,3 ;Select page 0
00000874,1D03,,            btfss STATUS, Z
00000875,228D,,            call if_62  ;pokud zmena odesle na sbernici
,,,
,,,
00000876,3002,,            movlw .2 ;nastavime ANx kde x je zadane cislo
00000877,00F6,,            movwf ran1
00000878,158A,,            bsf PCLATH,3 ;Select page 1
00000879,22F8,,            call adconv
0000087A,118A,,            bcf PCLATH,3 ;Select page 0
0000087B,0876,,            movf ran1, W
0000087C,00A0,,            movwf r1
,,,
0000087D,0937,,            comf ir_50, W
0000087E,07A0,,            addwf r1, F
0000087F,081E,,            movf ADRESH, W
00000880,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000881,00B7,,            movwf ir_50  ;prepise reg AN prevedenou hodnotou
00000882,0820,,            movf r1, W
00000883,118A,,            bcf PCLATH,3 ;Select page 0
00000884,1D03,,            btfss STATUS, Z
00000885,22DA,,            call if_50  ;pokud zmena odesle na sbernici
,,,
,,,
00000886,3003,,            movlw .3 ;nastavime ANx kde x je zadane cislo
00000887,00F6,,            movwf ran1
00000888,158A,,            bsf PCLATH,3 ;Select page 1
00000889,22F8,,            call adconv
0000088A,118A,,            bcf PCLATH,3 ;Select page 0
0000088B,0876,,            movf ran1, W
0000088C,00A0,,            movwf r1
,,,
0000088D,0940,,            comf ir_59, W
0000088E,07A0,,            addwf r1, F
0000088F,081E,,            movf ADRESH, W
00000890,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000891,00C0,,            movwf ir_59  ;prepise reg AN prevedenou hodnotou
00000892,0820,,            movf r1, W
00000893,118A,,            bcf PCLATH,3 ;Select page 0
00000894,1D03,,            btfss STATUS, Z
00000895,22DC,,            call if_59  ;pokud zmena odesle na sbernici
,,,
,,,
00000896,3004,,            movlw .4 ;nastavime ANx kde x je zadane cislo
00000897,00F6,,            movwf ran1
00000898,158A,,            bsf PCLATH,3 ;Select page 1
00000899,22F8,,            call adconv
0000089A,118A,,            bcf PCLATH,3 ;Select page 0
0000089B,0876,,            movf ran1, W
0000089C,00A0,,            movwf r1
,,,
0000089D,0941,,            comf ir_60, W
0000089E,07A0,,            addwf r1, F
0000089F,081E,,            movf ADRESH, W
000008A0,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008A1,00C1,,            movwf ir_60  ;prepise reg AN prevedenou hodnotou
000008A2,0820,,            movf r1, W
000008A3,118A,,            bcf PCLATH,3 ;Select page 0
000008A4,1D03,,            btfss STATUS, Z
000008A5,22DE,,            call if_60  ;pokud zmena odesle na sbernici
,,,
,,,
000008A6,3005,,            movlw .5 ;nastavime ANx kde x je zadane cislo
000008A7,00F6,,            movwf ran1
000008A8,158A,,            bsf PCLATH,3 ;Select page 1
000008A9,22F8,,            call adconv
000008AA,118A,,            bcf PCLATH,3 ;Select page 0
000008AB,0876,,            movf ran1, W
000008AC,00A0,,            movwf r1
,,,
000008AD,0942,,            comf ir_61, W
000008AE,07A0,,            addwf r1, F
000008AF,081E,,            movf ADRESH, W
000008B0,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008B1,00C2,,            movwf ir_61  ;prepise reg AN prevedenou hodnotou
000008B2,0820,,            movf r1, W
000008B3,118A,,            bcf PCLATH,3 ;Select page 0
000008B4,1D03,,            btfss STATUS, Z
000008B5,22E0,,            call if_61  ;pokud zmena odesle na sbernici
,,,
,,,
,,,
,,,
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
000008B6,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 2
000008B7,3002,,            movlw .2  ;oznaceni ciloveho procesoru
000008B8,00F8,,            movwf cil
000008B9,2139,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
000008BA,205C,,            call watchwait
,,,
000008BB,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
000008BC,00A0,,            movwf r1
000008BD,0938,,            comf ir_51, W
000008BE,07A0,,            addwf r1, F
000008BF,0870,,            movf pri0, W
000008C0,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008C1,00B8,,            movwf ir_51  ;priepise reg AN prievedenou hodnotou
000008C2,0820,,            movf r1, W
000008C3,1D03,,            btfss STATUS, Z
000008C4,22E6,,            call if_51  ;pokud zmena spusti podprig
,,,
000008C5,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
000008C6,00A0,,            movwf r1
000008C7,0939,,            comf ir_52, W
000008C8,07A0,,            addwf r1, F
000008C9,0871,,            movf pri1, W
000008CA,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008CB,00B9,,            movwf ir_52  ;priepise reg AN prievedenou hodnotou
000008CC,0820,,            movf r1, W
000008CD,1D03,,            btfss STATUS, Z
000008CE,22E8,,            call if_52  ;pokud zmena spusti podprig
,,,
,,,
000008CF,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
000008D0,00A0,,            movwf r1
000008D1,093A,,            comf ir_53, W
000008D2,07A0,,            addwf r1, F
000008D3,0872,,            movf pri2, W
000008D4,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008D5,00BA,,            movwf ir_53  ;priepise reg AN prievedenou hodnotou
000008D6,0820,,            movf r1, W
000008D7,1D03,,            btfss STATUS, Z
000008D8,22EA,,            call if_53  ;pokud zmena spusti podprig
,,,
,,,
000008D9,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
000008DA,00A0,,            movwf r1
000008DB,093B,,            comf ir_54, W
000008DC,07A0,,            addwf r1, F
000008DD,0873,,            movf pri3, W
000008DE,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008DF,00BB,,            movwf ir_54  ;priepise reg AN prievedenou hodnotou
000008E0,0820,,            movf r1, W
000008E1,1D03,,            btfss STATUS, Z
000008E2,22EC,,            call if_54  ;pokud zmena spusti podprig
,,,
,,,
000008E3,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
000008E4,00A0,,            movwf r1
000008E5,093C,,            comf ir_55, W
000008E6,07A0,,            addwf r1, F
000008E7,0874,,            movf pri4, W
000008E8,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008E9,00BC,,            movwf ir_55  ;priepise reg AN prievedenou hodnotou
000008EA,0820,,            movf r1, W
000008EB,1D03,,            btfss STATUS, Z
000008EC,22EE,,            call if_55  ;pokud zmena spusti podprig
,,,
,,,
000008ED,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
000008EE,00A0,,            movwf r1
000008EF,093D,,            comf ir_56, W
000008F0,07A0,,            addwf r1, F
000008F1,0875,,            movf pri5, W
000008F2,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008F3,00BD,,            movwf ir_56  ;priepise reg AN prievedenou hodnotou
000008F4,0820,,            movf r1, W
000008F5,1D03,,            btfss STATUS, Z
000008F6,22F0,,            call if_56  ;pokud zmena spusti podprig
,,,
,,,
000008F7,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
000008F8,00A0,,            movwf r1
000008F9,093E,,            comf ir_57, W
000008FA,07A0,,            addwf r1, F
000008FB,0876,,            movf pri6, W
000008FC,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000008FD,00BE,,            movwf ir_57  ;priepise reg AN prievedenou hodnotou
000008FE,0820,,            movf r1, W
000008FF,1D03,,            btfss STATUS, Z
00000900,22F2,,            call if_57  ;pokud zmena spusti podprig
,,,
,,,
00000901,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
00000902,00A0,,            movwf r1
00000903,0936,,            comf ir_49, W
00000904,07A0,,            addwf r1, F
00000905,0877,,            movf pri7, W
00000906,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000907,00B6,,            movwf ir_49  ;priepise reg AN prievedenou hodnotou
00000908,0820,,            movf r1, W
00000909,1D03,,            btfss STATUS, Z
0000090A,22E2,,            call if_49  ;pokud zmena spusti podprig
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
0000090B,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 3
0000090C,3003,,            movlw .3  ;oznaceni ciloveho procesoru
0000090D,00F8,,            movwf cil
0000090E,2139,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
0000090F,205C,,            call watchwait
,,,
,,,
,,,
00000910,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
00000911,00A0,,            movwf r1
00000912,0944,,            comf ir_80, W
00000913,07A0,,            addwf r1, F
00000914,0870,,            movf pri0, W
00000915,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000916,00C4,,            movwf ir_80  ;priepise reg AN prievedenou hodnotou
00000917,0820,,            movf r1, W
00000918,1D03,,            btfss STATUS, Z
00000919,22E4,,            call if_80  ;pokud zmena spusti podprig
,,,
,,,
0000091A,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
0000091B,00A0,,            movwf r1
0000091C,0945,,            comf ir_84, W
0000091D,07A0,,            addwf r1, F
0000091E,0871,,            movf pri1, W
0000091F,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000920,00C5,,            movwf ir_84  ;priepise reg AN prievedenou hodnotou
00000921,0820,,            movf r1, W
00000922,1D03,,            btfss STATUS, Z
00000923,22F4,,            call if_84  ;pokud zmena spusti podprig
,,,
,,,
00000924,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
00000925,00A0,,            movwf r1
00000926,0946,,            comf ir_85, W
00000927,07A0,,            addwf r1, F
00000928,0872,,            movf pri2, W
00000929,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000092A,00C6,,            movwf ir_85  ;priepise reg AN prievedenou hodnotou
0000092B,0820,,            movf r1, W
0000092C,1D03,,            btfss STATUS, Z
0000092D,22F6,,            call if_85  ;pokud zmena spusti podprig
,,,
,,,
0000092E,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
0000092F,00A0,,            movwf r1
00000930,0947,,            comf ir_86, W
00000931,07A0,,            addwf r1, F
00000932,0873,,            movf pri3, W
00000933,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000934,00C7,,            movwf ir_86  ;priepise reg AN prievedenou hodnotou
00000935,0820,,            movf r1, W
00000936,1D03,,            btfss STATUS, Z
00000937,22F8,,            call if_86  ;pokud zmena spusti podprig
,,,
,,,
00000938,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
00000939,00A0,,            movwf r1
0000093A,0948,,            comf ir_87, W
0000093B,07A0,,            addwf r1, F
0000093C,0874,,            movf pri4, W
0000093D,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000093E,00C8,,            movwf ir_87  ;priepise reg AN prievedenou hodnotou
0000093F,0820,,            movf r1, W
00000940,1D03,,            btfss STATUS, Z
00000941,22FA,,            call if_87  ;pokud zmena spusti podprig
,,,
,,,
00000942,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
00000943,00A0,,            movwf r1
00000944,0949,,            comf ir_88, W
00000945,07A0,,            addwf r1, F
00000946,0875,,            movf pri5, W
00000947,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000948,00C9,,            movwf ir_88  ;priepise reg AN prievedenou hodnotou
00000949,0820,,            movf r1, W
0000094A,1D03,,            btfss STATUS, Z
0000094B,22FC,,            call if_88  ;pokud zmena spusti podprig
,,,
,,,
0000094C,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
0000094D,00A0,,            movwf r1
0000094E,094A,,            comf ir_89, W
0000094F,07A0,,            addwf r1, F
00000950,0876,,            movf pri6, W
00000951,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000952,00CA,,            movwf ir_89  ;priepise reg AN prievedenou hodnotou
00000953,0820,,            movf r1, W
00000954,1D03,,            btfss STATUS, Z
00000955,22FE,,            call if_89  ;pokud zmena spusti podprig
,,,
,,,
00000956,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
00000957,00A0,,            movwf r1
00000958,094B,,            comf ir_90, W
00000959,07A0,,            addwf r1, F
0000095A,0877,,            movf pri7, W
0000095B,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000095C,00CB,,            movwf ir_90  ;priepise reg AN prievedenou hodnotou
0000095D,0820,,            movf r1, W
0000095E,1D03,,            btfss STATUS, Z
0000095F,2300,,            call if_90  ;pokud zmena spusti podprig
,,,
,,,
,,,
,,,            ; Začne počítat čas pro procesor WATCH2
00000960,2059,,            call watchstart
,,,
,,,            ;dotaz na procesor 4
00000961,3004,,            movlw .4  ;oznaceni ciloveho procesoru
00000962,00F8,,            movwf cil
00000963,2139,,            call dotaz  ;prijem dat z procesoru do pri0 - pri7
,,,
,,,            ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
00000964,205C,,            call watchwait
,,,
,,,
,,,
00000965,0870,,            movf pri0, W    ;kontroluje zda je zmena od minule
00000966,00A0,,            movwf r1
00000967,094C,,            comf ir_91, W
00000968,07A0,,            addwf r1, F
00000969,0870,,            movf pri0, W
0000096A,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000096B,00CC,,            movwf ir_91  ;priepise reg AN prievedenou hodnotou
0000096C,0820,,            movf r1, W
0000096D,1D03,,            btfss STATUS, Z
0000096E,2302,,            call if_91  ;pokud zmena spusti podprig
,,,
,,,
0000096F,0871,,            movf pri1, W    ;kontroluje zda je zmena od minule
00000970,00A0,,            movwf r1
00000971,094D,,            comf ir_92, W
00000972,07A0,,            addwf r1, F
00000973,0871,,            movf pri1, W
00000974,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000975,00CD,,            movwf ir_92  ;priepise reg AN prievedenou hodnotou
00000976,0820,,            movf r1, W
00000977,1D03,,            btfss STATUS, Z
00000978,2304,,            call if_92  ;pokud zmena spusti podprig
,,,
,,,
00000979,0872,,            movf pri2, W    ;kontroluje zda je zmena od minule
0000097A,00A0,,            movwf r1
0000097B,094E,,            comf ir_93, W
0000097C,07A0,,            addwf r1, F
0000097D,0872,,            movf pri2, W
0000097E,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000097F,00CE,,            movwf ir_93  ;priepise reg AN prievedenou hodnotou
00000980,0820,,            movf r1, W
00000981,1D03,,            btfss STATUS, Z
00000982,2306,,            call if_93  ;pokud zmena spusti podprig
,,,
,,,
00000983,0873,,            movf pri3, W    ;kontroluje zda je zmena od minule
00000984,00A0,,            movwf r1
00000985,094F,,            comf ir_127, W
00000986,07A0,,            addwf r1, F
00000987,0873,,            movf pri3, W
00000988,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000989,00CF,,            movwf ir_127  ;priepise reg AN prievedenou hodnotou
0000098A,0820,,            movf r1, W
0000098B,1D03,,            btfss STATUS, Z
0000098C,2308,,            call if_127  ;pokud zmena spusti podprig
,,,
,,,
0000098D,0874,,            movf pri4, W    ;kontroluje zda je zmena od minule
0000098E,00A0,,            movwf r1
0000098F,0950,,            comf ir_128, W
00000990,07A0,,            addwf r1, F
00000991,0874,,            movf pri4, W
00000992,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
00000993,00D0,,            movwf ir_128  ;priepise reg AN prievedenou hodnotou
00000994,0820,,            movf r1, W
00000995,1D03,,            btfss STATUS, Z
00000996,230A,,            call if_128  ;pokud zmena spusti podprig
,,,
,,,
00000997,0875,,            movf pri5, W    ;kontroluje zda je zmena od minule
00000998,00A0,,            movwf r1
00000999,0935,,            comf ir_x, W
0000099A,07A0,,            addwf r1, F
0000099B,0875,,            movf pri5, W
0000099C,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
0000099D,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
0000099E,0820,,            movf r1, W
0000099F,1D03,,            btfss STATUS, Z
000009A0,2357,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
000009A1,0876,,            movf pri6, W    ;kontroluje zda je zmena od minule
000009A2,00A0,,            movwf r1
000009A3,0935,,            comf ir_x, W
000009A4,07A0,,            addwf r1, F
000009A5,0876,,            movf pri6, W
000009A6,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000009A7,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
000009A8,0820,,            movf r1, W
000009A9,1D03,,            btfss STATUS, Z
000009AA,2357,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
000009AB,0877,,            movf pri7, W    ;kontroluje zda je zmena od minule
000009AC,00A0,,            movwf r1
000009AD,0935,,            comf ir_x, W
000009AE,07A0,,            addwf r1, F
000009AF,0877,,            movf pri7, W
000009B0,0FA0,,            incfsz r1, F  ;pokud zadna zmena pokracuje dal
000009B1,00B5,,            movwf ir_x  ;priepise reg AN prievedenou hodnotou
000009B2,0820,,            movf r1, W
000009B3,1D03,,            btfss STATUS, Z
000009B4,2357,,            call if_x  ;pokud zmena spusti podprig
,,,
,,,
,,,
000009B5,158A,,            bsf PCLATH,3 ;Select page 1
000009B6,2848,,            goto loop      ;zpet v cyklu na zacatek
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
000009B7,084B,okna,okna        movf ir_90, W
000009B8,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009B9,00A0,,            movwf r1
000009BA,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009BB,0824,,            movf o1tar, W
000009BC,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009BD,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009BE,0803,,            movf STATUS, W
000009BF,00A2,,            movwf r3
000009C0,1922,,            btfsc r3, Z
000009C1,2226,,            call o1stop
000009C2,1922,,            btfsc r3, Z
000009C3,29C8,,            goto okno2
000009C4,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009C5,21FC,,            call o1up
000009C6,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009C7,2211,,            call o1down
000009C8,084C,okno2,okno2       movf ir_91, W
000009C9,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009CA,00A0,,            movwf r1
000009CB,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009CC,0825,,            movf o2tar, W
000009CD,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009CE,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009CF,0803,,            movf STATUS, W
000009D0,00A2,,            movwf r3
000009D1,1922,,            btfsc r3, Z
000009D2,2265,,            call o2stop
000009D3,1922,,            btfsc r3, Z
000009D4,29D9,,            goto okno3
000009D5,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009D6,223B,,            call o2up
000009D7,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009D8,2250,,            call o2down
000009D9,084D,okno3,okno3       movf ir_92, W
000009DA,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009DB,00A0,,            movwf r1
000009DC,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009DD,0826,,            movf o3tar, W
000009DE,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009DF,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009E0,0803,,            movf STATUS, W
000009E1,00A2,,            movwf r3
000009E2,1922,,            btfsc r3, Z
000009E3,22A4,,            call o3stop
000009E4,1922,,            btfsc r3, Z
000009E5,29EA,,            goto okno4
000009E6,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009E7,227A,,            call o3up
000009E8,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009E9,228F,,            call o3down
000009EA,084E,okno4,okno4       movf ir_93, W
000009EB,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009EC,00A0,,            movwf r1
000009ED,09A0,,            comf r1, F ;udelám dvojkový doplněk
000009EE,0827,,            movf o4tar, W
000009EF,39F0,,            andlw b'11110000' ;odseknu konecnou cast
000009F0,07A0,,            addwf r1, F ;sectu s dvojkovym doplnkem
000009F1,0803,,            movf STATUS, W
000009F2,00A2,,            movwf r3
000009F3,1922,,            btfsc r3, Z
000009F4,22E3,,            call o4stop
000009F5,1922,,            btfsc r3, Z
000009F6,0008,,            return
000009F7,1C22,,            btfss r3, C ;pokud nepreteklo, vyjed nahoru
000009F8,22B9,,            call o4up
000009F9,1822,,            btfsc r3, C ;pokud preteklo, sjed dolu
000009FA,22CE,,            call o4down
000009FB,0008,,            return
,,,
,,,;okno 1 nahoru, dolu, zastavit
000009FC,19A9,o1up,o1up        btfsc o_a, 3
000009FD,2A06,,            goto no1up
000009FE,301D,,            movlw b'11101' ;port D5
000009FF,00D2,,            movwf port
00000A00,3003,,            movlw b'11' ;procesor 3
00000A01,00D3,,            movwf prc
,,,
00000A02,118A,,            bcf PCLATH,3 ;Select page 0
00000A03,21F2,,            call setout ;smaz port v prc
00000A04,158A,,            bsf PCLATH,3 ;Select page 1
00000A05,15A9,,            bsf o_a, 3
00000A06,1FA9,no1up,no1up       btfss o_a, 7
00000A07,0008,,            return
00000A08,300C,,            movlw b'01100' ;port B4
00000A09,00D2,,            movwf port
00000A0A,3002,,            movlw b'10' ;procesor 2
00000A0B,00D3,,            movwf prc
,,,
00000A0C,118A,,            bcf PCLATH,3 ;Select page 0
00000A0D,2219,,            call clrout ;smaz port v prc
00000A0E,158A,,            bsf PCLATH,3 ;Select page 1
00000A0F,13A9,,            bcf o_a, 7
00000A10,0008,,            return
00000A11,1DA9,o1down,o1down      btfss o_a, 3
00000A12,2A1B,,            goto no1down
00000A13,301D,,            movlw b'11101' ;port D5
00000A14,00D2,,            movwf port
00000A15,3003,,            movlw b'11' ;procesor 3
00000A16,00D3,,            movwf prc
,,,
00000A17,118A,,            bcf PCLATH,3 ;Select page 0
00000A18,2219,,            call clrout ;smaz port v prc
00000A19,158A,,            bsf PCLATH,3 ;Select page 1
00000A1A,11A9,,            bcf o_a, 3
00000A1B,1BA9,no1down,no1down     btfsc o_a, 7
00000A1C,0008,,            return
00000A1D,300C,,            movlw b'01100' ;port B4
00000A1E,00D2,,            movwf port
00000A1F,3002,,            movlw b'10' ;procesor 2
00000A20,00D3,,            movwf prc
,,,
00000A21,118A,,            bcf PCLATH,3 ;Select page 1
00000A22,21F2,,            call setout ;smaz port v prc
00000A23,158A,,            bsf PCLATH,3 ;Select page 1
00000A24,17A9,,            bsf o_a, 7
00000A25,0008,,            return
00000A26,1DA9,o1stop,o1stop      btfss o_a, 3
00000A27,2A30,,            goto no1stop
00000A28,301D,,            movlw b'11101' ;port D5
00000A29,00D2,,            movwf port
00000A2A,3003,,            movlw b'11' ;procesor 3
00000A2B,00D3,,            movwf prc
,,,
00000A2C,118A,,            bcf PCLATH,3 ;Select page 1
00000A2D,2219,,            call clrout ;smaz port v prc
00000A2E,158A,,            bsf PCLATH,3 ;Select page 1
00000A2F,11A9,,            bcf o_a, 3
00000A30,1FA9,no1stop,no1stop     btfss o_a, 7
00000A31,0008,,            return
00000A32,300C,,            movlw b'01100' ;port B4
00000A33,00D2,,            movwf port
00000A34,3002,,            movlw b'10' ;procesor 2
00000A35,00D3,,            movwf prc
,,,
00000A36,118A,,            bcf PCLATH,3 ;Select page 1
00000A37,2219,,            call clrout ;smaz port v prc
00000A38,158A,,            bsf PCLATH,3 ;Select page 1
00000A39,13A9,,            bcf o_a, 7
00000A3A,0008,,            return
,,,;okno 2 nahoru, dolu, zastavit
00000A3B,1A29,o2up,o2up        btfsc o_a, 4
00000A3C,2A45,,            goto no2up
00000A3D,3018,,            movlw b'11000' ;port D0
00000A3E,00D2,,            movwf port
00000A3F,3002,,            movlw b'10' ;procesor 2
00000A40,00D3,,            movwf prc
,,,
00000A41,118A,,            bcf PCLATH,3 ;Select page 1
00000A42,21F2,,            call setout ;smaz port v prc
00000A43,158A,,            bsf PCLATH,3 ;Select page 1
00000A44,1629,,            bsf o_a, 4
00000A45,1C2A,no2up,no2up       btfss o_b, 0
00000A46,0008,,            return
00000A47,300D,,            movlw b'01101' ;port B5
00000A48,00D2,,            movwf port
00000A49,3002,,            movlw b'10' ;procesor 2
00000A4A,00D3,,            movwf prc
,,,
00000A4B,118A,,            bcf PCLATH,3 ;Select page 1
00000A4C,2219,,            call clrout ;smaz port v prc
00000A4D,158A,,            bsf PCLATH,3 ;Select page 1
00000A4E,102A,,            bcf o_b, 0
00000A4F,0008,,            return
00000A50,1E29,o2down,o2down      btfss o_a, 4
00000A51,2A5A,,            goto no2down
00000A52,3018,,            movlw b'11000' ;port D0
00000A53,00D2,,            movwf port
00000A54,3002,,            movlw b'10' ;procesor 2
00000A55,00D3,,            movwf prc
,,,
00000A56,118A,,            bcf PCLATH,3 ;Select page 1
00000A57,2219,,            call clrout ;smaz port v prc
00000A58,158A,,            bsf PCLATH,3 ;Select page 1
00000A59,1229,,            bcf o_a, 4
00000A5A,182A,no2down,no2down     btfsc o_b, 0
00000A5B,0008,,            return
00000A5C,300D,,            movlw b'01101' ;port B5
00000A5D,00D2,,            movwf port
00000A5E,3002,,            movlw b'10' ;procesor 2
00000A5F,00D3,,            movwf prc
,,,
00000A60,118A,,            bcf PCLATH,3 ;Select page 1
00000A61,21F2,,            call setout ;smaz port v prc
00000A62,158A,,            bsf PCLATH,3 ;Select page 1
00000A63,142A,,            bsf o_b, 0
00000A64,0008,,            return
00000A65,1E29,o2stop,o2stop      btfss o_a, 4
00000A66,2A6F,,            goto no2stop
00000A67,3018,,            movlw b'11000' ;port D0
00000A68,00D2,,            movwf port
00000A69,3002,,            movlw b'10' ;procesor 2
00000A6A,00D3,,            movwf prc
,,,
00000A6B,118A,,            bcf PCLATH,3 ;Select page 1
00000A6C,2219,,            call clrout ;smaz port v prc
00000A6D,158A,,            bsf PCLATH,3 ;Select page 1
00000A6E,1229,,            bcf o_a, 4
00000A6F,1C2A,no2stop,no2stop     btfss o_b, 0
00000A70,0008,,            return
00000A71,300D,,            movlw b'01101' ;port B5
00000A72,00D2,,            movwf port
00000A73,3002,,            movlw b'10' ;procesor 2
00000A74,00D3,,            movwf prc
,,,
00000A75,118A,,            bcf PCLATH,3 ;Select page 1
00000A76,2219,,            call clrout ;smaz port v prc
00000A77,158A,,            bsf PCLATH,3 ;Select page 1
00000A78,102A,,            bcf o_b, 0
00000A79,0008,,            return
,,,;okno 3 nahoru, dolu, zastavit
00000A7A,1AA9,o3up,o3up        btfsc o_a, 5
00000A7B,2A84,,            goto no3up
00000A7C,300A,,            movlw b'01010' ;port B2
00000A7D,00D2,,            movwf port
00000A7E,3002,,            movlw b'10' ;procesor 2
00000A7F,00D3,,            movwf prc
,,,
00000A80,118A,,            bcf PCLATH,3 ;Select page 1
00000A81,21F2,,            call setout ;smaz port v prc
00000A82,158A,,            bsf PCLATH,3 ;Select page 1
00000A83,16A9,,            bsf o_a, 5
00000A84,1CAA,no3up,no3up       btfss o_b, 1
00000A85,0008,,            return
00000A86,300E,,            movlw b'01110' ;port B6
00000A87,00D2,,            movwf port
00000A88,3002,,            movlw b'10' ;procesor 2
00000A89,00D3,,            movwf prc
,,,
00000A8A,118A,,            bcf PCLATH,3 ;Select page 1
00000A8B,2219,,            call clrout ;smaz port v prc
00000A8C,158A,,            bsf PCLATH,3 ;Select page 1
00000A8D,10AA,,            bcf o_b, 1
00000A8E,0008,,            return
00000A8F,1EA9,o3down,o3down      btfss o_a, 5
00000A90,2A99,,            goto no3down
00000A91,300A,,            movlw b'01010' ;port B2
00000A92,00D2,,            movwf port
00000A93,3002,,            movlw b'10' ;procesor 2
00000A94,00D3,,            movwf prc
,,,
00000A95,118A,,            bcf PCLATH,3 ;Select page 1
00000A96,2219,,            call clrout ;smaz port v prc
00000A97,158A,,            bsf PCLATH,3 ;Select page 1
00000A98,12A9,,            bcf o_a, 5
00000A99,18AA,no3down,no3down     btfsc o_b, 1
00000A9A,0008,,            return
00000A9B,300E,,            movlw b'01110' ;port B6
00000A9C,00D2,,            movwf port
00000A9D,3002,,            movlw b'10' ;procesor 2
00000A9E,00D3,,            movwf prc
,,,
00000A9F,118A,,            bcf PCLATH,3 ;Select page 1
00000AA0,21F2,,            call setout ;smaz port v prc
00000AA1,158A,,            bsf PCLATH,3 ;Select page 1
00000AA2,14AA,,            bsf o_b, 1
00000AA3,0008,,            return
00000AA4,1EA9,o3stop,o3stop      btfss o_a, 5
00000AA5,2AAE,,            goto no3stop
00000AA6,300A,,            movlw b'01010' ;port B2
00000AA7,00D2,,            movwf port
00000AA8,3002,,            movlw b'10' ;procesor 2
00000AA9,00D3,,            movwf prc
,,,
00000AAA,118A,,            bcf PCLATH,3 ;Select page 1
00000AAB,2219,,            call clrout ;smaz port v prc
00000AAC,158A,,            bsf PCLATH,3 ;Select page 1
00000AAD,12A9,,            bcf o_a, 5
00000AAE,1CAA,no3stop,no3stop     btfss o_b, 1
00000AAF,0008,,            return
00000AB0,300E,,            movlw b'01110' ;port B6
00000AB1,00D2,,            movwf port
00000AB2,3002,,            movlw b'10' ;procesor 2
00000AB3,00D3,,            movwf prc
,,,
00000AB4,118A,,            bcf PCLATH,3 ;Select page 1
00000AB5,2219,,            call clrout ;smaz port v prc
00000AB6,158A,,            bsf PCLATH,3 ;Select page 1
00000AB7,10AA,,            bcf o_b, 1
00000AB8,0008,,            return
,,,;okno 4 nahoru, dolu, zastavit
00000AB9,1B29,o4up,o4up        btfsc o_a, 6
00000ABA,2AC3,,            goto no4up
00000ABB,300B,,            movlw b'01011' ;port B3
00000ABC,00D2,,            movwf port
00000ABD,3002,,            movlw b'10' ;procesor 2
00000ABE,00D3,,            movwf prc
,,,
00000ABF,118A,,            bcf PCLATH,3 ;Select page 1
00000AC0,21F2,,            call setout ;smaz port v prc
00000AC1,158A,,            bsf PCLATH,3 ;Select page 1
00000AC2,1729,,            bsf o_a, 6
00000AC3,1D2A,no4up,no4up       btfss o_b, 2
00000AC4,0008,,            return
00000AC5,300F,,            movlw b'01111' ;port B7
00000AC6,00D2,,            movwf port
00000AC7,3002,,            movlw b'10' ;procesor 2
00000AC8,00D3,,            movwf prc
,,,
00000AC9,118A,,            bcf PCLATH,3 ;Select page 1
00000ACA,2219,,            call clrout ;smaz port v prc
00000ACB,158A,,            bsf PCLATH,3 ;Select page 1
00000ACC,112A,,            bcf o_b, 2
00000ACD,0008,,            return
00000ACE,1F29,o4down,o4down      btfss o_a, 6
00000ACF,2AD8,,            goto no4down
00000AD0,300B,,            movlw b'01011' ;port B3
00000AD1,00D2,,            movwf port
00000AD2,3002,,            movlw b'10' ;procesor 2
00000AD3,00D3,,            movwf prc
,,,
00000AD4,118A,,            bcf PCLATH,3 ;Select page 1
00000AD5,2219,,            call clrout ;smaz port v prc
00000AD6,158A,,            bsf PCLATH,3 ;Select page 1
00000AD7,1329,,            bcf o_a, 6
00000AD8,192A,no4down,no4down     btfsc o_b, 2
00000AD9,0008,,            return
00000ADA,300F,,            movlw b'01111' ;port B7
00000ADB,00D2,,            movwf port
00000ADC,3002,,            movlw b'10' ;procesor 2
00000ADD,00D3,,            movwf prc
,,,
00000ADE,118A,,            bcf PCLATH,3 ;Select page 1
00000ADF,21F2,,            call setout ;smaz port v prc
00000AE0,158A,,            bsf PCLATH,3 ;Select page 1
00000AE1,152A,,            bsf o_b, 2
00000AE2,0008,,            return
00000AE3,1F29,o4stop,o4stop      btfss o_a, 6
00000AE4,2AED,,            goto no4stop
00000AE5,300B,,            movlw b'01011' ;port B3
00000AE6,00D2,,            movwf port
00000AE7,3002,,            movlw b'10' ;procesor 2
00000AE8,00D3,,            movwf prc
,,,
00000AE9,118A,,            bcf PCLATH,3 ;Select page 1
00000AEA,2219,,            call clrout ;smaz port v prc
00000AEB,158A,,            bsf PCLATH,3 ;Select page 1
00000AEC,1329,,            bcf o_a, 6
00000AED,1D2A,no4stop,no4stop     btfss o_b, 2
00000AEE,0008,,            return
00000AEF,300F,,            movlw b'01111' ;port B7
00000AF0,00D2,,            movwf port
00000AF1,3002,,            movlw b'10' ;procesor 2
00000AF2,00D3,,            movwf prc
,,,
00000AF3,118A,,            bcf PCLATH,3 ;Select page 1
00000AF4,2219,,            call clrout ;smaz port v prc
00000AF5,158A,,            bsf PCLATH,3 ;Select page 1
00000AF6,112A,,            bcf o_b, 2
00000AF7,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
00000AF8,3032,adconv,adconv      movlw .50 ; kolikrat se ma merit vstup
00000AF9,00F7,,            movwf ran2 ; decrementator pro cykl
00000AFA,00FA,,            movwf ran5 ; delitel pro vypocet prumeru
00000AFB,0876,,            movf ran1, W
00000AFC,00F8,,            movwf ran3 ; zachováni ANx vstupu
00000AFD,01F2,,            clrf CIS2_L
00000AFE,01F3,,            clrf CIS2_H
,,,
00000AFF,0878,adconv2,adconv2     movf ran3, W
00000B00,00F6,,            movwf ran1 ; nasteni znova ANx vstupu
00000B01,2320,,            call adconv_one
,,,
,,,            ; pripraveni cisla 1 k pricteni
00000B02,01F1,,            clrf CIS1_H
00000B03,0876,,            movf ran1, W
00000B04,00F0,,            movwf CIS1_L
,,,
,,,            ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
,,,            ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
,,,
00000B05,0870,,                movf    CIS1_L,W        ; CIS1_L do W
00000B06,0772,,                addwf   CIS2_L,W        ; W + CIS2_L do W
00000B07,00F4,,                movwf   OUT_L           ; W do OUT_L
,,,
00000B08,0871,,                movf    CIS1_H,W        ; CIS1_H do W
00000B09,1803,,                btfsc   STATUS,C
00000B0A,3E01,,                addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
00000B0B,0773,,                addwf   CIS2_H,W
00000B0C,00F5,,                movwf   OUT_H           ; W do OUT_H
,,,
,,,                ; ulozi OUT do CIS2
00000B0D,0874,,            movf OUT_L, W
00000B0E,00F2,,            movwf CIS2_L
00000B0F,0875,,            movf OUT_H, W
00000B10,00F3,,            movwf CIS2_H
,,,
,,,
00000B11,0BF7,,            decfsz ran2, F
00000B12,2AFF,,            goto adconv2
,,,
,,,            ; vydeli poctem mereni
00000B13,0872,,            movf CIS2_L, W
00000B14,00F0,,            movwf A1
00000B15,0873,,            movf CIS2_H, W
00000B16,00F1,,            movwf A2
00000B17,01F2,,            clrf A3
,,,
00000B18,087A,,            movf ran5, W
00000B19,00F3,,            movwf B1
00000B1A,01F4,,            clrf B2
00000B1B,01F5,,            clrf B3
,,,
00000B1C,232F,,            call LOMENO24
00000B1D,0876,,            movf C1, W
00000B1E,00F6,,            movwf ran1
,,,
00000B1F,0008,,            return
,,,
00000B20,1003,adconv_one,adconv_one  bcf STATUS, C
00000B21,0DF6,,            rlf ran1, F
00000B22,0DF6,,            rlf ran1, F
00000B23,0DF6,,            rlf ran1, F
,,,
,,,            ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
00000B24,13F6,,            bcf ran1, 7
00000B25,1776,,            bsf ran1, 6
,,,            ; 5
,,,            ; 4
,,,            ; 3
00000B26,1576,,            bsf ran1, 2
,,,            ; 1
00000B27,1476,,            bsf ran1, 0
,,,
00000B28,0876,,            movf ran1, W
00000B29,009F,,            movwf ADCON0
,,,
00000B2A,191F,,            btfsc ADCON0, 2   ;ceka nez skonci AD prevod
00000B2B,2B2A,,            goto $-1
00000B2C,081E,,            movf ADRESH, W    ;kontroluje zda je zmena od minule
00000B2D,00F6,,            movwf ran1
00000B2E,0008,,            return
,,,
,,,
,,,
,,,
,,,
,,,;-------------------------------;
,,,; A1,2,3 / B1,2,3 = C1,2,3
,,,;24Bit, pouze kladna cisla
,,,;SZ=1=deleni nulou (B1,2,3=0)
,,,;B se nezmeni, v A bude zbytek
,,,;pouziva D1,2,3; X1
00000B2F,,LOMENO24,LOMENO24
,,,;test B na nulu; sZ=1=ANO
00000B2F,08F3,,        MOVF    B1,F
00000B30,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B31,08F4,,        MOVF    B2,F
00000B32,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B33,08F5,,        MOVF    B3,F
00000B34,1903,,        BTFSC   STATUS,Z        ;nenulove?
00000B35,0008,,        RETURN                  ;B1,2,3=0
,,,;priprava pro deleni
00000B36,0870,LOM24,LOM24   MOVF    A1,W            ;A do D
00000B37,00F9,,        MOVWF   D1              ;
00000B38,0871,,        MOVF    A2,W            ;
00000B39,00FA,,        MOVWF   D2              ;
00000B3A,0872,,        MOVF    A3,W            ;
00000B3B,00FB,,        MOVWF   D3              ;
00000B3C,01F0,,        CLRF    A1              ;nulovat
00000B3D,01F1,,        CLRF    A2              ;
00000B3E,01F2,,        CLRF    A3              ;
00000B3F,3018,,        MOVLW   24              ;pocet bitu
00000B40,00FC,,        MOVWF   X1              ;
00000B41,1003,,        BCF     STATUS,C        ;SC=0
,,,;deleni
00000B42,2354,LDalsi,LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
00000B43,1C03,,        BTFSS   STATUS,C        ;kladny vysledek?
00000B44,2B4A,,        GOTO    LZapor          ;NE
,,,;LKlad
00000B45,00F2,,        MOVWF   A3              ;C do A
00000B46,0877,,        MOVF    C2,W            ;
00000B47,00F1,,        MOVWF   A2              ;
00000B48,0876,,        MOVF    C1,W            ;
00000B49,00F0,,        MOVWF   A1              ;
,,,
00000B4A,0BFC,LZapor,LZapor  DECFSZ  X1,F            ;-1=0?
00000B4B,2B42,,        GOTO    LDalsi          ;jeste neni konec
,,,;vysledek
00000B4C,0D79,,        RLF     D1,W            ;posledni x2
00000B4D,00F6,,        MOVWF   C1              ; a W do C
00000B4E,0D7A,,        RLF     D2,W            ;
00000B4F,00F7,,        MOVWF   C2              ;
00000B50,0D7B,,        RLF     D3,W            ;
00000B51,00F8,,        MOVWF   C3              ;
,,,
00000B52,1103,,        BCF     STATUS,Z        ;SZ=0
00000B53,0008,,        RETURN
,,,
,,,
,,,;................................
,,,; D1,2,3 A1,2,3 * 2 a Minus
00000B54,0DF9,x2M,x2M     RLF     D1,F            ;posuv vlevo
00000B55,0DFA,,        RLF     D2,F            ;
00000B56,0DFB,,        RLF     D3,F            ;
00000B57,0DF0,,        RLF     A1,F            ;
00000B58,0DF1,,        RLF     A2,F            ;
00000B59,0DF2,,        RLF     A3,F            ;
,,,                                ;pokracuje MINUS
,,,;--------------------------------
,,,; A1,2,3 - B1,2,3 = C1,2,3
,,,;SC=0=zaporny vysledek
,,,;A,B se nezmeni
00000B5A,0873,MINUS,MINUS   MOVF    B1,W            ;W=B1
00000B5B,0270,,        SUBWF   A1,W            ;A1-B1=W
00000B5C,00F6,,        MOVWF   C1              ;C1=W=vysledek1
00000B5D,0103,,        CLRW                    ;W=0
00000B5E,1C03,,        BTFSS   STATUS,C        ;SUB kladne?
00000B5F,3001,,        MOVLW   1               ;W=1
00000B60,0774,,        ADDWF   B2,W            ;B2+W=W
00000B61,01F8,,        CLRF    C3              ;C3=0
00000B62,1803,,        BTFSC   STATUS,C        ;ADD nepreteklo?
00000B63,1478,,        BSF     C3,0            ;C3=1
00000B64,0271,,        SUBWF   A2,W            ;A2-W=W
00000B65,00F7,,        MOVWF   C2              ;C2=w=vysledek2
00000B66,0878,,        MOVF    C3,W            ;W=C3
00000B67,1C03,,        BTFSS   STATUS,C        ;SUB kladne?
00000B68,3001,,        MOVLW   1               ;W=1
00000B69,0775,,        ADDWF   B3,W            ;B3+W=W
00000B6A,01F8,,        CLRF    C3              ;C3=0
00000B6B,1803,,        BTFSC   STATUS,C        ;ADD nepreteklo?
00000B6C,1478,,        BSF     C3,0            ;C3=1
00000B6D,0272,,        SUBWF   A3,W            ;A3-W=W
00000B6E,1878,,        BTFSC   C3,0            ;C3=0?
00000B6F,1003,,        BCF     STATUS,C        ;SC=0
00000B70,00F8,,        MOVWF   C3              ;C3=W=vysledek3
00000B71,0008,,        RETURN
,,,
,,,
,,,        end                                           ; KONEC PROGRAMU
