MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3A
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 o1tmp       
  0000005F            00081 o2tmp       
  00000060            00082 o3tmp       
  00000061            00083 o4tmp       
  00000062            00084 o1tar       
  00000063            00085 o2tar       
  00000064            00086 o3tar       
  00000065            00087 o4tar       
                      00088 
  00000066            00089 timwtu      
  00000067            00090 spinac      
  00000068            00091 timspi      
  00000069            00092 timods      
  0000006A            00093 timala      
  0000006B            00094 x0          
                      00095 
  0000006C            00096 x1          
  0000006D            00097 x2          
  0000006E            00098 casvar
                      00099       ; registr 79/96
                      00100       endc
                      00101 
                      00102 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 ;Lokální proměne (pracovni a parametry) od 6D
                      00104       cblock 0x70
  00000070            00105 pri0       
  00000071            00106 pri1       
  00000072            00107 pri2        
  00000073            00108 pri3      
  00000074            00109 pri4        
  00000075            00110 pri5       
  00000076            00111 pri6    
  00000077            00112 pri7        
  00000078            00113 cil       
                      00114       endc  
                      00115 
                      00116       cblock 0x70
  00000070            00117 CIS1_L      
  00000071            00118 CIS1_H      
  00000072            00119 CIS2_L 
  00000073            00120 CIS2_H 
  00000074            00121 OUT_L 
  00000075            00122 OUT_H       
  00000076            00123 ran1      
  00000077            00124 ran2      
  00000078            00125 ran3       
  00000079            00126 ran4    
  0000007A            00127 ran5  
                      00128       endc
                      00129   
                      00130       cblock 0x70
  00000070            00131 A1    
  00000071            00132 A2    
  00000072            00133 A3    
  00000073            00134 B1    
  00000074            00135 B2    
  00000075            00136 B3    
  00000076            00137 C1    
  00000077            00138 C2    
  00000078            00139 C3    
  00000079            00140 D1    
  0000007A            00141 D2    
  0000007B            00142 D3    
  0000007C            00143 X1    
  0000007D            00144 X2    
  0000007E            00145 FL    
                      00146       endc
                      00147 
                      00148 
                      00149 
                      00150 ;KONSTANTY
                      00151 ;conf constant
  00000000            00152 T0OF        equ .0
  00000001            00153 STARTED     equ .1
  00000002            00154 WATCHOVER   equ .2
  00000003            00155 PCON_POR    equ .3
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00156 ;casov constant
                      00157 ;VAROV       equ .0
  00000001            00158 REDTUN      equ .1
  00000002            00159 LEDZAM      equ .2
  00000003            00160 WHITUN      equ .3
  00000004            00161 ODSKOK      equ .4
  00000005            00162 ALARM       equ .5
                      00163 
                      00164 ;system constants
  00000001            00165 POR         equ .1
                      00166 
                      00167 
                      00168 
0000                  00169             org 000h        ;vektor zacatku
0000   2812           00170             goto init
                      00171 
0004                  00172             org 004h        ;vektor preruseni
0004   00A6           00173             movwf w_temp ;copy w to temp register
0005   0E0A           00174             swapf PCLATH, W ;swap pclath to be saved into w
0006   00A8           00175             movwf pcl_temp ;save status to bank zero pclath_temp register
0007   0E03           00176             swapf STATUS, W ;swap status to be saved into w
0008   00A7           00177             movwf s_temp ;save status to bank zero s_temp register
0009   0183           00178             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00179             
000A   118A           00180             bcf PCLATH,3 ;Select page 0
000B   2047           00181             call inter
                      00182         
000C   0E27           00183             swapf s_temp, W ;swap status_temp register into w
000D   0083           00184             movwf STATUS ;move w into status register;(sets bank to original state)
000E   0E28           00185             swapf pcl_temp, W ;swap pcl_temp register into w
000F   008A           00186             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
0010   0E26           00187             swapf w_temp, W ;
0011   0008           00188             return
                      00189 
0012   118A           00190 init        bcf PCLATH,3 ;Select page 0
0013   120A           00191             bcf PCLATH,4 ;Select page 0
                      00192                 
0014   0185           00193             clrf PORTA      ;Init PORTS 
0015   0186           00194             clrf PORTB
0016   0187           00195             clrf PORTC
0017   0188           00196             clrf PORTD
0018   0189           00197             clrf PORTE
                      00198             
0019   1683           00199             bsf STATUS, RP0  ;Bank 1
                      00200             
001A   3049           00201             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001B   009F           00202             movwf ADCON1
                      00203     
001C   302F           00204             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001D   0085           00205             movwf TRISA
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001E   3001           00206             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   0086           00207             movwf TRISB
0020   3000           00208             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0087           00209             movwf TRISC
0022   3000           00210             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0088           00211             movwf TRISD
0024   3001           00212             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0089           00213             movwf TRISE
                      00214             
0026   30C7           00215             movlw b'11000111' ; timer0 control
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0081           00216             movwf OPTION_REG
                      00217             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0028   080E           00218             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   148E           00219             bsf PCON, POR
                      00220 
002A   1283           00221             bcf STATUS, RP0 ;Bank 0
                      00222 
002B   00A0           00223             movwf r1
002C   11D9           00224             bcf conf, PCON_POR
002D   18A0           00225             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
002E   15D9           00226             bsf conf, PCON_POR
                      00227 
                      00228 
002F   3046           00229             movlw b'01000110' ; nastaví control register timer2
0030   0092           00230             movwf T2CON
                      00231             
0031   2036           00232             call inton
                      00233             
                      00234             
0032   158A           00235             bsf PCLATH,3 ;Select page 1
0033   19D9           00236             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
0034   2800           00237             goto restart
                      00238 
Message[306]: Crossing page boundary -- ensure page bits are set.
0035   2810           00239             goto start      ;zacni na startu
                      00240         
                      00241         
                      00242         
                      00243 
0036   108B           00244 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
0037   160B           00245             bsf INTCON, INTE
0038   110B           00246             bcf INTCON, T0IF ;nastavení přerušení od Timer0
0039   168B           00247             bsf INTCON, T0IE
003A   108C           00248             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
003B   1683           00249             bsf STATUS, RP0  ;Bank 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003C   148C           00250             bsf PIE1, TMR2IE
003D   1283           00251             bcf STATUS, RP0 ;Bank 0
003E   170B           00252             bsf INTCON, PEIE
003F   178B           00253             bsf INTCON, GIE
0040   0008           00254             return
                      00255         
0041   120B           00256 intoff      bcf INTCON, INTE
0042   128B           00257             bcf INTCON, T0IE
0043   1683           00258             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0044   108C           00259             bcf PIE1, TMR2IE
0045   1283           00260             bcf STATUS, RP0 ;Bank 0
0046   0008           00261             return
                      00262 
                      00263 
                      00264 
0047   2041           00265 inter       call intoff
                      00266       
0048   188B           00267             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0049   2059           00268             call radio
004A   190B           00269             btfsc INTCON, T0IF
004B   1459           00270             bsf conf, T0OF
004C   188C           00271             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
004D   2050           00272             call watchover
                      00273     
004E   2036           00274             call inton
004F   0008           00275             return
                      00276 
                      00277 ;pokud přetekl timer2 pro watch
0050   1559           00278 watchover   bsf conf, WATCHOVER
0051   0008           00279             return
                      00280             
                      00281 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0052   1159           00282 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
0053   0191           00283             clrf TMR2 ;vynuluje timer2
0054   0008           00284             return
                      00285             
0055   1D59           00286 watchwait   btfss conf, WATCHOVER
0056   2855           00287             goto $-1
                      00288             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
0057   2694           00289             call w100c
0058   0008           00290             return
                      00291 
                      00292 ;při zachyceni signalu na radiovem přijímači        
0059   0000           00293 radio       nop
005A   0008           00294             return
                      00295             
                      00296 ;při přetečení timeru 0, až po fázi synchronizace procesorů    
005B   1858           00297 timer0      btfsc cassir, 0
005C   206D           00298             call sirbeep
005D   186E           00299             btfsc casvar, 0
005E   2076           00300             call varoff
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005F   18DA           00301             btfsc casov, REDTUN
0060   2099           00302             call rtuoff
0061   195A           00303             btfsc casov, LEDZAM
0062   20AA           00304             call lzabli
0063   19DA           00305             btfsc casov, WHITUN
0064   20B1           00306             call wtuoff
0065   1A5A           00307             btfsc casov, ODSKOK
0066   20C7           00308             call odsoff
0067   1ADA           00309             btfsc casov, ALARM
0068   20F6           00310             call alabli
0069   1967           00311             btfsc spinac, 2
006A   20C2           00312             call spioff
                      00313 
006B   1059           00314             bcf conf, T0OF
006C   0008           00315             return
                      00316             
                      00317 ;houkani sireny v intervalech cca 240ms        
006D   03D7           00318 sirbeep     decf timsir, F
006E   1D03           00319             btfss STATUS, Z
006F   0008           00320             return
0070   1003           00321             bcf STATUS, C
0071   0CD8           00322             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
0072   25EE           00323             call t1_53 ;neguje houkani sireny
0073   3003           00324             movlw .3 ;nastavy na dalsich 240ms
0074   00D7           00325             movwf timsir
0075   0008           00326             return
                      00327             
                      00328 ;blikani varovek
0076   03DB           00329 varoff      decf timvar, F
0077   1D03           00330             btfss STATUS, Z
0078   0008           00331             return
0079   0CEE           00332             rrf casvar, F
007A   1C03           00333             btfss STATUS, C
007B   13EE           00334             bcf casvar, 7
007C   1803           00335             btfsc STATUS, C
007D   17EE           00336             bsf casvar, 7
                      00337             
007E   01A1           00338             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
007F   01A2           00339             clrf r3
0080   1A2D           00340             btfsc o_e, 4
0081   1421           00341             bsf r2, 0
0082   1AAD           00342             btfsc o_e, 5
0083   1422           00343             bsf r3, 0
0084   0821           00344             movf r2, W
0085   05A2           00345             andwf r3, F
                      00346             
0086   1822           00347             btfsc r3, 0 ;pokud oba zaply oba vypne
0087   122D           00348             bcf o_e, 4
0088   1822           00349             btfsc r3, 0 ;pokud oba zaply oba vypne
0089   1308           00350             bcf PORTD, 6
008A   1822           00351             btfsc r3, 0 ;pokud oba zaply oba vypne
008B   12AD           00352             bcf o_e, 5
008C   1822           00353             btfsc r3, 0 ;pokud oba zaply oba vypne
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

008D   1388           00354             bcf PORTD, 7
                      00355     
008E   1C22           00356             btfss r3, 0 ;pokud jeden vyply oba zapne
008F   162D           00357             bsf o_e, 4
0090   1C22           00358             btfss r3, 0 ;pokud jeden vyply oba zapne
0091   1708           00359             bsf PORTD, 6
0092   1C22           00360             btfss r3, 0 ;pokud jeden vyply oba zapne
0093   16AD           00361             bsf o_e, 5
0094   1C22           00362             btfss r3, 0 ;pokud jeden vyply oba zapne
0095   1788           00363             bsf PORTD, 7
                      00364             
0096   3008           00365             movlw .8 ;nastavy na dalsich 240ms
0097   00DB           00366             movwf timvar
0098   0008           00367             return
                      00368 
                      00369 ;vypnuti red tuning
0099   03DC           00370 rtuoff      decf timrtu, F
009A   1D03           00371             btfss STATUS, Z
009B   0008           00372             return
009C   112B           00373             bcf o_c, 2 ;vypne red tunning
009D   3016           00374             movlw b'10110' ;port C6
009E   00D2           00375             movwf port
009F   3002           00376             movlw b'10' ;procesor 2
00A0   00D3           00377             movwf prc
00A1   21E1           00378             call clrout ;smaz port v prc
00A2   11AE           00379             bcf o_f, 3 ;vypne red interier
00A3   301A           00380             movlw b'11010' ;port D2
00A4   00D2           00381             movwf port
00A5   3002           00382             movlw b'10' ;procesor 2
00A6   00D3           00383             movwf prc
00A7   21E1           00384             call clrout ;smaz port v prc
00A8   10DA           00385             bcf casov, REDTUN ;timer red tunningu nebude vniman
00A9   0008           00386             return
                      00387             
                      00388 ;blikani led zamknuto
00AA   03DD           00389 lzabli      decf timlza, F
00AB   1D03           00390             btfss STATUS, Z
00AC   0008           00391             return
00AD   26AD           00392             call ledzam ;neguje led zamknuto
00AE   300F           00393             movlw .15 ;nasavy na dalsich 240ms
00AF   00DD           00394             movwf timlza
00B0   0008           00395             return
                      00396             
                      00397 ;vypnuti white tuning
00B1   03E6           00398 wtuoff      decf timwtu, F
00B2   1D03           00399             btfss STATUS, Z
00B3   0008           00400             return
00B4   11AB           00401             bcf o_c, 3 ;vypne white tunning
00B5   3017           00402             movlw b'10111' ;port C7
00B6   00D2           00403             movwf port
00B7   3002           00404             movlw b'10' ;procesor 2
00B8   00D3           00405             movwf prc
00B9   21E1           00406             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BA   122E           00407             bcf o_f, 4 ;vypne white interier
00BB   301B           00408             movlw b'11011' ;port D3
00BC   00D2           00409             movwf port
00BD   3002           00410             movlw b'10' ;procesor 2
00BE   00D3           00411             movwf prc
00BF   21E1           00412             call clrout ;smaz port v prc
00C0   11DA           00413             bcf casov, WHITUN ;timer red tunningu nebude vniman
00C1   0008           00414             return
                      00415             
                      00416 ;vypnuti polohy 3 spinacky
00C2   03E8           00417 spioff      decf timspi, F
00C3   1D03           00418             btfss STATUS, Z
00C4   0008           00419             return
00C5   23FD           00420             call t1_03
00C6   0008           00421             return
                      00422             
                      00423 ;vypnuti odskoků
00C7   03E9           00424 odsoff      decf timods, F
00C8   1D03           00425             btfss STATUS, Z
00C9   0008           00426             return
00CA   122A           00427             bcf o_b, 4
00CB   301F           00428             movlw b'11111' ;port D7
00CC   00D2           00429             movwf port
00CD   3003           00430             movlw b'11' ;procesor 3
00CE   00D3           00431             movwf prc
00CF   21E1           00432             call clrout ;smaz port v prc
00D0   12AA           00433             bcf o_b, 5
00D1   1387           00434             bcf PORTC, 7
00D2   132A           00435             bcf o_b, 6
00D3   1106           00436             bcf PORTB, 2
00D4   13AA           00437             bcf o_b, 7
00D5   1186           00438             bcf PORTB, 3
00D6   11AA           00439             bcf o_b, 3
00D7   1206           00440             bcf PORTB, 4
00D8   102D           00441             bcf o_e, 0
00D9   1286           00442             bcf PORTB, 5
00DA   102B           00443             bcf o_c, 0
00DB   1306           00444             bcf PORTB, 6
                      00445 
00DC   13AD           00446             bcf o_e, 7
00DD   301E           00447             movlw b'11110' ;port D6
00DE   00D2           00448             movwf port
00DF   3002           00449             movlw b'10' ;procesor 2
00E0   00D3           00450             movwf prc
00E1   21E1           00451             call clrout ;nastav port v prc
00E2   132D           00452             bcf o_e, 6
00E3   301C           00453             movlw b'11100' ;port D4
00E4   00D2           00454             movwf port
00E5   3002           00455             movlw b'10' ;procesor 2
00E6   00D3           00456             movwf prc
00E7   21E1           00457             call clrout ;nastav port v prc
00E8   12AE           00458             bcf o_f, 5
00E9   301D           00459             movlw b'11101' ;port D5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00EA   00D2           00460             movwf port
00EB   3002           00461             movlw b'10' ;procesor 2
00EC   00D3           00462             movwf prc
00ED   21E1           00463             call clrout ;nastav port v prc
00EE   102E           00464             bcf o_f, 0
00EF   301F           00465             movlw b'11111' ;port D7
00F0   00D2           00466             movwf port
00F1   3002           00467             movlw b'10' ;procesor 2
00F2   00D3           00468             movwf prc
00F3   21E1           00469             call clrout ;nastav port v prc
                      00470 
00F4   125A           00471             bcf casov, ODSKOK ;timer red tunningu nebude vniman
00F5   0008           00472             return
                      00473             
                      00474 ;Problikavani alarmu
00F6   03EA           00475 alabli      decf timala, F
00F7   1D03           00476             btfss STATUS, Z
00F8   0008           00477             return
                      00478 
00F9   258D           00479             call t1_40
00FA   259C           00480             call t1_41
00FB   2641           00481             call t1_61
00FC   2650           00482             call t1_62
00FD   269E           00483             call klakson
                      00484             
00FE   3014           00485             movlw .20 ;nasavy na dalsich 240ms
00FF   00EA           00486             movwf timala
0100   0008           00487             return
                      00488 
                      00489 
                      00490 
                      00491 
                      00492 
                      00493 
0101   1486           00494 dotaz       bsf PORTB, 1  ;start bity XX - 10
0102   2694           00495             call w100c
0103   1086           00496             bcf PORTB, 1
0104   2694           00497             call w100c
                      00498             
0105   0878           00499             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
0106   00A0           00500             movwf r1
0107   3004           00501             movlw .4
0108   00A1           00502             movwf r2
0109   19A0           00503             btfsc r1, 3
010A   1486           00504             bsf PORTB, 1
010B   1DA0           00505             btfss r1, 3
010C   1086           00506             bcf PORTB, 1
010D   2694           00507             call w100c
010E   0DA0           00508             rlf r1, F
010F   0BA1           00509             decfsz r2, F
0110   2909           00510             goto $-7
                      00511             
0111   3000           00512             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0112   00A0           00513             movwf r1
0113   3007           00514             movlw .7
0114   00A1           00515             movwf r2
0115   1B20           00516             btfsc r1, 6
0116   1486           00517             bsf PORTB, 1
0117   1F20           00518             btfss r1, 6
0118   1086           00519             bcf PORTB, 1
0119   2694           00520             call w100c
011A   0DA0           00521             rlf r1, F
011B   0BA1           00522             decfsz r2, F
011C   2915           00523             goto $-7
                      00524             
011D   1486           00525             bsf PORTB, 1  ;STOP bity XXX - 111
011E   2694           00526             call w100c
011F   2694           00527             call w100c
0120   2694           00528             call w100c
0121   1086           00529             bcf PORTB, 1
0122   2699           00530             call w40c
                      00531             
0123   1683           00532             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0124   1486           00533             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
0125   1283           00534             bcf STATUS, RP0  ;Bank 0
                      00535             
0126   1959           00536             btfsc conf, WATCHOVER
0127   29B6           00537             goto dotazerr
0128   1C86           00538             btfss PORTB, 1  ;ceka az zacne vysilat signal
0129   2926           00539             goto $-3 ;ochrana proti zamrznuti
                      00540             
012A   1959           00541             btfsc conf, WATCHOVER
012B   29B6           00542             goto dotazerr
012C   1886           00543             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
012D   292A           00544             goto $-3 ;ochrana proti zamrznuti
                      00545             
012E   2699           00546             call w40c   ;posune do prostred signalu X - 0
012F   2694           00547             call w100c
                      00548             
0130   01F0           00549             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0131   3008           00550             movlw .8
0132   00A1           00551             movwf r2
0133   0DF0           00552             rlf pri0, F
0134   1886           00553             btfsc PORTB, 1
0135   1470           00554             bsf pri0, 0
0136   1C86           00555             btfss PORTB, 1
0137   1070           00556             bcf pri0, 0
0138   2694           00557             call w100c
0139   0BA1           00558             decfsz r2, F
013A   2933           00559             goto $-7
                      00560             
013B   1959           00561             btfsc conf, WATCHOVER
013C   29B6           00562             goto dotazerr
013D   1886           00563             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
013E   293B           00564             goto $-3 ;ochrana proti zamrznuti
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013F   2699           00565             call w40c
0140   2694           00566             call w100c
                      00567             
                      00568             
0141   01F1           00569             clrf pri1        ; ulozi priijate do pri XXXX XXXX
0142   3008           00570             movlw .8
0143   00A1           00571             movwf r2
0144   0DF1           00572             rlf pri1, F
0145   1886           00573             btfsc PORTB, 1
0146   1471           00574             bsf pri1, 0
0147   1C86           00575             btfss PORTB, 1
0148   1071           00576             bcf pri1, 0
0149   2694           00577             call w100c
014A   0BA1           00578             decfsz r2, F
014B   2944           00579             goto $-7
                      00580             
014C   1959           00581             btfsc conf, WATCHOVER
014D   29B6           00582             goto dotazerr
014E   1886           00583             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
014F   294C           00584             goto $-3 ;ochrana proti zamrznuti
0150   2699           00585             call w40c
0151   2694           00586             call w100c
                      00587             
                      00588             
0152   01F2           00589             clrf pri2        ; ulozi priijate do pri XXXX XXXX
0153   3008           00590             movlw .8
0154   00A1           00591             movwf r2
0155   0DF2           00592             rlf pri2, F
0156   1886           00593             btfsc PORTB, 1
0157   1472           00594             bsf pri2, 0
0158   1C86           00595             btfss PORTB, 1
0159   1072           00596             bcf pri2, 0
015A   2694           00597             call w100c
015B   0BA1           00598             decfsz r2, F
015C   2955           00599             goto $-7
                      00600             
015D   1959           00601             btfsc conf, WATCHOVER
015E   29B6           00602             goto dotazerr
015F   1886           00603             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0160   295D           00604             goto $-3 ;ochrana proti zamrznuti
0161   2699           00605             call w40c
0162   2694           00606             call w100c
                      00607             
                      00608             
0163   01F3           00609             clrf pri3        ; ulozi priijate do pri XXXX XXXX
0164   3008           00610             movlw .8
0165   00A1           00611             movwf r2
0166   0DF3           00612             rlf pri3, F
0167   1886           00613             btfsc PORTB, 1
0168   1473           00614             bsf pri3, 0
0169   1C86           00615             btfss PORTB, 1
016A   1073           00616             bcf pri3, 0
016B   2694           00617             call w100c
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

016C   0BA1           00618             decfsz r2, F
016D   2966           00619             goto $-7
                      00620             
016E   1959           00621             btfsc conf, WATCHOVER
016F   29B6           00622             goto dotazerr
0170   1886           00623             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0171   296E           00624             goto $-3 ;ochrana proti zamrznuti
0172   2699           00625             call w40c
0173   2694           00626             call w100c
                      00627             
                      00628             
0174   01F4           00629             clrf pri4        ; ulozi priijate do pri XXXX XXXX
0175   3008           00630             movlw .8
0176   00A1           00631             movwf r2
0177   0DF4           00632             rlf pri4, F
0178   1886           00633             btfsc PORTB, 1
0179   1474           00634             bsf pri4, 0
017A   1C86           00635             btfss PORTB, 1
017B   1074           00636             bcf pri4, 0
017C   2694           00637             call w100c
017D   0BA1           00638             decfsz r2, F
017E   2977           00639             goto $-7
                      00640             
017F   1959           00641             btfsc conf, WATCHOVER
0180   29B6           00642             goto dotazerr
0181   1886           00643             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0182   297F           00644             goto $-3 ;ochrana proti zamrznuti
0183   2699           00645             call w40c
0184   2694           00646             call w100c
                      00647             
                      00648             
0185   01F5           00649             clrf pri5        ; ulozi priijate do pri XXXX XXXX
0186   3008           00650             movlw .8
0187   00A1           00651             movwf r2
0188   0DF5           00652             rlf pri5, F
0189   1886           00653             btfsc PORTB, 1
018A   1475           00654             bsf pri5, 0
018B   1C86           00655             btfss PORTB, 1
018C   1075           00656             bcf pri5, 0
018D   2694           00657             call w100c
018E   0BA1           00658             decfsz r2, F
018F   2988           00659             goto $-7
                      00660             
0190   1959           00661             btfsc conf, WATCHOVER
0191   29B6           00662             goto dotazerr
0192   1886           00663             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0193   2990           00664             goto $-3 ;ochrana proti zamrznuti
0194   2699           00665             call w40c
0195   2694           00666             call w100c
                      00667             
                      00668             
0196   01F6           00669             clrf pri6        ; ulozi priijate do pri XXXX XXXX
0197   3008           00670             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0198   00A1           00671             movwf r2
0199   0DF6           00672             rlf pri6, F
019A   1886           00673             btfsc PORTB, 1
019B   1476           00674             bsf pri6, 0
019C   1C86           00675             btfss PORTB, 1
019D   1076           00676             bcf pri6, 0
019E   2694           00677             call w100c
019F   0BA1           00678             decfsz r2, F
01A0   2999           00679             goto $-7
                      00680             
01A1   1959           00681             btfsc conf, WATCHOVER
01A2   29B6           00682             goto dotazerr
01A3   1886           00683             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A4   29A1           00684             goto $-3 ;ochrana proti zamrznuti
01A5   2699           00685             call w40c
01A6   2694           00686             call w100c
                      00687             
                      00688             
01A7   01F7           00689             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01A8   3008           00690             movlw .8
01A9   00A1           00691             movwf r2
01AA   0DF7           00692             rlf pri7, F
01AB   1886           00693             btfsc PORTB, 1
01AC   1477           00694             bsf pri7, 0
01AD   1C86           00695             btfss PORTB, 1
01AE   1077           00696             bcf pri7, 0
01AF   2694           00697             call w100c
01B0   0BA1           00698             decfsz r2, F
01B1   29AA           00699             goto $-7
                      00700             
01B2   1959           00701             btfsc conf, WATCHOVER
01B3   29B6           00702             goto dotazerr
01B4   1886           00703             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01B5   29B2           00704             goto $-3 ;ochrana proti zamrznuti
                      00705             
                      00706             
01B6   1683           00707 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01B7   1086           00708             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01B8   1283           00709             bcf STATUS, RP0  ;Bank 0
01B9   0008           00710             return
                      00711         
                      00712         ; WATCH2 start
01BA   1486           00713 setout      bsf PORTB, 1  ;start bity XX - 10
01BB   2694           00714             call w100c
01BC   1086           00715             bcf PORTB, 1
01BD   2694           00716             call w100c
                      00717             
01BE   0853           00718             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01BF   00A0           00719             movwf r1
01C0   3004           00720             movlw .4
01C1   00A1           00721             movwf r2
01C2   19A0           00722             btfsc r1, 3
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C3   1486           00723             bsf PORTB, 1
01C4   1DA0           00724             btfss r1, 3
01C5   1086           00725             bcf PORTB, 1
01C6   2694           00726             call w100c
01C7   0DA0           00727             rlf r1, F
01C8   0BA1           00728             decfsz r2, F
01C9   29C2           00729             goto $-7
                      00730             
01CA   1486           00731             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01CB   2694           00732             call w100c
                      00733             
01CC   0852           00734             movf port, W   ;vysila port ke zmene XXXXX
01CD   00A0           00735             movwf r1
01CE   3005           00736             movlw .5
01CF   00A1           00737             movwf r2
01D0   1A20           00738             btfsc r1, 4
01D1   1486           00739             bsf PORTB, 1
01D2   1E20           00740             btfss r1, 4
01D3   1086           00741             bcf PORTB, 1
01D4   2694           00742             call w100c
01D5   0DA0           00743             rlf r1, F
01D6   0BA1           00744             decfsz r2, F
01D7   29D0           00745             goto $-7
                      00746             
01D8   1486           00747             bsf PORTB, 1  ;vysle hodnotu 1
01D9   2694           00748             call w100c
                      00749             
01DA   1486           00750             bsf PORTB, 1  ;STOP bity XXX - 111
01DB   2694           00751             call w100c
01DC   2694           00752             call w100c
01DD   2694           00753             call w100c
01DE   1086           00754             bcf PORTB, 1
01DF   2694           00755             call w100c
                      00756             ; WATCH2 wait
01E0   0008           00757             return
                      00758 
                      00759       ; WATCH2 start
01E1   1486           00760 clrout      bsf PORTB, 1  ;start bity XX - 10
01E2   2694           00761             call w100c
01E3   1086           00762             bcf PORTB, 1
01E4   2694           00763             call w100c
                      00764             
01E5   0853           00765             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01E6   00A0           00766             movwf r1
01E7   3004           00767             movlw .4
01E8   00A1           00768             movwf r2
01E9   19A0           00769             btfsc r1, 3
01EA   1486           00770             bsf PORTB, 1
01EB   1DA0           00771             btfss r1, 3
01EC   1086           00772             bcf PORTB, 1
01ED   2694           00773             call w100c
01EE   0DA0           00774             rlf r1, F
01EF   0BA1           00775             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F0   29E9           00776             goto $-7
                      00777             
01F1   1486           00778             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01F2   2694           00779             call w100c
                      00780             
01F3   0852           00781             movf port, W   ;vysila port ke zmene XXXXX
01F4   00A0           00782             movwf r1
01F5   3005           00783             movlw .5
01F6   00A1           00784             movwf r2
01F7   1A20           00785             btfsc r1, 4
01F8   1486           00786             bsf PORTB, 1
01F9   1E20           00787             btfss r1, 4
01FA   1086           00788             bcf PORTB, 1
01FB   2694           00789             call w100c
01FC   0DA0           00790             rlf r1, F
01FD   0BA1           00791             decfsz r2, F
01FE   29F7           00792             goto $-7
                      00793             
01FF   1086           00794             bcf PORTB, 1  ;vysle hodnotu 0
0200   2694           00795             call w100c
                      00796             
0201   1486           00797             bsf PORTB, 1  ;STOP bity XXX - 111
0202   2694           00798             call w100c
0203   2694           00799             call w100c
0204   2694           00800             call w100c
0205   1086           00801             bcf PORTB, 1
0206   2694           00802             call w100c
                      00803             ; WATCH2 wait
0207   0008           00804             return
                      00805         
                      00806         
                      00807         
                      00808         
                      00809         
                      00810         
                      00811         
                      00812         
                      00813         
                      00814         
                      00815         
                      00816         ;podprogramy
                      00817 ;Tlačitka funkci 1
0208   1BAC           00818 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0209   0008           00819             return
                      00820             
020A   1003           00821             bcf STATUS, C
020B   0C3F           00822             rrf ir_58, W
020C   00A0           00823             movwf r1
020D   1003           00824             bcf STATUS, C
020E   0CA0           00825             rrf r1, F
020F   1003           00826             bcf STATUS, C
0210   0CA0           00827             rrf r1, F
0211   30E0           00828             movlw b'11100000'
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0212   04A0           00829             iorwf r1, F
                      00830             
0213   0820           00831             movf r1, W    ;zkontroluje jestli nebylo uz minule
0214   00A3           00832             movwf r4
0215   0854           00833             movf tl1, W
0216   06A3           00834             xorwf r4, F
0217   1903           00835             btfsc STATUS, Z
0218   0008           00836             return
0219   0820           00837             movf r1, W    ;ulozi aktualni tlacitko
021A   00D4           00838             movwf tl1
                      00839             
021B   0AA0           00840             incf r1, F
021C   1903           00841             btfsc STATUS, Z
021D   246C           00842             call t1_06
021E   0AA0           00843             incf r1, F
021F   1903           00844             btfsc STATUS, Z
0220   23DA           00845             call t1_02
0221   0AA0           00846             incf r1, F
0222   1903           00847             btfsc STATUS, Z
0223   23FD           00848             call t1_03
0224   0AA0           00849             incf r1, F
0225   1903           00850             btfsc STATUS, Z
0226   2454           00851             call t1_05
0227   0AA0           00852             incf r1, F
0228   1903           00853             btfsc STATUS, Z
0229   25B6           00854             call t1_43
022A   0AA0           00855             incf r1, F
022B   1903           00856             btfsc STATUS, Z
022C   25AB           00857             call t1_42
022D   0AA0           00858             incf r1, F
022E   1903           00859             btfsc STATUS, Z
022F   24A3           00860             call t1_07
0230   0AA0           00861             incf r1, F
0231   1903           00862             btfsc STATUS, Z
0232   24B1           00863             call t1_08
0233   0AA0           00864             incf r1, F
0234   1903           00865             btfsc STATUS, Z
0235   24E1           00866             call t1_14
0236   0AA0           00867             incf r1, F
0237   1903           00868             btfsc STATUS, Z
0238   24E7           00869             call t1_15
0239   0AA0           00870             incf r1, F
023A   1903           00871             btfsc STATUS, Z
023B   2579           00872             call t1_37
023C   0AA0           00873             incf r1, F
023D   1903           00874             btfsc STATUS, Z
023E   24C1           00875             call t1_10
023F   0AA0           00876             incf r1, F
0240   1903           00877             btfsc STATUS, Z
0241   24D1           00878             call t1_12
0242   0AA0           00879             incf r1, F
0243   1903           00880             btfsc STATUS, Z
0244   2534           00881             call t1_30
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0245   0AA0           00882             incf r1, F
0246   1903           00883             btfsc STATUS, Z
0247   255C           00884             call t1_34
0248   0AA0           00885             incf r1, F
0249   1903           00886             btfsc STATUS, Z
024A   2546           00887             call t1_32
024B   0AA0           00888             incf r1, F
024C   1903           00889             btfsc STATUS, Z
024D   256E           00890             call t1_36
                      00891             ;pokud je tlacitko prave pusteno
024E   1003           00892             bcf STATUS, C
024F   0C3F           00893             rrf ir_58, W
0250   00A0           00894             movwf r1
0251   0820           00895             movf r1, W
0252   1903           00896             btfsc STATUS, Z
0253   2321           00897             call t1_stop
0254   0008           00898             return
                      00899 
                      00900 ;Tlačitka funkci 2
0255   1BAC           00901 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0256   0008           00902             return
                      00903             
0257   1003           00904             bcf STATUS, C
0258   0C43           00905             rrf ir_62, W
0259   00A0           00906             movwf r1
025A   1003           00907             bcf STATUS, C
025B   0CA0           00908             rrf r1, F
025C   1003           00909             bcf STATUS, C
025D   0CA0           00910             rrf r1, F
025E   30E0           00911             movlw b'11100000'
025F   04A0           00912             iorwf r1, F
                      00913             
0260   0820           00914             movf r1, W    ;zkontroluje jestli nebylo uz minule
0261   00A3           00915             movwf r4
0262   0855           00916             movf tl2, W
0263   06A3           00917             xorwf r4, F
0264   1903           00918             btfsc STATUS, Z
0265   0008           00919             return
0266   0820           00920             movf r1, W    ;ulozi aktualni tlacitko
0267   00D5           00921             movwf tl2
                      00922     
0268   0AA0           00923             incf r1, F
0269   1903           00924             btfsc STATUS, Z
026A   241E           00925             call t1_04
026B   0AA0           00926             incf r1, F
026C   1903           00927             btfsc STATUS, Z
026D   260F           00928             call t1_56
026E   0AA0           00929             incf r1, F
026F   1903           00930             btfsc STATUS, Z
0270   24ED           00931             call t1_16
0271   0AA0           00932             incf r1, F
0272   1903           00933             btfsc STATUS, Z
0273   2523           00934             call t1_26
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0274   0AA0           00935             incf r1, F
0275   1903           00936             btfsc STATUS, Z
0276   25C1           00937             call t1_44
0277   0AA0           00938             incf r1, F
0278   1903           00939             btfsc STATUS, Z
0279   24CB           00940             call t1_11
027A   0AA0           00941             incf r1, F
027B   1903           00942             btfsc STATUS, Z
027C   24D9           00943             call t1_13
027D   0AA0           00944             incf r1, F
027E   1903           00945             btfsc STATUS, Z
027F   25FD           00946             call t1_54
0280   0AA0           00947             incf r1, F
0281   1903           00948             btfsc STATUS, Z
0282   259C           00949             call t1_41
0283   0AA0           00950             incf r1, F
0284   1903           00951             btfsc STATUS, Z
0285   2650           00952             call t1_62
0286   0AA0           00953             incf r1, F
0287   1903           00954             btfsc STATUS, Z
0288   258D           00955             call t1_40
0289   0AA0           00956             incf r1, F
028A   1903           00957             btfsc STATUS, Z
028B   2641           00958             call t1_61
028C   0AA0           00959             incf r1, F
028D   1903           00960             btfsc STATUS, Z
028E   253D           00961             call t1_31
028F   0AA0           00962             incf r1, F
0290   1903           00963             btfsc STATUS, Z
0291   2565           00964             call t1_35
0292   0AA0           00965             incf r1, F
0293   1903           00966             btfsc STATUS, Z
0294   25EE           00967             call t1_53
0295   0AA0           00968             incf r1, F
0296   1903           00969             btfsc STATUS, Z
0297   2551           00970             call t1_33
0298   0AA0           00971             incf r1, F
0299   1903           00972             btfsc STATUS, Z
029A   2636           00973             call t1_60
                      00974             ;pokud je tlacitko prave pusteno
029B   1003           00975             bcf STATUS, C
029C   0C43           00976             rrf ir_62, W
029D   00A0           00977             movwf r1
029E   0820           00978             movf r1, W
029F   1903           00979             btfsc STATUS, Z
02A0   2323           00980             call t2_stop
02A1   0008           00981             return
                      00982 ;Tlačitka imobilizeru
02A2   0000           00983 if_50       nop
02A3   0008           00984             return
                      00985              ;pasy
02A4   0000           00986 if_59       nop
02A5   0008           00987             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00988              ;rychlost
02A6   0000           00989 if_60       nop
02A7   0008           00990             return
                      00991              ;otáčky
02A8   0000           00992 if_61       nop
02A9   0008           00993             return
                      00994              ;teplota in set
02AA   0000           00995 if_49       nop
02AB   0008           00996             return
                      00997              ;alarm senzory
02AC   0000           00998 if_80       nop
02AD   0008           00999             return
                      01000              ;baterie
02AE   0000           01001 if_51       nop
02AF   0008           01002             return
                      01003              ;teplota in
02B0   0000           01004 if_52       nop
02B1   0008           01005             return
                      01006              ;teplota eng
02B2   0000           01007 if_53       nop
02B3   0008           01008             return
                      01009              ;palivo
02B4   0000           01010 if_54       nop
02B5   0008           01011             return
                      01012              ;dveře 1
02B6   0000           01013 if_55       nop
02B7   0008           01014             return
                      01015              ;ruční brzda
02B8   0000           01016 if_56       nop
02B9   0008           01017             return
                      01018              ;kvalt
02BA   0000           01019 if_57       nop
02BB   0008           01020             return
                      01021              ;dveře 2
02BC   0000           01022 if_84       nop
02BD   0008           01023             return
                      01024              ;dveře 3
02BE   0000           01025 if_85       nop
02BF   0008           01026             return
                      01027              ;dveře 4
02C0   0000           01028 if_86       nop
02C1   0008           01029             return
                      01030              ;kapota
02C2   0000           01031 if_87       nop
02C3   0008           01032             return
                      01033              ;kufr
02C4   0000           01034 if_88       nop
02C5   0008           01035             return
                      01036              ;nadrz
02C6   0000           01037 if_89       nop
02C7   0008           01038             return
                      01039              ;okno 1
02C8   0000           01040 if_90       nop
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02C9   0008           01041             return
                      01042              ;okno 2
02CA   0000           01043 if_91       nop
02CB   0008           01044             return
                      01045              ;okno 3
02CC   0000           01046 if_92       nop
02CD   0008           01047             return
                      01048              ;okno 4
02CE   0000           01049 if_93       nop
02CF   0008           01050             return
                      01051              ;teplota OUT
02D0   0000           01052 if_127      nop
02D1   0008           01053             return
                      01054 
                      01055 ;Tlačítka funkcí 3
02D2   1BAC           01056 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
02D3   0000           01057             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01058             
02D4   1003           01059             bcf STATUS, C
02D5   0C50           01060             rrf ir_128, W
02D6   00A0           01061             movwf r1
02D7   1003           01062             bcf STATUS, C
02D8   0CA0           01063             rrf r1, F
02D9   1003           01064             bcf STATUS, C
02DA   0CA0           01065             rrf r1, F
02DB   30E0           01066             movlw b'11100000'
02DC   04A0           01067             iorwf r1, F
                      01068             
02DD   0820           01069             movf r1, W    ;zkontroluje jestli nebylo uz minule
02DE   00A3           01070             movwf r4
02DF   0856           01071             movf tl3, W
02E0   06A3           01072             xorwf r4, F
02E1   1903           01073             btfsc STATUS, Z
02E2   0008           01074             return
02E3   0820           01075             movf r1, W    ;ulozi aktualni tlacitko
02E4   00D6           01076             movwf tl3
                      01077     
02E5   0AA0           01078             incf r1, F
02E6   1903           01079             btfsc STATUS, Z
02E7   25D2           01080             call t1_47
02E8   0AA0           01081             incf r1, F
02E9   1903           01082             btfsc STATUS, Z
02EA   2363           01083             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
02EB   0AA0           01084             incf r1, F
02EC   1903           01085             btfsc STATUS, Z
02ED   23AC           01086             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
02EE   0AA0           01087             incf r1, F
02EF   1903           01088             btfsc STATUS, Z
02F0   268D           01089             call t1_x
02F1   0AA0           01090             incf r1, F
02F2   1903           01091             btfsc STATUS, Z
02F3   268D           01092             call t1_x
02F4   0AA0           01093             incf r1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02F5   1903           01094             btfsc STATUS, Z
02F6   268D           01095             call t1_x
02F7   0AA0           01096             incf r1, F
02F8   1903           01097             btfsc STATUS, Z
02F9   268D           01098             call t1_x
02FA   0AA0           01099             incf r1, F
02FB   1903           01100             btfsc STATUS, Z
02FC   268D           01101             call t1_x
02FD   0AA0           01102             incf r1, F
02FE   1903           01103             btfsc STATUS, Z
02FF   268D           01104             call t1_x
0300   0AA0           01105             incf r1, F
0301   1903           01106             btfsc STATUS, Z
0302   268D           01107             call t1_x
0303   0AA0           01108             incf r1, F
0304   1903           01109             btfsc STATUS, Z
0305   268D           01110             call t1_x
0306   0AA0           01111             incf r1, F
0307   1903           01112             btfsc STATUS, Z
0308   268D           01113             call t1_x
0309   0AA0           01114             incf r1, F
030A   1903           01115             btfsc STATUS, Z
030B   268D           01116             call t1_x
030C   0AA0           01117             incf r1, F
030D   1903           01118             btfsc STATUS, Z
030E   268D           01119             call t1_x
030F   0AA0           01120             incf r1, F
0310   1903           01121             btfsc STATUS, Z
0311   268D           01122             call t1_x
0312   0AA0           01123             incf r1, F
0313   1903           01124             btfsc STATUS, Z
0314   268D           01125             call t1_x
0315   0AA0           01126             incf r1, F
0316   1903           01127             btfsc STATUS, Z
0317   268D           01128             call t1_x
                      01129             ;pokud je tlacitko prave pusteno
0318   1003           01130             bcf STATUS, C
0319   0C50           01131             rrf ir_128, W
031A   00A0           01132             movwf r1
031B   0820           01133             movf r1, W
031C   1903           01134             btfsc STATUS, Z
031D   2325           01135             call t3_stop
031E   0008           01136             return
                      01137 
                      01138 ;předpřipravené pro rozšíření procesoru 5 a vice
031F   0000           01139 if_x        nop
0320   0008           01140             return
                      01141 
                      01142 ;vypina holdovaci vystupy
0321   0000           01143 t1_stop     nop
0322   0008           01144             return
0323   0000           01145 t2_stop     nop
0324   0008           01146             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0325   0000           01147 t3_stop     nop
0326   0008           01148             return
                      01149             
0327   3010           01150 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0328   00D2           01151             movwf port
0329   3002           01152             movlw b'10' ;procesor 2
032A   00D3           01153             movwf prc
032B   18AC           01154             btfsc o_d, 1
032C   21E1           01155             call clrout ;nastav port v prc
032D   10AC           01156             bcf o_d, 1
032E   3011           01157             movlw b'10001' ;port C1
032F   00D2           01158             movwf port
0330   3002           01159             movlw b'10' ;procesor 2
0331   00D3           01160             movwf prc
0332   192C           01161             btfsc o_d, 2
0333   21E1           01162             call clrout ;nastav port v prc
0334   112C           01163             bcf o_d, 2
0335   3012           01164             movlw b'10010' ;port C2
0336   00D2           01165             movwf port
0337   3002           01166             movlw b'10' ;procesor 2
0338   00D3           01167             movwf prc
0339   19AC           01168             btfsc o_d, 3
033A   21E1           01169             call clrout ;nastav port v prc
033B   11AC           01170             bcf o_d, 3
033C   3013           01171             movlw b'10011' ;port C3
033D   00D2           01172             movwf port
033E   3002           01173             movlw b'10' ;procesor 2
033F   00D3           01174             movwf prc
0340   1A2C           01175             btfsc o_d, 4
0341   21E1           01176             call clrout ;nastav port v prc
0342   122C           01177             bcf o_d, 4
0343   3014           01178             movlw b'10100' ;port C4
0344   00D2           01179             movwf port
0345   3002           01180             movlw b'10' ;procesor 2
0346   00D3           01181             movwf prc
0347   1AAC           01182             btfsc o_d, 5
0348   21E1           01183             call clrout ;nastav port v prc
0349   12AC           01184             bcf o_d, 5
034A   3015           01185             movlw b'10101' ;port C5
034B   00D2           01186             movwf port
034C   3002           01187             movlw b'10' ;procesor 2
034D   00D3           01188             movwf prc
034E   1B2C           01189             btfsc o_d, 6
034F   21E1           01190             call clrout ;nastav port v prc
0350   132C           01191             bcf o_d, 6
                      01192                   ;blinkry
0351   122D           01193             bcf o_e, 4
0352   1308           01194             bcf PORTD, 6
0353   12AD           01195             bcf o_e, 5
0354   1388           01196             bcf PORTD, 7
                      01197                   ;klakson
0355   3019           01198             movlw b'11001' ;port D1
0356   00D2           01199             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0357   3003           01200             movlw b'11' ;procesor 3
0358   00D3           01201             movwf prc
0359   1A2B           01202             btfsc o_c, 4
035A   21E1           01203             call clrout ;nastav port v prc
035B   122B           01204             bcf o_c, 4
                      01205                   ;stěrače, odstřikovače
035C   13AB           01206             bcf o_c, 7
035D   1188           01207             bcf PORTD, 3
035E   132B           01208             bcf o_c, 6
035F   1108           01209             bcf PORTD, 2
                      01210                   ;dálková světla
0360   102C           01211             bcf o_d, 0
0361   1208           01212             bcf PORTD, 4
0362   0008           01213             return
                      01214         
                      01215         
                      01216         
                      01217 ;zamknuti alarm on
0363   1858           01218 t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
0364   0008           01219             return
0365   083C           01220             movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
0366   0445           01221             iorwf ir_84, W
0367   0446           01222             iorwf ir_85, W
0368   0447           01223             iorwf ir_86, W
0369   0448           01224             iorwf ir_87, W
036A   0449           01225             iorwf ir_88, W
036B   044A           01226             iorwf ir_89, W
036C   00A5           01227             movwf r6
036D   1BA5           01228             btfsc r6, 7
036E   0000           01229             nop ;MLUV "zkontrolujte vstupy do auta"
036F   1BA5           01230             btfsc r6, 7
0370   25EE           01231             call t1_53 ;zapne sirenu
0371   1BA5           01232             btfsc r6, 7
0372   301F           01233             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
0373   1BA5           01234             btfsc r6, 7
0374   00D8           01235             movwf cassir
0375   1BA5           01236             btfsc r6, 7
0376   3003           01237             movlw .3
0377   1BA5           01238             btfsc r6, 7
0378   00D7           01239             movwf timsir
                      01240             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01241             ;return
                      01242 
0379   246C           01243             call t1_06 ;vypne vse 
037A   17AC           01244             bsf o_d, 7 ;zapne alarm cidla
037B   1786           01245             bsf PORTB, 7
                      01246                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01247                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01248             
                      01249             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01250             ;bsf PORTD, 6
                      01251             ;bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01252             ;bsf PORTD, 7
                      01253             ;bsf casov, VAROV
                      01254             ;movlw .80
                      01255             ;movwf timvar
                      01256             
037C   2454           01257             call t1_05 ;zapne varovky
037D   301F           01258             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
037E   00EE           01259             movwf casvar
037F   3008           01260             movlw .8
0380   00DB           01261             movwf timvar
                      01262             
                      01263             
0381   3016           01264             movlw b'10110' ;port C6
0382   00D2           01265             movwf port
0383   3002           01266             movlw b'10' ;procesor 2
0384   00D3           01267             movwf prc 
0385   1D2B           01268             btfss o_c, 2
0386   21BA           01269             call setout ;set port v prc
0387   152B           01270             bsf o_c, 2 ;problikne red tunning na 1 sekundu
0388   301A           01271             movlw b'11010' ;port D2
0389   00D2           01272             movwf port
038A   3002           01273             movlw b'10' ;procesor 2
038B   00D3           01274             movwf prc 
038C   1DAE           01275             btfss o_f, 3
038D   21BA           01276             call setout ;set port v prc
038E   15AE           01277             bsf o_f, 3 ;problikne red interier na 1 sekundu
038F   14DA           01278             bsf casov, REDTUN ;do timeru ze po 1s vypne
0390   301E           01279             movlw .30
0391   00DC           01280             movwf timrtu
0392   25EE           01281             call t1_53 ;zahraje sirenou na 200ms
0393   3001           01282             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
0394   00D8           01283             movwf cassir
0395   3008           01284             movlw .8
0396   00D7           01285             movwf timsir
0397   13AE           01286             bcf o_f, 7 ;sklopi zrcatka neboli vypne
0398   1089           01287             bcf PORTE, 1
0399   0000           01288             nop ;MLUV "auto zamčeno"
039A   24A3           01289             call t1_07 ;zamkne
039B   155A           01290             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
039C   300F           01291             movlw .15
039D   00DD           01292             movwf timlza
                      01293 
                      01294                   ;zatahnuti okenek
039E   084B           01295             movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
039F   00DE           01296             movwf o1tmp
03A0   084C           01297             movf ir_91, W
03A1   00DF           01298             movwf o2tmp
03A2   084D           01299             movf ir_92, W
03A3   00E0           01300             movwf o3tmp
03A4   084E           01301             movf ir_93, W
03A5   00E1           01302             movwf o4tmp
03A6   3000           01303             movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
03A7   00E2           01304             movwf o1tar
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03A8   00E3           01305             movwf o2tar
03A9   00E4           01306             movwf o3tar
03AA   00E5           01307             movwf o4tar
                      01308  
03AB   0008           01309             return
                      01310             
                      01311 ;odemknuti alarm off
03AC   1858           01312 t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
03AD   0008           01313             return
                      01314             
03AE   13AC           01315             bcf o_d, 7 ;vypne alarm cidla
03AF   1386           01316             bcf PORTB, 7
                      01317                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01318                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03B0   241E           01319             call t1_04
                      01320             
                      01321             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01322             ;bsf PORTD, 6
                      01323             ;bsf o_e, 5
                      01324             ;bsf PORTD, 7
                      01325             ;bsf casov, VAROV
                      01326             ;movlw .80
                      01327             ;movwf timvar
                      01328             
03B1   2454           01329             call t1_05 ;zapne varovky
03B2   3007           01330             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03B3   00EE           01331             movwf casvar
03B4   3008           01332             movlw .8
03B5   00DB           01333             movwf timvar
                      01334             
                      01335             
03B6   3017           01336             movlw b'10111' ;port C7
03B7   00D2           01337             movwf port
03B8   3002           01338             movlw b'10' ;procesor 2
03B9   00D3           01339             movwf prc 
03BA   1DAB           01340             btfss o_c, 3
03BB   21BA           01341             call setout ;set port v prc
03BC   15AB           01342             bsf o_c, 3 ;problikne white tunning na 1 sekundu
03BD   301B           01343             movlw b'11011' ;port D3
03BE   00D2           01344             movwf port
03BF   3002           01345             movlw b'10' ;procesor 2
03C0   00D3           01346             movwf prc 
03C1   1E2E           01347             btfss o_f, 4
03C2   21BA           01348             call setout ;set port v prc
03C3   162E           01349             bsf o_f, 4 ;problikne white interier na 1 sekundu
03C4   15DA           01350             bsf casov, WHITUN ;do timeru ze po 1s vypne
03C5   301E           01351             movlw .30
03C6   00E6           01352             movwf timwtu
03C7   25EE           01353             call t1_53 ;zahraje sirenou na 200ms
03C8   3007           01354             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03C9   00D8           01355             movwf cassir
03CA   3008           01356             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03CB   00D7           01357             movwf timsir
03CC   17AE           01358             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03CD   1489           01359             bsf PORTE, 1
03CE   0000           01360             nop ;MLUV "auto odemčeno"
03CF   115A           01361             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03D0   24B1           01362             call t1_08 ;odemkne
                      01363 
                      01364                   ;stahnuti okenek
03D1   085E           01365             movf o1tmp, W
03D2   00E2           01366             movwf o1tar
03D3   085F           01367             movf o2tmp, W
03D4   00E3           01368             movwf o2tar
03D5   0860           01369             movf o3tmp, W
03D6   00E4           01370             movwf o3tar
03D7   0861           01371             movf o4tmp, W
03D8   00E5           01372             movwf o4tar
                      01373  
03D9   0008           01374             return
                      01375             
                      01376 ;spinacka poloha up
03DA   1967           01377 t1_02       btfsc spinac, 2
03DB   0008           01378             return
03DC   1403           01379             bsf STATUS, C
03DD   0DE7           01380             rlf spinac, F
                      01381                   ;pokud poloha 3
03DE   1D67           01382             btfss spinac, 2
03DF   2BF3           01383             goto t2_02
03E0   1029           01384             bcf o_a, 0
03E1   1007           01385             bcf PORTC, 0
03E2   10A9           01386             bcf o_a, 1
03E3   1087           01387             bcf PORTC, 1
03E4   1531           01388             bsf o_i, 2
03E5   301A           01389             movlw b'11010' ;port D2
03E6   00D2           01390             movwf port
03E7   3003           01391             movlw b'11' ;procesor 3
03E8   00D3           01392             movwf prc 
03E9   21BA           01393             call setout ;set port v prc
03EA   15B1           01394             bsf o_i, 3
03EB   301B           01395             movlw b'11011' ;port D3
03EC   00D2           01396             movwf port
03ED   3003           01397             movlw b'11' ;procesor 3
03EE   00D3           01398             movwf prc 
03EF   21BA           01399             call setout ;set port v prc
03F0   3014           01400             movlw .20 ;nastavi startovani pouze max na vterinu
03F1   00E8           01401             movwf timspi
03F2   0008           01402             return
                      01403             ;pokud poloha 2
03F3   1CE7           01404 t2_02       btfss spinac, 1
03F4   2BFA           01405             goto t3_02
03F5   1429           01406             bsf o_a, 0
03F6   1407           01407             bsf PORTC, 0
03F7   1529           01408             bsf o_a, 2
03F8   1507           01409             bsf PORTC, 2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03F9   0008           01410             return
                      01411             ;pokud poloha 1
03FA   14A9           01412 t3_02       bsf o_a, 1
03FB   1487           01413             bsf PORTC, 1
03FC   0008           01414             return
                      01415             
                      01416 ;spinacka poloha down
03FD   1C67           01417 t1_03       btfss spinac, 0
03FE   0008           01418             return
03FF   1003           01419             bcf STATUS, C
0400   0CE7           01420             rrf spinac, F
                      01421             ;pokud poloha 2
0401   1CE7           01422             btfss spinac, 1
0402   2C14           01423             goto t2_03
0403   1429           01424             bsf o_a, 0
0404   1407           01425             bsf PORTC, 0
0405   14A9           01426             bsf o_a, 1
0406   1487           01427             bsf PORTC, 1
0407   1131           01428             bcf o_i, 2
0408   301A           01429             movlw b'11010' ;port D2
0409   00D2           01430             movwf port
040A   3003           01431             movlw b'11' ;procesor 3
040B   00D3           01432             movwf prc 
040C   21E1           01433             call clrout ;set port v prc
040D   11B1           01434             bcf o_i, 3
040E   301B           01435             movlw b'11011' ;port D3
040F   00D2           01436             movwf port
0410   3003           01437             movlw b'11' ;procesor 3
0411   00D3           01438             movwf prc 
0412   21E1           01439             call clrout ;set port v prc
0413   0008           01440             return
                      01441             ;pokud poloha 1
0414   1C67           01442 t2_03       btfss spinac, 0
0415   2C1B           01443             goto t3_03
0416   1029           01444             bcf o_a, 0
0417   1007           01445             bcf PORTC, 0
0418   1129           01446             bcf o_a, 2
0419   1107           01447             bcf PORTC, 2
041A   0008           01448             return
                      01449             ;pokud poloha 0
041B   10A9           01450 t3_03       bcf o_a, 1
041C   1087           01451             bcf PORTC, 1
041D   0008           01452             return
                      01453             
                      01454 ;alarm stop
041E   1EDA           01455 t1_04       btfss casov, ALARM
041F   0008           01456             return
0420   3018           01457             movlw b'11000' ;port D0  ;sirena
0421   00D2           01458             movwf port
0422   3003           01459             movlw b'11' ;procesor 3
0423   00D3           01460             movwf prc 
0424   18AD           01461             btfsc o_e, 1
0425   21E1           01462             call clrout ;set port v prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0426   10AD           01463             bcf o_e, 1
                      01464             ;varovky
                      01465             ;bcf o_e, 4
                      01466             ;bcf PORTD, 6
                      01467             ;bcf o_e, 5
                      01468             ;bcf PORTD, 7
0427   2454           01469             call t1_05
                      01470             
                      01471             ;stroboskop
0428   3019           01472             movlw b'11001' ;port D1
0429   00D2           01473             movwf port
042A   3002           01474             movlw b'10' ;procesor 2
042B   00D3           01475             movwf prc 
042C   192D           01476             btfsc o_e, 2
042D   21E1           01477             call clrout ;set port v prc
042E   112D           01478             bcf o_e, 2
                      01479             
042F   3016           01480             movlw b'10110' ;port C6
0430   00D2           01481             movwf port
0431   3002           01482             movlw b'10' ;procesor 2
0432   00D3           01483             movwf prc 
0433   192B           01484             btfsc o_c, 2
0434   21E1           01485             call clrout ;set port v prc
0435   112B           01486             bcf o_c, 2
0436   3017           01487             movlw b'10111' ;port C7
0437   00D2           01488             movwf port
0438   3002           01489             movlw b'10' ;procesor 2
0439   00D3           01490             movwf prc 
043A   19AB           01491             btfsc o_c, 3
043B   21E1           01492             call clrout ;set port v prc
043C   11AB           01493             bcf o_c, 3
043D   301A           01494             movlw b'11010' ;port D2
043E   00D2           01495             movwf port
043F   3002           01496             movlw b'10' ;procesor 2
0440   00D3           01497             movwf prc 
0441   19AE           01498             btfsc o_f, 3
0442   21E1           01499             call clrout ;set port v prc
0443   11AE           01500             bcf o_f, 3
0444   301B           01501             movlw b'11011' ;port D3
0445   00D2           01502             movwf port
0446   3002           01503             movlw b'10' ;procesor 2
0447   00D3           01504             movwf prc 
0448   1A2E           01505             btfsc o_f, 4
0449   21E1           01506             call clrout ;set port v prc
044A   122E           01507             bcf o_f, 4
044B   3019           01508             movlw b'11001' ;port D1
044C   00D2           01509             movwf port
044D   3003           01510             movlw b'11' ;procesor 3
044E   00D3           01511             movwf prc 
044F   1A2B           01512             btfsc o_c, 4
0450   21E1           01513             call clrout ;set port v prc
0451   122B           01514             bcf o_c, 4
                      01515             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0452   12DA           01516             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0453   0008           01517             return
                      01518             
                      01519 ;varovna svetla
0454   186E           01520 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0455   122D           01521             bcf o_e, 4
0456   186E           01522             btfsc casvar, 0 ;pokud oba zaply oba vypne
0457   1308           01523             bcf PORTD, 6
0458   186E           01524             btfsc casvar, 0 ;pokud oba zaply oba vypne
0459   12AD           01525             bcf o_e, 5
045A   186E           01526             btfsc casvar, 0 ;pokud oba zaply oba vypne
045B   1388           01527             bcf PORTD, 7
                      01528     
045C   1C6E           01529             btfss casvar, 0 ;pokud jeden vyply oba zapne
045D   162D           01530             bsf o_e, 4
045E   1C6E           01531             btfss casvar, 0 ;pokud jeden vyply oba zapne
045F   1708           01532             bsf PORTD, 6
0460   1C6E           01533             btfss casvar, 0 ;pokud jeden vyply oba zapne
0461   16AD           01534             bsf o_e, 5
0462   1C6E           01535             btfss casvar, 0 ;pokud jeden vyply oba zapne
0463   1788           01536             bsf PORTD, 7
                      01537             
0464   186E           01538             btfsc casvar, 0
0465   3000           01539             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
0466   1C6E           01540             btfss casvar, 0
0467   30FF           01541             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
0468   00EE           01542             movwf casvar
0469   3008           01543             movlw .8
046A   00DB           01544             movwf timvar
                      01545             
046B   0008           01546             return
                      01547             
                      01548 ;vypnout vse
046C   18D9           01549 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
046D   0008           01550             return
                      01551             ;svetla 
046E   10AB           01552             bcf o_c, 1
046F   1187           01553             bcf PORTC, 3
                      01554             ;red tuning
                      01555             ;white tunning
                      01556             ;red interier
                      01557             ;white interier
0470   3017           01558             movlw b'10111' ;port C7
0471   00D2           01559             movwf port
0472   3002           01560             movlw b'10' ;procesor 2
0473   00D3           01561             movwf prc 
0474   19AB           01562             btfsc o_c, 3
0475   21E1           01563             call clrout ;set port v prc
0476   11AB           01564             bcf o_c, 3
0477   301B           01565             movlw b'11011' ;port D3
0478   00D2           01566             movwf port
0479   3002           01567             movlw b'10' ;procesor 2
047A   00D3           01568             movwf prc 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

047B   1A2E           01569             btfsc o_f, 4
047C   21E1           01570             call clrout ;set port v prc
047D   122E           01571             bcf o_f, 4
047E   3016           01572             movlw b'10110' ;port C6
047F   00D2           01573             movwf port
0480   3002           01574             movlw b'10' ;procesor 2
0481   00D3           01575             movwf prc 
0482   192B           01576             btfsc o_c, 2
0483   21E1           01577             call clrout ;set port v prc
0484   112B           01578             bcf o_c, 2
0485   301A           01579             movlw b'11010' ;port D2
0486   00D2           01580             movwf port
0487   3002           01581             movlw b'10' ;procesor 2
0488   00D3           01582             movwf prc 
0489   19AE           01583             btfsc o_f, 3
048A   21E1           01584             call clrout ;set port v prc
048B   11AE           01585             bcf o_f, 3
                      01586         
                      01587             ;stroboskop
048C   3019           01588             movlw b'11001' ;port D1
048D   00D2           01589             movwf port
048E   3002           01590             movlw b'10' ;procesor 2
048F   00D3           01591             movwf prc 
0490   192D           01592             btfsc o_e, 2
0491   21E1           01593             call clrout ;set port v prc
0492   112D           01594             bcf o_e, 2
                      01595             ;sirena
0493   3018           01596             movlw b'11000' ;port D0
0494   00D2           01597             movwf port
0495   3003           01598             movlw b'11' ;procesor 3
0496   00D3           01599             movwf prc 
0497   18AD           01600             btfsc o_e, 1
0498   21E1           01601             call clrout ;set port v prc
0499   10AD           01602             bcf o_e, 1
                      01603             ;parkovacky
049A   11AD           01604             bcf o_e, 3
049B   1288           01605             bcf PORTD, 5
                      01606             ;mlhovky zadni
049C   10AE           01607             bcf o_f, 1
049D   1207           01608             bcf PORTC, 4
                      01609             ;mlhovky predni
049E   12AB           01610             bcf o_c, 5
049F   1088           01611             bcf PORTD, 1
                      01612             ;rozehrivani okenka
04A0   112E           01613             bcf o_f, 2
04A1   1287           01614             bcf PORTC, 5
04A2   0008           01615             return
                      01616             
                      01617 ;zamknuti
04A3   1451           01618 t1_07       bsf locked, 0 ;nastavi registr locked
04A4   12B0           01619             bcf o_h, 5 ;vypne v regs led odemceno
04A5   3015           01620             movlw b'10101' ;port C5
04A6   00D2           01621             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04A7   3003           01622             movlw b'11' ;procesor 3
04A8   00D3           01623             movwf prc
04A9   21E1           01624             call clrout ;smaz port v prc
04AA   1730           01625             bsf o_h, 6 ;zapne v regs led zamceno
04AB   3016           01626             movlw b'10110' ;port C6
04AC   00D2           01627             movwf port
04AD   3003           01628             movlw b'0011' ;procesor 3
04AE   00D3           01629             movwf prc
04AF   21BA           01630             call setout ;nastav port v prc
04B0   0008           01631             return
                      01632 ;odemknuti
04B1   1051           01633 t1_08       bcf locked, 0 ;smaze registr locked
04B2   16B0           01634             bsf o_h, 5 ;zapne v regs led odemceno
04B3   3015           01635             movlw b'10101' ;port C5
04B4   00D2           01636             movwf port
04B5   3003           01637             movlw b'11' ;procesor 3
04B6   00D3           01638             movwf prc
04B7   21BA           01639             call setout ;nastav port v prc
04B8   1730           01640             bsf o_h, 6 ;vypne v regs led zamceno
04B9   3016           01641             movlw b'10110' ;port C6
04BA   00D2           01642             movwf port
04BB   3003           01643             movlw b'0011' ;procesor 3
04BC   00D3           01644             movwf prc
04BD   21E1           01645             call clrout ;smaz port v prc
04BE   0008           01646             return
                      01647             
                      01648 ;pripraveno
04BF   0000           01649 t1_09       nop
04C0   0008           01650             return
                      01651 
                      01652 ;odskok dvere 1
04C1   162A           01653 t1_10       bsf o_b, 4
04C2   301F           01654             movlw b'11111' ;port D7
04C3   00D2           01655             movwf port
04C4   3003           01656             movlw b'11' ;procesor 3
04C5   00D3           01657             movwf prc
04C6   21BA           01658             call setout ;smaz port v prc
04C7   165A           01659             bsf casov, ODSKOK
04C8   3008           01660             movlw .8
04C9   00E9           01661             movwf timods
04CA   0008           01662             return
                      01663             
                      01664 ;odskok dvere 2
04CB   16AA           01665 t1_11       bsf o_b, 5
04CC   1787           01666             bsf PORTC, 7
04CD   165A           01667             bsf casov, ODSKOK
04CE   3008           01668             movlw .8
04CF   00E9           01669             movwf timods
04D0   0008           01670             return
                      01671             
                      01672 ;odskok dvere 3
04D1   1A31           01673 t1_12       btfsc o_i, 4
04D2   0008           01674             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04D3   172A           01675             bsf o_b, 6
04D4   1506           01676             bsf PORTB, 2
04D5   165A           01677             bsf casov, ODSKOK
04D6   3008           01678             movlw .8
04D7   00E9           01679             movwf timods
04D8   0008           01680             return
                      01681             
                      01682 ;odskok dvere 4
04D9   1A31           01683 t1_13       btfsc o_i, 4
04DA   0008           01684             return
04DB   17AA           01685             bsf o_b, 7
04DC   1586           01686             bsf PORTB, 3
04DD   165A           01687             bsf casov, ODSKOK
04DE   3008           01688             movlw .8
04DF   00E9           01689             movwf timods
04E0   0008           01690             return
                      01691             
                      01692 ;odskok kufr
04E1   15AA           01693 t1_14       bsf o_b, 3
04E2   1606           01694             bsf PORTB, 4
04E3   165A           01695             bsf casov, ODSKOK
04E4   3008           01696             movlw .8
04E5   00E9           01697             movwf timods
04E6   0008           01698             return
                      01699             
                      01700 ;odskok nadrz
04E7   142D           01701 t1_15       bsf o_e, 0
04E8   1686           01702             bsf PORTB, 5
04E9   165A           01703             bsf casov, ODSKOK
04EA   3008           01704             movlw .8
04EB   00E9           01705             movwf timods
04EC   0008           01706             return
                      01707             
                      01708 ;odskok kapota
04ED   142B           01709 t1_16       bsf o_c, 0
04EE   1706           01710             bsf PORTB, 6
04EF   165A           01711             bsf casov, ODSKOK
04F0   3008           01712             movlw .8
04F1   00E9           01713             movwf timods
04F2   0008           01714             return
                      01715             
                      01716 ;pripraveno
04F3   0000           01717 t1_17       nop
04F4   0008           01718             return
                      01719 ;pripraveno
04F5   0000           01720 t1_18       nop
04F6   0008           01721             return
                      01722 ;pripraveno
04F7   0000           01723 t1_19       nop
04F8   0008           01724             return
                      01725 
                      01726 ;play pause
04F9   14AC           01727 t1_20       bsf o_d, 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04FA   3010           01728             movlw b'10000' ;port C0
04FB   00D2           01729             movwf port
04FC   3002           01730             movlw b'10' ;procesor 2
04FD   00D3           01731             movwf prc
04FE   21BA           01732             call setout ;nastav port v prc
04FF   0008           01733             return
                      01734             
                      01735 ;stop
0500   152C           01736 t1_21       bsf o_d, 2
0501   3011           01737             movlw b'10001' ;port C1
0502   00D2           01738             movwf port
0503   3002           01739             movlw b'10' ;procesor 2
0504   00D3           01740             movwf prc
0505   21BA           01741             call setout ;nastav port v prc
0506   0008           01742             return
                      01743             
                      01744 ;forwind
0507   15AC           01745 t1_22       bsf o_d, 3
0508   3012           01746             movlw b'10010' ;port C2
0509   00D2           01747             movwf port
050A   3002           01748             movlw b'10' ;procesor 2
050B   00D3           01749             movwf prc
050C   21BA           01750             call setout ;nastav port v prc
050D   0008           01751             return
                      01752             
                      01753 ;rewind
050E   162C           01754 t1_23       bsf o_d, 4
050F   3013           01755             movlw b'10011' ;port C3
0510   00D2           01756             movwf port
0511   3002           01757             movlw b'10' ;procesor 2
0512   00D3           01758             movwf prc
0513   21BA           01759             call setout ;nastav port v prc
0514   0008           01760             return
                      01761             
                      01762 ;volume +
0515   16AC           01763 t1_24       bsf o_d, 5
0516   3014           01764             movlw b'10100' ;port C4
0517   00D2           01765             movwf port
0518   3002           01766             movlw b'10' ;procesor 2
0519   00D3           01767             movwf prc
051A   21BA           01768             call setout ;nastav port v prc
051B   0008           01769             return
                      01770             
                      01771 ;volume -
051C   172C           01772 t1_25       bsf o_d, 6
051D   3015           01773             movlw b'10101' ;port C5
051E   00D2           01774             movwf port
051F   3002           01775             movlw b'10' ;procesor 2
0520   00D3           01776             movwf prc
0521   21BA           01777             call setout ;nastav port v prc
0522   0008           01778             return
                      01779             
                      01780 ;rozehrivani okenka
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0523   082E           01781 t1_26       movf o_f, W
0524   00A4           01782             movwf r5
                      01783 
0525   1D24           01784             btfss r5, 2
0526   1687           01785             bsf PORTC, 5
0527   1D24           01786             btfss r5, 2
0528   152E           01787             bsf o_f, 2 
                      01788         
0529   1924           01789             btfsc r5, 2
052A   1287           01790             bcf PORTC, 5
052B   1924           01791             btfsc r5, 2
052C   112E           01792             bcf o_f, 2 
052D   0008           01793             return
                      01794             
                      01795 ;pripraveno
052E   0000           01796 t1_27       nop
052F   0008           01797             return
                      01798 ;pripraveno
0530   0000           01799 t1_28       nop
0531   0008           01800             return
                      01801 ;pripraveno
0532   0000           01802 t1_29       nop
0533   0008           01803             return
                      01804 
                      01805 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0534   0862           01806 t1_30       movf o1tar, W
0535   00A4           01807             movwf r5
0536   30F0           01808             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0537   07A4           01809             addwf r5, F
0538   1C03           01810             btfss STATUS, C
0539   0008           01811             return
053A   0824           01812             movf r5, W
053B   00E2           01813             movwf o1tar
053C   0008           01814             return
                      01815             
                      01816 ;okno 2 up
053D   0863           01817 t1_31       movf o2tar, W
053E   00A4           01818             movwf r5
053F   30F0           01819             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0540   07A4           01820             addwf r5, F
0541   1C03           01821             btfss STATUS, C
0542   0008           01822             return
0543   0824           01823             movf r5, W
0544   00E3           01824             movwf o2tar
0545   0008           01825             return
                      01826             
                      01827 ;okno 3 up
0546   1A31           01828 t1_32       btfsc o_i, 4
0547   0008           01829             return
0548   0864           01830             movf o3tar, W
0549   00A4           01831             movwf r5
054A   30F0           01832             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

054B   07A4           01833             addwf r5, F
054C   1C03           01834             btfss STATUS, C
054D   0008           01835             return
054E   0824           01836             movf r5, W
054F   00E4           01837             movwf o3tar
0550   0008           01838             return
                      01839             
                      01840 ;okno 4 up
0551   1A31           01841 t1_33       btfsc o_i, 4
0552   0008           01842             return
0553   0865           01843             movf o4tar, W
0554   00A4           01844             movwf r5
0555   30F0           01845             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0556   07A4           01846             addwf r5, F
0557   1C03           01847             btfss STATUS, C
0558   0008           01848             return
0559   0824           01849             movf r5, W
055A   00E5           01850             movwf o4tar
055B   0008           01851             return
                      01852             
                      01853 ;okno 1 down
055C   0862           01854 t1_34       movf o1tar, W
055D   00A4           01855             movwf r5
055E   3010           01856             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
055F   07A4           01857             addwf r5, F
0560   1803           01858             btfsc STATUS, C
0561   0008           01859             return
0562   0824           01860             movf r5, W
0563   00E2           01861             movwf o1tar
0564   0008           01862             return
                      01863             
                      01864 ;okno 2 down
0565   0863           01865 t1_35       movf o2tar, W
0566   00A4           01866             movwf r5
0567   3010           01867             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0568   07A4           01868             addwf r5, F
0569   1803           01869             btfsc STATUS, C
056A   0008           01870             return
056B   0824           01871             movf r5, W
056C   00E3           01872             movwf o2tar
056D   0008           01873             return
                      01874             
                      01875 ;okno 3 down
056E   1A31           01876 t1_36       btfsc o_i, 4
056F   0008           01877             return
0570   0864           01878             movf o3tar, W
0571   00A4           01879             movwf r5
0572   3010           01880             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0573   07A4           01881             addwf r5, F
0574   1803           01882             btfsc STATUS, C
0575   0008           01883             return
0576   0824           01884             movf r5, W
0577   00E4           01885             movwf o3tar
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0578   0008           01886             return
                      01887             
                      01888 ;detský zámek zadních oken a dveri
0579   1E31           01889 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
057A   2D82           01890             goto t2_37
057B   1231           01891             bcf o_i, 4
057C   301C           01892             movlw b'11100' ;port D4
057D   00D2           01893             movwf port
057E   3003           01894             movlw b'11' ;procesor 3
057F   00D3           01895             movwf prc
0580   21E1           01896             call clrout ;nastav port v prc        
0581   0008           01897             return
                      01898             
0582   1631           01899 t2_37       bsf o_i, 4
0583   301C           01900             movlw b'11100' ;port D4
0584   00D2           01901             movwf port
0585   3003           01902             movlw b'11' ;procesor 3
0586   00D3           01903             movwf prc
0587   21BA           01904             call setout ;nastav port v prc        
0588   0008           01905             return
                      01906             
                      01907 ;pripraveno
0589   0000           01908 t1_38       nop
058A   0008           01909             return
                      01910 ;pripraveno
058B   0000           01911 t1_39       nop
058C   0008           01912             return
                      01913 
                      01914 ;RED tuning
058D   3016           01915 t1_40       movlw b'10110' ;port C6
058E   00D2           01916             movwf port
058F   3002           01917             movlw b'10' ;procesor 2
0590   00D3           01918             movwf prc
                      01919             
0591   082B           01920             movf o_c, W
0592   00A4           01921             movwf r5
                      01922 
0593   1D24           01923             btfss r5, 2
0594   21BA           01924             call setout ;nastav port v prc
0595   1D24           01925             btfss r5, 2
0596   152B           01926             bsf o_c, 2 
                      01927         
0597   1924           01928             btfsc r5, 2
0598   21E1           01929             call clrout ;smaz port v prc
0599   1924           01930             btfsc r5, 2
059A   112B           01931             bcf o_c, 2 
059B   0008           01932             return
                      01933             
                      01934 ;WHITE tunning
059C   3017           01935 t1_41       movlw b'10111' ;port C7
059D   00D2           01936             movwf port
059E   3002           01937             movlw b'10' ;procesor 2
059F   00D3           01938             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01939             
05A0   082B           01940             movf o_c, W
05A1   00A4           01941             movwf r5
                      01942 
05A2   1DA4           01943             btfss r5, 3
05A3   21BA           01944             call setout ;nastav port v prc
05A4   1DA4           01945             btfss r5, 3
05A5   15AB           01946             bsf o_c, 3 
                      01947         
05A6   19A4           01948             btfsc r5, 3
05A7   21E1           01949             call clrout ;smaz port v prc
05A8   19A4           01950             btfsc r5, 3
05A9   11AB           01951             bcf o_c, 3 
05AA   0008           01952             return
                      01953             
                      01954 ;Parkovačky
05AB   082D           01955 t1_42       movf o_e, W
05AC   00A4           01956             movwf r5
                      01957 
05AD   1DA4           01958             btfss r5, 3
05AE   1688           01959             bsf PORTD, 5
05AF   1DA4           01960             btfss r5, 3
05B0   15AD           01961             bsf o_e, 3 
                      01962         
05B1   19A4           01963             btfsc r5, 3
05B2   1288           01964             bcf PORTD, 5
05B3   19A4           01965             btfsc r5, 3
05B4   11AD           01966             bcf o_e, 3 
05B5   0008           01967             return
                      01968             
                      01969 ;Světla
05B6   082B           01970 t1_43       movf o_c, W
05B7   00A4           01971             movwf r5
                      01972 
05B8   1CA4           01973             btfss r5, 1
05B9   1587           01974             bsf PORTC, 3
05BA   1CA4           01975             btfss r5, 1
05BB   14AB           01976             bsf o_c, 1 
                      01977         
05BC   18A4           01978             btfsc r5, 1
05BD   1187           01979             bcf PORTC, 3
05BE   18A4           01980             btfsc r5, 1
05BF   10AB           01981             bcf o_c, 1 
05C0   0008           01982             return
                      01983             
                      01984 ;Mlhovky zadní
05C1   082E           01985 t1_44       movf o_f, W
05C2   00A4           01986             movwf r5
                      01987 
05C3   1CA4           01988             btfss r5, 1
05C4   1607           01989             bsf PORTC, 4
05C5   1CA4           01990             btfss r5, 1
05C6   14AE           01991             bsf o_f, 1 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01992         
05C7   18A4           01993             btfsc r5, 1
05C8   1207           01994             bcf PORTC, 4
05C9   18A4           01995             btfsc r5, 1
05CA   10AE           01996             bcf o_f, 1 
05CB   0008           01997             return
                      01998             
                      01999 ;Blinkr levý
05CC   162D           02000 t1_45       bsf o_e, 4
05CD   1708           02001             bsf PORTD, 6
05CE   0008           02002             return
                      02003             
                      02004 ;Blinkr pravý
05CF   16AD           02005 t1_46       bsf o_e, 5
05D0   1788           02006             bsf PORTD, 7
05D1   0008           02007             return
                      02008             
                      02009 ;Mlhovky přední
05D2   082B           02010 t1_47       movf o_c, W
05D3   00A4           02011             movwf r5
                      02012 
05D4   1EA4           02013             btfss r5, 5
05D5   1488           02014             bsf PORTD, 1
05D6   1EA4           02015             btfss r5, 5
05D7   16AB           02016             bsf o_c, 5 
                      02017         
05D8   1AA4           02018             btfsc r5, 5
05D9   1088           02019             bcf PORTD, 1
05DA   1AA4           02020             btfsc r5, 5
05DB   12AB           02021             bcf o_c, 5 
05DC   0008           02022             return
                      02023             
                      02024 ;pripraveno
05DD   0000           02025 t1_48       nop
05DE   0008           02026             return
                      02027 ;pripraveno
05DF   0000           02028 t1_49       nop
05E0   0008           02029             return
                      02030 
                      02031 ;klakson
05E1   162B           02032 t1_50       bsf o_c, 4
05E2   3019           02033             movlw b'11001' ;port D1
05E3   00D2           02034             movwf port
05E4   3003           02035             movlw b'11' ;procesor 3
05E5   00D3           02036             movwf prc
05E6   21BA           02037             call setout ;nastav port v prc
05E7   0008           02038             return
                      02039             
                      02040 ;stěrače
05E8   17AB           02041 t1_51       bsf o_c, 7
05E9   1588           02042             bsf PORTD, 3
05EA   0008           02043             return
                      02044 ;odstřikovače
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05EB   172B           02045 t1_52       bsf o_c, 6
05EC   1508           02046             bsf PORTD, 2
05ED   0008           02047             return
                      02048             
                      02049 ;Siréna
05EE   3018           02050 t1_53       movlw b'11000' ;port D0
05EF   00D2           02051             movwf port
05F0   3003           02052             movlw b'11' ;procesor 3
05F1   00D3           02053             movwf prc
                      02054             
05F2   082D           02055             movf o_e, W
05F3   00A4           02056             movwf r5
                      02057 
05F4   1CA4           02058             btfss r5, 1
05F5   21BA           02059             call setout ;nastav port v prc
05F6   1CA4           02060             btfss r5, 1
05F7   14AD           02061             bsf o_e, 1 
                      02062         
05F8   18A4           02063             btfsc r5, 1
05F9   21E1           02064             call clrout ;smaz port v prc
05FA   18A4           02065             btfsc r5, 1
05FB   10AD           02066             bcf o_e, 1 
                      02067         
05FC   0008           02068             return
                      02069 
                      02070 ;stroboskop
05FD   3019           02071 t1_54       movlw b'11001' ;port D1
05FE   00D2           02072             movwf port
05FF   3002           02073             movlw b'10' ;procesor 2
0600   00D3           02074             movwf prc
                      02075             
0601   082D           02076             movf o_e, W
0602   00A4           02077             movwf r5
                      02078 
0603   1D24           02079             btfss r5, 2
0604   21BA           02080             call setout ;nastav port v prc
0605   1D24           02081             btfss r5, 2
0606   152D           02082             bsf o_e, 2 
                      02083         
0607   1924           02084             btfsc r5, 2
0608   21E1           02085             call clrout ;smaz port v prc
0609   1924           02086             btfsc r5, 2
060A   112D           02087             bcf o_e, 2 
060B   0008           02088             return
                      02089             
                      02090 ;Dálkové světla
060C   142C           02091 t1_55   bsf o_d, 0
060D   1608           02092             bsf PORTD, 4
060E   0008           02093             return
                      02094             
                      02095 ;alarm start
060F   3018           02096 t1_56       movlw b'11000' ;port D0  ;sirena
0610   00D2           02097             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0611   3003           02098             movlw b'11' ;procesor 3
0612   00D3           02099             movwf prc 
0613   1CAD           02100             btfss o_e, 1
0614   21BA           02101             call setout ;set port v prc
0615   14AD           02102             bsf o_e, 1
                      02103             ;varovky
                      02104             ;bsf o_e, 4
                      02105             ;bsf PORTD, 6
                      02106             ;bsf o_e, 5
                      02107             ;bsf PORTD, 7
0616   2454           02108             call t1_05
                      02109             
                      02110             ;stroboskop
0617   3019           02111             movlw b'11001' ;port D1
0618   00D2           02112             movwf port
0619   3002           02113             movlw b'10' ;procesor 2
061A   00D3           02114             movwf prc 
061B   1D2D           02115             btfss o_e, 2
061C   21BA           02116             call setout ;set port v prc
061D   152D           02117             bsf o_e, 2
                      02118             ;red tunning
061E   3016           02119             movlw b'10110' ;port C6
061F   00D2           02120             movwf port
0620   3002           02121             movlw b'10' ;procesor 2
0621   00D3           02122             movwf prc 
0622   1D2B           02123             btfss o_c, 2
0623   21BA           02124             call setout ;set port v prc
0624   152B           02125             bsf o_c, 2
                      02126             ;white interier
0625   301B           02127             movlw b'11011' ;port D3
0626   00D2           02128             movwf port
0627   3002           02129             movlw b'10' ;procesor 2
0628   00D3           02130             movwf prc 
0629   1E2E           02131             btfss o_f, 4
062A   21BA           02132             call setout ;set port v prc
062B   162E           02133             bsf o_f, 4
                      02134             
062C   16DA           02135             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
062D   301E           02136             movlw .30
062E   00EA           02137             movwf timala
                      02138 
062F   0008           02139             return
                      02140             
                      02141 ;pripraveno
0630   0000           02142 t1_57       nop
0631   0008           02143             return
                      02144             
                      02145 ;pripraveno
0632   0000           02146 t1_58       nop
0633   0008           02147             return
                      02148             
                      02149 ;pripraveno
0634   0000           02150 t1_59       nop
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0635   0008           02151             return
                      02152         
                      02153 ;okno 4 down
0636   1A31           02154 t1_60       btfsc o_i, 4
0637   0008           02155             return
0638   0865           02156             movf o4tar, W
0639   00A4           02157             movwf r5
063A   3010           02158             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
063B   07A4           02159             addwf r5, F
063C   1803           02160             btfsc STATUS, C
063D   0008           02161             return
063E   0824           02162             movf r5, W
063F   00E5           02163             movwf o4tar
0640   0008           02164             return
                      02165             
                      02166 ;red interiér
0641   301A           02167 t1_61       movlw b'11010' ;port D2
0642   00D2           02168             movwf port
0643   3002           02169             movlw b'10' ;procesor 2
0644   00D3           02170             movwf prc
                      02171             
0645   082E           02172             movf o_f, W
0646   00A4           02173             movwf r5
                      02174 
0647   1DA4           02175             btfss r5, 3
0648   21BA           02176             call setout ;nastav port v prc
0649   1DA4           02177             btfss r5, 3
064A   15AE           02178             bsf o_f, 3 
                      02179         
064B   19A4           02180             btfsc r5, 3
064C   21E1           02181             call clrout ;smaz port v prc
064D   19A4           02182             btfsc r5, 3
064E   11AE           02183             bcf o_f, 3 
064F   0008           02184             return
                      02185             
                      02186 ;white interier
0650   301B           02187 t1_62       movlw b'11011' ;port D3
0651   00D2           02188             movwf port
0652   3002           02189             movlw b'10' ;procesor 2
0653   00D3           02190             movwf prc
                      02191             
0654   082E           02192             movf o_f, W
0655   00A4           02193             movwf r5
                      02194 
0656   1E24           02195             btfss r5, 4
0657   21BA           02196             call setout ;nastav port v prc
0658   1E24           02197             btfss r5, 4
0659   162E           02198             bsf o_f, 4 
                      02199         
065A   1A24           02200             btfsc r5, 4
065B   21E1           02201             call clrout ;smaz port v prc
065C   1A24           02202             btfsc r5, 4
065D   122E           02203             bcf o_f, 4 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

065E   0008           02204             return
                      02205             
                      02206 ;klima on/off
065F   17AD           02207 t1_63       bsf o_e, 7
0660   301E           02208             movlw b'11110' ;port D6
0661   00D2           02209             movwf port
0662   3002           02210             movlw b'10' ;procesor 2
0663   00D3           02211             movwf prc
0664   21BA           02212             call setout ;nastav port v prc
0665   165A           02213             bsf casov, ODSKOK
0666   3008           02214             movlw .8
0667   00E9           02215             movwf timods
0668   0008           02216             return
                      02217             
                      02218 ;klima teplota up
0669   172D           02219 t1_64       bsf o_e, 6
066A   301C           02220             movlw b'11100' ;port D4
066B   00D2           02221             movwf port
066C   3002           02222             movlw b'10' ;procesor 2
066D   00D3           02223             movwf prc
066E   21BA           02224             call setout ;nastav port v prc
066F   165A           02225             bsf casov, ODSKOK
0670   3008           02226             movlw .8
0671   00E9           02227             movwf timods
0672   0008           02228             return
                      02229             
                      02230 ;klima teplota down
0673   16AE           02231 t1_65       bsf o_f, 5
0674   301D           02232             movlw b'11101' ;port D5
0675   00D2           02233             movwf port
0676   3002           02234             movlw b'10' ;procesor 2
0677   00D3           02235             movwf prc
0678   21BA           02236             call setout ;nastav port v prc
0679   165A           02237             bsf casov, ODSKOK
067A   3008           02238             movlw .8
067B   00E9           02239             movwf timods
067C   0008           02240             return
                      02241             
                      02242 ;klima mista ventilace
067D   142E           02243 t1_66       bsf o_f, 0
067E   301F           02244             movlw b'11111' ;port D7
067F   00D2           02245             movwf port
0680   3002           02246             movlw b'10' ;procesor 2
0681   00D3           02247             movwf prc
0682   21BA           02248             call setout ;nastav port v prc
0683   165A           02249             bsf casov, ODSKOK
0684   3008           02250             movlw .8
0685   00E9           02251             movwf timods
0686   0008           02252             return
                      02253             
                      02254 ;pripraveno
0687   0000           02255 t1_67       nop
0688   0008           02256             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02257 ;pripraveno
0689   0000           02258 t1_68       nop
068A   0008           02259             return
                      02260 ;pripraveno
068B   0000           02261 t1_69       nop
068C   0008           02262             return
                      02263 
068D   0000           02264 t1_x        nop
068E   0008           02265             return
                      02266             
                      02267 
                      02268 
                      02269 
                      02270 
                      02271 
068F   3005           02272 w20i        movlw .5
0690   00A3           02273             movwf r4
0691   0BA3           02274             decfsz r4, F
0692   2E91           02275             goto $-1
0693   0008           02276             return
                      02277 
                      02278 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
0694   3050           02279 w100c       movlw .80
0695   00A3           02280             movwf r4
0696   0BA3           02281             decfsz r4, F
0697   2E96           02282             goto $-1
0698   0008           02283             return
                      02284 
                      02285 ;cekej necelou polovinu w100c
0699   301E           02286 w40c        movlw .30
069A   00A3           02287             movwf r4
069B   0BA3           02288             decfsz r4, F
069C   2E9B           02289             goto $-1
069D   0008           02290             return
                      02291             
                      02292 
                      02293 
                      02294 
                      02295 
                      02296 
069E   3019           02297 klakson     movlw b'11001' ;port D1
069F   00D2           02298             movwf port
06A0   3003           02299             movlw b'11' ;procesor 3
06A1   00D3           02300             movwf prc
                      02301             
06A2   082B           02302             movf o_c, W
06A3   00A4           02303             movwf r5
                      02304 
06A4   1E24           02305             btfss r5, 4
06A5   21BA           02306             call setout ;nastav port v prc
06A6   1E24           02307             btfss r5, 4
06A7   162B           02308             bsf o_c, 4 
                      02309         
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06A8   1A24           02310             btfsc r5, 4
06A9   21E1           02311             call clrout ;smaz port v prc
06AA   1A24           02312             btfsc r5, 4
06AB   122B           02313             bcf o_c, 4 
06AC   0008           02314             return
                      02315 
                      02316 
                      02317 ;zmeni stav LED zamceno
06AD   3016           02318 ledzam      movlw b'10110' ;port C6
06AE   00D2           02319             movwf port
06AF   3003           02320             movlw b'11' ;procesor 3
06B0   00D3           02321             movwf prc
                      02322             
06B1   0830           02323             movf o_h, W
06B2   00A4           02324             movwf r5
                      02325 
06B3   1F24           02326             btfss r5, 6
06B4   21BA           02327             call setout ;nastav port v prc
06B5   1F24           02328             btfss r5, 6
06B6   1730           02329             bsf o_h, 6 
                      02330         
06B7   1B24           02331             btfsc r5, 6
06B8   21E1           02332             call clrout ;smaz port v prc
06B9   1B24           02333             btfsc r5, 6
06BA   1330           02334             bcf o_h, 6 
                      02335         
06BB   0008           02336             return
                      02337 
                      02338 
                      02339 
                      02340 
                      02341 
                      02342 
                      02343 
                      02344 
                      02345 
                      02346 
                      02347 
                      02348 
0800                  02349             org 800h ;zacina druha stranka programu
0800   118A           02350 restart     bcf PCLATH,3 ;Select page 0
0801   0000           02351             nop ;Po restartu se obnovi stare registry PORTU
                      02352 
                      02353             ;zapne zadni pasy po restartu
0802   300E           02354             movlw b'01110' ;port B6
0803   00D2           02355             movwf port
0804   3003           02356             movlw b'11' ;procesor 3
0805   00D3           02357             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0806   21BA           02358             call setout ;nastav port v prc
0807   172F           02359             bsf o_g, 6 
                      02360             
0808   300F           02361             movlw b'01111' ;port B7
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0809   00D2           02362             movwf port
080A   3003           02363             movlw b'11' ;procesor 3
080B   00D3           02364             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080C   21BA           02365             call setout ;nastav port v prc
080D   17AF           02366             bsf o_g, 7 
                      02367 
                      02368 
080E   158A           02369             bsf PCLATH,3 ;Select page 0
080F   2820           02370             goto loop
                      02371     
0810   118A           02372 start       bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0811   2363           02373             call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
                            arm
                      02374             
                      02375             ; zapne predni pasy po startu
0812   300C           02376             movlw b'01100' ;port B4
0813   00D2           02377             movwf port
0814   3003           02378             movlw b'11' ;procesor 3
0815   00D3           02379             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0816   21BA           02380             call setout ;nastav port v prc
0817   162F           02381             bsf o_g, 4 
                      02382             
0818   300D           02383             movlw b'01101' ;port B5
0819   00D2           02384             movwf port
081A   3003           02385             movlw b'11' ;procesor 3
081B   00D3           02386             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081C   21BA           02387             call setout ;nastav port v prc
081D   16AF           02388             bsf o_g, 5 
                      02389         
                      02390 
081E   158A           02391             bsf PCLATH,3 ;Select page 0
081F   2820           02392             goto loop
                      02393 
0820   118A           02394 loop        bcf PCLATH,3 ;Select page 0
                      02395 
                      02396 
                      02397             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02398             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   2052           02399             call watchstart
                      02400             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0822   2055           02401             call watchwait
                      02402             
                      02403             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0823   2052           02404             call watchstart
                      02405             ; Čeká až skončí čas odpočinku procesorů WATCH2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0824   2055           02406             call watchwait
                      02407             
                      02408             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0825   2052           02409             call watchstart
                      02410             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0826   2055           02411             call watchwait
                      02412             
                      02413             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0827   2052           02414             call watchstart
                      02415             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0828   2055           02416             call watchwait
                      02417       
                      02418       
                      02419       
0829   1859           02420             btfsc conf, T0OF ;pokud timer 0 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
082A   205B           02421             call timer0
                      02422 
082B   158A           02423             bsf PCLATH,3 ;Select page 1
                      02424             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
082C   118A           02425             bcf PCLATH,3 ;Select page 0
                      02426 
                      02427 
                      02428             
                      02429             
082D   3000           02430             movlw .0 ;nastavime ANx kde x je zadane cislo
082E   00F6           02431             movwf ran1
082F   158A           02432             bsf PCLATH,3 ;Select page 1
0830   22CF           02433             call adconv
0831   118A           02434             bcf PCLATH,3 ;Select page 0
0832   0876           02435             movf ran1, W
0833   00A0           02436             movwf r1
                      02437             
0834   093F           02438             comf ir_58, W
0835   07A0           02439             addwf r1, F
0836   081E           02440             movf ADRESH, W
0837   0FA0           02441             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0838   00BF           02442             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0839   0820           02443             movf r1, W
083A   118A           02444             bcf PCLATH,3 ;Select page 0
083B   1D03           02445             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
083C   2208           02446             call if_58  ;pokud zmena odesle na sbernici
                      02447             
                      02448             
083D   3001           02449             movlw .1 ;nastavime ANx kde x je zadane cislo
083E   00F6           02450             movwf ran1
083F   158A           02451             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0840   22CF           02452             call adconv
0841   118A           02453             bcf PCLATH,3 ;Select page 0
0842   0876           02454             movf ran1, W
0843   00A0           02455             movwf r1
                      02456             
0844   0943           02457             comf ir_62, W
0845   07A0           02458             addwf r1, F
0846   081E           02459             movf ADRESH, W
0847   0FA0           02460             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0848   00C3           02461             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0849   0820           02462             movf r1, W
084A   118A           02463             bcf PCLATH,3 ;Select page 0
084B   1D03           02464             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   2255           02465             call if_62  ;pokud zmena odesle na sbernici
                      02466             
                      02467             
084D   3002           02468             movlw .2 ;nastavime ANx kde x je zadane cislo
084E   00F6           02469             movwf ran1
084F   158A           02470             bsf PCLATH,3 ;Select page 1
0850   22CF           02471             call adconv
0851   118A           02472             bcf PCLATH,3 ;Select page 0
0852   0876           02473             movf ran1, W
0853   00A0           02474             movwf r1
                      02475             
0854   0937           02476             comf ir_50, W
0855   07A0           02477             addwf r1, F
0856   081E           02478             movf ADRESH, W
0857   0FA0           02479             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0858   00B7           02480             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0859   0820           02481             movf r1, W
085A   118A           02482             bcf PCLATH,3 ;Select page 0
085B   1D03           02483             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
085C   22A2           02484             call if_50  ;pokud zmena odesle na sbernici
                      02485             
                      02486             
085D   3003           02487             movlw .3 ;nastavime ANx kde x je zadane cislo
085E   00F6           02488             movwf ran1
085F   158A           02489             bsf PCLATH,3 ;Select page 1
0860   22CF           02490             call adconv
0861   118A           02491             bcf PCLATH,3 ;Select page 0
0862   0876           02492             movf ran1, W
0863   00A0           02493             movwf r1
                      02494             
0864   0940           02495             comf ir_59, W
0865   07A0           02496             addwf r1, F
0866   081E           02497             movf ADRESH, W
0867   0FA0           02498             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0868   00C0           02499             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0869   0820           02500             movf r1, W
086A   118A           02501             bcf PCLATH,3 ;Select page 0
086B   1D03           02502             btfss STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
086C   22A4           02503             call if_59  ;pokud zmena odesle na sbernici
                      02504             
                      02505             
086D   3004           02506             movlw .4 ;nastavime ANx kde x je zadane cislo
086E   00F6           02507             movwf ran1
086F   158A           02508             bsf PCLATH,3 ;Select page 1
0870   22CF           02509             call adconv
0871   118A           02510             bcf PCLATH,3 ;Select page 0
0872   0876           02511             movf ran1, W
0873   00A0           02512             movwf r1
                      02513             
0874   0941           02514             comf ir_60, W
0875   07A0           02515             addwf r1, F
0876   081E           02516             movf ADRESH, W
0877   0FA0           02517             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0878   00C1           02518             movwf ir_60  ;prepise reg AN prevedenou hodnotou
0879   0820           02519             movf r1, W
087A   118A           02520             bcf PCLATH,3 ;Select page 0
087B   1D03           02521             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
087C   22A6           02522             call if_60  ;pokud zmena odesle na sbernici
                      02523             
                      02524             
087D   3005           02525             movlw .5 ;nastavime ANx kde x je zadane cislo
087E   00F6           02526             movwf ran1
087F   158A           02527             bsf PCLATH,3 ;Select page 1
0880   22CF           02528             call adconv
0881   118A           02529             bcf PCLATH,3 ;Select page 0
0882   0876           02530             movf ran1, W
0883   00A0           02531             movwf r1
                      02532             
0884   0942           02533             comf ir_61, W
0885   07A0           02534             addwf r1, F
0886   081E           02535             movf ADRESH, W
0887   0FA0           02536             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0888   00C2           02537             movwf ir_61  ;prepise reg AN prevedenou hodnotou
0889   0820           02538             movf r1, W
088A   118A           02539             bcf PCLATH,3 ;Select page 0
088B   1D03           02540             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
088C   22A8           02541             call if_61  ;pokud zmena odesle na sbernici
                      02542             
                      02543             
                      02544             
                      02545             
                      02546 
                      02547 
                      02548             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
088D   2052           02549             call watchstart
                      02550 
                      02551             ;dotaz na procesor 2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

088E   3002           02552             movlw .2  ;oznaceni ciloveho procesoru
088F   00F8           02553             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0890   2101           02554             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02555     
                      02556             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0891   2055           02557             call watchwait
                      02558     
0892   0870           02559             movf pri0, W    ;kontroluje zda je zmena od minule
0893   00A0           02560             movwf r1
0894   0938           02561             comf ir_51, W
0895   07A0           02562             addwf r1, F
0896   0870           02563             movf pri0, W
0897   0FA0           02564             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0898   00B8           02565             movwf ir_51  ;priepise reg AN prievedenou hodnotou
0899   0820           02566             movf r1, W
089A   1D03           02567             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
089B   22AE           02568             call if_51  ;pokud zmena spusti podprig
                      02569     
089C   0871           02570             movf pri1, W    ;kontroluje zda je zmena od minule
089D   00A0           02571             movwf r1
089E   0939           02572             comf ir_52, W
089F   07A0           02573             addwf r1, F
08A0   0871           02574             movf pri1, W
08A1   0FA0           02575             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A2   00B9           02576             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08A3   0820           02577             movf r1, W
08A4   1D03           02578             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A5   22B0           02579             call if_52  ;pokud zmena spusti podprig
                      02580     
                      02581     
08A6   0872           02582             movf pri2, W    ;kontroluje zda je zmena od minule
08A7   00A0           02583             movwf r1
08A8   093A           02584             comf ir_53, W
08A9   07A0           02585             addwf r1, F
08AA   0872           02586             movf pri2, W
08AB   0FA0           02587             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08AC   00BA           02588             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08AD   0820           02589             movf r1, W
08AE   1D03           02590             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08AF   22B2           02591             call if_53  ;pokud zmena spusti podprig
                      02592     
                      02593     
08B0   0873           02594             movf pri3, W    ;kontroluje zda je zmena od minule
08B1   00A0           02595             movwf r1
08B2   093B           02596             comf ir_54, W
08B3   07A0           02597             addwf r1, F
08B4   0873           02598             movf pri3, W
08B5   0FA0           02599             incfsz r1, F  ;pokud zadna zmena pokracuje dal
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08B6   00BB           02600             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08B7   0820           02601             movf r1, W
08B8   1D03           02602             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B9   22B4           02603             call if_54  ;pokud zmena spusti podprig
                      02604     
                      02605     
08BA   0874           02606             movf pri4, W    ;kontroluje zda je zmena od minule
08BB   00A0           02607             movwf r1
08BC   093C           02608             comf ir_55, W
08BD   07A0           02609             addwf r1, F
08BE   0874           02610             movf pri4, W
08BF   0FA0           02611             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C0   00BC           02612             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08C1   0820           02613             movf r1, W
08C2   1D03           02614             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C3   22B6           02615             call if_55  ;pokud zmena spusti podprig
                      02616     
                      02617     
08C4   0875           02618             movf pri5, W    ;kontroluje zda je zmena od minule
08C5   00A0           02619             movwf r1
08C6   093D           02620             comf ir_56, W
08C7   07A0           02621             addwf r1, F
08C8   0875           02622             movf pri5, W
08C9   0FA0           02623             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CA   00BD           02624             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08CB   0820           02625             movf r1, W
08CC   1D03           02626             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08CD   22B8           02627             call if_56  ;pokud zmena spusti podprig
                      02628     
                      02629     
08CE   0876           02630             movf pri6, W    ;kontroluje zda je zmena od minule
08CF   00A0           02631             movwf r1
08D0   093E           02632             comf ir_57, W
08D1   07A0           02633             addwf r1, F
08D2   0876           02634             movf pri6, W
08D3   0FA0           02635             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D4   00BE           02636             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08D5   0820           02637             movf r1, W
08D6   1D03           02638             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D7   22BA           02639             call if_57  ;pokud zmena spusti podprig
                      02640     
                      02641     
08D8   0877           02642             movf pri7, W    ;kontroluje zda je zmena od minule
08D9   00A0           02643             movwf r1
08DA   0936           02644             comf ir_49, W
08DB   07A0           02645             addwf r1, F
08DC   0877           02646             movf pri7, W
08DD   0FA0           02647             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08DE   00B6           02648             movwf ir_49  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08DF   0820           02649             movf r1, W
08E0   1D03           02650             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E1   22AA           02651             call if_49  ;pokud zmena spusti podprig
                      02652 
                      02653 
                      02654             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08E2   2052           02655             call watchstart
                      02656 
                      02657             ;dotaz na procesor 3
08E3   3003           02658             movlw .3  ;oznaceni ciloveho procesoru
08E4   00F8           02659             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08E5   2101           02660             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02661             
                      02662             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08E6   2055           02663             call watchwait
                      02664             
                      02665     
                      02666     
08E7   0870           02667             movf pri0, W    ;kontroluje zda je zmena od minule
08E8   00A0           02668             movwf r1
08E9   0944           02669             comf ir_80, W
08EA   07A0           02670             addwf r1, F
08EB   0870           02671             movf pri0, W
08EC   0FA0           02672             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08ED   00C4           02673             movwf ir_80  ;priepise reg AN prievedenou hodnotou
08EE   0820           02674             movf r1, W
08EF   1D03           02675             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F0   22AC           02676             call if_80  ;pokud zmena spusti podprig
                      02677     
                      02678     
08F1   0871           02679             movf pri1, W    ;kontroluje zda je zmena od minule
08F2   00A0           02680             movwf r1
08F3   0945           02681             comf ir_84, W
08F4   07A0           02682             addwf r1, F
08F5   0871           02683             movf pri1, W
08F6   0FA0           02684             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F7   00C5           02685             movwf ir_84  ;priepise reg AN prievedenou hodnotou
08F8   0820           02686             movf r1, W
08F9   1D03           02687             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08FA   22BC           02688             call if_84  ;pokud zmena spusti podprig
                      02689     
                      02690     
08FB   0872           02691             movf pri2, W    ;kontroluje zda je zmena od minule
08FC   00A0           02692             movwf r1
08FD   0946           02693             comf ir_85, W
08FE   07A0           02694             addwf r1, F
08FF   0872           02695             movf pri2, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0900   0FA0           02696             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0901   00C6           02697             movwf ir_85  ;priepise reg AN prievedenou hodnotou
0902   0820           02698             movf r1, W
0903   1D03           02699             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0904   22BE           02700             call if_85  ;pokud zmena spusti podprig
                      02701     
                      02702     
0905   0873           02703             movf pri3, W    ;kontroluje zda je zmena od minule
0906   00A0           02704             movwf r1
0907   0947           02705             comf ir_86, W
0908   07A0           02706             addwf r1, F
0909   0873           02707             movf pri3, W
090A   0FA0           02708             incfsz r1, F  ;pokud zadna zmena pokracuje dal
090B   00C7           02709             movwf ir_86  ;priepise reg AN prievedenou hodnotou
090C   0820           02710             movf r1, W
090D   1D03           02711             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090E   22C0           02712             call if_86  ;pokud zmena spusti podprig
                      02713     
                      02714     
090F   0874           02715             movf pri4, W    ;kontroluje zda je zmena od minule
0910   00A0           02716             movwf r1
0911   0948           02717             comf ir_87, W
0912   07A0           02718             addwf r1, F
0913   0874           02719             movf pri4, W
0914   0FA0           02720             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0915   00C8           02721             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0916   0820           02722             movf r1, W
0917   1D03           02723             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0918   22C2           02724             call if_87  ;pokud zmena spusti podprig
                      02725     
                      02726     
0919   0875           02727             movf pri5, W    ;kontroluje zda je zmena od minule
091A   00A0           02728             movwf r1
091B   0949           02729             comf ir_88, W
091C   07A0           02730             addwf r1, F
091D   0875           02731             movf pri5, W
091E   0FA0           02732             incfsz r1, F  ;pokud zadna zmena pokracuje dal
091F   00C9           02733             movwf ir_88  ;priepise reg AN prievedenou hodnotou
0920   0820           02734             movf r1, W
0921   1D03           02735             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0922   22C4           02736             call if_88  ;pokud zmena spusti podprig
                      02737     
                      02738     
0923   0876           02739             movf pri6, W    ;kontroluje zda je zmena od minule
0924   00A0           02740             movwf r1
0925   094A           02741             comf ir_89, W
0926   07A0           02742             addwf r1, F
0927   0876           02743             movf pri6, W
0928   0FA0           02744             incfsz r1, F  ;pokud zadna zmena pokracuje dal
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0929   00CA           02745             movwf ir_89  ;priepise reg AN prievedenou hodnotou
092A   0820           02746             movf r1, W
092B   1D03           02747             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092C   22C6           02748             call if_89  ;pokud zmena spusti podprig
                      02749     
                      02750     
092D   0877           02751             movf pri7, W    ;kontroluje zda je zmena od minule
092E   00A0           02752             movwf r1
092F   094B           02753             comf ir_90, W
0930   07A0           02754             addwf r1, F
0931   0877           02755             movf pri7, W
0932   0FA0           02756             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0933   00CB           02757             movwf ir_90  ;priepise reg AN prievedenou hodnotou
0934   0820           02758             movf r1, W
0935   1D03           02759             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0936   22C8           02760             call if_90  ;pokud zmena spusti podprig
                      02761 
                      02762 
                      02763 
                      02764             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0937   2052           02765             call watchstart
                      02766 
                      02767             ;dotaz na procesor 4
0938   3004           02768             movlw .4  ;oznaceni ciloveho procesoru
0939   00F8           02769             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
093A   2101           02770             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02771             
                      02772             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
093B   2055           02773             call watchwait
                      02774             
                      02775     
                      02776     
093C   0870           02777             movf pri0, W    ;kontroluje zda je zmena od minule
093D   00A0           02778             movwf r1
093E   094C           02779             comf ir_91, W
093F   07A0           02780             addwf r1, F
0940   0870           02781             movf pri0, W
0941   0FA0           02782             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0942   00CC           02783             movwf ir_91  ;priepise reg AN prievedenou hodnotou
0943   0820           02784             movf r1, W
0944   1D03           02785             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0945   22CA           02786             call if_91  ;pokud zmena spusti podprig
                      02787     
                      02788     
0946   0871           02789             movf pri1, W    ;kontroluje zda je zmena od minule
0947   00A0           02790             movwf r1
0948   094D           02791             comf ir_92, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0949   07A0           02792             addwf r1, F
094A   0871           02793             movf pri1, W
094B   0FA0           02794             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094C   00CD           02795             movwf ir_92  ;priepise reg AN prievedenou hodnotou
094D   0820           02796             movf r1, W
094E   1D03           02797             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094F   22CC           02798             call if_92  ;pokud zmena spusti podprig
                      02799     
                      02800     
0950   0872           02801             movf pri2, W    ;kontroluje zda je zmena od minule
0951   00A0           02802             movwf r1
0952   094E           02803             comf ir_93, W
0953   07A0           02804             addwf r1, F
0954   0872           02805             movf pri2, W
0955   0FA0           02806             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0956   00CE           02807             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0957   0820           02808             movf r1, W
0958   1D03           02809             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0959   22CE           02810             call if_93  ;pokud zmena spusti podprig
                      02811     
                      02812     
095A   0873           02813             movf pri3, W    ;kontroluje zda je zmena od minule
095B   00A0           02814             movwf r1
095C   094F           02815             comf ir_127, W
095D   07A0           02816             addwf r1, F
095E   0873           02817             movf pri3, W
095F   0FA0           02818             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0960   00CF           02819             movwf ir_127  ;priepise reg AN prievedenou hodnotou
0961   0820           02820             movf r1, W
0962   1D03           02821             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0963   22D0           02822             call if_127  ;pokud zmena spusti podprig
                      02823     
                      02824     
0964   0874           02825             movf pri4, W    ;kontroluje zda je zmena od minule
0965   00A0           02826             movwf r1
0966   0950           02827             comf ir_128, W
0967   07A0           02828             addwf r1, F
0968   0874           02829             movf pri4, W
0969   0FA0           02830             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096A   00D0           02831             movwf ir_128  ;priepise reg AN prievedenou hodnotou
096B   0820           02832             movf r1, W
096C   1D03           02833             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
096D   22D2           02834             call if_128  ;pokud zmena spusti podprig
                      02835     
                      02836     
096E   0875           02837             movf pri5, W    ;kontroluje zda je zmena od minule
096F   00A0           02838             movwf r1
0970   0935           02839             comf ir_x, W
0971   07A0           02840             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0972   0875           02841             movf pri5, W
0973   0FA0           02842             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0974   00B5           02843             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0975   0820           02844             movf r1, W
0976   1D03           02845             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0977   231F           02846             call if_x  ;pokud zmena spusti podprig
                      02847     
                      02848     
0978   0876           02849             movf pri6, W    ;kontroluje zda je zmena od minule
0979   00A0           02850             movwf r1
097A   0935           02851             comf ir_x, W
097B   07A0           02852             addwf r1, F
097C   0876           02853             movf pri6, W
097D   0FA0           02854             incfsz r1, F  ;pokud zadna zmena pokracuje dal
097E   00B5           02855             movwf ir_x  ;priepise reg AN prievedenou hodnotou
097F   0820           02856             movf r1, W
0980   1D03           02857             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0981   231F           02858             call if_x  ;pokud zmena spusti podprig
                      02859     
                      02860     
0982   0877           02861             movf pri7, W    ;kontroluje zda je zmena od minule
0983   00A0           02862             movwf r1
0984   0935           02863             comf ir_x, W
0985   07A0           02864             addwf r1, F
0986   0877           02865             movf pri7, W
0987   0FA0           02866             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0988   00B5           02867             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0989   0820           02868             movf r1, W
098A   1D03           02869             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
098B   231F           02870             call if_x  ;pokud zmena spusti podprig
                      02871 
                      02872 
                      02873 
098C   158A           02874             bsf PCLATH,3 ;Select page 1
098D   2820           02875             goto loop      ;zpet v cyklu na zacatek
                      02876         
                      02877         
                      02878         
                      02879 
                      02880 
                      02881 
                      02882 
                      02883 
                      02884 
098E   084B           02885 okna        movf ir_90, W
098F   39F0           02886             andlw b'11110000' ;odseknu konecnou cast
0990   00A0           02887             movwf r1
0991   09A0           02888             comf r1, F ;udelám dvojkový doplněk
0992   0862           02889             movf o1tar, W
0993   39F0           02890             andlw b'11110000' ;odseknu konecnou cast
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0994   07A0           02891             addwf r1, F ;sectu s dvojkovym doplnkem
0995   0803           02892             movf STATUS, W
0996   00A2           02893             movwf r3
0997   1922           02894             btfsc r3, Z
0998   21FD           02895             call o1stop
0999   1922           02896             btfsc r3, Z
099A   299F           02897             goto okno2
099B   1C22           02898             btfss r3, C ;pokud nepreteklo, vyjed nahoru
099C   21D3           02899             call o1up
099D   1822           02900             btfsc r3, C ;pokud preteklo, sjed dolu
099E   21E8           02901             call o1down
099F   084C           02902 okno2       movf ir_91, W
09A0   39F0           02903             andlw b'11110000' ;odseknu konecnou cast
09A1   00A0           02904             movwf r1
09A2   09A0           02905             comf r1, F ;udelám dvojkový doplněk
09A3   0863           02906             movf o2tar, W
09A4   39F0           02907             andlw b'11110000' ;odseknu konecnou cast
09A5   07A0           02908             addwf r1, F ;sectu s dvojkovym doplnkem
09A6   0803           02909             movf STATUS, W
09A7   00A2           02910             movwf r3
09A8   1922           02911             btfsc r3, Z
09A9   223C           02912             call o2stop
09AA   1922           02913             btfsc r3, Z
09AB   29B0           02914             goto okno3
09AC   1C22           02915             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09AD   2212           02916             call o2up
09AE   1822           02917             btfsc r3, C ;pokud preteklo, sjed dolu
09AF   2227           02918             call o2down
09B0   084D           02919 okno3       movf ir_92, W
09B1   39F0           02920             andlw b'11110000' ;odseknu konecnou cast
09B2   00A0           02921             movwf r1
09B3   09A0           02922             comf r1, F ;udelám dvojkový doplněk
09B4   0864           02923             movf o3tar, W
09B5   39F0           02924             andlw b'11110000' ;odseknu konecnou cast
09B6   07A0           02925             addwf r1, F ;sectu s dvojkovym doplnkem
09B7   0803           02926             movf STATUS, W
09B8   00A2           02927             movwf r3
09B9   1922           02928             btfsc r3, Z
09BA   227B           02929             call o3stop
09BB   1922           02930             btfsc r3, Z
09BC   29C1           02931             goto okno4
09BD   1C22           02932             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09BE   2251           02933             call o3up
09BF   1822           02934             btfsc r3, C ;pokud preteklo, sjed dolu
09C0   2266           02935             call o3down
09C1   084E           02936 okno4       movf ir_93, W
09C2   39F0           02937             andlw b'11110000' ;odseknu konecnou cast
09C3   00A0           02938             movwf r1
09C4   09A0           02939             comf r1, F ;udelám dvojkový doplněk
09C5   0865           02940             movf o4tar, W
09C6   39F0           02941             andlw b'11110000' ;odseknu konecnou cast
09C7   07A0           02942             addwf r1, F ;sectu s dvojkovym doplnkem
09C8   0803           02943             movf STATUS, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09C9   00A2           02944             movwf r3
09CA   1922           02945             btfsc r3, Z
09CB   22BA           02946             call o4stop
09CC   1922           02947             btfsc r3, Z
09CD   0008           02948             return
09CE   1C22           02949             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09CF   2290           02950             call o4up
09D0   1822           02951             btfsc r3, C ;pokud preteklo, sjed dolu
09D1   22A5           02952             call o4down
09D2   0008           02953             return
                      02954 
                      02955 ;okno 1 nahoru, dolu, zastavit
09D3   19A9           02956 o1up        btfsc o_a, 3
09D4   29DD           02957             goto no1up
09D5   301D           02958             movlw b'11101' ;port D5
09D6   00D2           02959             movwf port
09D7   3003           02960             movlw b'11' ;procesor 3
09D8   00D3           02961             movwf prc
                      02962         
09D9   118A           02963             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09DA   21BA           02964             call setout ;smaz port v prc
09DB   158A           02965             bsf PCLATH,3 ;Select page 1
09DC   15A9           02966             bsf o_a, 3 
09DD   1FA9           02967 no1up       btfss o_a, 7
09DE   0008           02968             return
09DF   300C           02969             movlw b'01100' ;port B4
09E0   00D2           02970             movwf port
09E1   3002           02971             movlw b'10' ;procesor 2
09E2   00D3           02972             movwf prc
                      02973             
09E3   118A           02974             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09E4   21E1           02975             call clrout ;smaz port v prc
09E5   158A           02976             bsf PCLATH,3 ;Select page 1
09E6   13A9           02977             bcf o_a, 7             
09E7   0008           02978             return
09E8   1DA9           02979 o1down      btfss o_a, 3
09E9   29F2           02980             goto no1down
09EA   301D           02981             movlw b'11101' ;port D5
09EB   00D2           02982             movwf port
09EC   3003           02983             movlw b'11' ;procesor 3
09ED   00D3           02984             movwf prc
                      02985             
09EE   118A           02986             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09EF   21E1           02987             call clrout ;smaz port v prc
09F0   158A           02988             bsf PCLATH,3 ;Select page 1
09F1   11A9           02989             bcf o_a, 3 
09F2   1BA9           02990 no1down     btfsc o_a, 7
09F3   0008           02991             return
09F4   300C           02992             movlw b'01100' ;port B4
09F5   00D2           02993             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09F6   3002           02994             movlw b'10' ;procesor 2
09F7   00D3           02995             movwf prc
                      02996             
09F8   118A           02997             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09F9   21BA           02998             call setout ;smaz port v prc
09FA   158A           02999             bsf PCLATH,3 ;Select page 1
09FB   17A9           03000             bsf o_a, 7             
09FC   0008           03001             return
09FD   1DA9           03002 o1stop      btfss o_a, 3
09FE   2A07           03003             goto no1stop
09FF   301D           03004             movlw b'11101' ;port D5
0A00   00D2           03005             movwf port
0A01   3003           03006             movlw b'11' ;procesor 3
0A02   00D3           03007             movwf prc
                      03008             
0A03   118A           03009             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A04   21E1           03010             call clrout ;smaz port v prc
0A05   158A           03011             bsf PCLATH,3 ;Select page 1
0A06   11A9           03012             bcf o_a, 3 
0A07   1FA9           03013 no1stop     btfss o_a, 7
0A08   0008           03014             return
0A09   300C           03015             movlw b'01100' ;port B4
0A0A   00D2           03016             movwf port
0A0B   3002           03017             movlw b'10' ;procesor 2
0A0C   00D3           03018             movwf prc
                      03019             
0A0D   118A           03020             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0E   21E1           03021             call clrout ;smaz port v prc
0A0F   158A           03022             bsf PCLATH,3 ;Select page 1
0A10   13A9           03023             bcf o_a, 7             
0A11   0008           03024             return
                      03025 ;okno 2 nahoru, dolu, zastavit
0A12   1A29           03026 o2up        btfsc o_a, 4
0A13   2A1C           03027             goto no2up
0A14   3018           03028             movlw b'11000' ;port D0
0A15   00D2           03029             movwf port
0A16   3002           03030             movlw b'10' ;procesor 2
0A17   00D3           03031             movwf prc
                      03032             
0A18   118A           03033             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A19   21BA           03034             call setout ;smaz port v prc
0A1A   158A           03035             bsf PCLATH,3 ;Select page 1
0A1B   1629           03036             bsf o_a, 4 
0A1C   1C2A           03037 no2up       btfss o_b, 0
0A1D   0008           03038             return
0A1E   300D           03039             movlw b'01101' ;port B5
0A1F   00D2           03040             movwf port
0A20   3002           03041             movlw b'10' ;procesor 2
0A21   00D3           03042             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03043             
0A22   118A           03044             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A23   21E1           03045             call clrout ;smaz port v prc
0A24   158A           03046             bsf PCLATH,3 ;Select page 1
0A25   102A           03047             bcf o_b, 0             
0A26   0008           03048             return
0A27   1E29           03049 o2down      btfss o_a, 4
0A28   2A31           03050             goto no2down
0A29   3018           03051             movlw b'11000' ;port D0
0A2A   00D2           03052             movwf port
0A2B   3002           03053             movlw b'10' ;procesor 2
0A2C   00D3           03054             movwf prc
                      03055             
0A2D   118A           03056             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2E   21E1           03057             call clrout ;smaz port v prc
0A2F   158A           03058             bsf PCLATH,3 ;Select page 1
0A30   1229           03059             bcf o_a, 4 
0A31   182A           03060 no2down     btfsc o_b, 0
0A32   0008           03061             return
0A33   300D           03062             movlw b'01101' ;port B5
0A34   00D2           03063             movwf port
0A35   3002           03064             movlw b'10' ;procesor 2
0A36   00D3           03065             movwf prc
                      03066             
0A37   118A           03067             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A38   21BA           03068             call setout ;smaz port v prc
0A39   158A           03069             bsf PCLATH,3 ;Select page 1
0A3A   142A           03070             bsf o_b, 0             
0A3B   0008           03071             return
0A3C   1E29           03072 o2stop      btfss o_a, 4
0A3D   2A46           03073             goto no2stop
0A3E   3018           03074             movlw b'11000' ;port D0
0A3F   00D2           03075             movwf port
0A40   3002           03076             movlw b'10' ;procesor 2
0A41   00D3           03077             movwf prc
                      03078             
0A42   118A           03079             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A43   21E1           03080             call clrout ;smaz port v prc
0A44   158A           03081             bsf PCLATH,3 ;Select page 1
0A45   1229           03082             bcf o_a, 4 
0A46   1C2A           03083 no2stop     btfss o_b, 0
0A47   0008           03084             return
0A48   300D           03085             movlw b'01101' ;port B5
0A49   00D2           03086             movwf port
0A4A   3002           03087             movlw b'10' ;procesor 2
0A4B   00D3           03088             movwf prc
                      03089             
0A4C   118A           03090             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A4D   21E1           03091             call clrout ;smaz port v prc
0A4E   158A           03092             bsf PCLATH,3 ;Select page 1
0A4F   102A           03093             bcf o_b, 0             
0A50   0008           03094             return
                      03095 ;okno 3 nahoru, dolu, zastavit
0A51   1AA9           03096 o3up        btfsc o_a, 5
0A52   2A5B           03097             goto no3up
0A53   300A           03098             movlw b'01010' ;port B2
0A54   00D2           03099             movwf port
0A55   3002           03100             movlw b'10' ;procesor 2
0A56   00D3           03101             movwf prc
                      03102             
0A57   118A           03103             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A58   21BA           03104             call setout ;smaz port v prc
0A59   158A           03105             bsf PCLATH,3 ;Select page 1
0A5A   16A9           03106             bsf o_a, 5 
0A5B   1CAA           03107 no3up       btfss o_b, 1
0A5C   0008           03108             return
0A5D   300E           03109             movlw b'01110' ;port B6
0A5E   00D2           03110             movwf port
0A5F   3002           03111             movlw b'10' ;procesor 2
0A60   00D3           03112             movwf prc
                      03113             
0A61   118A           03114             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A62   21E1           03115             call clrout ;smaz port v prc
0A63   158A           03116             bsf PCLATH,3 ;Select page 1
0A64   10AA           03117             bcf o_b, 1             
0A65   0008           03118             return
0A66   1EA9           03119 o3down      btfss o_a, 5
0A67   2A70           03120             goto no3down
0A68   300A           03121             movlw b'01010' ;port B2
0A69   00D2           03122             movwf port
0A6A   3002           03123             movlw b'10' ;procesor 2
0A6B   00D3           03124             movwf prc
                      03125             
0A6C   118A           03126             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6D   21E1           03127             call clrout ;smaz port v prc
0A6E   158A           03128             bsf PCLATH,3 ;Select page 1
0A6F   12A9           03129             bcf o_a, 5 
0A70   18AA           03130 no3down     btfsc o_b, 1
0A71   0008           03131             return
0A72   300E           03132             movlw b'01110' ;port B6
0A73   00D2           03133             movwf port
0A74   3002           03134             movlw b'10' ;procesor 2
0A75   00D3           03135             movwf prc
                      03136             
0A76   118A           03137             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A77   21BA           03138             call setout ;smaz port v prc
0A78   158A           03139             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A79   14AA           03140             bsf o_b, 1             
0A7A   0008           03141             return
0A7B   1EA9           03142 o3stop      btfss o_a, 5
0A7C   2A85           03143             goto no3stop
0A7D   300A           03144             movlw b'01010' ;port B2
0A7E   00D2           03145             movwf port
0A7F   3002           03146             movlw b'10' ;procesor 2
0A80   00D3           03147             movwf prc
                      03148             
0A81   118A           03149             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A82   21E1           03150             call clrout ;smaz port v prc
0A83   158A           03151             bsf PCLATH,3 ;Select page 1
0A84   12A9           03152             bcf o_a, 5 
0A85   1CAA           03153 no3stop     btfss o_b, 1
0A86   0008           03154             return
0A87   300E           03155             movlw b'01110' ;port B6
0A88   00D2           03156             movwf port
0A89   3002           03157             movlw b'10' ;procesor 2
0A8A   00D3           03158             movwf prc
                      03159             
0A8B   118A           03160             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8C   21E1           03161             call clrout ;smaz port v prc
0A8D   158A           03162             bsf PCLATH,3 ;Select page 1
0A8E   10AA           03163             bcf o_b, 1             
0A8F   0008           03164             return
                      03165 ;okno 4 nahoru, dolu, zastavit
0A90   1B29           03166 o4up        btfsc o_a, 6
0A91   2A9A           03167             goto no4up
0A92   300B           03168             movlw b'01011' ;port B3
0A93   00D2           03169             movwf port
0A94   3002           03170             movlw b'10' ;procesor 2
0A95   00D3           03171             movwf prc
                      03172             
0A96   118A           03173             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A97   21BA           03174             call setout ;smaz port v prc
0A98   158A           03175             bsf PCLATH,3 ;Select page 1
0A99   1729           03176             bsf o_a, 6 
0A9A   1D2A           03177 no4up       btfss o_b, 2
0A9B   0008           03178             return
0A9C   300F           03179             movlw b'01111' ;port B7
0A9D   00D2           03180             movwf port
0A9E   3002           03181             movlw b'10' ;procesor 2
0A9F   00D3           03182             movwf prc
                      03183             
0AA0   118A           03184             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA1   21E1           03185             call clrout ;smaz port v prc
0AA2   158A           03186             bsf PCLATH,3 ;Select page 1
0AA3   112A           03187             bcf o_b, 2             
0AA4   0008           03188             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AA5   1F29           03189 o4down      btfss o_a, 6
0AA6   2AAF           03190             goto no4down
0AA7   300B           03191             movlw b'01011' ;port B3
0AA8   00D2           03192             movwf port
0AA9   3002           03193             movlw b'10' ;procesor 2
0AAA   00D3           03194             movwf prc
                      03195             
0AAB   118A           03196             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAC   21E1           03197             call clrout ;smaz port v prc
0AAD   158A           03198             bsf PCLATH,3 ;Select page 1
0AAE   1329           03199             bcf o_a, 6 
0AAF   192A           03200 no4down     btfsc o_b, 2
0AB0   0008           03201             return
0AB1   300F           03202             movlw b'01111' ;port B7
0AB2   00D2           03203             movwf port
0AB3   3002           03204             movlw b'10' ;procesor 2
0AB4   00D3           03205             movwf prc
                      03206             
0AB5   118A           03207             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB6   21BA           03208             call setout ;smaz port v prc
0AB7   158A           03209             bsf PCLATH,3 ;Select page 1
0AB8   152A           03210             bsf o_b, 2             
0AB9   0008           03211             return
0ABA   1F29           03212 o4stop      btfss o_a, 6
0ABB   2AC4           03213             goto no4stop
0ABC   300B           03214             movlw b'01011' ;port B3
0ABD   00D2           03215             movwf port
0ABE   3002           03216             movlw b'10' ;procesor 2
0ABF   00D3           03217             movwf prc
                      03218             
0AC0   118A           03219             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC1   21E1           03220             call clrout ;smaz port v prc
0AC2   158A           03221             bsf PCLATH,3 ;Select page 1
0AC3   1329           03222             bcf o_a, 6 
0AC4   1D2A           03223 no4stop     btfss o_b, 2
0AC5   0008           03224             return
0AC6   300F           03225             movlw b'01111' ;port B7
0AC7   00D2           03226             movwf port
0AC8   3002           03227             movlw b'10' ;procesor 2
0AC9   00D3           03228             movwf prc
                      03229             
0ACA   118A           03230             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACB   21E1           03231             call clrout ;smaz port v prc
0ACC   158A           03232             bsf PCLATH,3 ;Select page 1
0ACD   112A           03233             bcf o_b, 2             
0ACE   0008           03234             return
                      03235             
                      03236             
                      03237             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03238             
                      03239 
                      03240 
                      03241 
                      03242 
0ACF   3032           03243 adconv      movlw .50 ; kolikrat se ma merit vstup
0AD0   00F7           03244             movwf ran2 ; decrementator pro cykl
0AD1   00FA           03245             movwf ran5 ; delitel pro vypocet prumeru
0AD2   0876           03246             movf ran1, W
0AD3   00F8           03247             movwf ran3 ; zachováni ANx vstupu
0AD4   01F2           03248             clrf CIS2_L
0AD5   01F3           03249             clrf CIS2_H
                      03250             
0AD6   0878           03251 adconv2     movf ran3, W
0AD7   00F6           03252             movwf ran1 ; nasteni znova ANx vstupu
0AD8   22F7           03253             call adconv_one
                      03254             
                      03255             ; pripraveni cisla 1 k pricteni
0AD9   01F1           03256             clrf CIS1_H
0ADA   0876           03257             movf ran1, W
0ADB   00F0           03258             movwf CIS1_L
                      03259             
                      03260             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03261             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03262         
0ADC   0870           03263                 movf    CIS1_L,W        ; CIS1_L do W
0ADD   0772           03264                 addwf   CIS2_L,W        ; W + CIS2_L do W
0ADE   00F4           03265                 movwf   OUT_L           ; W do OUT_L
                      03266         
0ADF   0871           03267                 movf    CIS1_H,W        ; CIS1_H do W
0AE0   1803           03268                 btfsc   STATUS,C
0AE1   3E01           03269                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0AE2   0773           03270                 addwf   CIS2_H,W
0AE3   00F5           03271                 movwf   OUT_H           ; W do OUT_H
                      03272                 
                      03273                 ; ulozi OUT do CIS2
0AE4   0874           03274             movf OUT_L, W
0AE5   00F2           03275             movwf CIS2_L
0AE6   0875           03276             movf OUT_H, W
0AE7   00F3           03277             movwf CIS2_H
                      03278             
                      03279             
0AE8   0BF7           03280             decfsz ran2, F
0AE9   2AD6           03281             goto adconv2
                      03282             
                      03283             ; vydeli poctem mereni
0AEA   0872           03284             movf CIS2_L, W
0AEB   00F0           03285             movwf A1
0AEC   0873           03286             movf CIS2_H, W
0AED   00F1           03287             movwf A2
0AEE   01F2           03288             clrf A3
                      03289             
0AEF   087A           03290             movf ran5, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AF0   00F3           03291             movwf B1
0AF1   01F4           03292             clrf B2
0AF2   01F5           03293             clrf B3
                      03294             
0AF3   2306           03295             call LOMENO24
0AF4   0876           03296             movf C1, W
0AF5   00F6           03297             movwf ran1
                      03298             
0AF6   0008           03299             return
                      03300         
0AF7   1003           03301 adconv_one  bcf STATUS, C
0AF8   0DF6           03302             rlf ran1, F
0AF9   0DF6           03303             rlf ran1, F
0AFA   0DF6           03304             rlf ran1, F
                      03305             
                      03306             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0AFB   13F6           03307             bcf ran1, 7
0AFC   1776           03308             bsf ran1, 6
                      03309             ; 5
                      03310             ; 4
                      03311             ; 3
0AFD   1576           03312             bsf ran1, 2
                      03313             ; 1
0AFE   1476           03314             bsf ran1, 0
                      03315             
0AFF   0876           03316             movf ran1, W
0B00   009F           03317             movwf ADCON0
                      03318             
0B01   191F           03319             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B02   2B01           03320             goto $-1
0B03   081E           03321             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B04   00F6           03322             movwf ran1
0B05   0008           03323             return
                      03324         
                      03325         
                      03326         
                      03327         
                      03328         
                      03329 ;-------------------------------;
                      03330 ; A1,2,3 / B1,2,3 = C1,2,3
                      03331 ;24Bit, pouze kladna cisla
                      03332 ;SZ=1=deleni nulou (B1,2,3=0)
                      03333 ;B se nezmeni, v A bude zbytek
                      03334 ;pouziva D1,2,3; X1
0B06                  03335 LOMENO24
                      03336 ;test B na nulu; sZ=1=ANO
0B06   08F3           03337         MOVF    B1,F
0B07   1903           03338         BTFSC   STATUS,Z        ;nenulove?
0B08   08F4           03339         MOVF    B2,F
0B09   1903           03340         BTFSC   STATUS,Z        ;nenulove?
0B0A   08F5           03341         MOVF    B3,F
0B0B   1903           03342         BTFSC   STATUS,Z        ;nenulove?
0B0C   0008           03343         RETURN                  ;B1,2,3=0
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03344 ;priprava pro deleni
0B0D   0870           03345 LOM24   MOVF    A1,W            ;A do D
0B0E   00F9           03346         MOVWF   D1              ;
0B0F   0871           03347         MOVF    A2,W            ;
0B10   00FA           03348         MOVWF   D2              ;
0B11   0872           03349         MOVF    A3,W            ;
0B12   00FB           03350         MOVWF   D3              ;
0B13   01F0           03351         CLRF    A1              ;nulovat
0B14   01F1           03352         CLRF    A2              ;
0B15   01F2           03353         CLRF    A3              ;
0B16   3018           03354         MOVLW   24              ;pocet bitu
0B17   00FC           03355         MOVWF   X1              ;
0B18   1003           03356         BCF     STATUS,C        ;SC=0
                      03357 ;deleni
0B19   232B           03358 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B1A   1C03           03359         BTFSS   STATUS,C        ;kladny vysledek?
0B1B   2B21           03360         GOTO    LZapor          ;NE
                      03361 ;LKlad
0B1C   00F2           03362         MOVWF   A3              ;C do A
0B1D   0877           03363         MOVF    C2,W            ;
0B1E   00F1           03364         MOVWF   A2              ;
0B1F   0876           03365         MOVF    C1,W            ;
0B20   00F0           03366         MOVWF   A1              ;
                      03367 
0B21   0BFC           03368 LZapor  DECFSZ  X1,F            ;-1=0?
0B22   2B19           03369         GOTO    LDalsi          ;jeste neni konec
                      03370 ;vysledek
0B23   0D79           03371         RLF     D1,W            ;posledni x2
0B24   00F6           03372         MOVWF   C1              ; a W do C
0B25   0D7A           03373         RLF     D2,W            ;
0B26   00F7           03374         MOVWF   C2              ;
0B27   0D7B           03375         RLF     D3,W            ;
0B28   00F8           03376         MOVWF   C3              ;
                      03377 
0B29   1103           03378         BCF     STATUS,Z        ;SZ=0
0B2A   0008           03379         RETURN
                      03380 
                      03381 
                      03382 ;................................
                      03383 ; D1,2,3 A1,2,3 * 2 a Minus
0B2B   0DF9           03384 x2M     RLF     D1,F            ;posuv vlevo
0B2C   0DFA           03385         RLF     D2,F            ;
0B2D   0DFB           03386         RLF     D3,F            ;
0B2E   0DF0           03387         RLF     A1,F            ;
0B2F   0DF1           03388         RLF     A2,F            ;
0B30   0DF2           03389         RLF     A3,F            ;
                      03390                                 ;pokracuje MINUS
                      03391 ;--------------------------------
                      03392 ; A1,2,3 - B1,2,3 = C1,2,3
                      03393 ;SC=0=zaporny vysledek
                      03394 ;A,B se nezmeni
0B31   0873           03395 MINUS   MOVF    B1,W            ;W=B1
0B32   0270           03396         SUBWF   A1,W            ;A1-B1=W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B33   00F6           03397         MOVWF   C1              ;C1=W=vysledek1
0B34   0103           03398         CLRW                    ;W=0
0B35   1C03           03399         BTFSS   STATUS,C        ;SUB kladne?
0B36   3001           03400         MOVLW   1               ;W=1
0B37   0774           03401         ADDWF   B2,W            ;B2+W=W
0B38   01F8           03402         CLRF    C3              ;C3=0
0B39   1803           03403         BTFSC   STATUS,C        ;ADD nepreteklo?
0B3A   1478           03404         BSF     C3,0            ;C3=1
0B3B   0271           03405         SUBWF   A2,W            ;A2-W=W
0B3C   00F7           03406         MOVWF   C2              ;C2=w=vysledek2
0B3D   0878           03407         MOVF    C3,W            ;W=C3
0B3E   1C03           03408         BTFSS   STATUS,C        ;SUB kladne?
0B3F   3001           03409         MOVLW   1               ;W=1
0B40   0775           03410         ADDWF   B3,W            ;B3+W=W
0B41   01F8           03411         CLRF    C3              ;C3=0
0B42   1803           03412         BTFSC   STATUS,C        ;ADD nepreteklo?
0B43   1478           03413         BSF     C3,0            ;C3=1
0B44   0272           03414         SUBWF   A3,W            ;A3-W=W
0B45   1878           03415         BTFSC   C3,0            ;C3=0?
0B46   1003           03416         BCF     STATUS,C        ;SC=0
0B47   00F8           03417         MOVWF   C3              ;C3=W=vysledek3
0B48   0008           03418         RETURN
                      03419 
                      03420 
                      03421         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B19
LEDZAM                            00000002
LOM24                             00000B0D
LOMENO24                          00000B06
LZapor                            00000B21
MINUS                             00000B31
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000ACF
adconv2                           00000AD6
adconv_one                        00000AF7
alabli                            000000F6
casov                             0000005A
cassir                            00000058
casvar                            0000006E
cil                               00000078
clrout                            000001E1
conf                              00000059
dotaz                             00000101
dotazerr                          000001B6
if_127                            000002D0
if_128                            000002D2
if_49                             000002AA
if_50                             000002A2
if_51                             000002AE
if_52                             000002B0
if_53                             000002B2
if_54                             000002B4
if_55                             000002B6
if_56                             000002B8
if_57                             000002BA
if_58                             00000208
if_59                             000002A4
if_60                             000002A6
if_61                             000002A8
if_62                             00000255
if_80                             000002AC
if_84                             000002BC
if_85                             000002BE
if_86                             000002C0
if_87                             000002C2
if_88                             000002C4
if_89                             000002C6
if_90                             000002C8
if_91                             000002CA
if_92                             000002CC
if_93                             000002CE
if_x                              0000031F
init                              00000012
inter                             00000047
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

intoff                            00000041
inton                             00000036
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           0000069E
ledzam                            000006AD
locked                            00000051
loop                              00000820
lzabli                            000000AA
no1down                           000009F2
no1stop                           00000A07
no1up                             000009DD
no2down                           00000A31
no2stop                           00000A46
no2up                             00000A1C
no3down                           00000A70
no3stop                           00000A85
no3up                             00000A5B
no4down                           00000AAF
no4stop                           00000AC4
no4up                             00000A9A
o1down                            000009E8
o1stop                            000009FD
o1tar                             00000062
o1tmp                             0000005E
o1up                              000009D3
o2down                            00000A27
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

o2stop                            00000A3C
o2tar                             00000063
o2tmp                             0000005F
o2up                              00000A12
o3down                            00000A66
o3stop                            00000A7B
o3tar                             00000064
o3tmp                             00000060
o3up                              00000A51
o4down                            00000AA5
o4stop                            00000ABA
o4tar                             00000065
o4tmp                             00000061
o4up                              00000A90
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000C7
okna                              0000098E
okno2                             0000099F
okno3                             000009B0
okno4                             000009C1
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
r5                                00000024
r6                                00000025
radio                             00000059
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

ran5                              0000007A
restart                           00000800
rtuoff                            00000099
s_temp                            00000027
setout                            000001BA
sirbeep                           0000006D
spinac                            00000067
spioff                            000000C2
start                             00000810
t1_00                             00000363
t1_01                             000003AC
t1_02                             000003DA
t1_03                             000003FD
t1_04                             0000041E
t1_05                             00000454
t1_06                             0000046C
t1_07                             000004A3
t1_08                             000004B1
t1_09                             000004BF
t1_10                             000004C1
t1_11                             000004CB
t1_12                             000004D1
t1_13                             000004D9
t1_14                             000004E1
t1_15                             000004E7
t1_16                             000004ED
t1_17                             000004F3
t1_18                             000004F5
t1_19                             000004F7
t1_20                             000004F9
t1_21                             00000500
t1_22                             00000507
t1_23                             0000050E
t1_24                             00000515
t1_25                             0000051C
t1_26                             00000523
t1_27                             0000052E
t1_28                             00000530
t1_29                             00000532
t1_30                             00000534
t1_31                             0000053D
t1_32                             00000546
t1_33                             00000551
t1_34                             0000055C
t1_35                             00000565
t1_36                             0000056E
t1_37                             00000579
t1_38                             00000589
t1_39                             0000058B
t1_40                             0000058D
t1_41                             0000059C
t1_42                             000005AB
t1_43                             000005B6
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

t1_44                             000005C1
t1_45                             000005CC
t1_46                             000005CF
t1_47                             000005D2
t1_48                             000005DD
t1_49                             000005DF
t1_50                             000005E1
t1_51                             000005E8
t1_52                             000005EB
t1_53                             000005EE
t1_54                             000005FD
t1_55                             0000060C
t1_56                             0000060F
t1_57                             00000630
t1_58                             00000632
t1_59                             00000634
t1_60                             00000636
t1_61                             00000641
t1_62                             00000650
t1_63                             0000065F
t1_64                             00000669
t1_65                             00000673
t1_66                             0000067D
t1_67                             00000687
t1_68                             00000689
t1_69                             0000068B
t1_stop                           00000321
t1_x                              0000068D
t2_02                             000003F3
t2_03                             00000414
t2_37                             00000582
t2_stop                           00000323
t3_02                             000003FA
t3_03                             0000041B
t3_stop                           00000325
timala                            0000006A
timer0                            0000005B
timlza                            0000005D
timods                            00000069
timrtu                            0000005C
timsir                            00000057
timspi                            00000068
timvar                            0000005B
timwtu                            00000066
tl1                               00000054
tl2                               00000055
tl3                               00000056
tx_stop                           00000327
varoff                            00000076
w100c                             00000694
w20i                              0000068F
w40c                              00000699
w_temp                            00000026
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

watchover                         00000050
watchstart                        00000052
watchwait                         00000055
wtuoff                            000000B1
x0                                0000006B
x1                                0000006C
x2                                0000006D
x2M                               00000B2B


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXX----
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-12-2012  19:56:50         PAGE 79


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXX------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:  2562
Program Memory Words Free:  1534


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    93 reported,     0 suppressed

