MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
  0000006C            00097 vterina
                      00098       ; registr 79/96
                      00099       endc
                      00100 
                      00101 ; BANK 1
                      00102       cblock    0x20
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 
  00000020            00104 o1tmp       
  00000021            00105 o2tmp       
  00000022            00106 o3tmp       
  00000023            00107 o4tmp       
  00000024            00108 o1tar       
  00000025            00109 o2tar       
  00000026            00110 o3tar       
  00000027            00111 o4tar       
                      00112       endc
                      00113 
                      00114 
                      00115 ;Lokální proměne (pracovni a parametry) od 6D
                      00116       cblock 0x70
  00000070            00117 pri0       
  00000071            00118 pri1       
  00000072            00119 pri2        
  00000073            00120 pri3      
  00000074            00121 pri4        
  00000075            00122 pri5       
  00000076            00123 pri6    
  00000077            00124 pri7        
  00000078            00125 cil       
                      00126       endc  
                      00127 
                      00128       cblock 0x70
  00000070            00129 CIS1_L      
  00000071            00130 CIS1_H      
  00000072            00131 CIS2_L 
  00000073            00132 CIS2_H 
  00000074            00133 OUT_L 
  00000075            00134 OUT_H       
  00000076            00135 ran1      
  00000077            00136 ran2      
  00000078            00137 ran3       
  00000079            00138 ran4    
  0000007A            00139 ran5  
                      00140       endc
                      00141   
                      00142       cblock 0x70
  00000070            00143 A1    
  00000071            00144 A2    
  00000072            00145 A3    
  00000073            00146 B1    
  00000074            00147 B2    
  00000075            00148 B3    
  00000076            00149 C1    
  00000077            00150 C2    
  00000078            00151 C3    
  00000079            00152 D1    
  0000007A            00153 D2    
  0000007B            00154 D3    
  0000007C            00155 X1    
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007D            00156 X2    
  0000007E            00157 FL    
                      00158       endc
                      00159 
                      00160 
                      00161 
                      00162 ;KONSTANTY
                      00163 ;conf constant
  00000000            00164 T0OF        equ .0
  00000001            00165 STARTED     equ .1
  00000002            00166 WATCHOVER   equ .2
  00000003            00167 PCON_POR    equ .3
  00000004            00168 T1OF        equ .4
                      00169 ;casov constant
                      00170 ;VAROV       equ .0
  00000001            00171 REDTUN      equ .1
  00000002            00172 LEDZAM      equ .2
  00000003            00173 WHITUN      equ .3
  00000004            00174 ODSKOK      equ .4
  00000005            00175 ALARM       equ .5
                      00176 
                      00177 ;system constants
  00000001            00178 POR         equ .1
                      00179 
                      00180 
                      00181 
0000                  00182             org 000h        ;vektor zacatku
0000   2816           00183             goto init
                      00184 
0004                  00185             org 004h        ;vektor preruseni
0004   00A6           00186             movwf w_temp ;copy w to temp register
0005   0803           00187             movf STATUS, W ;swap status to be saved into w
0006   00A7           00188             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00189             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00190             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00191             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00192             
000A   118A           00193             bcf PCLATH,3 ;Select page 0
000B   204E           00194             call inter
                      00195         
000C   0828           00196             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00197             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00198             movf s_temp, W ;swap status_temp register into w
000F   0083           00199             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00200             movf w_temp, W ;
0011   1D27           00201             btfss s_temp, Z
0012   1103           00202             bcf STATUS, Z
0013   1927           00203             btfsc s_temp, Z
0014   1503           00204             bsf STATUS, Z
0015   0008           00205             return
                      00206 
0016   118A           00207 init        bcf PCLATH,3 ;Select page 0
0017   120A           00208             bcf PCLATH,4 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00209                 
0018   0185           00210             clrf PORTA      ;Init PORTS 
0019   0186           00211             clrf PORTB
001A   0187           00212             clrf PORTC
001B   0188           00213             clrf PORTD
001C   0189           00214             clrf PORTE
                      00215             
001D   1683           00216             bsf STATUS, RP0  ;Bank 1
                      00217             
001E   3049           00218             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00219             movwf ADCON1
                      00220     
0020   302F           00221             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00222             movwf TRISA
0022   3001           00223             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00224             movwf TRISB
0024   3000           00225             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00226             movwf TRISC
0026   3000           00227             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00228             movwf TRISD
0028   3001           00229             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00230             movwf TRISE
                      00231             
002A   0064           00232             clrwdt
002B   30CC           00233             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00234             movwf OPTION_REG
                      00235             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00236             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00237             bsf PCON, POR
                      00238 
002F   1283           00239             bcf STATUS, RP0 ;Bank 0
                      00240 
0030   00A0           00241             movwf r1
0031   11D9           00242             bcf conf, PCON_POR
0032   18A0           00243             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00244             bsf conf, PCON_POR
                      00245 
                      00246 
0034   3021           00247             movlw b'00100001' ; nastaví control register timer1
0035   0090           00248             movwf T1CON
0036   3046           00249             movlw b'01000110' ; nastaví control register timer2
0037   0092           00250             movwf T2CON
                      00251             
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   203D           00252             call inton
                      00253             
                      00254             
0039   158A           00255             bsf PCLATH,3 ;Select page 1
003A   19D9           00256             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00257             goto restart
                      00258 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2827           00259             goto start      ;zacni na startu
                      00260         
                      00261         
                      00262         
                      00263 
003D   108B           00264 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00265             bsf INTCON, INTE
                      00266             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00267             ;bsf INTCON, T0IE
003F   100C           00268             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00269             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00270             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00271             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00272             bsf PIE1, TMR2IE
0044   1283           00273             bcf STATUS, RP0 ;Bank 0
0045   170B           00274             bsf INTCON, PEIE
0046   178B           00275             bsf INTCON, GIE
0047   0008           00276             return
                      00277         
0048   120B           00278 intoff      bcf INTCON, INTE
                      00279             ;bcf INTCON, T0IE
0049   1683           00280             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00281             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00282             bcf PIE1, TMR2IE
004C   1283           00283             bcf STATUS, RP0 ;Bank 0
004D   0008           00284             return
                      00285 
                      00286 
                      00287 
004E   2048           00288 inter       call intoff
                      00289       
004F   188B           00290             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2060           00291             call radio
                      00292             ;btfsc INTCON, T0IF
                      00293             ;bsf conf, T0OF
0051   180C           00294             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0052   1659           00295             bsf conf, T1OF
0053   188C           00296             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0054   2057           00297             call watchover
                      00298             
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0055   203D           00299             call inton
0056   0008           00300             return
                      00301 
                      00302 ;pokud přetekl timer2 pro watch
0057   1559           00303 watchover   bsf conf, WATCHOVER
0058   0008           00304             return
                      00305             
                      00306 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0059   1159           00307 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005A   0191           00308             clrf TMR2 ;vynuluje timer2
005B   0008           00309             return
                      00310             
005C   1D59           00311 watchwait   btfss conf, WATCHOVER
005D   285C           00312             goto $-1
                      00313             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
005E   26CF           00314             call w100c
005F   0008           00315             return
                      00316 
                      00317 ;při zachyceni signalu na radiovem přijímači        
0060   0000           00318 radio       nop
0061   0008           00319             return
                      00320 
                      00321 ;timer0     nop
                      00322             
                      00323             ;bcf conf, T0OF
                      00324             ;return
                      00325 
                      00326 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0062   1858           00327 timer1      btfsc cassir, 0
0063   20A5           00328             call sirbeep
0064   186B           00329             btfsc casvar, 0
0065   20AE           00330             call varoff
0066   18DA           00331             btfsc casov, REDTUN
0067   20D9           00332             call rtuoff
0068   195A           00333             btfsc casov, LEDZAM
0069   20EA           00334             call lzabli
006A   19DA           00335             btfsc casov, WHITUN
006B   20F1           00336             call wtuoff
006C   1A5A           00337             btfsc casov, ODSKOK
006D   2107           00338             call odsoff
006E   1ADA           00339             btfsc casov, ALARM
006F   2140           00340             call alabli
0070   1964           00341             btfsc spinac, 2
0071   2102           00342             call spioff
                      00343 
0072   03EC           00344             decf vterina, F
0073   1903           00345             btfsc STATUS, Z
0074   2077           00346             call vterinka
                      00347 
0075   1259           00348             bcf conf, T1OF
0076   0008           00349             return
                      00350             
0077   0000           00351 vterinka    nop
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00352 
                      00353 ;Ledky blikajici kdyz je PC zaply
0078   082F           00354 ledPCRun    movf o_g, W
0079   00A4           00355             movwf r5
007A   300C           00356             movlw b'01100' ;port B4
007B   00D2           00357             movwf port
007C   3003           00358             movlw b'11' ;procesor 3
007D   00D3           00359             movwf prc
007E   1AA4           00360             btfsc r5, 5
007F   2203           00361             call setout ;nastav port v prc
0080   1AA4           00362             btfsc r5, 5
0081   162F           00363             bsf o_g, 4 
0082   1EA4           00364             btfss r5, 5
0083   222A           00365             call clrout ;nastav port v prc
0084   1EA4           00366             btfss r5, 5
0085   122F           00367             bcf o_g, 4 
                      00368             
0086   082F           00369             movf o_g, W
0087   00A4           00370             movwf r5
0088   300D           00371             movlw b'01101' ;port B5
0089   00D2           00372             movwf port
008A   3003           00373             movlw b'11' ;procesor 3
008B   00D3           00374             movwf prc
008C   1E24           00375             btfss r5, 4
008D   2203           00376             call setout ;nastav port v prc
008E   1E24           00377             btfss r5, 4
008F   16AF           00378             bsf o_g, 5 
0090   1A24           00379             btfsc r5, 4
0091   222A           00380             call clrout ;nastav port v prc
0092   1A24           00381             btfsc r5, 4
0093   12AF           00382             bcf o_g, 5 
                      00383 
                      00384             ;vypne zadni pasy po restartu
0094   300E           00385             movlw b'01110' ;port B6
0095   00D2           00386             movwf port
0096   3003           00387             movlw b'11' ;procesor 3
0097   00D3           00388             movwf prc
0098   1B2F           00389             btfsc o_g, 6
0099   222A           00390             call clrout ;nastav port v prc
009A   132F           00391             bcf o_g, 6 
                      00392             
009B   300F           00393             movlw b'01111' ;port B7
009C   00D2           00394             movwf port
009D   3003           00395             movlw b'11' ;procesor 3
009E   00D3           00396             movwf prc
009F   1BAF           00397             btfsc o_g, 7
00A0   222A           00398             call clrout ;nastav port v prc
00A1   13AF           00399             bcf o_g, 7 
                      00400 
                      00401             ; nastaveni nove vterinky
00A2   3009           00402             movlw .9 ;nastavy na dalsich 240ms
00A3   00EC           00403             movwf vterina
00A4   0008           00404             return
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00405 
                      00406 
                      00407 ;houkani sireny v intervalech cca 240ms        
00A5   03D7           00408 sirbeep     decf timsir, F
00A6   1D03           00409             btfss STATUS, Z
00A7   0008           00410             return
00A8   1003           00411             bcf STATUS, C
00A9   0CD8           00412             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
00AA   262F           00413             call t1_53 ;neguje houkani sireny
00AB   3003           00414             movlw .3 ;nastavy na dalsich 240ms
00AC   00D7           00415             movwf timsir
00AD   0008           00416             return
                      00417             
                      00418 ;blikani varovek
00AE   03DB           00419 varoff      decf timvar, F
00AF   1D03           00420             btfss STATUS, Z
00B0   0008           00421             return
00B1   0CEB           00422             rrf casvar, F
00B2   1C03           00423             btfss STATUS, C
00B3   13EB           00424             bcf casvar, 7
00B4   1803           00425             btfsc STATUS, C
00B5   17EB           00426             bsf casvar, 7
                      00427             
00B6   01A1           00428             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
00B7   01A2           00429             clrf r3
00B8   1A2D           00430             btfsc o_e, 4
00B9   1421           00431             bsf r2, 0
00BA   1AAD           00432             btfsc o_e, 5
00BB   1422           00433             bsf r3, 0
00BC   0821           00434             movf r2, W
00BD   05A2           00435             andwf r3, F
                      00436             
00BE   1822           00437             btfsc r3, 0 ;pokud oba zaply oba vypne
00BF   122D           00438             bcf o_e, 4
00C0   1822           00439             btfsc r3, 0 ;pokud oba zaply oba vypne
00C1   1361           00440             bcf PORTD_temp, 6
00C2   1822           00441             btfsc r3, 0 ;pokud oba zaply oba vypne
00C3   1308           00442             bcf PORTD, 6
00C4   1822           00443             btfsc r3, 0 ;pokud oba zaply oba vypne
00C5   12AD           00444             bcf o_e, 5
00C6   1822           00445             btfsc r3, 0 ;pokud oba zaply oba vypne
00C7   13E1           00446             bcf PORTD_temp, 7
00C8   1822           00447             btfsc r3, 0 ;pokud oba zaply oba vypne
00C9   1388           00448             bcf PORTD, 7
                      00449     
00CA   1C22           00450             btfss r3, 0 ;pokud jeden vyply oba zapne
00CB   162D           00451             bsf o_e, 4
00CC   1C22           00452             btfss r3, 0 ;pokud jeden vyply oba zapne
00CD   1761           00453             bsf PORTD_temp, 6
00CE   1C22           00454             btfss r3, 0 ;pokud jeden vyply oba zapne
00CF   1708           00455             bsf PORTD, 6
00D0   1C22           00456             btfss r3, 0 ;pokud jeden vyply oba zapne
00D1   16AD           00457             bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D2   1C22           00458             btfss r3, 0 ;pokud jeden vyply oba zapne
00D3   17E1           00459             bsf PORTD_temp, 7
00D4   1C22           00460             btfss r3, 0 ;pokud jeden vyply oba zapne
00D5   1788           00461             bsf PORTD, 7
                      00462             
00D6   3008           00463             movlw .8 ;nastavy na dalsich 240ms
00D7   00DB           00464             movwf timvar
00D8   0008           00465             return
                      00466 
                      00467 ;vypnuti red tuning
00D9   03DC           00468 rtuoff      decf timrtu, F
00DA   1D03           00469             btfss STATUS, Z
00DB   0008           00470             return
00DC   112B           00471             bcf o_c, 2 ;vypne red tunning
00DD   3016           00472             movlw b'10110' ;port C6
00DE   00D2           00473             movwf port
00DF   3002           00474             movlw b'10' ;procesor 2
00E0   00D3           00475             movwf prc
00E1   222A           00476             call clrout ;smaz port v prc
00E2   11AE           00477             bcf o_f, 3 ;vypne red interier
00E3   301A           00478             movlw b'11010' ;port D2
00E4   00D2           00479             movwf port
00E5   3002           00480             movlw b'10' ;procesor 2
00E6   00D3           00481             movwf prc
00E7   222A           00482             call clrout ;smaz port v prc
00E8   10DA           00483             bcf casov, REDTUN ;timer red tunningu nebude vniman
00E9   0008           00484             return
                      00485             
                      00486 ;blikani led zamknuto
00EA   03DD           00487 lzabli      decf timlza, F
00EB   1D03           00488             btfss STATUS, Z
00EC   0008           00489             return
00ED   26E8           00490             call ledzam ;neguje led zamknuto
00EE   300F           00491             movlw .15 ;nasavy na dalsich 240ms
00EF   00DD           00492             movwf timlza
00F0   0008           00493             return
                      00494             
                      00495 ;vypnuti white tuning
00F1   03E3           00496 wtuoff      decf timwtu, F
00F2   1D03           00497             btfss STATUS, Z
00F3   0008           00498             return
00F4   11AB           00499             bcf o_c, 3 ;vypne white tunning
00F5   3017           00500             movlw b'10111' ;port C7
00F6   00D2           00501             movwf port
00F7   3002           00502             movlw b'10' ;procesor 2
00F8   00D3           00503             movwf prc
00F9   222A           00504             call clrout ;smaz port v prc
00FA   122E           00505             bcf o_f, 4 ;vypne white interier
00FB   301B           00506             movlw b'11011' ;port D3
00FC   00D2           00507             movwf port
00FD   3002           00508             movlw b'10' ;procesor 2
00FE   00D3           00509             movwf prc
00FF   222A           00510             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0100   11DA           00511             bcf casov, WHITUN ;timer red tunningu nebude vniman
0101   0008           00512             return
                      00513             
                      00514 ;vypnuti polohy 3 spinacky
0102   03E5           00515 spioff      decf timspi, F
0103   1D03           00516             btfss STATUS, Z
0104   0008           00517             return
0105   241D           00518             call t1_03
0106   0008           00519             return
                      00520             
                      00521 ;vypnuti odskoků
0107   03E6           00522 odsoff      decf timods, F
0108   1D03           00523             btfss STATUS, Z
0109   0008           00524             return
010A   122A           00525             bcf o_b, 4
010B   301F           00526             movlw b'11111' ;port D7
010C   00D2           00527             movwf port
010D   3003           00528             movlw b'11' ;procesor 3
010E   00D3           00529             movwf prc
010F   222A           00530             call clrout ;smaz port v prc
0110   12AA           00531             bcf o_b, 5
0111   13E0           00532             bcf PORTC_temp, 7
0112   1387           00533             bcf PORTC, 7
0113   132A           00534             bcf o_b, 6
0114   115F           00535             bcf PORTB_temp, 2
0115   1106           00536             bcf PORTB, 2
0116   13AA           00537             bcf o_b, 7
0117   11DF           00538             bcf PORTB_temp, 3
0118   1186           00539             bcf PORTB, 3
0119   11AA           00540             bcf o_b, 3
011A   125F           00541             bcf PORTB_temp, 4
011B   1206           00542             bcf PORTB, 4
011C   102D           00543             bcf o_e, 0
011D   12DF           00544             bcf PORTB_temp, 5
011E   1286           00545             bcf PORTB, 5
011F   102B           00546             bcf o_c, 0
0120   135F           00547             bcf PORTB_temp, 6
0121   1306           00548             bcf PORTB, 6
                      00549 
0122   13AD           00550             bcf o_e, 7
0123   301E           00551             movlw b'11110' ;port D6
0124   00D2           00552             movwf port
0125   3002           00553             movlw b'10' ;procesor 2
0126   00D3           00554             movwf prc
0127   222A           00555             call clrout ;nastav port v prc
0128   132D           00556             bcf o_e, 6
0129   301C           00557             movlw b'11100' ;port D4
012A   00D2           00558             movwf port
012B   3002           00559             movlw b'10' ;procesor 2
012C   00D3           00560             movwf prc
012D   222A           00561             call clrout ;nastav port v prc
012E   12AE           00562             bcf o_f, 5
012F   301D           00563             movlw b'11101' ;port D5
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0130   00D2           00564             movwf port
0131   3002           00565             movlw b'10' ;procesor 2
0132   00D3           00566             movwf prc
0133   222A           00567             call clrout ;nastav port v prc
0134   102E           00568             bcf o_f, 0
0135   301F           00569             movlw b'11111' ;port D7
0136   00D2           00570             movwf port
0137   3002           00571             movlw b'10' ;procesor 2
0138   00D3           00572             movwf prc
0139   222A           00573             call clrout ;nastav port v prc
                      00574 
                      00575 
                      00576             ; vypnutí stahovani oken
013A   158A           00577             bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
013B   2228           00578             call o1stop
Message[306]: Crossing page boundary -- ensure page bits are set.
013C   2267           00579             call o2stop
013D   118A           00580             bcf PCLATH,3 ;Select page 0
                      00581 
013E   125A           00582             bcf casov, ODSKOK ;timer odskuku nebude vniman
013F   0008           00583             return
                      00584             
                      00585 ;Problikavani alarmu
0140   03E7           00586 alabli      decf timala, F
0141   1D03           00587             btfss STATUS, Z
0142   0008           00588             return
                      00589 
0143   25BA           00590             call t1_40
0144   25C9           00591             call t1_41
0145   267C           00592             call t1_61
                      00593             ;call t1_62 ;Baterie nebliká
0146   26D9           00594             call klakson
                      00595             
0147   3014           00596             movlw .20 ;nasavy na dalsich 240ms
0148   00E7           00597             movwf timala
0149   0008           00598             return
                      00599 
                      00600 
                      00601 
                      00602 
                      00603 
                      00604 
014A   1486           00605 dotaz       bsf PORTB, 1  ;start bity XX - 10
014B   26CF           00606             call w100c
014C   1086           00607             bcf PORTB, 1
014D   26CF           00608             call w100c
                      00609             
014E   0878           00610             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
014F   00A0           00611             movwf r1
0150   3004           00612             movlw .4
0151   00A1           00613             movwf r2
0152   19A0           00614             btfsc r1, 3
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0153   1486           00615             bsf PORTB, 1
0154   1DA0           00616             btfss r1, 3
0155   1086           00617             bcf PORTB, 1
0156   26CF           00618             call w100c
0157   0DA0           00619             rlf r1, F
0158   0BA1           00620             decfsz r2, F
0159   2952           00621             goto $-7
                      00622             
015A   3000           00623             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
015B   00A0           00624             movwf r1
015C   3007           00625             movlw .7
015D   00A1           00626             movwf r2
015E   1B20           00627             btfsc r1, 6
015F   1486           00628             bsf PORTB, 1
0160   1F20           00629             btfss r1, 6
0161   1086           00630             bcf PORTB, 1
0162   26CF           00631             call w100c
0163   0DA0           00632             rlf r1, F
0164   0BA1           00633             decfsz r2, F
0165   295E           00634             goto $-7
                      00635             
0166   1486           00636             bsf PORTB, 1  ;STOP bity XXX - 111
0167   26CF           00637             call w100c
0168   26CF           00638             call w100c
0169   26CF           00639             call w100c
016A   1086           00640             bcf PORTB, 1
016B   26D4           00641             call w40c
                      00642             
016C   1683           00643             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
016D   1486           00644             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
016E   1283           00645             bcf STATUS, RP0  ;Bank 0
                      00646             
016F   1959           00647             btfsc conf, WATCHOVER
0170   29FF           00648             goto dotazerr
0171   1C86           00649             btfss PORTB, 1  ;ceka az zacne vysilat signal
0172   296F           00650             goto $-3 ;ochrana proti zamrznuti
                      00651             
0173   1959           00652             btfsc conf, WATCHOVER
0174   29FF           00653             goto dotazerr
0175   1886           00654             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0176   2973           00655             goto $-3 ;ochrana proti zamrznuti
                      00656             
0177   26D4           00657             call w40c   ;posune do prostred signalu X - 0
0178   26CF           00658             call w100c
                      00659             
0179   01F0           00660             clrf pri0        ; ulozi priijate do pri XXXX XXXX
017A   3008           00661             movlw .8
017B   00A1           00662             movwf r2
017C   0DF0           00663             rlf pri0, F
017D   1886           00664             btfsc PORTB, 1
017E   1470           00665             bsf pri0, 0
017F   1C86           00666             btfss PORTB, 1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0180   1070           00667             bcf pri0, 0
0181   26CF           00668             call w100c
0182   0BA1           00669             decfsz r2, F
0183   297C           00670             goto $-7
                      00671             
0184   1959           00672             btfsc conf, WATCHOVER
0185   29FF           00673             goto dotazerr
0186   1886           00674             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0187   2984           00675             goto $-3 ;ochrana proti zamrznuti
0188   26D4           00676             call w40c
0189   26CF           00677             call w100c
                      00678             
                      00679             
018A   01F1           00680             clrf pri1        ; ulozi priijate do pri XXXX XXXX
018B   3008           00681             movlw .8
018C   00A1           00682             movwf r2
018D   0DF1           00683             rlf pri1, F
018E   1886           00684             btfsc PORTB, 1
018F   1471           00685             bsf pri1, 0
0190   1C86           00686             btfss PORTB, 1
0191   1071           00687             bcf pri1, 0
0192   26CF           00688             call w100c
0193   0BA1           00689             decfsz r2, F
0194   298D           00690             goto $-7
                      00691             
0195   1959           00692             btfsc conf, WATCHOVER
0196   29FF           00693             goto dotazerr
0197   1886           00694             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0198   2995           00695             goto $-3 ;ochrana proti zamrznuti
0199   26D4           00696             call w40c
019A   26CF           00697             call w100c
                      00698             
                      00699             
019B   01F2           00700             clrf pri2        ; ulozi priijate do pri XXXX XXXX
019C   3008           00701             movlw .8
019D   00A1           00702             movwf r2
019E   0DF2           00703             rlf pri2, F
019F   1886           00704             btfsc PORTB, 1
01A0   1472           00705             bsf pri2, 0
01A1   1C86           00706             btfss PORTB, 1
01A2   1072           00707             bcf pri2, 0
01A3   26CF           00708             call w100c
01A4   0BA1           00709             decfsz r2, F
01A5   299E           00710             goto $-7
                      00711             
01A6   1959           00712             btfsc conf, WATCHOVER
01A7   29FF           00713             goto dotazerr
01A8   1886           00714             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A9   29A6           00715             goto $-3 ;ochrana proti zamrznuti
01AA   26D4           00716             call w40c
01AB   26CF           00717             call w100c
                      00718             
                      00719             
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01AC   01F3           00720             clrf pri3        ; ulozi priijate do pri XXXX XXXX
01AD   3008           00721             movlw .8
01AE   00A1           00722             movwf r2
01AF   0DF3           00723             rlf pri3, F
01B0   1886           00724             btfsc PORTB, 1
01B1   1473           00725             bsf pri3, 0
01B2   1C86           00726             btfss PORTB, 1
01B3   1073           00727             bcf pri3, 0
01B4   26CF           00728             call w100c
01B5   0BA1           00729             decfsz r2, F
01B6   29AF           00730             goto $-7
                      00731             
01B7   1959           00732             btfsc conf, WATCHOVER
01B8   29FF           00733             goto dotazerr
01B9   1886           00734             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01BA   29B7           00735             goto $-3 ;ochrana proti zamrznuti
01BB   26D4           00736             call w40c
01BC   26CF           00737             call w100c
                      00738             
                      00739             
01BD   01F4           00740             clrf pri4        ; ulozi priijate do pri XXXX XXXX
01BE   3008           00741             movlw .8
01BF   00A1           00742             movwf r2
01C0   0DF4           00743             rlf pri4, F
01C1   1886           00744             btfsc PORTB, 1
01C2   1474           00745             bsf pri4, 0
01C3   1C86           00746             btfss PORTB, 1
01C4   1074           00747             bcf pri4, 0
01C5   26CF           00748             call w100c
01C6   0BA1           00749             decfsz r2, F
01C7   29C0           00750             goto $-7
                      00751             
01C8   1959           00752             btfsc conf, WATCHOVER
01C9   29FF           00753             goto dotazerr
01CA   1886           00754             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01CB   29C8           00755             goto $-3 ;ochrana proti zamrznuti
01CC   26D4           00756             call w40c
01CD   26CF           00757             call w100c
                      00758             
                      00759             
01CE   01F5           00760             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01CF   3008           00761             movlw .8
01D0   00A1           00762             movwf r2
01D1   0DF5           00763             rlf pri5, F
01D2   1886           00764             btfsc PORTB, 1
01D3   1475           00765             bsf pri5, 0
01D4   1C86           00766             btfss PORTB, 1
01D5   1075           00767             bcf pri5, 0
01D6   26CF           00768             call w100c
01D7   0BA1           00769             decfsz r2, F
01D8   29D1           00770             goto $-7
                      00771             
01D9   1959           00772             btfsc conf, WATCHOVER
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01DA   29FF           00773             goto dotazerr
01DB   1886           00774             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01DC   29D9           00775             goto $-3 ;ochrana proti zamrznuti
01DD   26D4           00776             call w40c
01DE   26CF           00777             call w100c
                      00778             
                      00779             
01DF   01F6           00780             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01E0   3008           00781             movlw .8
01E1   00A1           00782             movwf r2
01E2   0DF6           00783             rlf pri6, F
01E3   1886           00784             btfsc PORTB, 1
01E4   1476           00785             bsf pri6, 0
01E5   1C86           00786             btfss PORTB, 1
01E6   1076           00787             bcf pri6, 0
01E7   26CF           00788             call w100c
01E8   0BA1           00789             decfsz r2, F
01E9   29E2           00790             goto $-7
                      00791             
01EA   1959           00792             btfsc conf, WATCHOVER
01EB   29FF           00793             goto dotazerr
01EC   1886           00794             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01ED   29EA           00795             goto $-3 ;ochrana proti zamrznuti
01EE   26D4           00796             call w40c
01EF   26CF           00797             call w100c
                      00798             
                      00799             
01F0   01F7           00800             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01F1   3008           00801             movlw .8
01F2   00A1           00802             movwf r2
01F3   0DF7           00803             rlf pri7, F
01F4   1886           00804             btfsc PORTB, 1
01F5   1477           00805             bsf pri7, 0
01F6   1C86           00806             btfss PORTB, 1
01F7   1077           00807             bcf pri7, 0
01F8   26CF           00808             call w100c
01F9   0BA1           00809             decfsz r2, F
01FA   29F3           00810             goto $-7
                      00811             
01FB   1959           00812             btfsc conf, WATCHOVER
01FC   29FF           00813             goto dotazerr
01FD   1886           00814             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01FE   29FB           00815             goto $-3 ;ochrana proti zamrznuti
                      00816             
                      00817             
01FF   1683           00818 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0200   1086           00819             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
0201   1283           00820             bcf STATUS, RP0  ;Bank 0
0202   0008           00821             return
                      00822         
                      00823         ; WATCH2 start
0203   1486           00824 setout      bsf PORTB, 1  ;start bity XX - 10
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0204   26CF           00825             call w100c
0205   1086           00826             bcf PORTB, 1
0206   26CF           00827             call w100c
                      00828             
0207   0853           00829             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0208   00A0           00830             movwf r1
0209   3004           00831             movlw .4
020A   00A1           00832             movwf r2
020B   19A0           00833             btfsc r1, 3
020C   1486           00834             bsf PORTB, 1
020D   1DA0           00835             btfss r1, 3
020E   1086           00836             bcf PORTB, 1
020F   26CF           00837             call w100c
0210   0DA0           00838             rlf r1, F
0211   0BA1           00839             decfsz r2, F
0212   2A0B           00840             goto $-7
                      00841             
0213   1486           00842             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0214   26CF           00843             call w100c
                      00844             
0215   0852           00845             movf port, W   ;vysila port ke zmene XXXXX
0216   00A0           00846             movwf r1
0217   3005           00847             movlw .5
0218   00A1           00848             movwf r2
0219   1A20           00849             btfsc r1, 4
021A   1486           00850             bsf PORTB, 1
021B   1E20           00851             btfss r1, 4
021C   1086           00852             bcf PORTB, 1
021D   26CF           00853             call w100c
021E   0DA0           00854             rlf r1, F
021F   0BA1           00855             decfsz r2, F
0220   2A19           00856             goto $-7
                      00857             
0221   1486           00858             bsf PORTB, 1  ;vysle hodnotu 1
0222   26CF           00859             call w100c
                      00860             
0223   1486           00861             bsf PORTB, 1  ;STOP bity XXX - 111
0224   26CF           00862             call w100c
0225   26CF           00863             call w100c
0226   26CF           00864             call w100c
0227   1086           00865             bcf PORTB, 1
0228   26CF           00866             call w100c
                      00867             ; WATCH2 wait
0229   0008           00868             return
                      00869 
                      00870       ; WATCH2 start
022A   1486           00871 clrout      bsf PORTB, 1  ;start bity XX - 10
022B   26CF           00872             call w100c
022C   1086           00873             bcf PORTB, 1
022D   26CF           00874             call w100c
                      00875             
022E   0853           00876             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
022F   00A0           00877             movwf r1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0230   3004           00878             movlw .4
0231   00A1           00879             movwf r2
0232   19A0           00880             btfsc r1, 3
0233   1486           00881             bsf PORTB, 1
0234   1DA0           00882             btfss r1, 3
0235   1086           00883             bcf PORTB, 1
0236   26CF           00884             call w100c
0237   0DA0           00885             rlf r1, F
0238   0BA1           00886             decfsz r2, F
0239   2A32           00887             goto $-7
                      00888             
023A   1486           00889             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
023B   26CF           00890             call w100c
                      00891             
023C   0852           00892             movf port, W   ;vysila port ke zmene XXXXX
023D   00A0           00893             movwf r1
023E   3005           00894             movlw .5
023F   00A1           00895             movwf r2
0240   1A20           00896             btfsc r1, 4
0241   1486           00897             bsf PORTB, 1
0242   1E20           00898             btfss r1, 4
0243   1086           00899             bcf PORTB, 1
0244   26CF           00900             call w100c
0245   0DA0           00901             rlf r1, F
0246   0BA1           00902             decfsz r2, F
0247   2A40           00903             goto $-7
                      00904             
0248   1086           00905             bcf PORTB, 1  ;vysle hodnotu 0
0249   26CF           00906             call w100c
                      00907             
024A   1486           00908             bsf PORTB, 1  ;STOP bity XXX - 111
024B   26CF           00909             call w100c
024C   26CF           00910             call w100c
024D   26CF           00911             call w100c
024E   1086           00912             bcf PORTB, 1
024F   26CF           00913             call w100c
                      00914             ; WATCH2 wait
0250   0008           00915             return
                      00916         
                      00917         
                      00918         
                      00919         
                      00920         
                      00921         
                      00922         
                      00923         
                      00924         
                      00925         
                      00926         
                      00927         ;podprogramy
                      00928 ;Tlačitka funkci 1
0251   1BAC           00929 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0252   0008           00930             return
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00931             
0253   1003           00932             bcf STATUS, C
0254   0C3F           00933             rrf ir_58, W
0255   00A0           00934             movwf r1
0256   1003           00935             bcf STATUS, C
0257   0CA0           00936             rrf r1, F
0258   1003           00937             bcf STATUS, C
0259   0CA0           00938             rrf r1, F
025A   30E0           00939             movlw b'11100000'
025B   04A0           00940             iorwf r1, F
                      00941             
025C   0820           00942             movf r1, W    ;zkontroluje jestli nebylo uz minule
025D   00A3           00943             movwf r4
025E   0854           00944             movf tl1, W
025F   06A3           00945             xorwf r4, F
0260   1903           00946             btfsc STATUS, Z
0261   0008           00947             return
0262   0820           00948             movf r1, W    ;ulozi aktualni tlacitko
0263   00D4           00949             movwf tl1
                      00950             
0264   0AA0           00951             incf r1, F
0265   1903           00952             btfsc STATUS, Z
0266   2492           00953             call t1_06
0267   0AA0           00954             incf r1, F
0268   1903           00955             btfsc STATUS, Z
0269   23F5           00956             call t1_02
026A   0AA0           00957             incf r1, F
026B   1903           00958             btfsc STATUS, Z
026C   241D           00959             call t1_03
026D   0AA0           00960             incf r1, F
026E   1903           00961             btfsc STATUS, Z
026F   2472           00962             call t1_05
0270   0AA0           00963             incf r1, F
0271   1903           00964             btfsc STATUS, Z
0272   25E7           00965             call t1_43
0273   0AA0           00966             incf r1, F
0274   1903           00967             btfsc STATUS, Z
0275   25D8           00968             call t1_42
0276   0AA0           00969             incf r1, F
0277   1903           00970             btfsc STATUS, Z
0278   24CE           00971             call t1_07
0279   0AA0           00972             incf r1, F
027A   1903           00973             btfsc STATUS, Z
027B   24DC           00974             call t1_08
027C   0AA0           00975             incf r1, F
027D   1903           00976             btfsc STATUS, Z
027E   250F           00977             call t1_14
027F   0AA0           00978             incf r1, F
0280   1903           00979             btfsc STATUS, Z
0281   2516           00980             call t1_15
0282   0AA0           00981             incf r1, F
0283   1903           00982             btfsc STATUS, Z
0284   25A6           00983             call t1_37
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0285   0AA0           00984             incf r1, F
0286   1903           00985             btfsc STATUS, Z
0287   24EC           00986             call t1_10
0288   0AA0           00987             incf r1, F
0289   1903           00988             btfsc STATUS, Z
028A   24FD           00989             call t1_12
028B   0AA0           00990             incf r1, F
028C   1903           00991             btfsc STATUS, Z
028D   2569           00992             call t1_30
028E   0AA0           00993             incf r1, F
028F   1903           00994             btfsc STATUS, Z
0290   258D           00995             call t1_34
0291   0AA0           00996             incf r1, F
0292   1903           00997             btfsc STATUS, Z
0293   2577           00998             call t1_32
0294   0AA0           00999             incf r1, F
0295   1903           01000             btfsc STATUS, Z
0296   259B           01001             call t1_36
                      01002             ;pokud je tlacitko prave pusteno
0297   1003           01003             bcf STATUS, C
0298   0C3F           01004             rrf ir_58, W
0299   00A0           01005             movwf r1
029A   0820           01006             movf r1, W
029B   1903           01007             btfsc STATUS, Z
029C   236A           01008             call t1_stop
029D   0008           01009             return
                      01010 
                      01011 ;Tlačitka funkci 2
029E   1BAC           01012 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
029F   0008           01013             return
                      01014             
02A0   1003           01015             bcf STATUS, C
02A1   0C43           01016             rrf ir_62, W
02A2   00A0           01017             movwf r1
02A3   1003           01018             bcf STATUS, C
02A4   0CA0           01019             rrf r1, F
02A5   1003           01020             bcf STATUS, C
02A6   0CA0           01021             rrf r1, F
02A7   30E0           01022             movlw b'11100000'
02A8   04A0           01023             iorwf r1, F
                      01024             
02A9   0820           01025             movf r1, W    ;zkontroluje jestli nebylo uz minule
02AA   00A3           01026             movwf r4
02AB   0855           01027             movf tl2, W
02AC   06A3           01028             xorwf r4, F
02AD   1903           01029             btfsc STATUS, Z
02AE   0008           01030             return
02AF   0820           01031             movf r1, W    ;ulozi aktualni tlacitko
02B0   00D5           01032             movwf tl2
                      01033     
02B1   0AA0           01034             incf r1, F
02B2   1903           01035             btfsc STATUS, Z
02B3   2443           01036             call t1_04
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02B4   0AA0           01037             incf r1, F
02B5   1903           01038             btfsc STATUS, Z
02B6   2651           01039             call t1_56
02B7   0AA0           01040             incf r1, F
02B8   1903           01041             btfsc STATUS, Z
02B9   251D           01042             call t1_16
02BA   0AA0           01043             incf r1, F
02BB   1903           01044             btfsc STATUS, Z
02BC   2554           01045             call t1_26
02BD   0AA0           01046             incf r1, F
02BE   1903           01047             btfsc STATUS, Z
02BF   25F6           01048             call t1_44
02C0   0AA0           01049             incf r1, F
02C1   1903           01050             btfsc STATUS, Z
02C2   24F6           01051             call t1_11
02C3   0AA0           01052             incf r1, F
02C4   1903           01053             btfsc STATUS, Z
02C5   2506           01054             call t1_13
02C6   0AA0           01055             incf r1, F
02C7   1903           01056             btfsc STATUS, Z
02C8   263E           01057             call t1_54
02C9   0AA0           01058             incf r1, F
02CA   1903           01059             btfsc STATUS, Z
02CB   25C9           01060             call t1_41
02CC   0AA0           01061             incf r1, F
02CD   1903           01062             btfsc STATUS, Z
02CE   268B           01063             call t1_62
02CF   0AA0           01064             incf r1, F
02D0   1903           01065             btfsc STATUS, Z
02D1   25BA           01066             call t1_40
02D2   0AA0           01067             incf r1, F
02D3   1903           01068             btfsc STATUS, Z
02D4   267C           01069             call t1_61
02D5   0AA0           01070             incf r1, F
02D6   1903           01071             btfsc STATUS, Z
02D7   2570           01072             call t1_31
02D8   0AA0           01073             incf r1, F
02D9   1903           01074             btfsc STATUS, Z
02DA   2594           01075             call t1_35
02DB   0AA0           01076             incf r1, F
02DC   1903           01077             btfsc STATUS, Z
02DD   262F           01078             call t1_53
02DE   0AA0           01079             incf r1, F
02DF   1903           01080             btfsc STATUS, Z
02E0   2582           01081             call t1_33
02E1   0AA0           01082             incf r1, F
02E2   1903           01083             btfsc STATUS, Z
02E3   2671           01084             call t1_60
                      01085             ;pokud je tlacitko prave pusteno
02E4   1003           01086             bcf STATUS, C
02E5   0C43           01087             rrf ir_62, W
02E6   00A0           01088             movwf r1
02E7   0820           01089             movf r1, W
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E8   1903           01090             btfsc STATUS, Z
02E9   236C           01091             call t2_stop
02EA   0008           01092             return
                      01093 ;Tlačitka imobilizeru
02EB   0000           01094 if_50       nop
02EC   0008           01095             return
                      01096              ;pasy
02ED   0000           01097 if_59       nop
02EE   0008           01098             return
                      01099              ;rychlost
02EF   0000           01100 if_60       nop
02F0   0008           01101             return
                      01102              ;otáčky
02F1   0000           01103 if_61       nop
02F2   0008           01104             return
                      01105              ;teplota in set
02F3   0000           01106 if_49       nop
02F4   0008           01107             return
                      01108              ;alarm senzory
02F5   0000           01109 if_80       nop
02F6   0008           01110             return
                      01111              ;baterie
02F7   0000           01112 if_51       nop
02F8   0008           01113             return
                      01114              ;teplota in
02F9   0000           01115 if_52       nop
02FA   0008           01116             return
                      01117              ;teplota eng
02FB   0000           01118 if_53       nop
02FC   0008           01119             return
                      01120              ;palivo
02FD   0000           01121 if_54       nop
02FE   0008           01122             return
                      01123              ;dveře 1
02FF   0000           01124 if_55       nop
0300   0008           01125             return
                      01126              ;ruční brzda
0301   0000           01127 if_56       nop
0302   0008           01128             return
                      01129              ;kvalt
0303   0000           01130 if_57       nop
0304   0008           01131             return
                      01132              ;dveře 2
0305   0000           01133 if_84       nop
0306   0008           01134             return
                      01135              ;dveře 3
0307   0000           01136 if_85       nop
0308   0008           01137             return
                      01138              ;dveře 4
0309   0000           01139 if_86       nop
030A   0008           01140             return
                      01141              ;kapota
030B   0000           01142 if_87       nop
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

030C   0008           01143             return
                      01144              ;kufr
030D   0000           01145 if_88       nop
030E   0008           01146             return
                      01147              ;nadrz
030F   0000           01148 if_89       nop
0310   0008           01149             return
                      01150              ;okno 1
0311   0000           01151 if_90       nop
0312   0008           01152             return
                      01153              ;okno 2
0313   0000           01154 if_91       nop
0314   0008           01155             return
                      01156              ;okno 3
0315   0000           01157 if_92       nop
0316   0008           01158             return
                      01159              ;okno 4
0317   0000           01160 if_93       nop
0318   0008           01161             return
                      01162              ;teplota OUT
0319   0000           01163 if_127      nop
031A   0008           01164             return
                      01165 
                      01166 ;Tlačítka funkcí 3
031B   1BAC           01167 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
031C   0000           01168             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01169             
031D   1003           01170             bcf STATUS, C
031E   0C50           01171             rrf ir_128, W
031F   00A0           01172             movwf r1
0320   1003           01173             bcf STATUS, C
0321   0CA0           01174             rrf r1, F
0322   1003           01175             bcf STATUS, C
0323   0CA0           01176             rrf r1, F
0324   30E0           01177             movlw b'11100000'
0325   04A0           01178             iorwf r1, F
                      01179             
0326   0820           01180             movf r1, W    ;zkontroluje jestli nebylo uz minule
0327   00A3           01181             movwf r4
0328   0856           01182             movf tl3, W
0329   06A3           01183             xorwf r4, F
032A   1903           01184             btfsc STATUS, Z
032B   0008           01185             return
032C   0820           01186             movf r1, W    ;ulozi aktualni tlacitko
032D   00D6           01187             movwf tl3
                      01188     
032E   0AA0           01189             incf r1, F
032F   1903           01190             btfsc STATUS, Z
0330   260D           01191             call t1_47
0331   0AA0           01192             incf r1, F
0332   1903           01193             btfsc STATUS, Z
0333   0000           01194             nop;call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0334   0AA0           01195             incf r1, F
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0335   1903           01196             btfsc STATUS, Z
0336   23D4           01197             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0337   0AA0           01198             incf r1, F
0338   1903           01199             btfsc STATUS, Z
0339   26C8           01200             call t1_x
033A   0AA0           01201             incf r1, F
033B   1903           01202             btfsc STATUS, Z
033C   26C8           01203             call t1_x
033D   0AA0           01204             incf r1, F
033E   1903           01205             btfsc STATUS, Z
033F   26C8           01206             call t1_x
0340   0AA0           01207             incf r1, F
0341   1903           01208             btfsc STATUS, Z
0342   26C8           01209             call t1_x
0343   0AA0           01210             incf r1, F
0344   1903           01211             btfsc STATUS, Z
0345   26C8           01212             call t1_x
0346   0AA0           01213             incf r1, F
0347   1903           01214             btfsc STATUS, Z
0348   26C8           01215             call t1_x
0349   0AA0           01216             incf r1, F
034A   1903           01217             btfsc STATUS, Z
034B   26C8           01218             call t1_x
034C   0AA0           01219             incf r1, F
034D   1903           01220             btfsc STATUS, Z
034E   26C8           01221             call t1_x
034F   0AA0           01222             incf r1, F
0350   1903           01223             btfsc STATUS, Z
0351   26C8           01224             call t1_x
0352   0AA0           01225             incf r1, F
0353   1903           01226             btfsc STATUS, Z
0354   26C8           01227             call t1_x
0355   0AA0           01228             incf r1, F
0356   1903           01229             btfsc STATUS, Z
0357   26C8           01230             call t1_x
0358   0AA0           01231             incf r1, F
0359   1903           01232             btfsc STATUS, Z
035A   26C8           01233             call t1_x
035B   0AA0           01234             incf r1, F
035C   1903           01235             btfsc STATUS, Z
035D   26C8           01236             call t1_x
035E   0AA0           01237             incf r1, F
035F   1903           01238             btfsc STATUS, Z
0360   26C8           01239             call t1_x
                      01240             ;pokud je tlacitko prave pusteno
0361   1003           01241             bcf STATUS, C
0362   0C50           01242             rrf ir_128, W
0363   00A0           01243             movwf r1
0364   0820           01244             movf r1, W
0365   1903           01245             btfsc STATUS, Z
0366   236E           01246             call t3_stop
0367   0008           01247             return
                      01248 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01249 ;předpřipravené pro rozšíření procesoru 5 a vice
0368   0000           01250 if_x        nop
0369   0008           01251             return
                      01252 
                      01253 ;vypina holdovaci vystupy
036A   0000           01254 t1_stop     nop
036B   0008           01255             return
036C   0000           01256 t2_stop     nop
036D   0008           01257             return
036E   0000           01258 t3_stop     nop
036F   0008           01259             return
                      01260             
0370   3010           01261 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0371   00D2           01262             movwf port
0372   3002           01263             movlw b'10' ;procesor 2
0373   00D3           01264             movwf prc
0374   18AC           01265             btfsc o_d, 1
0375   222A           01266             call clrout ;nastav port v prc
0376   10AC           01267             bcf o_d, 1
0377   3011           01268             movlw b'10001' ;port C1
0378   00D2           01269             movwf port
0379   3002           01270             movlw b'10' ;procesor 2
037A   00D3           01271             movwf prc
037B   192C           01272             btfsc o_d, 2
037C   222A           01273             call clrout ;nastav port v prc
037D   112C           01274             bcf o_d, 2
037E   3012           01275             movlw b'10010' ;port C2
037F   00D2           01276             movwf port
0380   3002           01277             movlw b'10' ;procesor 2
0381   00D3           01278             movwf prc
0382   19AC           01279             btfsc o_d, 3
0383   222A           01280             call clrout ;nastav port v prc
0384   11AC           01281             bcf o_d, 3
0385   3013           01282             movlw b'10011' ;port C3
0386   00D2           01283             movwf port
0387   3002           01284             movlw b'10' ;procesor 2
0388   00D3           01285             movwf prc
0389   1A2C           01286             btfsc o_d, 4
038A   222A           01287             call clrout ;nastav port v prc
038B   122C           01288             bcf o_d, 4
038C   3014           01289             movlw b'10100' ;port C4
038D   00D2           01290             movwf port
038E   3002           01291             movlw b'10' ;procesor 2
038F   00D3           01292             movwf prc
0390   1AAC           01293             btfsc o_d, 5
0391   222A           01294             call clrout ;nastav port v prc
0392   12AC           01295             bcf o_d, 5
0393   3015           01296             movlw b'10101' ;port C5
0394   00D2           01297             movwf port
0395   3002           01298             movlw b'10' ;procesor 2
0396   00D3           01299             movwf prc
0397   1B2C           01300             btfsc o_d, 6
0398   222A           01301             call clrout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0399   132C           01302             bcf o_d, 6
                      01303                   ;blinkry
039A   122D           01304             bcf o_e, 4
039B   1361           01305             bcf PORTD_temp, 6
039C   1308           01306             bcf PORTD, 6
039D   12AD           01307             bcf o_e, 5
039E   13E1           01308             bcf PORTD_temp, 7
039F   1388           01309             bcf PORTD, 7
                      01310                   ;klakson
03A0   3019           01311             movlw b'11001' ;port D1
03A1   00D2           01312             movwf port
03A2   3003           01313             movlw b'11' ;procesor 3
03A3   00D3           01314             movwf prc
03A4   1A2B           01315             btfsc o_c, 4
03A5   222A           01316             call clrout ;nastav port v prc
03A6   122B           01317             bcf o_c, 4
                      01318                   ;stěrače, odstřikovače
03A7   13AB           01319             bcf o_c, 7
03A8   11E1           01320             bcf PORTD_temp, 3
03A9   1188           01321             bcf PORTD, 3
03AA   132B           01322             bcf o_c, 6
03AB   1161           01323             bcf PORTD_temp, 2
03AC   1108           01324             bcf PORTD, 2
                      01325                   ;dálková světla
03AD   102C           01326             bcf o_d, 0
03AE   1261           01327             bcf PORTD_temp, 4
03AF   1208           01328             bcf PORTD, 4
03B0   0008           01329             return
                      01330         
                      01331         
                      01332         
                      01333 ;zamknuti alarm on
03B1   1BAC           01334 t1_00       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
03B2   0008           01335             return
                      01336             ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01337             ;return
                      01338             ;movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
                      01339             ;iorwf ir_84, W
                      01340             ;iorwf ir_85, W
                      01341             ;iorwf ir_86, W
                      01342             ;iorwf ir_87, W
                      01343             ;iorwf ir_88, W
                      01344             ;iorwf ir_89, W
                      01345             ;movwf r6
                      01346             ;btfsc r6, 7
                      01347             ;nop ;MLUV "zkontrolujte vstupy do auta"
                      01348             ;btfsc r6, 7
                      01349             ;call t1_53 ;zapne sirenu
                      01350             ;btfsc r6, 7
                      01351             ;movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
                      01352             ;btfsc r6, 7
                      01353             ;movwf cassir
                      01354             ;btfsc r6, 7
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01355             ;movlw .3
                      01356             ;btfsc r6, 7
                      01357             ;movwf timsir
                      01358             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01359             ;return
                      01360 
03B3   2492           01361             call t1_06 ;vypne vse 
03B4   17AC           01362             bsf o_d, 7 ;zapne alarm cidla
03B5   17DF           01363             bsf PORTB_temp, 7
03B6   1786           01364             bsf PORTB, 7
                      01365                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01366                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01367             
                      01368             
03B7   2472           01369             call t1_05 ;zapne varovky
03B8   301F           01370             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03B9   00EB           01371             movwf casvar
03BA   3008           01372             movlw .8
03BB   00DB           01373             movwf timvar
                      01374             
                      01375             
03BC   3016           01376             movlw b'10110' ;port C6
03BD   00D2           01377             movwf port
03BE   3002           01378             movlw b'10' ;procesor 2
03BF   00D3           01379             movwf prc 
03C0   1D2B           01380             btfss o_c, 2
03C1   2203           01381             call setout ;set port v prc
03C2   152B           01382             bsf o_c, 2 ;problikne red tunning na 1 sekundu
                      01383 
                      01384             ;movlw b'11010' ;port D2
                      01385             ;movwf port
                      01386             ;movlw b'10' ;procesor 2
                      01387             ;movwf prc 
                      01388             ;btfss o_f, 3
                      01389             ;call setout ;set port v prc
                      01390             ;bsf o_f, 3 ;problikne red interier na 1 sekundu
                      01391 
03C3   14DA           01392             bsf casov, REDTUN ;do timeru ze po 1s vypne
03C4   3014           01393             movlw .20
03C5   00DC           01394             movwf timrtu
                      01395 
03C6   262F           01396             call t1_53 ;zahraje sirenou na 200ms
03C7   3001           01397             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03C8   00D8           01398             movwf cassir
03C9   3008           01399             movlw .8
03CA   00D7           01400             movwf timsir
                      01401 
03CB   13AE           01402             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03CC   10E2           01403             bcf PORTE_temp, 1
03CD   1089           01404             bcf PORTE, 1
                      01405 
03CE   0000           01406             nop ;MLUV "auto zamčeno"
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03CF   24CE           01407             call t1_07 ;zamkne
                      01408 
03D0   155A           01409             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03D1   300F           01410             movlw .15
03D2   00DD           01411             movwf timlza
                      01412 
                      01413                   ;zatahnuti okenek
                      01414             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01415             ;movwf o1tmp
                      01416             ;movf ir_91, W
                      01417             ;movwf o2tmp
                      01418             ;movf ir_92, W
                      01419             ;movwf o3tmp
                      01420             ;movf ir_93, W
                      01421             ;movwf o4tmp
                      01422             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01423             ;movwf o1tar
                      01424             ;movwf o2tar
                      01425             ;movwf o3tar
                      01426             ;movwf o4tar
                      01427  
03D3   0008           01428             return
                      01429             
                      01430 ;odemknuti alarm off
03D4   1FAC           01431 t1_01       btfss o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
03D5   0008           01432             return
                      01433             ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01434             ;return
                      01435             
03D6   13AC           01436             bcf o_d, 7 ;vypne alarm cidla
03D7   13DF           01437             bcf PORTB_temp, 7
03D8   1386           01438             bcf PORTB, 7
                      01439                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01440                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03D9   2443           01441             call t1_04
                      01442             
                      01443             
03DA   2472           01444             call t1_05 ;zapne varovky
03DB   3007           01445             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03DC   00EB           01446             movwf casvar
03DD   3008           01447             movlw .8
03DE   00DB           01448             movwf timvar
                      01449             
                      01450             
03DF   3017           01451             movlw b'10111' ;port C7
03E0   00D2           01452             movwf port
03E1   3002           01453             movlw b'10' ;procesor 2
03E2   00D3           01454             movwf prc 
03E3   1DAB           01455             btfss o_c, 3
03E4   2203           01456             call setout ;set port v prc
03E5   15AB           01457             bsf o_c, 3 ;problikne white tunning na 1 sekundu
                      01458 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01459             ;movlw b'11011' ;port D3
                      01460             ;movwf port
                      01461             ;movlw b'10' ;procesor 2
                      01462             ;movwf prc 
                      01463             ;btfss o_f, 4
                      01464             ;call setout ;set port v prc
                      01465             ;bsf o_f, 4 ;problikne white interier na 1 sekundu
                      01466 
03E6   15DA           01467             bsf casov, WHITUN ;do timeru ze po 1s vypne
03E7   3014           01468             movlw .20
03E8   00E3           01469             movwf timwtu
                      01470 
03E9   262F           01471             call t1_53 ;zahraje sirenou na 200ms
03EA   3007           01472             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03EB   00D8           01473             movwf cassir
03EC   3008           01474             movlw .8
03ED   00D7           01475             movwf timsir
                      01476 
03EE   17AE           01477             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03EF   14E2           01478             bsf PORTE_temp, 1
03F0   1489           01479             bsf PORTE, 1
                      01480 
03F1   0000           01481             nop ;MLUV "auto odemčeno"
03F2   115A           01482             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
                      01483 
03F3   24DC           01484             call t1_08 ;odemkne
                      01485 
                      01486                   ;stahnuti okenek
                      01487             ;movf o1tmp, W
                      01488             ;movwf o1tar
                      01489             ;movf o2tmp, W
                      01490             ;movwf o2tar
                      01491             ;movf o3tmp, W
                      01492             ;movwf o3tar
                      01493             ;movf o4tmp, W
                      01494             ;movwf o4tar
                      01495  
03F4   0008           01496             return
                      01497             
                      01498 ;spinacka poloha up
03F5   1964           01499 t1_02       btfsc spinac, 2
03F6   0008           01500             return
03F7   1403           01501             bsf STATUS, C
03F8   0DE4           01502             rlf spinac, F
                      01503                   ;pokud poloha 3
03F9   1D64           01504             btfss spinac, 2
03FA   2C10           01505             goto t2_02
03FB   1029           01506             bcf o_a, 0
03FC   1060           01507             bcf PORTC_temp, 0
03FD   1007           01508             bcf PORTC, 0
03FE   10A9           01509             bcf o_a, 1
03FF   10E0           01510             bcf PORTC_temp, 1
0400   1087           01511             bcf PORTC, 1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0401   1531           01512             bsf o_i, 2
0402   301A           01513             movlw b'11010' ;port D2
0403   00D2           01514             movwf port
0404   3003           01515             movlw b'11' ;procesor 3
0405   00D3           01516             movwf prc 
0406   2203           01517             call setout ;set port v prc
0407   15B1           01518             bsf o_i, 3
0408   301B           01519             movlw b'11011' ;port D3
0409   00D2           01520             movwf port
040A   3003           01521             movlw b'11' ;procesor 3
040B   00D3           01522             movwf prc 
040C   2203           01523             call setout ;set port v prc
040D   300F           01524             movlw .15 ;nastavi startovani pouze max na vterinu
040E   00E5           01525             movwf timspi
040F   0008           01526             return
                      01527             ;pokud poloha 2
0410   1CE4           01528 t2_02       btfss spinac, 1
0411   2C19           01529             goto t3_02
0412   1429           01530             bsf o_a, 0
0413   1460           01531             bsf PORTC_temp, 0
0414   1407           01532             bsf PORTC, 0
0415   1529           01533             bsf o_a, 2
0416   1560           01534             bsf PORTC_temp, 2
0417   1507           01535             bsf PORTC, 2
0418   0008           01536             return
                      01537             ;pokud poloha 1
0419   14A9           01538 t3_02       bsf o_a, 1
041A   14E0           01539             bsf PORTC_temp, 1
041B   1487           01540             bsf PORTC, 1
041C   0008           01541             return
                      01542             
                      01543 ;spinacka poloha down
041D   1C64           01544 t1_03       btfss spinac, 0
041E   0008           01545             return
041F   1003           01546             bcf STATUS, C
0420   0CE4           01547             rrf spinac, F
                      01548             ;pokud poloha 2
0421   1CE4           01549             btfss spinac, 1
0422   2C36           01550             goto t2_03
0423   1429           01551             bsf o_a, 0
0424   1460           01552             bsf PORTC_temp, 0
0425   1407           01553             bsf PORTC, 0
0426   14A9           01554             bsf o_a, 1
0427   14E0           01555             bsf PORTC_temp, 1
0428   1487           01556             bsf PORTC, 1
0429   1131           01557             bcf o_i, 2
042A   301A           01558             movlw b'11010' ;port D2
042B   00D2           01559             movwf port
042C   3003           01560             movlw b'11' ;procesor 3
042D   00D3           01561             movwf prc 
042E   222A           01562             call clrout ;set port v prc
042F   11B1           01563             bcf o_i, 3
0430   301B           01564             movlw b'11011' ;port D3
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0431   00D2           01565             movwf port
0432   3003           01566             movlw b'11' ;procesor 3
0433   00D3           01567             movwf prc 
0434   222A           01568             call clrout ;set port v prc
0435   0008           01569             return
                      01570             ;pokud poloha 1
0436   1C64           01571 t2_03       btfss spinac, 0
0437   2C3F           01572             goto t3_03
0438   1029           01573             bcf o_a, 0
0439   1060           01574             bcf PORTC_temp, 0
043A   1007           01575             bcf PORTC, 0
043B   1129           01576             bcf o_a, 2
043C   1160           01577             bcf PORTC_temp, 2
043D   1107           01578             bcf PORTC, 2
043E   0008           01579             return
                      01580             ;pokud poloha 0
043F   10A9           01581 t3_03       bcf o_a, 1
0440   10E0           01582             bcf PORTC_temp, 1
0441   1087           01583             bcf PORTC, 1
0442   0008           01584             return
                      01585             
                      01586 ;alarm stop
0443   1EDA           01587 t1_04       btfss casov, ALARM
0444   0008           01588             return
0445   3018           01589             movlw b'11000' ;port D0  ;sirena
0446   00D2           01590             movwf port
0447   3003           01591             movlw b'11' ;procesor 3
0448   00D3           01592             movwf prc 
0449   18AD           01593             btfsc o_e, 1
044A   222A           01594             call clrout ;set port v prc
044B   10AD           01595             bcf o_e, 1
                      01596             ;varovky
044C   2472           01597             call t1_05
                      01598             
                      01599             ;stroboskop
044D   3019           01600             movlw b'11001' ;port D1
044E   00D2           01601             movwf port
044F   3002           01602             movlw b'10' ;procesor 2
0450   00D3           01603             movwf prc 
0451   192D           01604             btfsc o_e, 2
0452   222A           01605             call clrout ;set port v prc
0453   112D           01606             bcf o_e, 2
                      01607             
0454   3016           01608             movlw b'10110' ;port C6
0455   00D2           01609             movwf port
0456   3002           01610             movlw b'10' ;procesor 2
0457   00D3           01611             movwf prc 
0458   192B           01612             btfsc o_c, 2
0459   222A           01613             call clrout ;set port v prc
045A   112B           01614             bcf o_c, 2
045B   3017           01615             movlw b'10111' ;port C7
045C   00D2           01616             movwf port
045D   3002           01617             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

045E   00D3           01618             movwf prc 
045F   19AB           01619             btfsc o_c, 3
0460   222A           01620             call clrout ;set port v prc
0461   11AB           01621             bcf o_c, 3
0462   301A           01622             movlw b'11010' ;port D2
0463   00D2           01623             movwf port
0464   3002           01624             movlw b'10' ;procesor 2
0465   00D3           01625             movwf prc 
0466   19AE           01626             btfsc o_f, 3
0467   222A           01627             call clrout ;set port v prc
0468   11AE           01628             bcf o_f, 3
                      01629             ;movlw b'11011' ;port D3
                      01630             ;movwf port
                      01631             ;movlw b'10' ;procesor 2
                      01632             ;movwf prc
                      01633             ;btfsc o_f, 4
                      01634             ;call clrout ;set port v prc
                      01635             ;bcf o_f, 4
0469   3019           01636             movlw b'11001' ;port D1
046A   00D2           01637             movwf port
046B   3003           01638             movlw b'11' ;procesor 3
046C   00D3           01639             movwf prc 
046D   1A2B           01640             btfsc o_c, 4
046E   222A           01641             call clrout ;set port v prc
046F   122B           01642             bcf o_c, 4
                      01643             
0470   12DA           01644             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0471   0008           01645             return
                      01646             
                      01647 ;varovna svetla
0472   186B           01648 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0473   122D           01649             bcf o_e, 4
0474   186B           01650             btfsc casvar, 0 ;pokud oba zaply oba vypne
0475   1361           01651             bcf PORTD_temp, 6
0476   186B           01652             btfsc casvar, 0 ;pokud oba zaply oba vypne
0477   1308           01653             bcf PORTD, 6
0478   186B           01654             btfsc casvar, 0 ;pokud oba zaply oba vypne
0479   12AD           01655             bcf o_e, 5
047A   186B           01656             btfsc casvar, 0 ;pokud oba zaply oba vypne
047B   13E1           01657             bcf PORTD_temp, 7
047C   186B           01658             btfsc casvar, 0 ;pokud oba zaply oba vypne
047D   1388           01659             bcf PORTD, 7
                      01660     
047E   1C6B           01661             btfss casvar, 0 ;pokud jeden vyply oba zapne
047F   162D           01662             bsf o_e, 4
0480   1C6B           01663             btfss casvar, 0 ;pokud jeden vyply oba zapne
0481   1761           01664             bsf PORTD_temp, 6
0482   1C6B           01665             btfss casvar, 0 ;pokud jeden vyply oba zapne
0483   1708           01666             bsf PORTD, 6
0484   1C6B           01667             btfss casvar, 0 ;pokud jeden vyply oba zapne
0485   16AD           01668             bsf o_e, 5
0486   1C6B           01669             btfss casvar, 0 ;pokud jeden vyply oba zapne
0487   17E1           01670             bsf PORTD_temp, 7
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0488   1C6B           01671             btfss casvar, 0 ;pokud jeden vyply oba zapne
0489   1788           01672             bsf PORTD, 7
                      01673             
048A   186B           01674             btfsc casvar, 0
048B   3000           01675             movlw b'00000000' ;nastavi do timeru ze prestane blikat porad
048C   1C6B           01676             btfss casvar, 0
048D   30FF           01677             movlw b'11111111' ;nastavi do timeru ze bude blikat porad
048E   00EB           01678             movwf casvar
048F   3008           01679             movlw .8
0490   00DB           01680             movwf timvar
                      01681             
0491   0008           01682             return
                      01683             
                      01684 ;vypnout vse
0492   18D9           01685 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
0493   0008           01686             return
                      01687             ;svetla 
0494   10AB           01688             bcf o_c, 1
0495   11E0           01689             bcf PORTC_temp, 3
0496   1187           01690             bcf PORTC, 3
                      01691             ;red tuning
                      01692             ;white tunning
                      01693             ;red interier
                      01694             ;white interier
0497   3017           01695             movlw b'10111' ;port C7
0498   00D2           01696             movwf port
0499   3002           01697             movlw b'10' ;procesor 2
049A   00D3           01698             movwf prc 
049B   19AB           01699             btfsc o_c, 3
049C   222A           01700             call clrout ;set port v prc
049D   11AB           01701             bcf o_c, 3
049E   301B           01702             movlw b'11011' ;port D3
049F   00D2           01703             movwf port
04A0   3002           01704             movlw b'10' ;procesor 2
04A1   00D3           01705             movwf prc 
04A2   1A2E           01706             btfsc o_f, 4
04A3   222A           01707             call clrout ;set port v prc
04A4   122E           01708             bcf o_f, 4
04A5   3016           01709             movlw b'10110' ;port C6
04A6   00D2           01710             movwf port
04A7   3002           01711             movlw b'10' ;procesor 2
04A8   00D3           01712             movwf prc 
04A9   192B           01713             btfsc o_c, 2
04AA   222A           01714             call clrout ;set port v prc
04AB   112B           01715             bcf o_c, 2
04AC   301A           01716             movlw b'11010' ;port D2
04AD   00D2           01717             movwf port
04AE   3002           01718             movlw b'10' ;procesor 2
04AF   00D3           01719             movwf prc 
04B0   19AE           01720             btfsc o_f, 3
04B1   222A           01721             call clrout ;set port v prc
04B2   11AE           01722             bcf o_f, 3
                      01723         
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01724             ;stroboskop
04B3   3019           01725             movlw b'11001' ;port D1
04B4   00D2           01726             movwf port
04B5   3002           01727             movlw b'10' ;procesor 2
04B6   00D3           01728             movwf prc 
04B7   192D           01729             btfsc o_e, 2
04B8   222A           01730             call clrout ;set port v prc
04B9   112D           01731             bcf o_e, 2
                      01732             ;sirena
04BA   3018           01733             movlw b'11000' ;port D0
04BB   00D2           01734             movwf port
04BC   3003           01735             movlw b'11' ;procesor 3
04BD   00D3           01736             movwf prc 
04BE   18AD           01737             btfsc o_e, 1
04BF   222A           01738             call clrout ;set port v prc
04C0   10AD           01739             bcf o_e, 1
                      01740             ;parkovacky
04C1   11AD           01741             bcf o_e, 3
04C2   12E1           01742             bcf PORTD_temp, 5
04C3   1288           01743             bcf PORTD, 5
                      01744             ;mlhovky zadni
04C4   10AE           01745             bcf o_f, 1
04C5   1260           01746             bcf PORTC_temp, 4
04C6   1207           01747             bcf PORTC, 4
                      01748             ;mlhovky predni
04C7   12AB           01749             bcf o_c, 5
04C8   10E1           01750             bcf PORTD_temp, 1
04C9   1088           01751             bcf PORTD, 1
                      01752             ;rozehrivani okenka
04CA   112E           01753             bcf o_f, 2
04CB   12E0           01754             bcf PORTC_temp, 5
04CC   1287           01755             bcf PORTC, 5
04CD   0008           01756             return
                      01757             
                      01758 ;zamknuti
04CE   1451           01759 t1_07       bsf locked, 0 ;nastavi registr locked
04CF   12B0           01760             bcf o_h, 5 ;vypne v regs led odemceno
04D0   3015           01761             movlw b'10101' ;port C5
04D1   00D2           01762             movwf port
04D2   3003           01763             movlw b'11' ;procesor 3
04D3   00D3           01764             movwf prc
04D4   222A           01765             call clrout ;smaz port v prc
04D5   1730           01766             bsf o_h, 6 ;zapne v regs led zamceno
04D6   3016           01767             movlw b'10110' ;port C6
04D7   00D2           01768             movwf port
04D8   3003           01769             movlw b'0011' ;procesor 3
04D9   00D3           01770             movwf prc
04DA   2203           01771             call setout ;nastav port v prc
04DB   0008           01772             return
                      01773 ;odemknuti
04DC   1051           01774 t1_08       bcf locked, 0 ;smaze registr locked
04DD   16B0           01775             bsf o_h, 5 ;zapne v regs led odemceno
04DE   3015           01776             movlw b'10101' ;port C5
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04DF   00D2           01777             movwf port
04E0   3003           01778             movlw b'11' ;procesor 3
04E1   00D3           01779             movwf prc
04E2   2203           01780             call setout ;nastav port v prc
04E3   1730           01781             bsf o_h, 6 ;vypne v regs led zamceno
04E4   3016           01782             movlw b'10110' ;port C6
04E5   00D2           01783             movwf port
04E6   3003           01784             movlw b'0011' ;procesor 3
04E7   00D3           01785             movwf prc
04E8   222A           01786             call clrout ;smaz port v prc
04E9   0008           01787             return
                      01788             
                      01789 ;pripraveno
04EA   0000           01790 t1_09       nop
04EB   0008           01791             return
                      01792 
                      01793 ;odskok dvere 1
04EC   162A           01794 t1_10       bsf o_b, 4
04ED   301F           01795             movlw b'11111' ;port D7
04EE   00D2           01796             movwf port
04EF   3003           01797             movlw b'11' ;procesor 3
04F0   00D3           01798             movwf prc
04F1   2203           01799             call setout ;smaz port v prc
04F2   165A           01800             bsf casov, ODSKOK
04F3   3008           01801             movlw .8
04F4   00E6           01802             movwf timods
04F5   0008           01803             return
                      01804             
                      01805 ;odskok dvere 2
04F6   16AA           01806 t1_11       bsf o_b, 5
04F7   17E0           01807             bsf PORTC_temp, 7
04F8   1787           01808             bsf PORTC, 7
04F9   165A           01809             bsf casov, ODSKOK
04FA   3008           01810             movlw .8
04FB   00E6           01811             movwf timods
04FC   0008           01812             return
                      01813             
                      01814 ;odskok dvere 3
04FD   1A31           01815 t1_12       btfsc o_i, 4
04FE   0008           01816             return
04FF   172A           01817             bsf o_b, 6
0500   155F           01818             bsf PORTB_temp, 2
0501   1506           01819             bsf PORTB, 2
0502   165A           01820             bsf casov, ODSKOK
0503   3008           01821             movlw .8
0504   00E6           01822             movwf timods
0505   0008           01823             return
                      01824             
                      01825 ;odskok dvere 4
0506   1A31           01826 t1_13       btfsc o_i, 4
0507   0008           01827             return
0508   17AA           01828             bsf o_b, 7
0509   15DF           01829             bsf PORTB_temp, 3
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

050A   1586           01830             bsf PORTB, 3
050B   165A           01831             bsf casov, ODSKOK
050C   3008           01832             movlw .8
050D   00E6           01833             movwf timods
050E   0008           01834             return
                      01835             
                      01836 ;odskok kufr
050F   15AA           01837 t1_14       bsf o_b, 3
0510   165F           01838             bsf PORTB_temp, 4
0511   1606           01839             bsf PORTB, 4
0512   165A           01840             bsf casov, ODSKOK
0513   3008           01841             movlw .8
0514   00E6           01842             movwf timods
0515   0008           01843             return
                      01844             
                      01845 ;odskok nadrz
0516   142D           01846 t1_15       bsf o_e, 0
0517   16DF           01847             bsf PORTB_temp, 5
0518   1686           01848             bsf PORTB, 5
0519   165A           01849             bsf casov, ODSKOK
051A   3008           01850             movlw .8
051B   00E6           01851             movwf timods
051C   0008           01852             return
                      01853             
                      01854 ;odskok kapota
051D   142B           01855 t1_16       bsf o_c, 0
051E   175F           01856             bsf PORTB_temp, 6
051F   1706           01857             bsf PORTB, 6
0520   165A           01858             bsf casov, ODSKOK
0521   3008           01859             movlw .8
0522   00E6           01860             movwf timods
0523   0008           01861             return
                      01862             
                      01863 ;pripraveno
0524   0000           01864 t1_17       nop
0525   0008           01865             return
                      01866 ;pripraveno
0526   0000           01867 t1_18       nop
0527   0008           01868             return
                      01869 ;pripraveno
0528   0000           01870 t1_19       nop
0529   0008           01871             return
                      01872 
                      01873 ;play pause
052A   14AC           01874 t1_20       bsf o_d, 1
052B   3010           01875             movlw b'10000' ;port C0
052C   00D2           01876             movwf port
052D   3002           01877             movlw b'10' ;procesor 2
052E   00D3           01878             movwf prc
052F   2203           01879             call setout ;nastav port v prc
0530   0008           01880             return
                      01881             
                      01882 ;stop
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0531   152C           01883 t1_21       bsf o_d, 2
0532   3011           01884             movlw b'10001' ;port C1
0533   00D2           01885             movwf port
0534   3002           01886             movlw b'10' ;procesor 2
0535   00D3           01887             movwf prc
0536   2203           01888             call setout ;nastav port v prc
0537   0008           01889             return
                      01890             
                      01891 ;forwind
0538   15AC           01892 t1_22       bsf o_d, 3
0539   3012           01893             movlw b'10010' ;port C2
053A   00D2           01894             movwf port
053B   3002           01895             movlw b'10' ;procesor 2
053C   00D3           01896             movwf prc
053D   2203           01897             call setout ;nastav port v prc
053E   0008           01898             return
                      01899             
                      01900 ;rewind
053F   162C           01901 t1_23       bsf o_d, 4
0540   3013           01902             movlw b'10011' ;port C3
0541   00D2           01903             movwf port
0542   3002           01904             movlw b'10' ;procesor 2
0543   00D3           01905             movwf prc
0544   2203           01906             call setout ;nastav port v prc
0545   0008           01907             return
                      01908             
                      01909 ;volume +
0546   16AC           01910 t1_24       bsf o_d, 5
0547   3014           01911             movlw b'10100' ;port C4
0548   00D2           01912             movwf port
0549   3002           01913             movlw b'10' ;procesor 2
054A   00D3           01914             movwf prc
054B   2203           01915             call setout ;nastav port v prc
054C   0008           01916             return
                      01917             
                      01918 ;volume -
054D   172C           01919 t1_25       bsf o_d, 6
054E   3015           01920             movlw b'10101' ;port C5
054F   00D2           01921             movwf port
0550   3002           01922             movlw b'10' ;procesor 2
0551   00D3           01923             movwf prc
0552   2203           01924             call setout ;nastav port v prc
0553   0008           01925             return
                      01926             
                      01927 ;rozehrivani okenka
0554   082E           01928 t1_26       movf o_f, W
0555   00A4           01929             movwf r5
                      01930 
0556   1D24           01931             btfss r5, 2
0557   16E0           01932             bsf PORTC_temp, 5
0558   1D24           01933             btfss r5, 2
0559   1687           01934             bsf PORTC, 5
055A   1D24           01935             btfss r5, 2
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

055B   152E           01936             bsf o_f, 2 
                      01937         
055C   1924           01938             btfsc r5, 2
055D   12E0           01939             bcf PORTC_temp, 5
055E   1924           01940             btfsc r5, 2
055F   1287           01941             bcf PORTC, 5
0560   1924           01942             btfsc r5, 2
0561   112E           01943             bcf o_f, 2 
0562   0008           01944             return
                      01945             
                      01946 ;pripraveno
0563   0000           01947 t1_27       nop
0564   0008           01948             return
                      01949 ;pripraveno
0565   0000           01950 t1_28       nop
0566   0008           01951             return
                      01952 ;pripraveno
0567   0000           01953 t1_29       nop
0568   0008           01954             return
                      01955 
                      01956 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0569   158A           01957 t1_30       bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
056A   21FE           01958             call o1up
056B   118A           01959             bcf PCLATH,3 ;Select page 0
                      01960             ; zapne casovac na vypnuti
056C   165A           01961             bsf casov, ODSKOK
056D   3010           01962             movlw .16 ; o neco déle než odskok
056E   00E6           01963             movwf timods
056F   0008           01964             return
                      01965             
                      01966 ;okno 2 up
0570   158A           01967 t1_31       bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0571   223D           01968             call o2up
0572   118A           01969             bcf PCLATH,3 ;Select page 0
                      01970             ; zapne casovac na vypnuti
0573   165A           01971             bsf casov, ODSKOK
0574   3010           01972             movlw .16 ; o neco déle než odskok
0575   00E6           01973             movwf timods
0576   0008           01974             return
                      01975             
                      01976 ;okno 3 up
0577   0008           01977 t1_32       return;btfsc o_i, 4
0578   0008           01978             return
0579   0826           01979             movf o3tar, W
057A   00A4           01980             movwf r5
057B   30F0           01981             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
057C   07A4           01982             addwf r5, F
057D   1C03           01983             btfss STATUS, C
057E   0008           01984             return
057F   0824           01985             movf r5, W
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0580   00A6           01986             movwf o3tar
0581   0008           01987             return
                      01988             
                      01989 ;okno 4 up
0582   0008           01990 t1_33       return;btfsc o_i, 4
0583   0008           01991             return
0584   0827           01992             movf o4tar, W
0585   00A4           01993             movwf r5
0586   30F0           01994             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0587   07A4           01995             addwf r5, F
0588   1C03           01996             btfss STATUS, C
0589   0008           01997             return
058A   0824           01998             movf r5, W
058B   00A7           01999             movwf o4tar
058C   0008           02000             return
                      02001             
                      02002 ;okno 1 down
058D   158A           02003 t1_34       bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
058E   2213           02004             call o1down
058F   118A           02005             bcf PCLATH,3 ;Select page 0
                      02006             ; zapne casovac na vypnuti
0590   165A           02007             bsf casov, ODSKOK
0591   3010           02008             movlw .16 ; o neco déle než odskok
0592   00E6           02009             movwf timods
0593   0008           02010             return
                      02011             
                      02012 ;okno 2 down
0594   158A           02013 t1_35       bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0595   2252           02014             call o2down
0596   118A           02015             bcf PCLATH,3 ;Select page 0
                      02016             ; zapne casovac na vypnuti
0597   165A           02017             bsf casov, ODSKOK
0598   3010           02018             movlw .16 ; o neco déle než odskok
0599   00E6           02019             movwf timods
059A   0008           02020             return
                      02021             
                      02022 ;okno 3 down
059B   0008           02023 t1_36       return;btfsc o_i, 4
059C   0008           02024             return
059D   0826           02025             movf o3tar, W
059E   00A4           02026             movwf r5
059F   3010           02027             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05A0   07A4           02028             addwf r5, F
05A1   1803           02029             btfsc STATUS, C
05A2   0008           02030             return
05A3   0824           02031             movf r5, W
05A4   00A6           02032             movwf o3tar
05A5   0008           02033             return
                      02034             
                      02035 ;detský zámek zadních oken a dveri
05A6   1E31           02036 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05A7   2DAF           02037             goto t2_37
05A8   1231           02038             bcf o_i, 4
05A9   301C           02039             movlw b'11100' ;port D4
05AA   00D2           02040             movwf port
05AB   3003           02041             movlw b'11' ;procesor 3
05AC   00D3           02042             movwf prc
05AD   222A           02043             call clrout ;nastav port v prc        
05AE   0008           02044             return
                      02045             
05AF   1631           02046 t2_37       bsf o_i, 4
05B0   301C           02047             movlw b'11100' ;port D4
05B1   00D2           02048             movwf port
05B2   3003           02049             movlw b'11' ;procesor 3
05B3   00D3           02050             movwf prc
05B4   2203           02051             call setout ;nastav port v prc        
05B5   0008           02052             return
                      02053             
                      02054 ;pripraveno
05B6   0000           02055 t1_38       nop
05B7   0008           02056             return
                      02057 ;pripraveno
05B8   0000           02058 t1_39       nop
05B9   0008           02059             return
                      02060 
                      02061 ;RED tuning
05BA   3016           02062 t1_40       movlw b'10110' ;port C6
05BB   00D2           02063             movwf port
05BC   3002           02064             movlw b'10' ;procesor 2
05BD   00D3           02065             movwf prc
                      02066             
05BE   082B           02067             movf o_c, W
05BF   00A4           02068             movwf r5
                      02069 
05C0   1D24           02070             btfss r5, 2
05C1   2203           02071             call setout ;nastav port v prc
05C2   1D24           02072             btfss r5, 2
05C3   152B           02073             bsf o_c, 2 
                      02074         
05C4   1924           02075             btfsc r5, 2
05C5   222A           02076             call clrout ;smaz port v prc
05C6   1924           02077             btfsc r5, 2
05C7   112B           02078             bcf o_c, 2 
05C8   0008           02079             return
                      02080             
                      02081 ;WHITE tunning
05C9   3017           02082 t1_41       movlw b'10111' ;port C7
05CA   00D2           02083             movwf port
05CB   3002           02084             movlw b'10' ;procesor 2
05CC   00D3           02085             movwf prc
                      02086             
05CD   082B           02087             movf o_c, W
05CE   00A4           02088             movwf r5
                      02089 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05CF   1DA4           02090             btfss r5, 3
05D0   2203           02091             call setout ;nastav port v prc
05D1   1DA4           02092             btfss r5, 3
05D2   15AB           02093             bsf o_c, 3 
                      02094         
05D3   19A4           02095             btfsc r5, 3
05D4   222A           02096             call clrout ;smaz port v prc
05D5   19A4           02097             btfsc r5, 3
05D6   11AB           02098             bcf o_c, 3 
05D7   0008           02099             return
                      02100             
                      02101 ;Parkovačky
05D8   082D           02102 t1_42       movf o_e, W
05D9   00A4           02103             movwf r5
                      02104 
05DA   1DA4           02105             btfss r5, 3
05DB   16E1           02106             bsf PORTD_temp, 5
05DC   1DA4           02107             btfss r5, 3
05DD   1688           02108             bsf PORTD, 5
05DE   1DA4           02109             btfss r5, 3
05DF   15AD           02110             bsf o_e, 3 
                      02111         
05E0   19A4           02112             btfsc r5, 3
05E1   12E1           02113             bcf PORTD_temp, 5
05E2   19A4           02114             btfsc r5, 3
05E3   1288           02115             bcf PORTD, 5
05E4   19A4           02116             btfsc r5, 3
05E5   11AD           02117             bcf o_e, 3 
05E6   0008           02118             return
                      02119             
                      02120 ;Světla
05E7   082B           02121 t1_43       movf o_c, W
05E8   00A4           02122             movwf r5
                      02123 
05E9   1CA4           02124             btfss r5, 1
05EA   15E0           02125             bsf PORTC_temp, 3
05EB   1CA4           02126             btfss r5, 1
05EC   1587           02127             bsf PORTC, 3
05ED   1CA4           02128             btfss r5, 1
05EE   14AB           02129             bsf o_c, 1 
                      02130         
05EF   18A4           02131             btfsc r5, 1
05F0   11E0           02132             bcf PORTC_temp, 3
05F1   18A4           02133             btfsc r5, 1
05F2   1187           02134             bcf PORTC, 3
05F3   18A4           02135             btfsc r5, 1
05F4   10AB           02136             bcf o_c, 1 
05F5   0008           02137             return
                      02138             
                      02139 ;Mlhovky zadní
05F6   082E           02140 t1_44       movf o_f, W
05F7   00A4           02141             movwf r5
                      02142 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05F8   1CA4           02143             btfss r5, 1
05F9   1660           02144             bsf PORTC_temp, 4
05FA   1CA4           02145             btfss r5, 1
05FB   1607           02146             bsf PORTC, 4
05FC   1CA4           02147             btfss r5, 1
05FD   14AE           02148             bsf o_f, 1 
                      02149         
05FE   18A4           02150             btfsc r5, 1
05FF   1260           02151             bcf PORTC_temp, 4
0600   18A4           02152             btfsc r5, 1
0601   1207           02153             bcf PORTC, 4
0602   18A4           02154             btfsc r5, 1
0603   10AE           02155             bcf o_f, 1 
0604   0008           02156             return
                      02157             
                      02158 ;Blinkr levý
0605   162D           02159 t1_45       bsf o_e, 4
0606   1761           02160             bsf PORTD_temp, 6
0607   1708           02161             bsf PORTD, 6
0608   0008           02162             return
                      02163             
                      02164 ;Blinkr pravý
0609   16AD           02165 t1_46       bsf o_e, 5
060A   17E1           02166             bsf PORTD_temp, 7
060B   1788           02167             bsf PORTD, 7
060C   0008           02168             return
                      02169             
                      02170 ;Mlhovky přední
060D   082B           02171 t1_47       movf o_c, W
060E   00A4           02172             movwf r5
                      02173 
060F   1EA4           02174             btfss r5, 5
0610   14E1           02175             bsf PORTD_temp, 1
0611   1EA4           02176             btfss r5, 5
0612   1488           02177             bsf PORTD, 1
0613   1EA4           02178             btfss r5, 5
0614   16AB           02179             bsf o_c, 5 
                      02180         
0615   1AA4           02181             btfsc r5, 5
0616   10E1           02182             bcf PORTD_temp, 1
0617   1AA4           02183             btfsc r5, 5
0618   1088           02184             bcf PORTD, 1
0619   1AA4           02185             btfsc r5, 5
061A   12AB           02186             bcf o_c, 5 
061B   0008           02187             return
                      02188             
                      02189 ;pripraveno
061C   0000           02190 t1_48       nop
061D   0008           02191             return
                      02192 ;pripraveno
061E   0000           02193 t1_49       nop
061F   0008           02194             return
                      02195 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02196 ;klakson
0620   162B           02197 t1_50       bsf o_c, 4
0621   3019           02198             movlw b'11001' ;port D1
0622   00D2           02199             movwf port
0623   3003           02200             movlw b'11' ;procesor 3
0624   00D3           02201             movwf prc
0625   2203           02202             call setout ;nastav port v prc
0626   0008           02203             return
                      02204             
                      02205 ;stěrače
0627   17AB           02206 t1_51       bsf o_c, 7
0628   15E1           02207             bsf PORTD_temp, 3
0629   1588           02208             bsf PORTD, 3
062A   0008           02209             return
                      02210 ;odstřikovače
062B   172B           02211 t1_52       bsf o_c, 6
062C   1561           02212             bsf PORTD_temp, 2
062D   1508           02213             bsf PORTD, 2
062E   0008           02214             return
                      02215             
                      02216 ;Siréna
062F   3018           02217 t1_53       movlw b'11000' ;port D0
0630   00D2           02218             movwf port
0631   3003           02219             movlw b'11' ;procesor 3
0632   00D3           02220             movwf prc
                      02221             
0633   082D           02222             movf o_e, W
0634   00A4           02223             movwf r5
                      02224 
0635   1CA4           02225             btfss r5, 1
0636   2203           02226             call setout ;nastav port v prc
0637   1CA4           02227             btfss r5, 1
0638   14AD           02228             bsf o_e, 1 
                      02229         
0639   18A4           02230             btfsc r5, 1
063A   222A           02231             call clrout ;smaz port v prc
063B   18A4           02232             btfsc r5, 1
063C   10AD           02233             bcf o_e, 1 
                      02234         
063D   0008           02235             return
                      02236 
                      02237 ;stroboskop
063E   3019           02238 t1_54       movlw b'11001' ;port D1
063F   00D2           02239             movwf port
0640   3002           02240             movlw b'10' ;procesor 2
0641   00D3           02241             movwf prc
                      02242             
0642   082D           02243             movf o_e, W
0643   00A4           02244             movwf r5
                      02245 
0644   1D24           02246             btfss r5, 2
0645   2203           02247             call setout ;nastav port v prc
0646   1D24           02248             btfss r5, 2
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0647   152D           02249             bsf o_e, 2 
                      02250         
0648   1924           02251             btfsc r5, 2
0649   222A           02252             call clrout ;smaz port v prc
064A   1924           02253             btfsc r5, 2
064B   112D           02254             bcf o_e, 2 
064C   0008           02255             return
                      02256             
                      02257 ;Dálkové světla
064D   142C           02258 t1_55       bsf o_d, 0
064E   1661           02259             bsf PORTD_temp, 4
064F   1608           02260             bsf PORTD, 4
0650   0008           02261             return
                      02262             
                      02263 ;alarm start
0651   3018           02264 t1_56       movlw b'11000' ;port D0  ;sirena
0652   00D2           02265             movwf port
0653   3003           02266             movlw b'11' ;procesor 3
0654   00D3           02267             movwf prc 
0655   1CAD           02268             btfss o_e, 1
0656   2203           02269             call setout ;set port v prc
0657   14AD           02270             bsf o_e, 1
                      02271             ;varovky
0658   2472           02272             call t1_05
                      02273             
                      02274             ;stroboskop
0659   3019           02275             movlw b'11001' ;port D1
065A   00D2           02276             movwf port
065B   3002           02277             movlw b'10' ;procesor 2
065C   00D3           02278             movwf prc 
065D   1D2D           02279             btfss o_e, 2
065E   2203           02280             call setout ;set port v prc
065F   152D           02281             bsf o_e, 2
                      02282             ;red tunning
0660   3016           02283             movlw b'10110' ;port C6
0661   00D2           02284             movwf port
0662   3002           02285             movlw b'10' ;procesor 2
0663   00D3           02286             movwf prc 
0664   1D2B           02287             btfss o_c, 2
0665   2203           02288             call setout ;set port v prc
0666   152B           02289             bsf o_c, 2
                      02290             ;white interier
                      02291             ;movlw b'11011' ;port D3
                      02292             ;movwf port
                      02293             ;movlw b'10' ;procesor 2
                      02294             ;movwf prc
                      02295             ;btfss o_f, 4
                      02296             ;call setout ;set port v prc
                      02297             ;bsf o_f, 4
                      02298             
0667   16DA           02299             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0668   301E           02300             movlw .30
0669   00E7           02301             movwf timala
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02302 
066A   0008           02303             return
                      02304             
                      02305 ;pripraveno
066B   0000           02306 t1_57       nop
066C   0008           02307             return
                      02308             
                      02309 ;pripraveno
066D   0000           02310 t1_58       nop
066E   0008           02311             return
                      02312             
                      02313 ;pripraveno
066F   0000           02314 t1_59       nop
0670   0008           02315             return
                      02316         
                      02317 ;okno 4 down
0671   0008           02318 t1_60       return;btfsc o_i, 4
0672   0008           02319             return
0673   0827           02320             movf o4tar, W
0674   00A4           02321             movwf r5
0675   3010           02322             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0676   07A4           02323             addwf r5, F
0677   1803           02324             btfsc STATUS, C
0678   0008           02325             return
0679   0824           02326             movf r5, W
067A   00A7           02327             movwf o4tar
067B   0008           02328             return
                      02329             
                      02330 ;red interiér
067C   301A           02331 t1_61       movlw b'11010' ;port D2
067D   00D2           02332             movwf port
067E   3002           02333             movlw b'10' ;procesor 2
067F   00D3           02334             movwf prc
                      02335             
0680   082E           02336             movf o_f, W
0681   00A4           02337             movwf r5
                      02338 
0682   1DA4           02339             btfss r5, 3
0683   2203           02340             call setout ;nastav port v prc
0684   1DA4           02341             btfss r5, 3
0685   15AE           02342             bsf o_f, 3 
                      02343         
0686   19A4           02344             btfsc r5, 3
0687   222A           02345             call clrout ;smaz port v prc
0688   19A4           02346             btfsc r5, 3
0689   11AE           02347             bcf o_f, 3 
068A   0008           02348             return
                      02349             
                      02350 ;white interier (Baterie na budíkách)
068B   301B           02351 t1_62       movlw b'11011' ;port D3
068C   00D2           02352             movwf port
068D   3002           02353             movlw b'10' ;procesor 2
068E   00D3           02354             movwf prc
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02355             
068F   082E           02356             movf o_f, W
0690   00A4           02357             movwf r5
                      02358 
0691   1E24           02359             btfss r5, 4
0692   2203           02360             call setout ;nastav port v prc
0693   1E24           02361             btfss r5, 4
0694   162E           02362             bsf o_f, 4 
                      02363         
0695   1A24           02364             btfsc r5, 4
0696   222A           02365             call clrout ;smaz port v prc
0697   1A24           02366             btfsc r5, 4
0698   122E           02367             bcf o_f, 4 
0699   0008           02368             return
                      02369             
                      02370 ;klima on/off
069A   17AD           02371 t1_63       bsf o_e, 7
069B   301E           02372             movlw b'11110' ;port D6
069C   00D2           02373             movwf port
069D   3002           02374             movlw b'10' ;procesor 2
069E   00D3           02375             movwf prc
069F   2203           02376             call setout ;nastav port v prc
06A0   165A           02377             bsf casov, ODSKOK
06A1   3008           02378             movlw .8
06A2   00E6           02379             movwf timods
06A3   0008           02380             return
                      02381             
                      02382 ;klima teplota up
06A4   172D           02383 t1_64       bsf o_e, 6
06A5   301C           02384             movlw b'11100' ;port D4
06A6   00D2           02385             movwf port
06A7   3002           02386             movlw b'10' ;procesor 2
06A8   00D3           02387             movwf prc
06A9   2203           02388             call setout ;nastav port v prc
06AA   165A           02389             bsf casov, ODSKOK
06AB   3008           02390             movlw .8
06AC   00E6           02391             movwf timods
06AD   0008           02392             return
                      02393             
                      02394 ;klima teplota down
06AE   16AE           02395 t1_65       bsf o_f, 5
06AF   301D           02396             movlw b'11101' ;port D5
06B0   00D2           02397             movwf port
06B1   3002           02398             movlw b'10' ;procesor 2
06B2   00D3           02399             movwf prc
06B3   2203           02400             call setout ;nastav port v prc
06B4   165A           02401             bsf casov, ODSKOK
06B5   3008           02402             movlw .8
06B6   00E6           02403             movwf timods
06B7   0008           02404             return
                      02405             
                      02406 ;klima mista ventilace
06B8   142E           02407 t1_66       bsf o_f, 0
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06B9   301F           02408             movlw b'11111' ;port D7
06BA   00D2           02409             movwf port
06BB   3002           02410             movlw b'10' ;procesor 2
06BC   00D3           02411             movwf prc
06BD   2203           02412             call setout ;nastav port v prc
06BE   165A           02413             bsf casov, ODSKOK
06BF   3008           02414             movlw .8
06C0   00E6           02415             movwf timods
06C1   0008           02416             return
                      02417             
                      02418 ;pripraveno
06C2   0000           02419 t1_67       nop
06C3   0008           02420             return
                      02421 ;pripraveno
06C4   0000           02422 t1_68       nop
06C5   0008           02423             return
                      02424 ;pripraveno
06C6   0000           02425 t1_69       nop
06C7   0008           02426             return
                      02427 
06C8   0000           02428 t1_x        nop
06C9   0008           02429             return
                      02430             
                      02431 
                      02432 
                      02433 
                      02434 
                      02435 
06CA   3005           02436 w20i        movlw .5
06CB   00A3           02437             movwf r4
06CC   0BA3           02438             decfsz r4, F
06CD   2ECC           02439             goto $-1
06CE   0008           02440             return
                      02441 
                      02442 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06CF   3050           02443 w100c       movlw .80
06D0   00A3           02444             movwf r4
06D1   0BA3           02445             decfsz r4, F
06D2   2ED1           02446             goto $-1
06D3   0008           02447             return
                      02448 
                      02449 ;cekej necelou polovinu w100c
06D4   301E           02450 w40c        movlw .30
06D5   00A3           02451             movwf r4
06D6   0BA3           02452             decfsz r4, F
06D7   2ED6           02453             goto $-1
06D8   0008           02454             return
                      02455             
                      02456 
                      02457 
                      02458 
                      02459 
                      02460 
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06D9   3019           02461 klakson     movlw b'11001' ;port D1
06DA   00D2           02462             movwf port
06DB   3003           02463             movlw b'11' ;procesor 3
06DC   00D3           02464             movwf prc
                      02465             
06DD   082B           02466             movf o_c, W
06DE   00A4           02467             movwf r5
                      02468 
06DF   1E24           02469             btfss r5, 4
06E0   2203           02470             call setout ;nastav port v prc
06E1   1E24           02471             btfss r5, 4
06E2   162B           02472             bsf o_c, 4 
                      02473         
06E3   1A24           02474             btfsc r5, 4
06E4   222A           02475             call clrout ;smaz port v prc
06E5   1A24           02476             btfsc r5, 4
06E6   122B           02477             bcf o_c, 4 
06E7   0008           02478             return
                      02479 
                      02480 
                      02481 ;zmeni stav LED zamceno
06E8   3016           02482 ledzam      movlw b'10110' ;port C6
06E9   00D2           02483             movwf port
06EA   3003           02484             movlw b'11' ;procesor 3
06EB   00D3           02485             movwf prc
                      02486             
06EC   0830           02487             movf o_h, W
06ED   00A4           02488             movwf r5
                      02489 
06EE   1F24           02490             btfss r5, 6
06EF   2203           02491             call setout ;nastav port v prc
06F0   1F24           02492             btfss r5, 6
06F1   1730           02493             bsf o_h, 6 
                      02494         
06F2   1B24           02495             btfsc r5, 6
06F3   222A           02496             call clrout ;smaz port v prc
06F4   1B24           02497             btfsc r5, 6
06F5   1330           02498             bcf o_h, 6 
                      02499         
06F6   0008           02500             return
                      02501 
                      02502 
                      02503 
                      02504 
                      02505 
                      02506 
                      02507 
                      02508 
                      02509 
                      02510 
                      02511 
                      02512 
0800                  02513             org 800h ;zacina druha stranka programu
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0800   118A           02514 restart     bcf PCLATH,3 ;Select page 0
                      02515             ;Po restartu se obnovi stare registry PORTU
                      02516 
0801   085E           02517             movf PORTA_temp, W
0802   0085           02518             movwf PORTA
0803   085F           02519             movf PORTB_temp, W
0804   0086           02520             movwf PORTB
0805   0860           02521             movf PORTC_temp, W
0806   0087           02522             movwf PORTC
0807   0861           02523             movf PORTD_temp, W
0808   0088           02524             movwf PORTD
0809   0862           02525             movf PORTE_temp, W
080A   0089           02526             movwf PORTE
                      02527 
                      02528             ;zapne zadni pasy po restartu
080B   300E           02529             movlw b'01110' ;port B6
080C   00D2           02530             movwf port
080D   3003           02531             movlw b'11' ;procesor 3
080E   00D3           02532             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   2203           02533             call setout ;nastav port v prc
0810   172F           02534             bsf o_g, 6 
                      02535             
0811   300F           02536             movlw b'01111' ;port B7
0812   00D2           02537             movwf port
0813   3003           02538             movlw b'11' ;procesor 3
0814   00D3           02539             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   2203           02540             call setout ;nastav port v prc
0816   17AF           02541             bsf o_g, 7 
                      02542 
                      02543             ; zapne predni pasy po startu
0817   300C           02544             movlw b'01100' ;port B4
0818   00D2           02545             movwf port
0819   3003           02546             movlw b'11' ;procesor 3
081A   00D3           02547             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081B   222A           02548             call clrout ;nastav port v prc
081C   122F           02549             bcf o_g, 4 
                      02550             
081D   300D           02551             movlw b'01101' ;port B5
081E   00D2           02552             movwf port
081F   3003           02553             movlw b'11' ;procesor 3
0820   00D3           02554             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   222A           02555             call clrout ;nastav port v prc
0822   12AF           02556             bcf o_g, 5 
                      02557 
0823   301E           02558             movlw .30 ;trochu delsi vterina
0824   00EC           02559             movwf vterina
                      02560         
                      02561 
0825   158A           02562             bsf PCLATH,3 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0826   284A           02563             goto loop
                      02564     
0827   118A           02565 start       bcf PCLATH,3 ;Select page 0
                      02566             
0828   01DE           02567             clrf PORTA_temp
0829   01DF           02568             clrf PORTB_temp
082A   01E0           02569             clrf PORTC_temp
082B   01E1           02570             clrf PORTD_temp
082C   01E2           02571             clrf PORTE_temp
                      02572 
Message[306]: Crossing page boundary -- ensure page bits are set.
082D   26CF           02573             call w100c
                      02574             
                      02575             ;call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne a
                            larm
                      02576             
                      02577             ; zapne predni pasy po startu
082E   300C           02578             movlw b'01100' ;port B4
082F   00D2           02579             movwf port
0830   3003           02580             movlw b'11' ;procesor 3
0831   00D3           02581             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0832   2203           02582             call setout ;nastav port v prc
0833   162F           02583             bsf o_g, 4 
                      02584             
0834   300D           02585             movlw b'01101' ;port B5
0835   00D2           02586             movwf port
0836   3003           02587             movlw b'11' ;procesor 3
0837   00D3           02588             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0838   2203           02589             call setout ;nastav port v prc
0839   16AF           02590             bsf o_g, 5 
                      02591 
                      02592             ;zapne zadni pasy po restartu
083A   300E           02593             movlw b'01110' ;port B6
083B   00D2           02594             movwf port
083C   3003           02595             movlw b'11' ;procesor 3
083D   00D3           02596             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
083E   222A           02597             call clrout ;nastav port v prc
083F   132F           02598             bcf o_g, 6 
                      02599             
0840   300F           02600             movlw b'01111' ;port B7
0841   00D2           02601             movwf port
0842   3003           02602             movlw b'11' ;procesor 3
0843   00D3           02603             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0844   222A           02604             call clrout ;nastav port v prc
0845   13AF           02605             bcf o_g, 7 
                      02606 
0846   301E           02607             movlw .30
0847   00EC           02608             movwf vterina
                      02609         
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02610 
0848   158A           02611             bsf PCLATH,3 ;Select page 0
0849   284A           02612             goto loop
                      02613 
084A   118A           02614 loop        bcf PCLATH,3 ;Select page 0
                      02615             
084B   0064           02616             clrwdt
                      02617    
                      02618             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02619             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   2059           02620             call watchstart
                      02621             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084D   205C           02622             call watchwait
                      02623             
                      02624             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084E   2059           02625             call watchstart
                      02626             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084F   205C           02627             call watchwait
                      02628             
                      02629             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0850   2059           02630             call watchstart
                      02631             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0851   205C           02632             call watchwait
                      02633             
                      02634             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0852   2059           02635             call watchstart
                      02636             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0853   205C           02637             call watchwait
                      02638       
                      02639       
                      02640       
0854   1A59           02641             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0855   2062           02642             call timer1
                      02643 
0856   158A           02644             bsf PCLATH,3 ;Select page 1
                      02645             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
0857   118A           02646             bcf PCLATH,3 ;Select page 0
                      02647 
                      02648 
                      02649             
                      02650             
0858   3000           02651             movlw .0 ;nastavime ANx kde x je zadane cislo
0859   00F6           02652             movwf ran1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

085A   158A           02653             bsf PCLATH,3 ;Select page 1
085B   22FA           02654             call adconv
085C   118A           02655             bcf PCLATH,3 ;Select page 0
085D   0876           02656             movf ran1, W
085E   00A0           02657             movwf r1
                      02658             
085F   093F           02659             comf ir_58, W
0860   07A0           02660             addwf r1, F
0861   081E           02661             movf ADRESH, W
0862   0FA0           02662             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0863   00BF           02663             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0864   0820           02664             movf r1, W
0865   118A           02665             bcf PCLATH,3 ;Select page 0
0866   1D03           02666             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0867   2251           02667             call if_58  ;pokud zmena odesle na sbernici
                      02668             
                      02669             
0868   3001           02670             movlw .1 ;nastavime ANx kde x je zadane cislo
0869   00F6           02671             movwf ran1
086A   158A           02672             bsf PCLATH,3 ;Select page 1
086B   22FA           02673             call adconv
086C   118A           02674             bcf PCLATH,3 ;Select page 0
086D   0876           02675             movf ran1, W
086E   00A0           02676             movwf r1
                      02677             
086F   0943           02678             comf ir_62, W
0870   07A0           02679             addwf r1, F
0871   081E           02680             movf ADRESH, W
0872   0FA0           02681             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0873   00C3           02682             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0874   0820           02683             movf r1, W
0875   118A           02684             bcf PCLATH,3 ;Select page 0
0876   1D03           02685             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0877   229E           02686             call if_62  ;pokud zmena odesle na sbernici
                      02687             
                      02688             
0878   3002           02689             movlw .2 ;nastavime ANx kde x je zadane cislo
0879   00F6           02690             movwf ran1
087A   158A           02691             bsf PCLATH,3 ;Select page 1
087B   22FA           02692             call adconv
087C   118A           02693             bcf PCLATH,3 ;Select page 0
087D   0876           02694             movf ran1, W
087E   00A0           02695             movwf r1
                      02696             
087F   0937           02697             comf ir_50, W
0880   07A0           02698             addwf r1, F
0881   081E           02699             movf ADRESH, W
0882   0FA0           02700             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0883   00B7           02701             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0884   0820           02702             movf r1, W
0885   118A           02703             bcf PCLATH,3 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0886   1D03           02704             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0887   22EB           02705             call if_50  ;pokud zmena odesle na sbernici
                      02706             
                      02707             
0888   3003           02708             movlw .3 ;nastavime ANx kde x je zadane cislo
0889   00F6           02709             movwf ran1
088A   158A           02710             bsf PCLATH,3 ;Select page 1
088B   22FA           02711             call adconv
088C   118A           02712             bcf PCLATH,3 ;Select page 0
088D   0876           02713             movf ran1, W
088E   00A0           02714             movwf r1
                      02715             
088F   0940           02716             comf ir_59, W
0890   07A0           02717             addwf r1, F
0891   081E           02718             movf ADRESH, W
0892   0FA0           02719             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0893   00C0           02720             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0894   0820           02721             movf r1, W
0895   118A           02722             bcf PCLATH,3 ;Select page 0
0896   1D03           02723             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0897   22ED           02724             call if_59  ;pokud zmena odesle na sbernici
                      02725             
                      02726             
0898   3004           02727             movlw .4 ;nastavime ANx kde x je zadane cislo
0899   00F6           02728             movwf ran1
089A   158A           02729             bsf PCLATH,3 ;Select page 1
089B   22FA           02730             call adconv
089C   118A           02731             bcf PCLATH,3 ;Select page 0
089D   0876           02732             movf ran1, W
089E   00A0           02733             movwf r1
                      02734             
089F   0941           02735             comf ir_60, W
08A0   07A0           02736             addwf r1, F
08A1   081E           02737             movf ADRESH, W
08A2   0FA0           02738             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A3   00C1           02739             movwf ir_60  ;prepise reg AN prevedenou hodnotou
08A4   0820           02740             movf r1, W
08A5   118A           02741             bcf PCLATH,3 ;Select page 0
08A6   1D03           02742             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A7   22EF           02743             call if_60  ;pokud zmena odesle na sbernici
                      02744             
                      02745             
08A8   3005           02746             movlw .5 ;nastavime ANx kde x je zadane cislo
08A9   00F6           02747             movwf ran1
08AA   158A           02748             bsf PCLATH,3 ;Select page 1
08AB   22FA           02749             call adconv
08AC   118A           02750             bcf PCLATH,3 ;Select page 0
08AD   0876           02751             movf ran1, W
08AE   00A0           02752             movwf r1
                      02753             
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08AF   0942           02754             comf ir_61, W
08B0   07A0           02755             addwf r1, F
08B1   081E           02756             movf ADRESH, W
08B2   0FA0           02757             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B3   00C2           02758             movwf ir_61  ;prepise reg AN prevedenou hodnotou
08B4   0820           02759             movf r1, W
08B5   118A           02760             bcf PCLATH,3 ;Select page 0
08B6   1D03           02761             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B7   22F1           02762             call if_61  ;pokud zmena odesle na sbernici
                      02763             
                      02764             
                      02765             
                      02766             
                      02767 
                      02768 
                      02769             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08B8   2059           02770             call watchstart
                      02771 
                      02772             ;dotaz na procesor 2
08B9   3002           02773             movlw .2  ;oznaceni ciloveho procesoru
08BA   00F8           02774             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08BB   214A           02775             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02776     
                      02777             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08BC   205C           02778             call watchwait
                      02779     
08BD   0870           02780             movf pri0, W    ;kontroluje zda je zmena od minule
08BE   00A0           02781             movwf r1
08BF   0938           02782             comf ir_51, W
08C0   07A0           02783             addwf r1, F
08C1   0870           02784             movf pri0, W
08C2   0FA0           02785             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C3   00B8           02786             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08C4   0820           02787             movf r1, W
08C5   1D03           02788             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C6   22F7           02789             call if_51  ;pokud zmena spusti podprig
                      02790     
08C7   0871           02791             movf pri1, W    ;kontroluje zda je zmena od minule
08C8   00A0           02792             movwf r1
08C9   0939           02793             comf ir_52, W
08CA   07A0           02794             addwf r1, F
08CB   0871           02795             movf pri1, W
08CC   0FA0           02796             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CD   00B9           02797             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08CE   0820           02798             movf r1, W
08CF   1D03           02799             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D0   22F9           02800             call if_52  ;pokud zmena spusti podprig
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02801     
                      02802     
08D1   0872           02803             movf pri2, W    ;kontroluje zda je zmena od minule
08D2   00A0           02804             movwf r1
08D3   093A           02805             comf ir_53, W
08D4   07A0           02806             addwf r1, F
08D5   0872           02807             movf pri2, W
08D6   0FA0           02808             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D7   00BA           02809             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08D8   0820           02810             movf r1, W
08D9   1D03           02811             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08DA   22FB           02812             call if_53  ;pokud zmena spusti podprig
                      02813     
                      02814     
08DB   0873           02815             movf pri3, W    ;kontroluje zda je zmena od minule
08DC   00A0           02816             movwf r1
08DD   093B           02817             comf ir_54, W
08DE   07A0           02818             addwf r1, F
08DF   0873           02819             movf pri3, W
08E0   0FA0           02820             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E1   00BB           02821             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08E2   0820           02822             movf r1, W
08E3   1D03           02823             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E4   22FD           02824             call if_54  ;pokud zmena spusti podprig
                      02825     
                      02826     
08E5   0874           02827             movf pri4, W    ;kontroluje zda je zmena od minule
08E6   00A0           02828             movwf r1
08E7   093C           02829             comf ir_55, W
08E8   07A0           02830             addwf r1, F
08E9   0874           02831             movf pri4, W
08EA   0FA0           02832             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EB   00BC           02833             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08EC   0820           02834             movf r1, W
08ED   1D03           02835             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EE   22FF           02836             call if_55  ;pokud zmena spusti podprig
                      02837     
                      02838     
08EF   0875           02839             movf pri5, W    ;kontroluje zda je zmena od minule
08F0   00A0           02840             movwf r1
08F1   093D           02841             comf ir_56, W
08F2   07A0           02842             addwf r1, F
08F3   0875           02843             movf pri5, W
08F4   0FA0           02844             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F5   00BD           02845             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08F6   0820           02846             movf r1, W
08F7   1D03           02847             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F8   2301           02848             call if_56  ;pokud zmena spusti podprig
                      02849     
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02850     
08F9   0876           02851             movf pri6, W    ;kontroluje zda je zmena od minule
08FA   00A0           02852             movwf r1
08FB   093E           02853             comf ir_57, W
08FC   07A0           02854             addwf r1, F
08FD   0876           02855             movf pri6, W
08FE   0FA0           02856             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FF   00BE           02857             movwf ir_57  ;priepise reg AN prievedenou hodnotou
0900   0820           02858             movf r1, W
0901   1D03           02859             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0902   2303           02860             call if_57  ;pokud zmena spusti podprig
                      02861     
                      02862     
0903   0877           02863             movf pri7, W    ;kontroluje zda je zmena od minule
0904   00A0           02864             movwf r1
0905   0936           02865             comf ir_49, W
0906   07A0           02866             addwf r1, F
0907   0877           02867             movf pri7, W
0908   0FA0           02868             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0909   00B6           02869             movwf ir_49  ;priepise reg AN prievedenou hodnotou
090A   0820           02870             movf r1, W
090B   1D03           02871             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090C   22F3           02872             call if_49  ;pokud zmena spusti podprig
                      02873 
                      02874 
                      02875             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090D   2059           02876             call watchstart
                      02877 
                      02878             ;dotaz na procesor 3
090E   3003           02879             movlw .3  ;oznaceni ciloveho procesoru
090F   00F8           02880             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0910   214A           02881             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02882             
                      02883             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0911   205C           02884             call watchwait
                      02885             
                      02886     
                      02887     
0912   0870           02888             movf pri0, W    ;kontroluje zda je zmena od minule
0913   00A0           02889             movwf r1
0914   0944           02890             comf ir_80, W
0915   07A0           02891             addwf r1, F
0916   0870           02892             movf pri0, W
0917   0FA0           02893             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0918   00C4           02894             movwf ir_80  ;priepise reg AN prievedenou hodnotou
0919   0820           02895             movf r1, W
091A   1D03           02896             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

091B   22F5           02897             call if_80  ;pokud zmena spusti podprig
                      02898     
                      02899     
091C   0871           02900             movf pri1, W    ;kontroluje zda je zmena od minule
091D   00A0           02901             movwf r1
091E   0945           02902             comf ir_84, W
091F   07A0           02903             addwf r1, F
0920   0871           02904             movf pri1, W
0921   0FA0           02905             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0922   00C5           02906             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0923   0820           02907             movf r1, W
0924   1D03           02908             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0925   2305           02909             call if_84  ;pokud zmena spusti podprig
                      02910     
                      02911     
0926   0872           02912             movf pri2, W    ;kontroluje zda je zmena od minule
0927   00A0           02913             movwf r1
0928   0946           02914             comf ir_85, W
0929   07A0           02915             addwf r1, F
092A   0872           02916             movf pri2, W
092B   0FA0           02917             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092C   00C6           02918             movwf ir_85  ;priepise reg AN prievedenou hodnotou
092D   0820           02919             movf r1, W
092E   1D03           02920             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092F   2307           02921             call if_85  ;pokud zmena spusti podprig
                      02922     
                      02923     
0930   0873           02924             movf pri3, W    ;kontroluje zda je zmena od minule
0931   00A0           02925             movwf r1
0932   0947           02926             comf ir_86, W
0933   07A0           02927             addwf r1, F
0934   0873           02928             movf pri3, W
0935   0FA0           02929             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0936   00C7           02930             movwf ir_86  ;priepise reg AN prievedenou hodnotou
0937   0820           02931             movf r1, W
0938   1D03           02932             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0939   2309           02933             call if_86  ;pokud zmena spusti podprig
                      02934     
                      02935     
093A   0874           02936             movf pri4, W    ;kontroluje zda je zmena od minule
093B   00A0           02937             movwf r1
093C   0948           02938             comf ir_87, W
093D   07A0           02939             addwf r1, F
093E   0874           02940             movf pri4, W
093F   0FA0           02941             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0940   00C8           02942             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0941   0820           02943             movf r1, W
0942   1D03           02944             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0943   230B           02945             call if_87  ;pokud zmena spusti podprig
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02946     
                      02947     
0944   0875           02948             movf pri5, W    ;kontroluje zda je zmena od minule
0945   00A0           02949             movwf r1
0946   0949           02950             comf ir_88, W
0947   07A0           02951             addwf r1, F
0948   0875           02952             movf pri5, W
0949   0FA0           02953             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094A   00C9           02954             movwf ir_88  ;priepise reg AN prievedenou hodnotou
094B   0820           02955             movf r1, W
094C   1D03           02956             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094D   230D           02957             call if_88  ;pokud zmena spusti podprig
                      02958     
                      02959     
094E   0876           02960             movf pri6, W    ;kontroluje zda je zmena od minule
094F   00A0           02961             movwf r1
0950   094A           02962             comf ir_89, W
0951   07A0           02963             addwf r1, F
0952   0876           02964             movf pri6, W
0953   0FA0           02965             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0954   00CA           02966             movwf ir_89  ;priepise reg AN prievedenou hodnotou
0955   0820           02967             movf r1, W
0956   1D03           02968             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0957   230F           02969             call if_89  ;pokud zmena spusti podprig
                      02970     
                      02971     
0958   0877           02972             movf pri7, W    ;kontroluje zda je zmena od minule
0959   00A0           02973             movwf r1
095A   094B           02974             comf ir_90, W
095B   07A0           02975             addwf r1, F
095C   0877           02976             movf pri7, W
095D   0FA0           02977             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095E   00CB           02978             movwf ir_90  ;priepise reg AN prievedenou hodnotou
095F   0820           02979             movf r1, W
0960   1D03           02980             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0961   2311           02981             call if_90  ;pokud zmena spusti podprig
                      02982 
                      02983 
                      02984 
                      02985             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0962   2059           02986             call watchstart
                      02987 
                      02988             ;dotaz na procesor 4
0963   3004           02989             movlw .4  ;oznaceni ciloveho procesoru
0964   00F8           02990             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0965   214A           02991             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02992             
                      02993             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0966   205C           02994             call watchwait
                      02995             
                      02996     
                      02997     
0967   0870           02998             movf pri0, W    ;kontroluje zda je zmena od minule
0968   00A0           02999             movwf r1
0969   094C           03000             comf ir_91, W
096A   07A0           03001             addwf r1, F
096B   0870           03002             movf pri0, W
096C   0FA0           03003             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096D   00CC           03004             movwf ir_91  ;priepise reg AN prievedenou hodnotou
096E   0820           03005             movf r1, W
096F   1D03           03006             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0970   2313           03007             call if_91  ;pokud zmena spusti podprig
                      03008     
                      03009     
0971   0871           03010             movf pri1, W    ;kontroluje zda je zmena od minule
0972   00A0           03011             movwf r1
0973   094D           03012             comf ir_92, W
0974   07A0           03013             addwf r1, F
0975   0871           03014             movf pri1, W
0976   0FA0           03015             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0977   00CD           03016             movwf ir_92  ;priepise reg AN prievedenou hodnotou
0978   0820           03017             movf r1, W
0979   1D03           03018             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
097A   2315           03019             call if_92  ;pokud zmena spusti podprig
                      03020     
                      03021     
097B   0872           03022             movf pri2, W    ;kontroluje zda je zmena od minule
097C   00A0           03023             movwf r1
097D   094E           03024             comf ir_93, W
097E   07A0           03025             addwf r1, F
097F   0872           03026             movf pri2, W
0980   0FA0           03027             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0981   00CE           03028             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0982   0820           03029             movf r1, W
0983   1D03           03030             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0984   2317           03031             call if_93  ;pokud zmena spusti podprig
                      03032     
                      03033     
0985   0873           03034             movf pri3, W    ;kontroluje zda je zmena od minule
0986   00A0           03035             movwf r1
0987   094F           03036             comf ir_127, W
0988   07A0           03037             addwf r1, F
0989   0873           03038             movf pri3, W
098A   0FA0           03039             incfsz r1, F  ;pokud zadna zmena pokracuje dal
098B   00CF           03040             movwf ir_127  ;priepise reg AN prievedenou hodnotou
098C   0820           03041             movf r1, W
098D   1D03           03042             btfss STATUS, Z
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
098E   2319           03043             call if_127  ;pokud zmena spusti podprig
                      03044     
                      03045     
098F   0874           03046             movf pri4, W    ;kontroluje zda je zmena od minule
0990   00A0           03047             movwf r1
0991   0950           03048             comf ir_128, W
0992   07A0           03049             addwf r1, F
0993   0874           03050             movf pri4, W
0994   0FA0           03051             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0995   00D0           03052             movwf ir_128  ;priepise reg AN prievedenou hodnotou
0996   0820           03053             movf r1, W
0997   1D03           03054             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0998   231B           03055             call if_128  ;pokud zmena spusti podprig
                      03056     
                      03057     
0999   0875           03058             movf pri5, W    ;kontroluje zda je zmena od minule
099A   00A0           03059             movwf r1
099B   0935           03060             comf ir_x, W
099C   07A0           03061             addwf r1, F
099D   0875           03062             movf pri5, W
099E   0FA0           03063             incfsz r1, F  ;pokud zadna zmena pokracuje dal
099F   00B5           03064             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09A0   0820           03065             movf r1, W
09A1   1D03           03066             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09A2   2368           03067             call if_x  ;pokud zmena spusti podprig
                      03068     
                      03069     
09A3   0876           03070             movf pri6, W    ;kontroluje zda je zmena od minule
09A4   00A0           03071             movwf r1
09A5   0935           03072             comf ir_x, W
09A6   07A0           03073             addwf r1, F
09A7   0876           03074             movf pri6, W
09A8   0FA0           03075             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09A9   00B5           03076             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09AA   0820           03077             movf r1, W
09AB   1D03           03078             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09AC   2368           03079             call if_x  ;pokud zmena spusti podprig
                      03080     
                      03081     
09AD   0877           03082             movf pri7, W    ;kontroluje zda je zmena od minule
09AE   00A0           03083             movwf r1
09AF   0935           03084             comf ir_x, W
09B0   07A0           03085             addwf r1, F
09B1   0877           03086             movf pri7, W
09B2   0FA0           03087             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09B3   00B5           03088             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09B4   0820           03089             movf r1, W
09B5   1D03           03090             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09B6   2368           03091             call if_x  ;pokud zmena spusti podprig
                      03092 
                      03093 
                      03094 
09B7   158A           03095             bsf PCLATH,3 ;Select page 1
09B8   284A           03096             goto loop      ;zpet v cyklu na zacatek
                      03097         
                      03098         
                      03099         
                      03100 
                      03101 
                      03102 
                      03103 
                      03104 
                      03105 
09B9   084B           03106 okna        movf ir_90, W
09BA   39F0           03107             andlw b'11110000' ;odseknu konecnou cast
09BB   00A0           03108             movwf r1
09BC   09A0           03109             comf r1, F ;udelám dvojkový doplněk
09BD   0824           03110             movf o1tar, W
09BE   39F0           03111             andlw b'11110000' ;odseknu konecnou cast
09BF   07A0           03112             addwf r1, F ;sectu s dvojkovym doplnkem
09C0   0803           03113             movf STATUS, W
09C1   00A2           03114             movwf r3
09C2   1922           03115             btfsc r3, Z
09C3   2228           03116             call o1stop
09C4   1922           03117             btfsc r3, Z
09C5   29CA           03118             goto okno2
09C6   1C22           03119             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09C7   21FE           03120             call o1up
09C8   1822           03121             btfsc r3, C ;pokud preteklo, sjed dolu
09C9   2213           03122             call o1down
09CA   084C           03123 okno2       movf ir_91, W
09CB   39F0           03124             andlw b'11110000' ;odseknu konecnou cast
09CC   00A0           03125             movwf r1
09CD   09A0           03126             comf r1, F ;udelám dvojkový doplněk
09CE   0825           03127             movf o2tar, W
09CF   39F0           03128             andlw b'11110000' ;odseknu konecnou cast
09D0   07A0           03129             addwf r1, F ;sectu s dvojkovym doplnkem
09D1   0803           03130             movf STATUS, W
09D2   00A2           03131             movwf r3
09D3   1922           03132             btfsc r3, Z
09D4   2267           03133             call o2stop
09D5   1922           03134             btfsc r3, Z
09D6   29DB           03135             goto okno3
09D7   1C22           03136             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09D8   223D           03137             call o2up
09D9   1822           03138             btfsc r3, C ;pokud preteklo, sjed dolu
09DA   2252           03139             call o2down
09DB   084D           03140 okno3       movf ir_92, W
09DC   39F0           03141             andlw b'11110000' ;odseknu konecnou cast
09DD   00A0           03142             movwf r1
09DE   09A0           03143             comf r1, F ;udelám dvojkový doplněk
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09DF   0826           03144             movf o3tar, W
09E0   39F0           03145             andlw b'11110000' ;odseknu konecnou cast
09E1   07A0           03146             addwf r1, F ;sectu s dvojkovym doplnkem
09E2   0803           03147             movf STATUS, W
09E3   00A2           03148             movwf r3
09E4   1922           03149             btfsc r3, Z
09E5   22A6           03150             call o3stop
09E6   1922           03151             btfsc r3, Z
09E7   29EC           03152             goto okno4
09E8   1C22           03153             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09E9   227C           03154             call o3up
09EA   1822           03155             btfsc r3, C ;pokud preteklo, sjed dolu
09EB   2291           03156             call o3down
09EC   084E           03157 okno4       movf ir_93, W
09ED   39F0           03158             andlw b'11110000' ;odseknu konecnou cast
09EE   00A0           03159             movwf r1
09EF   09A0           03160             comf r1, F ;udelám dvojkový doplněk
09F0   0827           03161             movf o4tar, W
09F1   39F0           03162             andlw b'11110000' ;odseknu konecnou cast
09F2   07A0           03163             addwf r1, F ;sectu s dvojkovym doplnkem
09F3   0803           03164             movf STATUS, W
09F4   00A2           03165             movwf r3
09F5   1922           03166             btfsc r3, Z
09F6   22E5           03167             call o4stop
09F7   1922           03168             btfsc r3, Z
09F8   0008           03169             return
09F9   1C22           03170             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09FA   22BB           03171             call o4up
09FB   1822           03172             btfsc r3, C ;pokud preteklo, sjed dolu
09FC   22D0           03173             call o4down
09FD   0008           03174             return
                      03175 
                      03176 ;okno 1 nahoru, dolu, zastavit
09FE   19A9           03177 o1up        btfsc o_a, 3
09FF   2A08           03178             goto no1up
0A00   301D           03179             movlw b'11101' ;port D5
0A01   00D2           03180             movwf port
0A02   3003           03181             movlw b'11' ;procesor 3
0A03   00D3           03182             movwf prc
                      03183         
0A04   118A           03184             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A05   2203           03185             call setout ;smaz port v prc
0A06   158A           03186             bsf PCLATH,3 ;Select page 1
0A07   15A9           03187             bsf o_a, 3 
0A08   1FA9           03188 no1up       btfss o_a, 7
0A09   0008           03189             return
0A0A   300C           03190             movlw b'01100' ;port B4
0A0B   00D2           03191             movwf port
0A0C   3002           03192             movlw b'10' ;procesor 2
0A0D   00D3           03193             movwf prc
                      03194             
0A0E   118A           03195             bcf PCLATH,3 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0A0F   222A           03196             call clrout ;smaz port v prc
0A10   158A           03197             bsf PCLATH,3 ;Select page 1
0A11   13A9           03198             bcf o_a, 7             
0A12   0008           03199             return
0A13   1DA9           03200 o1down      btfss o_a, 3
0A14   2A1D           03201             goto no1down
0A15   301D           03202             movlw b'11101' ;port D5
0A16   00D2           03203             movwf port
0A17   3003           03204             movlw b'11' ;procesor 3
0A18   00D3           03205             movwf prc
                      03206             
0A19   118A           03207             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A1A   222A           03208             call clrout ;smaz port v prc
0A1B   158A           03209             bsf PCLATH,3 ;Select page 1
0A1C   11A9           03210             bcf o_a, 3 
0A1D   1BA9           03211 no1down     btfsc o_a, 7
0A1E   0008           03212             return
0A1F   300C           03213             movlw b'01100' ;port B4
0A20   00D2           03214             movwf port
0A21   3002           03215             movlw b'10' ;procesor 2
0A22   00D3           03216             movwf prc
                      03217             
0A23   118A           03218             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A24   2203           03219             call setout ;smaz port v prc
0A25   158A           03220             bsf PCLATH,3 ;Select page 1
0A26   17A9           03221             bsf o_a, 7             
0A27   0008           03222             return
0A28   1DA9           03223 o1stop      btfss o_a, 3
0A29   2A32           03224             goto no1stop
0A2A   301D           03225             movlw b'11101' ;port D5
0A2B   00D2           03226             movwf port
0A2C   3003           03227             movlw b'11' ;procesor 3
0A2D   00D3           03228             movwf prc
                      03229             
0A2E   118A           03230             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2F   222A           03231             call clrout ;smaz port v prc
0A30   158A           03232             bsf PCLATH,3 ;Select page 1
0A31   11A9           03233             bcf o_a, 3 
0A32   1FA9           03234 no1stop     btfss o_a, 7
0A33   0008           03235             return
0A34   300C           03236             movlw b'01100' ;port B4
0A35   00D2           03237             movwf port
0A36   3002           03238             movlw b'10' ;procesor 2
0A37   00D3           03239             movwf prc
                      03240             
0A38   118A           03241             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A39   222A           03242             call clrout ;smaz port v prc
0A3A   158A           03243             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A3B   13A9           03244             bcf o_a, 7             
0A3C   0008           03245             return
                      03246 ;okno 2 nahoru, dolu, zastavit
0A3D   1A29           03247 o2up        btfsc o_a, 4
0A3E   2A47           03248             goto no2up
0A3F   3018           03249             movlw b'11000' ;port D0
0A40   00D2           03250             movwf port
0A41   3002           03251             movlw b'10' ;procesor 2
0A42   00D3           03252             movwf prc
                      03253             
0A43   118A           03254             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A44   2203           03255             call setout ;smaz port v prc
0A45   158A           03256             bsf PCLATH,3 ;Select page 1
0A46   1629           03257             bsf o_a, 4 
0A47   1C2A           03258 no2up       btfss o_b, 0
0A48   0008           03259             return
0A49   300D           03260             movlw b'01101' ;port B5
0A4A   00D2           03261             movwf port
0A4B   3002           03262             movlw b'10' ;procesor 2
0A4C   00D3           03263             movwf prc
                      03264             
0A4D   118A           03265             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4E   222A           03266             call clrout ;smaz port v prc
0A4F   158A           03267             bsf PCLATH,3 ;Select page 1
0A50   102A           03268             bcf o_b, 0             
0A51   0008           03269             return
0A52   1E29           03270 o2down      btfss o_a, 4
0A53   2A5C           03271             goto no2down
0A54   3018           03272             movlw b'11000' ;port D0
0A55   00D2           03273             movwf port
0A56   3002           03274             movlw b'10' ;procesor 2
0A57   00D3           03275             movwf prc
                      03276             
0A58   118A           03277             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A59   222A           03278             call clrout ;smaz port v prc
0A5A   158A           03279             bsf PCLATH,3 ;Select page 1
0A5B   1229           03280             bcf o_a, 4 
0A5C   182A           03281 no2down     btfsc o_b, 0
0A5D   0008           03282             return
0A5E   300D           03283             movlw b'01101' ;port B5
0A5F   00D2           03284             movwf port
0A60   3002           03285             movlw b'10' ;procesor 2
0A61   00D3           03286             movwf prc
                      03287             
0A62   118A           03288             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A63   2203           03289             call setout ;smaz port v prc
0A64   158A           03290             bsf PCLATH,3 ;Select page 1
0A65   142A           03291             bsf o_b, 0             
0A66   0008           03292             return
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A67   1E29           03293 o2stop      btfss o_a, 4
0A68   2A71           03294             goto no2stop
0A69   3018           03295             movlw b'11000' ;port D0
0A6A   00D2           03296             movwf port
0A6B   3002           03297             movlw b'10' ;procesor 2
0A6C   00D3           03298             movwf prc
                      03299             
0A6D   118A           03300             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6E   222A           03301             call clrout ;smaz port v prc
0A6F   158A           03302             bsf PCLATH,3 ;Select page 1
0A70   1229           03303             bcf o_a, 4 
0A71   1C2A           03304 no2stop     btfss o_b, 0
0A72   0008           03305             return
0A73   300D           03306             movlw b'01101' ;port B5
0A74   00D2           03307             movwf port
0A75   3002           03308             movlw b'10' ;procesor 2
0A76   00D3           03309             movwf prc
                      03310             
0A77   118A           03311             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A78   222A           03312             call clrout ;smaz port v prc
0A79   158A           03313             bsf PCLATH,3 ;Select page 1
0A7A   102A           03314             bcf o_b, 0             
0A7B   0008           03315             return
                      03316 ;okno 3 nahoru, dolu, zastavit
0A7C   1AA9           03317 o3up        btfsc o_a, 5
0A7D   2A86           03318             goto no3up
0A7E   300A           03319             movlw b'01010' ;port B2
0A7F   00D2           03320             movwf port
0A80   3002           03321             movlw b'10' ;procesor 2
0A81   00D3           03322             movwf prc
                      03323             
0A82   118A           03324             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A83   2203           03325             call setout ;smaz port v prc
0A84   158A           03326             bsf PCLATH,3 ;Select page 1
0A85   16A9           03327             bsf o_a, 5 
0A86   1CAA           03328 no3up       btfss o_b, 1
0A87   0008           03329             return
0A88   300E           03330             movlw b'01110' ;port B6
0A89   00D2           03331             movwf port
0A8A   3002           03332             movlw b'10' ;procesor 2
0A8B   00D3           03333             movwf prc
                      03334             
0A8C   118A           03335             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8D   222A           03336             call clrout ;smaz port v prc
0A8E   158A           03337             bsf PCLATH,3 ;Select page 1
0A8F   10AA           03338             bcf o_b, 1             
0A90   0008           03339             return
0A91   1EA9           03340 o3down      btfss o_a, 5
0A92   2A9B           03341             goto no3down
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A93   300A           03342             movlw b'01010' ;port B2
0A94   00D2           03343             movwf port
0A95   3002           03344             movlw b'10' ;procesor 2
0A96   00D3           03345             movwf prc
                      03346             
0A97   118A           03347             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A98   222A           03348             call clrout ;smaz port v prc
0A99   158A           03349             bsf PCLATH,3 ;Select page 1
0A9A   12A9           03350             bcf o_a, 5 
0A9B   18AA           03351 no3down     btfsc o_b, 1
0A9C   0008           03352             return
0A9D   300E           03353             movlw b'01110' ;port B6
0A9E   00D2           03354             movwf port
0A9F   3002           03355             movlw b'10' ;procesor 2
0AA0   00D3           03356             movwf prc
                      03357             
0AA1   118A           03358             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA2   2203           03359             call setout ;smaz port v prc
0AA3   158A           03360             bsf PCLATH,3 ;Select page 1
0AA4   14AA           03361             bsf o_b, 1             
0AA5   0008           03362             return
0AA6   1EA9           03363 o3stop      btfss o_a, 5
0AA7   2AB0           03364             goto no3stop
0AA8   300A           03365             movlw b'01010' ;port B2
0AA9   00D2           03366             movwf port
0AAA   3002           03367             movlw b'10' ;procesor 2
0AAB   00D3           03368             movwf prc
                      03369             
0AAC   118A           03370             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAD   222A           03371             call clrout ;smaz port v prc
0AAE   158A           03372             bsf PCLATH,3 ;Select page 1
0AAF   12A9           03373             bcf o_a, 5 
0AB0   1CAA           03374 no3stop     btfss o_b, 1
0AB1   0008           03375             return
0AB2   300E           03376             movlw b'01110' ;port B6
0AB3   00D2           03377             movwf port
0AB4   3002           03378             movlw b'10' ;procesor 2
0AB5   00D3           03379             movwf prc
                      03380             
0AB6   118A           03381             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB7   222A           03382             call clrout ;smaz port v prc
0AB8   158A           03383             bsf PCLATH,3 ;Select page 1
0AB9   10AA           03384             bcf o_b, 1             
0ABA   0008           03385             return
                      03386 ;okno 4 nahoru, dolu, zastavit
0ABB   1B29           03387 o4up        btfsc o_a, 6
0ABC   2AC5           03388             goto no4up
0ABD   300B           03389             movlw b'01011' ;port B3
0ABE   00D2           03390             movwf port
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0ABF   3002           03391             movlw b'10' ;procesor 2
0AC0   00D3           03392             movwf prc
                      03393             
0AC1   118A           03394             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC2   2203           03395             call setout ;smaz port v prc
0AC3   158A           03396             bsf PCLATH,3 ;Select page 1
0AC4   1729           03397             bsf o_a, 6 
0AC5   1D2A           03398 no4up       btfss o_b, 2
0AC6   0008           03399             return
0AC7   300F           03400             movlw b'01111' ;port B7
0AC8   00D2           03401             movwf port
0AC9   3002           03402             movlw b'10' ;procesor 2
0ACA   00D3           03403             movwf prc
                      03404             
0ACB   118A           03405             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACC   222A           03406             call clrout ;smaz port v prc
0ACD   158A           03407             bsf PCLATH,3 ;Select page 1
0ACE   112A           03408             bcf o_b, 2             
0ACF   0008           03409             return
0AD0   1F29           03410 o4down      btfss o_a, 6
0AD1   2ADA           03411             goto no4down
0AD2   300B           03412             movlw b'01011' ;port B3
0AD3   00D2           03413             movwf port
0AD4   3002           03414             movlw b'10' ;procesor 2
0AD5   00D3           03415             movwf prc
                      03416             
0AD6   118A           03417             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD7   222A           03418             call clrout ;smaz port v prc
0AD8   158A           03419             bsf PCLATH,3 ;Select page 1
0AD9   1329           03420             bcf o_a, 6 
0ADA   192A           03421 no4down     btfsc o_b, 2
0ADB   0008           03422             return
0ADC   300F           03423             movlw b'01111' ;port B7
0ADD   00D2           03424             movwf port
0ADE   3002           03425             movlw b'10' ;procesor 2
0ADF   00D3           03426             movwf prc
                      03427             
0AE0   118A           03428             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AE1   2203           03429             call setout ;smaz port v prc
0AE2   158A           03430             bsf PCLATH,3 ;Select page 1
0AE3   152A           03431             bsf o_b, 2             
0AE4   0008           03432             return
0AE5   1F29           03433 o4stop      btfss o_a, 6
0AE6   2AEF           03434             goto no4stop
0AE7   300B           03435             movlw b'01011' ;port B3
0AE8   00D2           03436             movwf port
0AE9   3002           03437             movlw b'10' ;procesor 2
0AEA   00D3           03438             movwf prc
                      03439             
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AEB   118A           03440             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AEC   222A           03441             call clrout ;smaz port v prc
0AED   158A           03442             bsf PCLATH,3 ;Select page 1
0AEE   1329           03443             bcf o_a, 6 
0AEF   1D2A           03444 no4stop     btfss o_b, 2
0AF0   0008           03445             return
0AF1   300F           03446             movlw b'01111' ;port B7
0AF2   00D2           03447             movwf port
0AF3   3002           03448             movlw b'10' ;procesor 2
0AF4   00D3           03449             movwf prc
                      03450             
0AF5   118A           03451             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AF6   222A           03452             call clrout ;smaz port v prc
0AF7   158A           03453             bsf PCLATH,3 ;Select page 1
0AF8   112A           03454             bcf o_b, 2             
0AF9   0008           03455             return
                      03456             
                      03457             
                      03458             
                      03459             
                      03460 
                      03461 
                      03462 
                      03463 
0AFA   3032           03464 adconv      movlw .50 ; kolikrat se ma merit vstup
0AFB   00F7           03465             movwf ran2 ; decrementator pro cykl
0AFC   00FA           03466             movwf ran5 ; delitel pro vypocet prumeru
0AFD   0876           03467             movf ran1, W
0AFE   00F8           03468             movwf ran3 ; zachováni ANx vstupu
0AFF   01F2           03469             clrf CIS2_L
0B00   01F3           03470             clrf CIS2_H
                      03471             
0B01   0878           03472 adconv2     movf ran3, W
0B02   00F6           03473             movwf ran1 ; nasteni znova ANx vstupu
0B03   2322           03474             call adconv_one
                      03475             
                      03476             ; pripraveni cisla 1 k pricteni
0B04   01F1           03477             clrf CIS1_H
0B05   0876           03478             movf ran1, W
0B06   00F0           03479             movwf CIS1_L
                      03480             
                      03481             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03482             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03483         
0B07   0870           03484                 movf    CIS1_L,W        ; CIS1_L do W
0B08   0772           03485                 addwf   CIS2_L,W        ; W + CIS2_L do W
0B09   00F4           03486                 movwf   OUT_L           ; W do OUT_L
                      03487         
0B0A   0871           03488                 movf    CIS1_H,W        ; CIS1_H do W
0B0B   1803           03489                 btfsc   STATUS,C
0B0C   3E01           03490                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B0D   0773           03491                 addwf   CIS2_H,W
0B0E   00F5           03492                 movwf   OUT_H           ; W do OUT_H
                      03493                 
                      03494                 ; ulozi OUT do CIS2
0B0F   0874           03495             movf OUT_L, W
0B10   00F2           03496             movwf CIS2_L
0B11   0875           03497             movf OUT_H, W
0B12   00F3           03498             movwf CIS2_H
                      03499             
                      03500             
0B13   0BF7           03501             decfsz ran2, F
0B14   2B01           03502             goto adconv2
                      03503             
                      03504             ; vydeli poctem mereni
0B15   0872           03505             movf CIS2_L, W
0B16   00F0           03506             movwf A1
0B17   0873           03507             movf CIS2_H, W
0B18   00F1           03508             movwf A2
0B19   01F2           03509             clrf A3
                      03510             
0B1A   087A           03511             movf ran5, W
0B1B   00F3           03512             movwf B1
0B1C   01F4           03513             clrf B2
0B1D   01F5           03514             clrf B3
                      03515             
0B1E   2331           03516             call LOMENO24
0B1F   0876           03517             movf C1, W
0B20   00F6           03518             movwf ran1
                      03519             
0B21   0008           03520             return
                      03521         
0B22   1003           03522 adconv_one  bcf STATUS, C
0B23   0DF6           03523             rlf ran1, F
0B24   0DF6           03524             rlf ran1, F
0B25   0DF6           03525             rlf ran1, F
                      03526             
                      03527             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B26   13F6           03528             bcf ran1, 7
0B27   1776           03529             bsf ran1, 6
                      03530             ; 5
                      03531             ; 4
                      03532             ; 3
0B28   1576           03533             bsf ran1, 2
                      03534             ; 1
0B29   1476           03535             bsf ran1, 0
                      03536             
0B2A   0876           03537             movf ran1, W
0B2B   009F           03538             movwf ADCON0
                      03539             
0B2C   191F           03540             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B2D   2B2C           03541             goto $-1
0B2E   081E           03542             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B2F   00F6           03543             movwf ran1
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B30   0008           03544             return
                      03545         
                      03546         
                      03547         
                      03548         
                      03549         
                      03550 ;-------------------------------;
                      03551 ; A1,2,3 / B1,2,3 = C1,2,3
                      03552 ;24Bit, pouze kladna cisla
                      03553 ;SZ=1=deleni nulou (B1,2,3=0)
                      03554 ;B se nezmeni, v A bude zbytek
                      03555 ;pouziva D1,2,3; X1
0B31                  03556 LOMENO24
                      03557 ;test B na nulu; sZ=1=ANO
0B31   08F3           03558         MOVF    B1,F
0B32   1903           03559         BTFSC   STATUS,Z        ;nenulove?
0B33   08F4           03560         MOVF    B2,F
0B34   1903           03561         BTFSC   STATUS,Z        ;nenulove?
0B35   08F5           03562         MOVF    B3,F
0B36   1903           03563         BTFSC   STATUS,Z        ;nenulove?
0B37   0008           03564         RETURN                  ;B1,2,3=0
                      03565 ;priprava pro deleni
0B38   0870           03566 LOM24   MOVF    A1,W            ;A do D
0B39   00F9           03567         MOVWF   D1              ;
0B3A   0871           03568         MOVF    A2,W            ;
0B3B   00FA           03569         MOVWF   D2              ;
0B3C   0872           03570         MOVF    A3,W            ;
0B3D   00FB           03571         MOVWF   D3              ;
0B3E   01F0           03572         CLRF    A1              ;nulovat
0B3F   01F1           03573         CLRF    A2              ;
0B40   01F2           03574         CLRF    A3              ;
0B41   3018           03575         MOVLW   24              ;pocet bitu
0B42   00FC           03576         MOVWF   X1              ;
0B43   1003           03577         BCF     STATUS,C        ;SC=0
                      03578 ;deleni
0B44   2356           03579 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B45   1C03           03580         BTFSS   STATUS,C        ;kladny vysledek?
0B46   2B4C           03581         GOTO    LZapor          ;NE
                      03582 ;LKlad
0B47   00F2           03583         MOVWF   A3              ;C do A
0B48   0877           03584         MOVF    C2,W            ;
0B49   00F1           03585         MOVWF   A2              ;
0B4A   0876           03586         MOVF    C1,W            ;
0B4B   00F0           03587         MOVWF   A1              ;
                      03588 
0B4C   0BFC           03589 LZapor  DECFSZ  X1,F            ;-1=0?
0B4D   2B44           03590         GOTO    LDalsi          ;jeste neni konec
                      03591 ;vysledek
0B4E   0D79           03592         RLF     D1,W            ;posledni x2
0B4F   00F6           03593         MOVWF   C1              ; a W do C
0B50   0D7A           03594         RLF     D2,W            ;
0B51   00F7           03595         MOVWF   C2              ;
0B52   0D7B           03596         RLF     D3,W            ;
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B53   00F8           03597         MOVWF   C3              ;
                      03598 
0B54   1103           03599         BCF     STATUS,Z        ;SZ=0
0B55   0008           03600         RETURN
                      03601 
                      03602 
                      03603 ;................................
                      03604 ; D1,2,3 A1,2,3 * 2 a Minus
0B56   0DF9           03605 x2M     RLF     D1,F            ;posuv vlevo
0B57   0DFA           03606         RLF     D2,F            ;
0B58   0DFB           03607         RLF     D3,F            ;
0B59   0DF0           03608         RLF     A1,F            ;
0B5A   0DF1           03609         RLF     A2,F            ;
0B5B   0DF2           03610         RLF     A3,F            ;
                      03611                                 ;pokracuje MINUS
                      03612 ;--------------------------------
                      03613 ; A1,2,3 - B1,2,3 = C1,2,3
                      03614 ;SC=0=zaporny vysledek
                      03615 ;A,B se nezmeni
0B5C   0873           03616 MINUS   MOVF    B1,W            ;W=B1
0B5D   0270           03617         SUBWF   A1,W            ;A1-B1=W
0B5E   00F6           03618         MOVWF   C1              ;C1=W=vysledek1
0B5F   0103           03619         CLRW                    ;W=0
0B60   1C03           03620         BTFSS   STATUS,C        ;SUB kladne?
0B61   3001           03621         MOVLW   1               ;W=1
0B62   0774           03622         ADDWF   B2,W            ;B2+W=W
0B63   01F8           03623         CLRF    C3              ;C3=0
0B64   1803           03624         BTFSC   STATUS,C        ;ADD nepreteklo?
0B65   1478           03625         BSF     C3,0            ;C3=1
0B66   0271           03626         SUBWF   A2,W            ;A2-W=W
0B67   00F7           03627         MOVWF   C2              ;C2=w=vysledek2
0B68   0878           03628         MOVF    C3,W            ;W=C3
0B69   1C03           03629         BTFSS   STATUS,C        ;SUB kladne?
0B6A   3001           03630         MOVLW   1               ;W=1
0B6B   0775           03631         ADDWF   B3,W            ;B3+W=W
0B6C   01F8           03632         CLRF    C3              ;C3=0
0B6D   1803           03633         BTFSC   STATUS,C        ;ADD nepreteklo?
0B6E   1478           03634         BSF     C3,0            ;C3=1
0B6F   0272           03635         SUBWF   A3,W            ;A3-W=W
0B70   1878           03636         BTFSC   C3,0            ;C3=0?
0B71   1003           03637         BCF     STATUS,C        ;SC=0
0B72   00F8           03638         MOVWF   C3              ;C3=W=vysledek3
0B73   0008           03639         RETURN
                      03640 
                      03641 
                      03642         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B44
LEDZAM                            00000002
LOM24                             00000B38
LOMENO24                          00000B31
LZapor                            00000B4C
MINUS                             00000B5C
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AFA
adconv2                           00000B01
adconv_one                        00000B22
alabli                            00000140
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            0000022A
conf                              00000059
dotaz                             0000014A
dotazerr                          000001FF
if_127                            00000319
if_128                            0000031B
if_49                             000002F3
if_50                             000002EB
if_51                             000002F7
if_52                             000002F9
if_53                             000002FB
if_54                             000002FD
if_55                             000002FF
if_56                             00000301
if_57                             00000303
if_58                             00000251
if_59                             000002ED
if_60                             000002EF
if_61                             000002F1
if_62                             0000029E
if_80                             000002F5
if_84                             00000305
if_85                             00000307
if_86                             00000309
if_87                             0000030B
if_88                             0000030D
if_89                             0000030F
if_90                             00000311
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             00000313
if_92                             00000315
if_93                             00000317
if_x                              00000368
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           000006D9
ledPCRun                          00000078
ledzam                            000006E8
locked                            00000051
loop                              0000084A
lzabli                            000000EA
no1down                           00000A1D
no1stop                           00000A32
no1up                             00000A08
no2down                           00000A5C
no2stop                           00000A71
no2up                             00000A47
no3down                           00000A9B
no3stop                           00000AB0
no3up                             00000A86
no4down                           00000ADA
no4stop                           00000AEF
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

no4up                             00000AC5
o1down                            00000A13
o1stop                            00000A28
o1tar                             00000024
o1tmp                             00000020
o1up                              000009FE
o2down                            00000A52
o2stop                            00000A67
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A3D
o3down                            00000A91
o3stop                            00000AA6
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A7C
o4down                            00000AD0
o4stop                            00000AE5
o4tar                             00000027
o4tmp                             00000023
o4up                              00000ABB
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            00000107
okna                              000009B9
okno2                             000009CA
okno3                             000009DB
okno4                             000009EC
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

r5                                00000024
r6                                00000025
radio                             00000060
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000D9
s_temp                            00000027
setout                            00000203
sirbeep                           000000A5
spinac                            00000064
spioff                            00000102
start                             00000827
t1_00                             000003B1
t1_01                             000003D4
t1_02                             000003F5
t1_03                             0000041D
t1_04                             00000443
t1_05                             00000472
t1_06                             00000492
t1_07                             000004CE
t1_08                             000004DC
t1_09                             000004EA
t1_10                             000004EC
t1_11                             000004F6
t1_12                             000004FD
t1_13                             00000506
t1_14                             0000050F
t1_15                             00000516
t1_16                             0000051D
t1_17                             00000524
t1_18                             00000526
t1_19                             00000528
t1_20                             0000052A
t1_21                             00000531
t1_22                             00000538
t1_23                             0000053F
t1_24                             00000546
t1_25                             0000054D
t1_26                             00000554
t1_27                             00000563
t1_28                             00000565
t1_29                             00000567
t1_30                             00000569
t1_31                             00000570
t1_32                             00000577
t1_33                             00000582
t1_34                             0000058D
t1_35                             00000594
t1_36                             0000059B
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

t1_37                             000005A6
t1_38                             000005B6
t1_39                             000005B8
t1_40                             000005BA
t1_41                             000005C9
t1_42                             000005D8
t1_43                             000005E7
t1_44                             000005F6
t1_45                             00000605
t1_46                             00000609
t1_47                             0000060D
t1_48                             0000061C
t1_49                             0000061E
t1_50                             00000620
t1_51                             00000627
t1_52                             0000062B
t1_53                             0000062F
t1_54                             0000063E
t1_55                             0000064D
t1_56                             00000651
t1_57                             0000066B
t1_58                             0000066D
t1_59                             0000066F
t1_60                             00000671
t1_61                             0000067C
t1_62                             0000068B
t1_63                             0000069A
t1_64                             000006A4
t1_65                             000006AE
t1_66                             000006B8
t1_67                             000006C2
t1_68                             000006C4
t1_69                             000006C6
t1_stop                           0000036A
t1_x                              000006C8
t2_02                             00000410
t2_03                             00000436
t2_37                             000005AF
t2_stop                           0000036C
t3_02                             00000419
t3_03                             0000043F
t3_stop                           0000036E
timala                            00000067
timer1                            00000062
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           00000370
varoff                            000000AE
vterina                           0000006C
vterinka                          00000077
w100c                             000006CF
w20i                              000006CA
w40c                              000006D4
w_temp                            00000026
watchover                         00000057
watchstart                        00000059
watchwait                         0000005C
wtuoff                            000000F1
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B56


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   4-23-2013  20:41:12         PAGE 83


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXX---------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXX------------

All other memory blocks unused.

Program Memory Words Used:  2664
Program Memory Words Free:  1432


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :   105 reported,     0 suppressed

