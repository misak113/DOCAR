MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
  0000006C            00097 vterina
                      00098       ; registr 79/96
                      00099       endc
                      00100 
                      00101 ; BANK 1
                      00102       cblock    0x20
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 
  00000020            00104 o1tmp       
  00000021            00105 o2tmp       
  00000022            00106 o3tmp       
  00000023            00107 o4tmp       
  00000024            00108 o1tar       
  00000025            00109 o2tar       
  00000026            00110 o3tar       
  00000027            00111 o4tar       
                      00112       endc
                      00113 
                      00114 
                      00115 ;Lokální proměne (pracovni a parametry) od 6D
                      00116       cblock 0x70
  00000070            00117 pri0       
  00000071            00118 pri1       
  00000072            00119 pri2        
  00000073            00120 pri3      
  00000074            00121 pri4        
  00000075            00122 pri5       
  00000076            00123 pri6    
  00000077            00124 pri7        
  00000078            00125 cil       
                      00126       endc  
                      00127 
                      00128       cblock 0x70
  00000070            00129 CIS1_L      
  00000071            00130 CIS1_H      
  00000072            00131 CIS2_L 
  00000073            00132 CIS2_H 
  00000074            00133 OUT_L 
  00000075            00134 OUT_H       
  00000076            00135 ran1      
  00000077            00136 ran2      
  00000078            00137 ran3       
  00000079            00138 ran4    
  0000007A            00139 ran5  
                      00140       endc
                      00141   
                      00142       cblock 0x70
  00000070            00143 A1    
  00000071            00144 A2    
  00000072            00145 A3    
  00000073            00146 B1    
  00000074            00147 B2    
  00000075            00148 B3    
  00000076            00149 C1    
  00000077            00150 C2    
  00000078            00151 C3    
  00000079            00152 D1    
  0000007A            00153 D2    
  0000007B            00154 D3    
  0000007C            00155 X1    
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007D            00156 X2    
  0000007E            00157 FL    
                      00158       endc
                      00159 
                      00160 
                      00161 
                      00162 ;KONSTANTY
                      00163 ;conf constant
  00000000            00164 T0OF        equ .0
  00000001            00165 STARTED     equ .1
  00000002            00166 WATCHOVER   equ .2
  00000003            00167 PCON_POR    equ .3
  00000004            00168 T1OF        equ .4
                      00169 ;casov constant
                      00170 ;VAROV       equ .0
  00000001            00171 REDTUN      equ .1
  00000002            00172 LEDZAM      equ .2
  00000003            00173 WHITUN      equ .3
  00000004            00174 ODSKOK      equ .4
  00000005            00175 ALARM       equ .5
                      00176 
                      00177 ;system constants
  00000001            00178 POR         equ .1
                      00179 
                      00180 
                      00181 
0000                  00182             org 000h        ;vektor zacatku
0000   2816           00183             goto init
                      00184 
0004                  00185             org 004h        ;vektor preruseni
0004   00A6           00186             movwf w_temp ;copy w to temp register
0005   0803           00187             movf STATUS, W ;swap status to be saved into w
0006   00A7           00188             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00189             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00190             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00191             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00192             
000A   118A           00193             bcf PCLATH,3 ;Select page 0
000B   204E           00194             call inter
                      00195         
000C   0828           00196             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00197             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00198             movf s_temp, W ;swap status_temp register into w
000F   0083           00199             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00200             movf w_temp, W ;
0011   1D27           00201             btfss s_temp, Z
0012   1103           00202             bcf STATUS, Z
0013   1927           00203             btfsc s_temp, Z
0014   1503           00204             bsf STATUS, Z
0015   0008           00205             return
                      00206 
0016   118A           00207 init        bcf PCLATH,3 ;Select page 0
0017   120A           00208             bcf PCLATH,4 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00209                 
0018   0185           00210             clrf PORTA      ;Init PORTS 
0019   0186           00211             clrf PORTB
001A   0187           00212             clrf PORTC
001B   0188           00213             clrf PORTD
001C   0189           00214             clrf PORTE
                      00215             
001D   1683           00216             bsf STATUS, RP0  ;Bank 1
                      00217             
001E   3049           00218             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00219             movwf ADCON1
                      00220     
0020   302F           00221             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00222             movwf TRISA
0022   3001           00223             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00224             movwf TRISB
0024   3000           00225             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00226             movwf TRISC
0026   3000           00227             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00228             movwf TRISD
0028   3001           00229             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00230             movwf TRISE
                      00231             
002A   0064           00232             clrwdt
002B   30CC           00233             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00234             movwf OPTION_REG
                      00235             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00236             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00237             bsf PCON, POR
                      00238 
002F   1283           00239             bcf STATUS, RP0 ;Bank 0
                      00240 
0030   00A0           00241             movwf r1
0031   11D9           00242             bcf conf, PCON_POR
0032   18A0           00243             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00244             bsf conf, PCON_POR
                      00245 
                      00246 
0034   3021           00247             movlw b'00100001' ; nastaví control register timer1
0035   0090           00248             movwf T1CON
0036   3046           00249             movlw b'01000110' ; nastaví control register timer2
0037   0092           00250             movwf T2CON
                      00251             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   203D           00252             call inton
                      00253             
                      00254             
0039   158A           00255             bsf PCLATH,3 ;Select page 1
003A   19D9           00256             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00257             goto restart
                      00258 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2827           00259             goto start      ;zacni na startu
                      00260         
                      00261         
                      00262         
                      00263 
003D   108B           00264 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00265             bsf INTCON, INTE
                      00266             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00267             ;bsf INTCON, T0IE
003F   100C           00268             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00269             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00270             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00271             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00272             bsf PIE1, TMR2IE
0044   1283           00273             bcf STATUS, RP0 ;Bank 0
0045   170B           00274             bsf INTCON, PEIE
0046   178B           00275             bsf INTCON, GIE
0047   0008           00276             return
                      00277         
0048   120B           00278 intoff      bcf INTCON, INTE
                      00279             ;bcf INTCON, T0IE
0049   1683           00280             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00281             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00282             bcf PIE1, TMR2IE
004C   1283           00283             bcf STATUS, RP0 ;Bank 0
004D   0008           00284             return
                      00285 
                      00286 
                      00287 
004E   2048           00288 inter       call intoff
                      00289       
004F   188B           00290             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2060           00291             call radio
                      00292             ;btfsc INTCON, T0IF
                      00293             ;bsf conf, T0OF
0051   180C           00294             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0052   1659           00295             bsf conf, T1OF
0053   188C           00296             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0054   2057           00297             call watchover
                      00298             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0055   203D           00299             call inton
0056   0008           00300             return
                      00301 
                      00302 ;pokud přetekl timer2 pro watch
0057   1559           00303 watchover   bsf conf, WATCHOVER
0058   0008           00304             return
                      00305             
                      00306 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0059   1159           00307 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005A   0191           00308             clrf TMR2 ;vynuluje timer2
005B   0008           00309             return
                      00310             
005C   1D59           00311 watchwait   btfss conf, WATCHOVER
005D   285C           00312             goto $-1
                      00313             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
005E   26E0           00314             call w100c
005F   0008           00315             return
                      00316 
                      00317 ;při zachyceni signalu na radiovem přijímači        
0060   0000           00318 radio       nop
0061   0008           00319             return
                      00320 
                      00321 ;timer0     nop
                      00322             
                      00323             ;bcf conf, T0OF
                      00324             ;return
                      00325 
                      00326 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0062   1858           00327 timer1      btfsc cassir, 0
0063   20A5           00328             call sirbeep
0064   186B           00329             btfsc casvar, 0
0065   20AE           00330             call varoff
0066   18DA           00331             btfsc casov, REDTUN
0067   20D9           00332             call rtuoff
0068   195A           00333             btfsc casov, LEDZAM
0069   20EA           00334             call lzabli
006A   19DA           00335             btfsc casov, WHITUN
006B   20F1           00336             call wtuoff
006C   1A5A           00337             btfsc casov, ODSKOK
006D   2107           00338             call odsoff
006E   1ADA           00339             btfsc casov, ALARM
006F   213C           00340             call alabli
0070   1964           00341             btfsc spinac, 2
0071   2102           00342             call spioff
                      00343 
0072   03EC           00344             decf vterina, F
0073   1903           00345             btfsc STATUS, Z
0074   2077           00346             call vterinka
                      00347 
0075   1259           00348             bcf conf, T1OF
0076   0008           00349             return
                      00350             
0077   0000           00351 vterinka    nop
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00352 
                      00353 ;Ledky blikajici kdyz je PC zaply
0078   082F           00354 ledPCRun    movf o_g, W
0079   00A4           00355             movwf r5
007A   300C           00356             movlw b'01100' ;port B4
007B   00D2           00357             movwf port
007C   3003           00358             movlw b'11' ;procesor 3
007D   00D3           00359             movwf prc
007E   1AA4           00360             btfsc r5, 5
007F   2200           00361             call setout ;nastav port v prc
0080   1AA4           00362             btfsc r5, 5
0081   162F           00363             bsf o_g, 4 
0082   1EA4           00364             btfss r5, 5
0083   2227           00365             call clrout ;nastav port v prc
0084   1EA4           00366             btfss r5, 5
0085   122F           00367             bcf o_g, 4 
                      00368             
0086   082F           00369             movf o_g, W
0087   00A4           00370             movwf r5
0088   300D           00371             movlw b'01101' ;port B5
0089   00D2           00372             movwf port
008A   3003           00373             movlw b'11' ;procesor 3
008B   00D3           00374             movwf prc
008C   1E24           00375             btfss r5, 4
008D   2200           00376             call setout ;nastav port v prc
008E   1E24           00377             btfss r5, 4
008F   16AF           00378             bsf o_g, 5 
0090   1A24           00379             btfsc r5, 4
0091   2227           00380             call clrout ;nastav port v prc
0092   1A24           00381             btfsc r5, 4
0093   12AF           00382             bcf o_g, 5 
                      00383 
                      00384             ;vypne zadni pasy po restartu
0094   300E           00385             movlw b'01110' ;port B6
0095   00D2           00386             movwf port
0096   3003           00387             movlw b'11' ;procesor 3
0097   00D3           00388             movwf prc
0098   1B2F           00389             btfsc o_g, 6
0099   2227           00390             call clrout ;nastav port v prc
009A   132F           00391             bcf o_g, 6 
                      00392             
009B   300F           00393             movlw b'01111' ;port B7
009C   00D2           00394             movwf port
009D   3003           00395             movlw b'11' ;procesor 3
009E   00D3           00396             movwf prc
009F   1BAF           00397             btfsc o_g, 7
00A0   2227           00398             call clrout ;nastav port v prc
00A1   13AF           00399             bcf o_g, 7 
                      00400 
                      00401             ; nastaveni nove vterinky
00A2   3009           00402             movlw .9 ;nastavy na dalsich 240ms
00A3   00EC           00403             movwf vterina
00A4   0008           00404             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00405 
                      00406 
                      00407 ;houkani sireny v intervalech cca 240ms        
00A5   03D7           00408 sirbeep     decf timsir, F
00A6   1D03           00409             btfss STATUS, Z
00A7   0008           00410             return
00A8   1003           00411             bcf STATUS, C
00A9   0CD8           00412             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
00AA   2639           00413             call t1_53 ;neguje houkani sireny
00AB   3003           00414             movlw .3 ;nastavy na dalsich 240ms
00AC   00D7           00415             movwf timsir
00AD   0008           00416             return
                      00417             
                      00418 ;blikani varovek
00AE   03DB           00419 varoff      decf timvar, F
00AF   1D03           00420             btfss STATUS, Z
00B0   0008           00421             return
00B1   0CEB           00422             rrf casvar, F
00B2   1C03           00423             btfss STATUS, C
00B3   13EB           00424             bcf casvar, 7
00B4   1803           00425             btfsc STATUS, C
00B5   17EB           00426             bsf casvar, 7
                      00427             
00B6   01A1           00428             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
00B7   01A2           00429             clrf r3
00B8   1A2D           00430             btfsc o_e, 4
00B9   1421           00431             bsf r2, 0
00BA   1AAD           00432             btfsc o_e, 5
00BB   1422           00433             bsf r3, 0
00BC   0821           00434             movf r2, W
00BD   05A2           00435             andwf r3, F
                      00436             
00BE   1822           00437             btfsc r3, 0 ;pokud oba zaply oba vypne
00BF   122D           00438             bcf o_e, 4
00C0   1822           00439             btfsc r3, 0 ;pokud oba zaply oba vypne
00C1   1361           00440             bcf PORTD_temp, 6
00C2   1822           00441             btfsc r3, 0 ;pokud oba zaply oba vypne
00C3   1308           00442             bcf PORTD, 6
00C4   1822           00443             btfsc r3, 0 ;pokud oba zaply oba vypne
00C5   12AD           00444             bcf o_e, 5
00C6   1822           00445             btfsc r3, 0 ;pokud oba zaply oba vypne
00C7   13E1           00446             bcf PORTD_temp, 7
00C8   1822           00447             btfsc r3, 0 ;pokud oba zaply oba vypne
00C9   1388           00448             bcf PORTD, 7
                      00449     
00CA   1C22           00450             btfss r3, 0 ;pokud jeden vyply oba zapne
00CB   162D           00451             bsf o_e, 4
00CC   1C22           00452             btfss r3, 0 ;pokud jeden vyply oba zapne
00CD   1761           00453             bsf PORTD_temp, 6
00CE   1C22           00454             btfss r3, 0 ;pokud jeden vyply oba zapne
00CF   1708           00455             bsf PORTD, 6
00D0   1C22           00456             btfss r3, 0 ;pokud jeden vyply oba zapne
00D1   16AD           00457             bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D2   1C22           00458             btfss r3, 0 ;pokud jeden vyply oba zapne
00D3   17E1           00459             bsf PORTD_temp, 7
00D4   1C22           00460             btfss r3, 0 ;pokud jeden vyply oba zapne
00D5   1788           00461             bsf PORTD, 7
                      00462             
00D6   3008           00463             movlw .8 ;nastavy na dalsich 240ms
00D7   00DB           00464             movwf timvar
00D8   0008           00465             return
                      00466 
                      00467 ;vypnuti red tuning
00D9   03DC           00468 rtuoff      decf timrtu, F
00DA   1D03           00469             btfss STATUS, Z
00DB   0008           00470             return
00DC   112B           00471             bcf o_c, 2 ;vypne red tunning
00DD   3016           00472             movlw b'10110' ;port C6
00DE   00D2           00473             movwf port
00DF   3002           00474             movlw b'10' ;procesor 2
00E0   00D3           00475             movwf prc
00E1   2227           00476             call clrout ;smaz port v prc
00E2   11AE           00477             bcf o_f, 3 ;vypne red interier
00E3   301A           00478             movlw b'11010' ;port D2
00E4   00D2           00479             movwf port
00E5   3002           00480             movlw b'10' ;procesor 2
00E6   00D3           00481             movwf prc
00E7   2227           00482             call clrout ;smaz port v prc
00E8   10DA           00483             bcf casov, REDTUN ;timer red tunningu nebude vniman
00E9   0008           00484             return
                      00485             
                      00486 ;blikani led zamknuto
00EA   03DD           00487 lzabli      decf timlza, F
00EB   1D03           00488             btfss STATUS, Z
00EC   0008           00489             return
00ED   26F9           00490             call ledzam ;neguje led zamknuto
00EE   300F           00491             movlw .15 ;nasavy na dalsich 240ms
00EF   00DD           00492             movwf timlza
00F0   0008           00493             return
                      00494             
                      00495 ;vypnuti white tuning
00F1   03E3           00496 wtuoff      decf timwtu, F
00F2   1D03           00497             btfss STATUS, Z
00F3   0008           00498             return
00F4   11AB           00499             bcf o_c, 3 ;vypne white tunning
00F5   3017           00500             movlw b'10111' ;port C7
00F6   00D2           00501             movwf port
00F7   3002           00502             movlw b'10' ;procesor 2
00F8   00D3           00503             movwf prc
00F9   2227           00504             call clrout ;smaz port v prc
00FA   122E           00505             bcf o_f, 4 ;vypne white interier
00FB   301B           00506             movlw b'11011' ;port D3
00FC   00D2           00507             movwf port
00FD   3002           00508             movlw b'10' ;procesor 2
00FE   00D3           00509             movwf prc
00FF   2227           00510             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0100   11DA           00511             bcf casov, WHITUN ;timer red tunningu nebude vniman
0101   0008           00512             return
                      00513             
                      00514 ;vypnuti polohy 3 spinacky
0102   03E5           00515 spioff      decf timspi, F
0103   1D03           00516             btfss STATUS, Z
0104   0008           00517             return
0105   2418           00518             call t1_03
0106   0008           00519             return
                      00520             
                      00521 ;vypnuti odskoků
0107   03E6           00522 odsoff      decf timods, F
0108   1D03           00523             btfss STATUS, Z
0109   0008           00524             return
010A   122A           00525             bcf o_b, 4
010B   301F           00526             movlw b'11111' ;port D7
010C   00D2           00527             movwf port
010D   3003           00528             movlw b'11' ;procesor 3
010E   00D3           00529             movwf prc
010F   2227           00530             call clrout ;smaz port v prc
0110   12AA           00531             bcf o_b, 5
0111   13E0           00532             bcf PORTC_temp, 7
0112   1387           00533             bcf PORTC, 7
0113   132A           00534             bcf o_b, 6
0114   115F           00535             bcf PORTB_temp, 2
0115   1106           00536             bcf PORTB, 2
0116   13AA           00537             bcf o_b, 7
0117   11DF           00538             bcf PORTB_temp, 3
0118   1186           00539             bcf PORTB, 3
0119   11AA           00540             bcf o_b, 3
011A   125F           00541             bcf PORTB_temp, 4
011B   1206           00542             bcf PORTB, 4
011C   102D           00543             bcf o_e, 0
011D   12DF           00544             bcf PORTB_temp, 5
011E   1286           00545             bcf PORTB, 5
011F   102B           00546             bcf o_c, 0
0120   135F           00547             bcf PORTB_temp, 6
0121   1306           00548             bcf PORTB, 6
                      00549 
0122   13AD           00550             bcf o_e, 7
0123   301E           00551             movlw b'11110' ;port D6
0124   00D2           00552             movwf port
0125   3002           00553             movlw b'10' ;procesor 2
0126   00D3           00554             movwf prc
0127   2227           00555             call clrout ;nastav port v prc
0128   132D           00556             bcf o_e, 6
0129   301C           00557             movlw b'11100' ;port D4
012A   00D2           00558             movwf port
012B   3002           00559             movlw b'10' ;procesor 2
012C   00D3           00560             movwf prc
012D   2227           00561             call clrout ;nastav port v prc
012E   12AE           00562             bcf o_f, 5
012F   301D           00563             movlw b'11101' ;port D5
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0130   00D2           00564             movwf port
0131   3002           00565             movlw b'10' ;procesor 2
0132   00D3           00566             movwf prc
0133   2227           00567             call clrout ;nastav port v prc
0134   102E           00568             bcf o_f, 0
0135   301F           00569             movlw b'11111' ;port D7
0136   00D2           00570             movwf port
0137   3002           00571             movlw b'10' ;procesor 2
0138   00D3           00572             movwf prc
0139   2227           00573             call clrout ;nastav port v prc
                      00574 
013A   125A           00575             bcf casov, ODSKOK ;timer red tunningu nebude vniman
013B   0008           00576             return
                      00577             
                      00578 ;Problikavani alarmu
013C   03E7           00579 alabli      decf timala, F
013D   1D03           00580             btfss STATUS, Z
013E   0008           00581             return
                      00582 
013F   25C4           00583             call t1_40
0140   25D3           00584             call t1_41
0141   268D           00585             call t1_61
0142   269C           00586             call t1_62
0143   26EA           00587             call klakson
                      00588             
0144   3014           00589             movlw .20 ;nasavy na dalsich 240ms
0145   00E7           00590             movwf timala
0146   0008           00591             return
                      00592 
                      00593 
                      00594 
                      00595 
                      00596 
                      00597 
0147   1486           00598 dotaz       bsf PORTB, 1  ;start bity XX - 10
0148   26E0           00599             call w100c
0149   1086           00600             bcf PORTB, 1
014A   26E0           00601             call w100c
                      00602             
014B   0878           00603             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
014C   00A0           00604             movwf r1
014D   3004           00605             movlw .4
014E   00A1           00606             movwf r2
014F   19A0           00607             btfsc r1, 3
0150   1486           00608             bsf PORTB, 1
0151   1DA0           00609             btfss r1, 3
0152   1086           00610             bcf PORTB, 1
0153   26E0           00611             call w100c
0154   0DA0           00612             rlf r1, F
0155   0BA1           00613             decfsz r2, F
0156   294F           00614             goto $-7
                      00615             
0157   3000           00616             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0158   00A0           00617             movwf r1
0159   3007           00618             movlw .7
015A   00A1           00619             movwf r2
015B   1B20           00620             btfsc r1, 6
015C   1486           00621             bsf PORTB, 1
015D   1F20           00622             btfss r1, 6
015E   1086           00623             bcf PORTB, 1
015F   26E0           00624             call w100c
0160   0DA0           00625             rlf r1, F
0161   0BA1           00626             decfsz r2, F
0162   295B           00627             goto $-7
                      00628             
0163   1486           00629             bsf PORTB, 1  ;STOP bity XXX - 111
0164   26E0           00630             call w100c
0165   26E0           00631             call w100c
0166   26E0           00632             call w100c
0167   1086           00633             bcf PORTB, 1
0168   26E5           00634             call w40c
                      00635             
0169   1683           00636             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
016A   1486           00637             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
016B   1283           00638             bcf STATUS, RP0  ;Bank 0
                      00639             
016C   1959           00640             btfsc conf, WATCHOVER
016D   29FC           00641             goto dotazerr
016E   1C86           00642             btfss PORTB, 1  ;ceka az zacne vysilat signal
016F   296C           00643             goto $-3 ;ochrana proti zamrznuti
                      00644             
0170   1959           00645             btfsc conf, WATCHOVER
0171   29FC           00646             goto dotazerr
0172   1886           00647             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0173   2970           00648             goto $-3 ;ochrana proti zamrznuti
                      00649             
0174   26E5           00650             call w40c   ;posune do prostred signalu X - 0
0175   26E0           00651             call w100c
                      00652             
0176   01F0           00653             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0177   3008           00654             movlw .8
0178   00A1           00655             movwf r2
0179   0DF0           00656             rlf pri0, F
017A   1886           00657             btfsc PORTB, 1
017B   1470           00658             bsf pri0, 0
017C   1C86           00659             btfss PORTB, 1
017D   1070           00660             bcf pri0, 0
017E   26E0           00661             call w100c
017F   0BA1           00662             decfsz r2, F
0180   2979           00663             goto $-7
                      00664             
0181   1959           00665             btfsc conf, WATCHOVER
0182   29FC           00666             goto dotazerr
0183   1886           00667             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0184   2981           00668             goto $-3 ;ochrana proti zamrznuti
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0185   26E5           00669             call w40c
0186   26E0           00670             call w100c
                      00671             
                      00672             
0187   01F1           00673             clrf pri1        ; ulozi priijate do pri XXXX XXXX
0188   3008           00674             movlw .8
0189   00A1           00675             movwf r2
018A   0DF1           00676             rlf pri1, F
018B   1886           00677             btfsc PORTB, 1
018C   1471           00678             bsf pri1, 0
018D   1C86           00679             btfss PORTB, 1
018E   1071           00680             bcf pri1, 0
018F   26E0           00681             call w100c
0190   0BA1           00682             decfsz r2, F
0191   298A           00683             goto $-7
                      00684             
0192   1959           00685             btfsc conf, WATCHOVER
0193   29FC           00686             goto dotazerr
0194   1886           00687             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0195   2992           00688             goto $-3 ;ochrana proti zamrznuti
0196   26E5           00689             call w40c
0197   26E0           00690             call w100c
                      00691             
                      00692             
0198   01F2           00693             clrf pri2        ; ulozi priijate do pri XXXX XXXX
0199   3008           00694             movlw .8
019A   00A1           00695             movwf r2
019B   0DF2           00696             rlf pri2, F
019C   1886           00697             btfsc PORTB, 1
019D   1472           00698             bsf pri2, 0
019E   1C86           00699             btfss PORTB, 1
019F   1072           00700             bcf pri2, 0
01A0   26E0           00701             call w100c
01A1   0BA1           00702             decfsz r2, F
01A2   299B           00703             goto $-7
                      00704             
01A3   1959           00705             btfsc conf, WATCHOVER
01A4   29FC           00706             goto dotazerr
01A5   1886           00707             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A6   29A3           00708             goto $-3 ;ochrana proti zamrznuti
01A7   26E5           00709             call w40c
01A8   26E0           00710             call w100c
                      00711             
                      00712             
01A9   01F3           00713             clrf pri3        ; ulozi priijate do pri XXXX XXXX
01AA   3008           00714             movlw .8
01AB   00A1           00715             movwf r2
01AC   0DF3           00716             rlf pri3, F
01AD   1886           00717             btfsc PORTB, 1
01AE   1473           00718             bsf pri3, 0
01AF   1C86           00719             btfss PORTB, 1
01B0   1073           00720             bcf pri3, 0
01B1   26E0           00721             call w100c
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B2   0BA1           00722             decfsz r2, F
01B3   29AC           00723             goto $-7
                      00724             
01B4   1959           00725             btfsc conf, WATCHOVER
01B5   29FC           00726             goto dotazerr
01B6   1886           00727             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01B7   29B4           00728             goto $-3 ;ochrana proti zamrznuti
01B8   26E5           00729             call w40c
01B9   26E0           00730             call w100c
                      00731             
                      00732             
01BA   01F4           00733             clrf pri4        ; ulozi priijate do pri XXXX XXXX
01BB   3008           00734             movlw .8
01BC   00A1           00735             movwf r2
01BD   0DF4           00736             rlf pri4, F
01BE   1886           00737             btfsc PORTB, 1
01BF   1474           00738             bsf pri4, 0
01C0   1C86           00739             btfss PORTB, 1
01C1   1074           00740             bcf pri4, 0
01C2   26E0           00741             call w100c
01C3   0BA1           00742             decfsz r2, F
01C4   29BD           00743             goto $-7
                      00744             
01C5   1959           00745             btfsc conf, WATCHOVER
01C6   29FC           00746             goto dotazerr
01C7   1886           00747             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01C8   29C5           00748             goto $-3 ;ochrana proti zamrznuti
01C9   26E5           00749             call w40c
01CA   26E0           00750             call w100c
                      00751             
                      00752             
01CB   01F5           00753             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01CC   3008           00754             movlw .8
01CD   00A1           00755             movwf r2
01CE   0DF5           00756             rlf pri5, F
01CF   1886           00757             btfsc PORTB, 1
01D0   1475           00758             bsf pri5, 0
01D1   1C86           00759             btfss PORTB, 1
01D2   1075           00760             bcf pri5, 0
01D3   26E0           00761             call w100c
01D4   0BA1           00762             decfsz r2, F
01D5   29CE           00763             goto $-7
                      00764             
01D6   1959           00765             btfsc conf, WATCHOVER
01D7   29FC           00766             goto dotazerr
01D8   1886           00767             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01D9   29D6           00768             goto $-3 ;ochrana proti zamrznuti
01DA   26E5           00769             call w40c
01DB   26E0           00770             call w100c
                      00771             
                      00772             
01DC   01F6           00773             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01DD   3008           00774             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01DE   00A1           00775             movwf r2
01DF   0DF6           00776             rlf pri6, F
01E0   1886           00777             btfsc PORTB, 1
01E1   1476           00778             bsf pri6, 0
01E2   1C86           00779             btfss PORTB, 1
01E3   1076           00780             bcf pri6, 0
01E4   26E0           00781             call w100c
01E5   0BA1           00782             decfsz r2, F
01E6   29DF           00783             goto $-7
                      00784             
01E7   1959           00785             btfsc conf, WATCHOVER
01E8   29FC           00786             goto dotazerr
01E9   1886           00787             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01EA   29E7           00788             goto $-3 ;ochrana proti zamrznuti
01EB   26E5           00789             call w40c
01EC   26E0           00790             call w100c
                      00791             
                      00792             
01ED   01F7           00793             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01EE   3008           00794             movlw .8
01EF   00A1           00795             movwf r2
01F0   0DF7           00796             rlf pri7, F
01F1   1886           00797             btfsc PORTB, 1
01F2   1477           00798             bsf pri7, 0
01F3   1C86           00799             btfss PORTB, 1
01F4   1077           00800             bcf pri7, 0
01F5   26E0           00801             call w100c
01F6   0BA1           00802             decfsz r2, F
01F7   29F0           00803             goto $-7
                      00804             
01F8   1959           00805             btfsc conf, WATCHOVER
01F9   29FC           00806             goto dotazerr
01FA   1886           00807             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01FB   29F8           00808             goto $-3 ;ochrana proti zamrznuti
                      00809             
                      00810             
01FC   1683           00811 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01FD   1086           00812             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01FE   1283           00813             bcf STATUS, RP0  ;Bank 0
01FF   0008           00814             return
                      00815         
                      00816         ; WATCH2 start
0200   1486           00817 setout      bsf PORTB, 1  ;start bity XX - 10
0201   26E0           00818             call w100c
0202   1086           00819             bcf PORTB, 1
0203   26E0           00820             call w100c
                      00821             
0204   0853           00822             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0205   00A0           00823             movwf r1
0206   3004           00824             movlw .4
0207   00A1           00825             movwf r2
0208   19A0           00826             btfsc r1, 3
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0209   1486           00827             bsf PORTB, 1
020A   1DA0           00828             btfss r1, 3
020B   1086           00829             bcf PORTB, 1
020C   26E0           00830             call w100c
020D   0DA0           00831             rlf r1, F
020E   0BA1           00832             decfsz r2, F
020F   2A08           00833             goto $-7
                      00834             
0210   1486           00835             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0211   26E0           00836             call w100c
                      00837             
0212   0852           00838             movf port, W   ;vysila port ke zmene XXXXX
0213   00A0           00839             movwf r1
0214   3005           00840             movlw .5
0215   00A1           00841             movwf r2
0216   1A20           00842             btfsc r1, 4
0217   1486           00843             bsf PORTB, 1
0218   1E20           00844             btfss r1, 4
0219   1086           00845             bcf PORTB, 1
021A   26E0           00846             call w100c
021B   0DA0           00847             rlf r1, F
021C   0BA1           00848             decfsz r2, F
021D   2A16           00849             goto $-7
                      00850             
021E   1486           00851             bsf PORTB, 1  ;vysle hodnotu 1
021F   26E0           00852             call w100c
                      00853             
0220   1486           00854             bsf PORTB, 1  ;STOP bity XXX - 111
0221   26E0           00855             call w100c
0222   26E0           00856             call w100c
0223   26E0           00857             call w100c
0224   1086           00858             bcf PORTB, 1
0225   26E0           00859             call w100c
                      00860             ; WATCH2 wait
0226   0008           00861             return
                      00862 
                      00863       ; WATCH2 start
0227   1486           00864 clrout      bsf PORTB, 1  ;start bity XX - 10
0228   26E0           00865             call w100c
0229   1086           00866             bcf PORTB, 1
022A   26E0           00867             call w100c
                      00868             
022B   0853           00869             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
022C   00A0           00870             movwf r1
022D   3004           00871             movlw .4
022E   00A1           00872             movwf r2
022F   19A0           00873             btfsc r1, 3
0230   1486           00874             bsf PORTB, 1
0231   1DA0           00875             btfss r1, 3
0232   1086           00876             bcf PORTB, 1
0233   26E0           00877             call w100c
0234   0DA0           00878             rlf r1, F
0235   0BA1           00879             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0236   2A2F           00880             goto $-7
                      00881             
0237   1486           00882             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0238   26E0           00883             call w100c
                      00884             
0239   0852           00885             movf port, W   ;vysila port ke zmene XXXXX
023A   00A0           00886             movwf r1
023B   3005           00887             movlw .5
023C   00A1           00888             movwf r2
023D   1A20           00889             btfsc r1, 4
023E   1486           00890             bsf PORTB, 1
023F   1E20           00891             btfss r1, 4
0240   1086           00892             bcf PORTB, 1
0241   26E0           00893             call w100c
0242   0DA0           00894             rlf r1, F
0243   0BA1           00895             decfsz r2, F
0244   2A3D           00896             goto $-7
                      00897             
0245   1086           00898             bcf PORTB, 1  ;vysle hodnotu 0
0246   26E0           00899             call w100c
                      00900             
0247   1486           00901             bsf PORTB, 1  ;STOP bity XXX - 111
0248   26E0           00902             call w100c
0249   26E0           00903             call w100c
024A   26E0           00904             call w100c
024B   1086           00905             bcf PORTB, 1
024C   26E0           00906             call w100c
                      00907             ; WATCH2 wait
024D   0008           00908             return
                      00909         
                      00910         
                      00911         
                      00912         
                      00913         
                      00914         
                      00915         
                      00916         
                      00917         
                      00918         
                      00919         
                      00920         ;podprogramy
                      00921 ;Tlačitka funkci 1
024E   1BAC           00922 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
024F   0008           00923             return
                      00924             
0250   1003           00925             bcf STATUS, C
0251   0C3F           00926             rrf ir_58, W
0252   00A0           00927             movwf r1
0253   1003           00928             bcf STATUS, C
0254   0CA0           00929             rrf r1, F
0255   1003           00930             bcf STATUS, C
0256   0CA0           00931             rrf r1, F
0257   30E0           00932             movlw b'11100000'
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0258   04A0           00933             iorwf r1, F
                      00934             
0259   0820           00935             movf r1, W    ;zkontroluje jestli nebylo uz minule
025A   00A3           00936             movwf r4
025B   0854           00937             movf tl1, W
025C   06A3           00938             xorwf r4, F
025D   1903           00939             btfsc STATUS, Z
025E   0008           00940             return
025F   0820           00941             movf r1, W    ;ulozi aktualni tlacitko
0260   00D4           00942             movwf tl1
                      00943             
0261   0AA0           00944             incf r1, F
0262   1903           00945             btfsc STATUS, Z
0263   2494           00946             call t1_06
0264   0AA0           00947             incf r1, F
0265   1903           00948             btfsc STATUS, Z
0266   23F0           00949             call t1_02
0267   0AA0           00950             incf r1, F
0268   1903           00951             btfsc STATUS, Z
0269   2418           00952             call t1_03
026A   0AA0           00953             incf r1, F
026B   1903           00954             btfsc STATUS, Z
026C   2474           00955             call t1_05
026D   0AA0           00956             incf r1, F
026E   1903           00957             btfsc STATUS, Z
026F   25F1           00958             call t1_43
0270   0AA0           00959             incf r1, F
0271   1903           00960             btfsc STATUS, Z
0272   25E2           00961             call t1_42
0273   0AA0           00962             incf r1, F
0274   1903           00963             btfsc STATUS, Z
0275   24D0           00964             call t1_07
0276   0AA0           00965             incf r1, F
0277   1903           00966             btfsc STATUS, Z
0278   24DE           00967             call t1_08
0279   0AA0           00968             incf r1, F
027A   1903           00969             btfsc STATUS, Z
027B   2511           00970             call t1_14
027C   0AA0           00971             incf r1, F
027D   1903           00972             btfsc STATUS, Z
027E   2518           00973             call t1_15
027F   0AA0           00974             incf r1, F
0280   1903           00975             btfsc STATUS, Z
0281   25B0           00976             call t1_37
0282   0AA0           00977             incf r1, F
0283   1903           00978             btfsc STATUS, Z
0284   24EE           00979             call t1_10
0285   0AA0           00980             incf r1, F
0286   1903           00981             btfsc STATUS, Z
0287   24FF           00982             call t1_12
0288   0AA0           00983             incf r1, F
0289   1903           00984             btfsc STATUS, Z
028A   256B           00985             call t1_30
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028B   0AA0           00986             incf r1, F
028C   1903           00987             btfsc STATUS, Z
028D   2593           00988             call t1_34
028E   0AA0           00989             incf r1, F
028F   1903           00990             btfsc STATUS, Z
0290   257D           00991             call t1_32
0291   0AA0           00992             incf r1, F
0292   1903           00993             btfsc STATUS, Z
0293   25A5           00994             call t1_36
                      00995             ;pokud je tlacitko prave pusteno
0294   1003           00996             bcf STATUS, C
0295   0C3F           00997             rrf ir_58, W
0296   00A0           00998             movwf r1
0297   0820           00999             movf r1, W
0298   1903           01000             btfsc STATUS, Z
0299   2367           01001             call t1_stop
029A   0008           01002             return
                      01003 
                      01004 ;Tlačitka funkci 2
029B   1BAC           01005 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
029C   0008           01006             return
                      01007             
029D   1003           01008             bcf STATUS, C
029E   0C43           01009             rrf ir_62, W
029F   00A0           01010             movwf r1
02A0   1003           01011             bcf STATUS, C
02A1   0CA0           01012             rrf r1, F
02A2   1003           01013             bcf STATUS, C
02A3   0CA0           01014             rrf r1, F
02A4   30E0           01015             movlw b'11100000'
02A5   04A0           01016             iorwf r1, F
                      01017             
02A6   0820           01018             movf r1, W    ;zkontroluje jestli nebylo uz minule
02A7   00A3           01019             movwf r4
02A8   0855           01020             movf tl2, W
02A9   06A3           01021             xorwf r4, F
02AA   1903           01022             btfsc STATUS, Z
02AB   0008           01023             return
02AC   0820           01024             movf r1, W    ;ulozi aktualni tlacitko
02AD   00D5           01025             movwf tl2
                      01026     
02AE   0AA0           01027             incf r1, F
02AF   1903           01028             btfsc STATUS, Z
02B0   243E           01029             call t1_04
02B1   0AA0           01030             incf r1, F
02B2   1903           01031             btfsc STATUS, Z
02B3   265B           01032             call t1_56
02B4   0AA0           01033             incf r1, F
02B5   1903           01034             btfsc STATUS, Z
02B6   251F           01035             call t1_16
02B7   0AA0           01036             incf r1, F
02B8   1903           01037             btfsc STATUS, Z
02B9   2556           01038             call t1_26
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02BA   0AA0           01039             incf r1, F
02BB   1903           01040             btfsc STATUS, Z
02BC   2600           01041             call t1_44
02BD   0AA0           01042             incf r1, F
02BE   1903           01043             btfsc STATUS, Z
02BF   24F8           01044             call t1_11
02C0   0AA0           01045             incf r1, F
02C1   1903           01046             btfsc STATUS, Z
02C2   2508           01047             call t1_13
02C3   0AA0           01048             incf r1, F
02C4   1903           01049             btfsc STATUS, Z
02C5   2648           01050             call t1_54
02C6   0AA0           01051             incf r1, F
02C7   1903           01052             btfsc STATUS, Z
02C8   25D3           01053             call t1_41
02C9   0AA0           01054             incf r1, F
02CA   1903           01055             btfsc STATUS, Z
02CB   269C           01056             call t1_62
02CC   0AA0           01057             incf r1, F
02CD   1903           01058             btfsc STATUS, Z
02CE   25C4           01059             call t1_40
02CF   0AA0           01060             incf r1, F
02D0   1903           01061             btfsc STATUS, Z
02D1   268D           01062             call t1_61
02D2   0AA0           01063             incf r1, F
02D3   1903           01064             btfsc STATUS, Z
02D4   2574           01065             call t1_31
02D5   0AA0           01066             incf r1, F
02D6   1903           01067             btfsc STATUS, Z
02D7   259C           01068             call t1_35
02D8   0AA0           01069             incf r1, F
02D9   1903           01070             btfsc STATUS, Z
02DA   2639           01071             call t1_53
02DB   0AA0           01072             incf r1, F
02DC   1903           01073             btfsc STATUS, Z
02DD   2588           01074             call t1_33
02DE   0AA0           01075             incf r1, F
02DF   1903           01076             btfsc STATUS, Z
02E0   2682           01077             call t1_60
                      01078             ;pokud je tlacitko prave pusteno
02E1   1003           01079             bcf STATUS, C
02E2   0C43           01080             rrf ir_62, W
02E3   00A0           01081             movwf r1
02E4   0820           01082             movf r1, W
02E5   1903           01083             btfsc STATUS, Z
02E6   2369           01084             call t2_stop
02E7   0008           01085             return
                      01086 ;Tlačitka imobilizeru
02E8   0000           01087 if_50       nop
02E9   0008           01088             return
                      01089              ;pasy
02EA   0000           01090 if_59       nop
02EB   0008           01091             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01092              ;rychlost
02EC   0000           01093 if_60       nop
02ED   0008           01094             return
                      01095              ;otáčky
02EE   0000           01096 if_61       nop
02EF   0008           01097             return
                      01098              ;teplota in set
02F0   0000           01099 if_49       nop
02F1   0008           01100             return
                      01101              ;alarm senzory
02F2   0000           01102 if_80       nop
02F3   0008           01103             return
                      01104              ;baterie
02F4   0000           01105 if_51       nop
02F5   0008           01106             return
                      01107              ;teplota in
02F6   0000           01108 if_52       nop
02F7   0008           01109             return
                      01110              ;teplota eng
02F8   0000           01111 if_53       nop
02F9   0008           01112             return
                      01113              ;palivo
02FA   0000           01114 if_54       nop
02FB   0008           01115             return
                      01116              ;dveře 1
02FC   0000           01117 if_55       nop
02FD   0008           01118             return
                      01119              ;ruční brzda
02FE   0000           01120 if_56       nop
02FF   0008           01121             return
                      01122              ;kvalt
0300   0000           01123 if_57       nop
0301   0008           01124             return
                      01125              ;dveře 2
0302   0000           01126 if_84       nop
0303   0008           01127             return
                      01128              ;dveře 3
0304   0000           01129 if_85       nop
0305   0008           01130             return
                      01131              ;dveře 4
0306   0000           01132 if_86       nop
0307   0008           01133             return
                      01134              ;kapota
0308   0000           01135 if_87       nop
0309   0008           01136             return
                      01137              ;kufr
030A   0000           01138 if_88       nop
030B   0008           01139             return
                      01140              ;nadrz
030C   0000           01141 if_89       nop
030D   0008           01142             return
                      01143              ;okno 1
030E   0000           01144 if_90       nop
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

030F   0008           01145             return
                      01146              ;okno 2
0310   0000           01147 if_91       nop
0311   0008           01148             return
                      01149              ;okno 3
0312   0000           01150 if_92       nop
0313   0008           01151             return
                      01152              ;okno 4
0314   0000           01153 if_93       nop
0315   0008           01154             return
                      01155              ;teplota OUT
0316   0000           01156 if_127      nop
0317   0008           01157             return
                      01158 
                      01159 ;Tlačítka funkcí 3
0318   1BAC           01160 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0319   0000           01161             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01162             
031A   1003           01163             bcf STATUS, C
031B   0C50           01164             rrf ir_128, W
031C   00A0           01165             movwf r1
031D   1003           01166             bcf STATUS, C
031E   0CA0           01167             rrf r1, F
031F   1003           01168             bcf STATUS, C
0320   0CA0           01169             rrf r1, F
0321   30E0           01170             movlw b'11100000'
0322   04A0           01171             iorwf r1, F
                      01172             
0323   0820           01173             movf r1, W    ;zkontroluje jestli nebylo uz minule
0324   00A3           01174             movwf r4
0325   0856           01175             movf tl3, W
0326   06A3           01176             xorwf r4, F
0327   1903           01177             btfsc STATUS, Z
0328   0008           01178             return
0329   0820           01179             movf r1, W    ;ulozi aktualni tlacitko
032A   00D6           01180             movwf tl3
                      01181     
032B   0AA0           01182             incf r1, F
032C   1903           01183             btfsc STATUS, Z
032D   2617           01184             call t1_47
032E   0AA0           01185             incf r1, F
032F   1903           01186             btfsc STATUS, Z
0330   23AE           01187             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0331   0AA0           01188             incf r1, F
0332   1903           01189             btfsc STATUS, Z
0333   23D0           01190             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0334   0AA0           01191             incf r1, F
0335   1903           01192             btfsc STATUS, Z
0336   26D9           01193             call t1_x
0337   0AA0           01194             incf r1, F
0338   1903           01195             btfsc STATUS, Z
0339   26D9           01196             call t1_x
033A   0AA0           01197             incf r1, F
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033B   1903           01198             btfsc STATUS, Z
033C   26D9           01199             call t1_x
033D   0AA0           01200             incf r1, F
033E   1903           01201             btfsc STATUS, Z
033F   26D9           01202             call t1_x
0340   0AA0           01203             incf r1, F
0341   1903           01204             btfsc STATUS, Z
0342   26D9           01205             call t1_x
0343   0AA0           01206             incf r1, F
0344   1903           01207             btfsc STATUS, Z
0345   26D9           01208             call t1_x
0346   0AA0           01209             incf r1, F
0347   1903           01210             btfsc STATUS, Z
0348   26D9           01211             call t1_x
0349   0AA0           01212             incf r1, F
034A   1903           01213             btfsc STATUS, Z
034B   26D9           01214             call t1_x
034C   0AA0           01215             incf r1, F
034D   1903           01216             btfsc STATUS, Z
034E   26D9           01217             call t1_x
034F   0AA0           01218             incf r1, F
0350   1903           01219             btfsc STATUS, Z
0351   26D9           01220             call t1_x
0352   0AA0           01221             incf r1, F
0353   1903           01222             btfsc STATUS, Z
0354   26D9           01223             call t1_x
0355   0AA0           01224             incf r1, F
0356   1903           01225             btfsc STATUS, Z
0357   26D9           01226             call t1_x
0358   0AA0           01227             incf r1, F
0359   1903           01228             btfsc STATUS, Z
035A   26D9           01229             call t1_x
035B   0AA0           01230             incf r1, F
035C   1903           01231             btfsc STATUS, Z
035D   26D9           01232             call t1_x
                      01233             ;pokud je tlacitko prave pusteno
035E   1003           01234             bcf STATUS, C
035F   0C50           01235             rrf ir_128, W
0360   00A0           01236             movwf r1
0361   0820           01237             movf r1, W
0362   1903           01238             btfsc STATUS, Z
0363   236B           01239             call t3_stop
0364   0008           01240             return
                      01241 
                      01242 ;předpřipravené pro rozšíření procesoru 5 a vice
0365   0000           01243 if_x        nop
0366   0008           01244             return
                      01245 
                      01246 ;vypina holdovaci vystupy
0367   0000           01247 t1_stop     nop
0368   0008           01248             return
0369   0000           01249 t2_stop     nop
036A   0008           01250             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

036B   0000           01251 t3_stop     nop
036C   0008           01252             return
                      01253             
036D   3010           01254 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
036E   00D2           01255             movwf port
036F   3002           01256             movlw b'10' ;procesor 2
0370   00D3           01257             movwf prc
0371   18AC           01258             btfsc o_d, 1
0372   2227           01259             call clrout ;nastav port v prc
0373   10AC           01260             bcf o_d, 1
0374   3011           01261             movlw b'10001' ;port C1
0375   00D2           01262             movwf port
0376   3002           01263             movlw b'10' ;procesor 2
0377   00D3           01264             movwf prc
0378   192C           01265             btfsc o_d, 2
0379   2227           01266             call clrout ;nastav port v prc
037A   112C           01267             bcf o_d, 2
037B   3012           01268             movlw b'10010' ;port C2
037C   00D2           01269             movwf port
037D   3002           01270             movlw b'10' ;procesor 2
037E   00D3           01271             movwf prc
037F   19AC           01272             btfsc o_d, 3
0380   2227           01273             call clrout ;nastav port v prc
0381   11AC           01274             bcf o_d, 3
0382   3013           01275             movlw b'10011' ;port C3
0383   00D2           01276             movwf port
0384   3002           01277             movlw b'10' ;procesor 2
0385   00D3           01278             movwf prc
0386   1A2C           01279             btfsc o_d, 4
0387   2227           01280             call clrout ;nastav port v prc
0388   122C           01281             bcf o_d, 4
0389   3014           01282             movlw b'10100' ;port C4
038A   00D2           01283             movwf port
038B   3002           01284             movlw b'10' ;procesor 2
038C   00D3           01285             movwf prc
038D   1AAC           01286             btfsc o_d, 5
038E   2227           01287             call clrout ;nastav port v prc
038F   12AC           01288             bcf o_d, 5
0390   3015           01289             movlw b'10101' ;port C5
0391   00D2           01290             movwf port
0392   3002           01291             movlw b'10' ;procesor 2
0393   00D3           01292             movwf prc
0394   1B2C           01293             btfsc o_d, 6
0395   2227           01294             call clrout ;nastav port v prc
0396   132C           01295             bcf o_d, 6
                      01296                   ;blinkry
0397   122D           01297             bcf o_e, 4
0398   1361           01298             bcf PORTD_temp, 6
0399   1308           01299             bcf PORTD, 6
039A   12AD           01300             bcf o_e, 5
039B   13E1           01301             bcf PORTD_temp, 7
039C   1388           01302             bcf PORTD, 7
                      01303                   ;klakson
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

039D   3019           01304             movlw b'11001' ;port D1
039E   00D2           01305             movwf port
039F   3003           01306             movlw b'11' ;procesor 3
03A0   00D3           01307             movwf prc
03A1   1A2B           01308             btfsc o_c, 4
03A2   2227           01309             call clrout ;nastav port v prc
03A3   122B           01310             bcf o_c, 4
                      01311                   ;stěrače, odstřikovače
03A4   13AB           01312             bcf o_c, 7
03A5   11E1           01313             bcf PORTD_temp, 3
03A6   1188           01314             bcf PORTD, 3
03A7   132B           01315             bcf o_c, 6
03A8   1161           01316             bcf PORTD_temp, 2
03A9   1108           01317             bcf PORTD, 2
                      01318                   ;dálková světla
03AA   102C           01319             bcf o_d, 0
03AB   1261           01320             bcf PORTD_temp, 4
03AC   1208           01321             bcf PORTD, 4
03AD   0008           01322             return
                      01323         
                      01324         
                      01325         
                      01326 ;zamknuti alarm on
03AE   0000           01327 t1_00       nop;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01328             ;return
                      01329             ;movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
                      01330             ;iorwf ir_84, W
                      01331             ;iorwf ir_85, W
                      01332             ;iorwf ir_86, W
                      01333             ;iorwf ir_87, W
                      01334             ;iorwf ir_88, W
                      01335             ;iorwf ir_89, W
                      01336             ;movwf r6
                      01337             ;btfsc r6, 7
                      01338             ;nop ;MLUV "zkontrolujte vstupy do auta"
                      01339             ;btfsc r6, 7
                      01340             ;call t1_53 ;zapne sirenu
                      01341             ;btfsc r6, 7
                      01342             ;movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
                      01343             ;btfsc r6, 7
                      01344             ;movwf cassir
                      01345             ;btfsc r6, 7
                      01346             ;movlw .3
                      01347             ;btfsc r6, 7
                      01348             ;movwf timsir
                      01349             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01350             ;return
                      01351 
03AF   2494           01352             call t1_06 ;vypne vse 
03B0   17AC           01353             bsf o_d, 7 ;zapne alarm cidla
03B1   17DF           01354             bsf PORTB_temp, 7
03B2   1786           01355             bsf PORTB, 7
                      01356                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01357                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01358             
                      01359             
03B3   2474           01360             call t1_05 ;zapne varovky
03B4   301F           01361             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03B5   00EB           01362             movwf casvar
03B6   3008           01363             movlw .8
03B7   00DB           01364             movwf timvar
                      01365             
                      01366             
03B8   3016           01367             movlw b'10110' ;port C6
03B9   00D2           01368             movwf port
03BA   3002           01369             movlw b'10' ;procesor 2
03BB   00D3           01370             movwf prc 
03BC   1D2B           01371             btfss o_c, 2
03BD   2200           01372             call setout ;set port v prc
03BE   152B           01373             bsf o_c, 2 ;problikne red tunning na 1 sekundu
                      01374 
                      01375             ;movlw b'11010' ;port D2
                      01376             ;movwf port
                      01377             ;movlw b'10' ;procesor 2
                      01378             ;movwf prc 
                      01379             ;btfss o_f, 3
                      01380             ;call setout ;set port v prc
                      01381             ;bsf o_f, 3 ;problikne red interier na 1 sekundu
                      01382 
03BF   14DA           01383             bsf casov, REDTUN ;do timeru ze po 1s vypne
03C0   3014           01384             movlw .20
03C1   00DC           01385             movwf timrtu
                      01386 
03C2   2639           01387             call t1_53 ;zahraje sirenou na 200ms
03C3   3001           01388             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03C4   00D8           01389             movwf cassir
03C5   3008           01390             movlw .8
03C6   00D7           01391             movwf timsir
                      01392 
03C7   13AE           01393             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03C8   10E2           01394             bcf PORTE_temp, 1
03C9   1089           01395             bcf PORTE, 1
                      01396 
03CA   0000           01397             nop ;MLUV "auto zamčeno"
03CB   24D0           01398             call t1_07 ;zamkne
                      01399 
03CC   155A           01400             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03CD   300F           01401             movlw .15
03CE   00DD           01402             movwf timlza
                      01403 
                      01404                   ;zatahnuti okenek
                      01405             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01406             ;movwf o1tmp
                      01407             ;movf ir_91, W
                      01408             ;movwf o2tmp
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01409             ;movf ir_92, W
                      01410             ;movwf o3tmp
                      01411             ;movf ir_93, W
                      01412             ;movwf o4tmp
                      01413             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01414             ;movwf o1tar
                      01415             ;movwf o2tar
                      01416             ;movwf o3tar
                      01417             ;movwf o4tar
                      01418  
03CF   0008           01419             return
                      01420             
                      01421 ;odemknuti alarm off
03D0   0000           01422 t1_01       nop;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01423             ;return
                      01424             
03D1   13AC           01425             bcf o_d, 7 ;vypne alarm cidla
03D2   13DF           01426             bcf PORTB_temp, 7
03D3   1386           01427             bcf PORTB, 7
                      01428                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01429                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03D4   243E           01430             call t1_04
                      01431             
                      01432             
03D5   2474           01433             call t1_05 ;zapne varovky
03D6   3007           01434             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03D7   00EB           01435             movwf casvar
03D8   3008           01436             movlw .8
03D9   00DB           01437             movwf timvar
                      01438             
                      01439             
03DA   3017           01440             movlw b'10111' ;port C7
03DB   00D2           01441             movwf port
03DC   3002           01442             movlw b'10' ;procesor 2
03DD   00D3           01443             movwf prc 
03DE   1DAB           01444             btfss o_c, 3
03DF   2200           01445             call setout ;set port v prc
03E0   15AB           01446             bsf o_c, 3 ;problikne white tunning na 1 sekundu
                      01447 
                      01448             ;movlw b'11011' ;port D3
                      01449             ;movwf port
                      01450             ;movlw b'10' ;procesor 2
                      01451             ;movwf prc 
                      01452             ;btfss o_f, 4
                      01453             ;call setout ;set port v prc
                      01454             ;bsf o_f, 4 ;problikne white interier na 1 sekundu
                      01455 
03E1   15DA           01456             bsf casov, WHITUN ;do timeru ze po 1s vypne
03E2   3014           01457             movlw .20
03E3   00E3           01458             movwf timwtu
                      01459 
03E4   2639           01460             call t1_53 ;zahraje sirenou na 200ms
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03E5   3007           01461             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03E6   00D8           01462             movwf cassir
03E7   3008           01463             movlw .8
03E8   00D7           01464             movwf timsir
                      01465 
03E9   17AE           01466             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03EA   14E2           01467             bsf PORTE_temp, 1
03EB   1489           01468             bsf PORTE, 1
                      01469 
03EC   0000           01470             nop ;MLUV "auto odemčeno"
03ED   115A           01471             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
                      01472 
03EE   24DE           01473             call t1_08 ;odemkne
                      01474 
                      01475                   ;stahnuti okenek
                      01476             ;movf o1tmp, W
                      01477             ;movwf o1tar
                      01478             ;movf o2tmp, W
                      01479             ;movwf o2tar
                      01480             ;movf o3tmp, W
                      01481             ;movwf o3tar
                      01482             ;movf o4tmp, W
                      01483             ;movwf o4tar
                      01484  
03EF   0008           01485             return
                      01486             
                      01487 ;spinacka poloha up
03F0   1964           01488 t1_02       btfsc spinac, 2
03F1   0008           01489             return
03F2   1403           01490             bsf STATUS, C
03F3   0DE4           01491             rlf spinac, F
                      01492                   ;pokud poloha 3
03F4   1D64           01493             btfss spinac, 2
03F5   2C0B           01494             goto t2_02
03F6   1029           01495             bcf o_a, 0
03F7   1060           01496             bcf PORTC_temp, 0
03F8   1007           01497             bcf PORTC, 0
03F9   10A9           01498             bcf o_a, 1
03FA   10E0           01499             bcf PORTC_temp, 1
03FB   1087           01500             bcf PORTC, 1
03FC   1531           01501             bsf o_i, 2
03FD   301A           01502             movlw b'11010' ;port D2
03FE   00D2           01503             movwf port
03FF   3003           01504             movlw b'11' ;procesor 3
0400   00D3           01505             movwf prc 
0401   2200           01506             call setout ;set port v prc
0402   15B1           01507             bsf o_i, 3
0403   301B           01508             movlw b'11011' ;port D3
0404   00D2           01509             movwf port
0405   3003           01510             movlw b'11' ;procesor 3
0406   00D3           01511             movwf prc 
0407   2200           01512             call setout ;set port v prc
0408   300F           01513             movlw .15 ;nastavi startovani pouze max na vterinu
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0409   00E5           01514             movwf timspi
040A   0008           01515             return
                      01516             ;pokud poloha 2
040B   1CE4           01517 t2_02       btfss spinac, 1
040C   2C14           01518             goto t3_02
040D   1429           01519             bsf o_a, 0
040E   1460           01520             bsf PORTC_temp, 0
040F   1407           01521             bsf PORTC, 0
0410   1529           01522             bsf o_a, 2
0411   1560           01523             bsf PORTC_temp, 2
0412   1507           01524             bsf PORTC, 2
0413   0008           01525             return
                      01526             ;pokud poloha 1
0414   14A9           01527 t3_02       bsf o_a, 1
0415   14E0           01528             bsf PORTC_temp, 1
0416   1487           01529             bsf PORTC, 1
0417   0008           01530             return
                      01531             
                      01532 ;spinacka poloha down
0418   1C64           01533 t1_03       btfss spinac, 0
0419   0008           01534             return
041A   1003           01535             bcf STATUS, C
041B   0CE4           01536             rrf spinac, F
                      01537             ;pokud poloha 2
041C   1CE4           01538             btfss spinac, 1
041D   2C31           01539             goto t2_03
041E   1429           01540             bsf o_a, 0
041F   1460           01541             bsf PORTC_temp, 0
0420   1407           01542             bsf PORTC, 0
0421   14A9           01543             bsf o_a, 1
0422   14E0           01544             bsf PORTC_temp, 1
0423   1487           01545             bsf PORTC, 1
0424   1131           01546             bcf o_i, 2
0425   301A           01547             movlw b'11010' ;port D2
0426   00D2           01548             movwf port
0427   3003           01549             movlw b'11' ;procesor 3
0428   00D3           01550             movwf prc 
0429   2227           01551             call clrout ;set port v prc
042A   11B1           01552             bcf o_i, 3
042B   301B           01553             movlw b'11011' ;port D3
042C   00D2           01554             movwf port
042D   3003           01555             movlw b'11' ;procesor 3
042E   00D3           01556             movwf prc 
042F   2227           01557             call clrout ;set port v prc
0430   0008           01558             return
                      01559             ;pokud poloha 1
0431   1C64           01560 t2_03       btfss spinac, 0
0432   2C3A           01561             goto t3_03
0433   1029           01562             bcf o_a, 0
0434   1060           01563             bcf PORTC_temp, 0
0435   1007           01564             bcf PORTC, 0
0436   1129           01565             bcf o_a, 2
0437   1160           01566             bcf PORTC_temp, 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0438   1107           01567             bcf PORTC, 2
0439   0008           01568             return
                      01569             ;pokud poloha 0
043A   10A9           01570 t3_03       bcf o_a, 1
043B   10E0           01571             bcf PORTC_temp, 1
043C   1087           01572             bcf PORTC, 1
043D   0008           01573             return
                      01574             
                      01575 ;alarm stop
043E   1EDA           01576 t1_04       btfss casov, ALARM
043F   0008           01577             return
0440   3018           01578             movlw b'11000' ;port D0  ;sirena
0441   00D2           01579             movwf port
0442   3003           01580             movlw b'11' ;procesor 3
0443   00D3           01581             movwf prc 
0444   18AD           01582             btfsc o_e, 1
0445   2227           01583             call clrout ;set port v prc
0446   10AD           01584             bcf o_e, 1
                      01585             ;varovky
0447   2474           01586             call t1_05
                      01587             
                      01588             ;stroboskop
0448   3019           01589             movlw b'11001' ;port D1
0449   00D2           01590             movwf port
044A   3002           01591             movlw b'10' ;procesor 2
044B   00D3           01592             movwf prc 
044C   192D           01593             btfsc o_e, 2
044D   2227           01594             call clrout ;set port v prc
044E   112D           01595             bcf o_e, 2
                      01596             
044F   3016           01597             movlw b'10110' ;port C6
0450   00D2           01598             movwf port
0451   3002           01599             movlw b'10' ;procesor 2
0452   00D3           01600             movwf prc 
0453   192B           01601             btfsc o_c, 2
0454   2227           01602             call clrout ;set port v prc
0455   112B           01603             bcf o_c, 2
0456   3017           01604             movlw b'10111' ;port C7
0457   00D2           01605             movwf port
0458   3002           01606             movlw b'10' ;procesor 2
0459   00D3           01607             movwf prc 
045A   19AB           01608             btfsc o_c, 3
045B   2227           01609             call clrout ;set port v prc
045C   11AB           01610             bcf o_c, 3
045D   301A           01611             movlw b'11010' ;port D2
045E   00D2           01612             movwf port
045F   3002           01613             movlw b'10' ;procesor 2
0460   00D3           01614             movwf prc 
0461   19AE           01615             btfsc o_f, 3
0462   2227           01616             call clrout ;set port v prc
0463   11AE           01617             bcf o_f, 3
0464   301B           01618             movlw b'11011' ;port D3
0465   00D2           01619             movwf port
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0466   3002           01620             movlw b'10' ;procesor 2
0467   00D3           01621             movwf prc 
0468   1A2E           01622             btfsc o_f, 4
0469   2227           01623             call clrout ;set port v prc
046A   122E           01624             bcf o_f, 4
046B   3019           01625             movlw b'11001' ;port D1
046C   00D2           01626             movwf port
046D   3003           01627             movlw b'11' ;procesor 3
046E   00D3           01628             movwf prc 
046F   1A2B           01629             btfsc o_c, 4
0470   2227           01630             call clrout ;set port v prc
0471   122B           01631             bcf o_c, 4
                      01632             
0472   12DA           01633             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0473   0008           01634             return
                      01635             
                      01636 ;varovna svetla
0474   186B           01637 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0475   122D           01638             bcf o_e, 4
0476   186B           01639             btfsc casvar, 0 ;pokud oba zaply oba vypne
0477   1361           01640             bcf PORTD_temp, 6
0478   186B           01641             btfsc casvar, 0 ;pokud oba zaply oba vypne
0479   1308           01642             bcf PORTD, 6
047A   186B           01643             btfsc casvar, 0 ;pokud oba zaply oba vypne
047B   12AD           01644             bcf o_e, 5
047C   186B           01645             btfsc casvar, 0 ;pokud oba zaply oba vypne
047D   13E1           01646             bcf PORTD_temp, 7
047E   186B           01647             btfsc casvar, 0 ;pokud oba zaply oba vypne
047F   1388           01648             bcf PORTD, 7
                      01649     
0480   1C6B           01650             btfss casvar, 0 ;pokud jeden vyply oba zapne
0481   162D           01651             bsf o_e, 4
0482   1C6B           01652             btfss casvar, 0 ;pokud jeden vyply oba zapne
0483   1761           01653             bsf PORTD_temp, 6
0484   1C6B           01654             btfss casvar, 0 ;pokud jeden vyply oba zapne
0485   1708           01655             bsf PORTD, 6
0486   1C6B           01656             btfss casvar, 0 ;pokud jeden vyply oba zapne
0487   16AD           01657             bsf o_e, 5
0488   1C6B           01658             btfss casvar, 0 ;pokud jeden vyply oba zapne
0489   17E1           01659             bsf PORTD_temp, 7
048A   1C6B           01660             btfss casvar, 0 ;pokud jeden vyply oba zapne
048B   1788           01661             bsf PORTD, 7
                      01662             
048C   186B           01663             btfsc casvar, 0
048D   3000           01664             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
048E   1C6B           01665             btfss casvar, 0
048F   30FF           01666             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
0490   00EB           01667             movwf casvar
0491   3008           01668             movlw .8
0492   00DB           01669             movwf timvar
                      01670             
0493   0008           01671             return
                      01672             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01673 ;vypnout vse
0494   18D9           01674 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
0495   0008           01675             return
                      01676             ;svetla 
0496   10AB           01677             bcf o_c, 1
0497   11E0           01678             bcf PORTC_temp, 3
0498   1187           01679             bcf PORTC, 3
                      01680             ;red tuning
                      01681             ;white tunning
                      01682             ;red interier
                      01683             ;white interier
0499   3017           01684             movlw b'10111' ;port C7
049A   00D2           01685             movwf port
049B   3002           01686             movlw b'10' ;procesor 2
049C   00D3           01687             movwf prc 
049D   19AB           01688             btfsc o_c, 3
049E   2227           01689             call clrout ;set port v prc
049F   11AB           01690             bcf o_c, 3
04A0   301B           01691             movlw b'11011' ;port D3
04A1   00D2           01692             movwf port
04A2   3002           01693             movlw b'10' ;procesor 2
04A3   00D3           01694             movwf prc 
04A4   1A2E           01695             btfsc o_f, 4
04A5   2227           01696             call clrout ;set port v prc
04A6   122E           01697             bcf o_f, 4
04A7   3016           01698             movlw b'10110' ;port C6
04A8   00D2           01699             movwf port
04A9   3002           01700             movlw b'10' ;procesor 2
04AA   00D3           01701             movwf prc 
04AB   192B           01702             btfsc o_c, 2
04AC   2227           01703             call clrout ;set port v prc
04AD   112B           01704             bcf o_c, 2
04AE   301A           01705             movlw b'11010' ;port D2
04AF   00D2           01706             movwf port
04B0   3002           01707             movlw b'10' ;procesor 2
04B1   00D3           01708             movwf prc 
04B2   19AE           01709             btfsc o_f, 3
04B3   2227           01710             call clrout ;set port v prc
04B4   11AE           01711             bcf o_f, 3
                      01712         
                      01713             ;stroboskop
04B5   3019           01714             movlw b'11001' ;port D1
04B6   00D2           01715             movwf port
04B7   3002           01716             movlw b'10' ;procesor 2
04B8   00D3           01717             movwf prc 
04B9   192D           01718             btfsc o_e, 2
04BA   2227           01719             call clrout ;set port v prc
04BB   112D           01720             bcf o_e, 2
                      01721             ;sirena
04BC   3018           01722             movlw b'11000' ;port D0
04BD   00D2           01723             movwf port
04BE   3003           01724             movlw b'11' ;procesor 3
04BF   00D3           01725             movwf prc 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04C0   18AD           01726             btfsc o_e, 1
04C1   2227           01727             call clrout ;set port v prc
04C2   10AD           01728             bcf o_e, 1
                      01729             ;parkovacky
04C3   11AD           01730             bcf o_e, 3
04C4   12E1           01731             bcf PORTD_temp, 5
04C5   1288           01732             bcf PORTD, 5
                      01733             ;mlhovky zadni
04C6   10AE           01734             bcf o_f, 1
04C7   1260           01735             bcf PORTC_temp, 4
04C8   1207           01736             bcf PORTC, 4
                      01737             ;mlhovky predni
04C9   12AB           01738             bcf o_c, 5
04CA   10E1           01739             bcf PORTD_temp, 1
04CB   1088           01740             bcf PORTD, 1
                      01741             ;rozehrivani okenka
04CC   112E           01742             bcf o_f, 2
04CD   12E0           01743             bcf PORTC_temp, 5
04CE   1287           01744             bcf PORTC, 5
04CF   0008           01745             return
                      01746             
                      01747 ;zamknuti
04D0   1451           01748 t1_07       bsf locked, 0 ;nastavi registr locked
04D1   12B0           01749             bcf o_h, 5 ;vypne v regs led odemceno
04D2   3015           01750             movlw b'10101' ;port C5
04D3   00D2           01751             movwf port
04D4   3003           01752             movlw b'11' ;procesor 3
04D5   00D3           01753             movwf prc
04D6   2227           01754             call clrout ;smaz port v prc
04D7   1730           01755             bsf o_h, 6 ;zapne v regs led zamceno
04D8   3016           01756             movlw b'10110' ;port C6
04D9   00D2           01757             movwf port
04DA   3003           01758             movlw b'0011' ;procesor 3
04DB   00D3           01759             movwf prc
04DC   2200           01760             call setout ;nastav port v prc
04DD   0008           01761             return
                      01762 ;odemknuti
04DE   1051           01763 t1_08       bcf locked, 0 ;smaze registr locked
04DF   16B0           01764             bsf o_h, 5 ;zapne v regs led odemceno
04E0   3015           01765             movlw b'10101' ;port C5
04E1   00D2           01766             movwf port
04E2   3003           01767             movlw b'11' ;procesor 3
04E3   00D3           01768             movwf prc
04E4   2200           01769             call setout ;nastav port v prc
04E5   1730           01770             bsf o_h, 6 ;vypne v regs led zamceno
04E6   3016           01771             movlw b'10110' ;port C6
04E7   00D2           01772             movwf port
04E8   3003           01773             movlw b'0011' ;procesor 3
04E9   00D3           01774             movwf prc
04EA   2227           01775             call clrout ;smaz port v prc
04EB   0008           01776             return
                      01777             
                      01778 ;pripraveno
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04EC   0000           01779 t1_09       nop
04ED   0008           01780             return
                      01781 
                      01782 ;odskok dvere 1
04EE   162A           01783 t1_10       bsf o_b, 4
04EF   301F           01784             movlw b'11111' ;port D7
04F0   00D2           01785             movwf port
04F1   3003           01786             movlw b'11' ;procesor 3
04F2   00D3           01787             movwf prc
04F3   2200           01788             call setout ;smaz port v prc
04F4   165A           01789             bsf casov, ODSKOK
04F5   3008           01790             movlw .8
04F6   00E6           01791             movwf timods
04F7   0008           01792             return
                      01793             
                      01794 ;odskok dvere 2
04F8   16AA           01795 t1_11       bsf o_b, 5
04F9   17E0           01796             bsf PORTC_temp, 7
04FA   1787           01797             bsf PORTC, 7
04FB   165A           01798             bsf casov, ODSKOK
04FC   3008           01799             movlw .8
04FD   00E6           01800             movwf timods
04FE   0008           01801             return
                      01802             
                      01803 ;odskok dvere 3
04FF   1A31           01804 t1_12       btfsc o_i, 4
0500   0008           01805             return
0501   172A           01806             bsf o_b, 6
0502   155F           01807             bsf PORTB_temp, 2
0503   1506           01808             bsf PORTB, 2
0504   165A           01809             bsf casov, ODSKOK
0505   3008           01810             movlw .8
0506   00E6           01811             movwf timods
0507   0008           01812             return
                      01813             
                      01814 ;odskok dvere 4
0508   1A31           01815 t1_13       btfsc o_i, 4
0509   0008           01816             return
050A   17AA           01817             bsf o_b, 7
050B   15DF           01818             bsf PORTB_temp, 3
050C   1586           01819             bsf PORTB, 3
050D   165A           01820             bsf casov, ODSKOK
050E   3008           01821             movlw .8
050F   00E6           01822             movwf timods
0510   0008           01823             return
                      01824             
                      01825 ;odskok kufr
0511   15AA           01826 t1_14       bsf o_b, 3
0512   165F           01827             bsf PORTB_temp, 4
0513   1606           01828             bsf PORTB, 4
0514   165A           01829             bsf casov, ODSKOK
0515   3008           01830             movlw .8
0516   00E6           01831             movwf timods
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0517   0008           01832             return
                      01833             
                      01834 ;odskok nadrz
0518   142D           01835 t1_15       bsf o_e, 0
0519   16DF           01836             bsf PORTB_temp, 5
051A   1686           01837             bsf PORTB, 5
051B   165A           01838             bsf casov, ODSKOK
051C   3008           01839             movlw .8
051D   00E6           01840             movwf timods
051E   0008           01841             return
                      01842             
                      01843 ;odskok kapota
051F   142B           01844 t1_16       bsf o_c, 0
0520   175F           01845             bsf PORTB_temp, 6
0521   1706           01846             bsf PORTB, 6
0522   165A           01847             bsf casov, ODSKOK
0523   3008           01848             movlw .8
0524   00E6           01849             movwf timods
0525   0008           01850             return
                      01851             
                      01852 ;pripraveno
0526   0000           01853 t1_17       nop
0527   0008           01854             return
                      01855 ;pripraveno
0528   0000           01856 t1_18       nop
0529   0008           01857             return
                      01858 ;pripraveno
052A   0000           01859 t1_19       nop
052B   0008           01860             return
                      01861 
                      01862 ;play pause
052C   14AC           01863 t1_20       bsf o_d, 1
052D   3010           01864             movlw b'10000' ;port C0
052E   00D2           01865             movwf port
052F   3002           01866             movlw b'10' ;procesor 2
0530   00D3           01867             movwf prc
0531   2200           01868             call setout ;nastav port v prc
0532   0008           01869             return
                      01870             
                      01871 ;stop
0533   152C           01872 t1_21       bsf o_d, 2
0534   3011           01873             movlw b'10001' ;port C1
0535   00D2           01874             movwf port
0536   3002           01875             movlw b'10' ;procesor 2
0537   00D3           01876             movwf prc
0538   2200           01877             call setout ;nastav port v prc
0539   0008           01878             return
                      01879             
                      01880 ;forwind
053A   15AC           01881 t1_22       bsf o_d, 3
053B   3012           01882             movlw b'10010' ;port C2
053C   00D2           01883             movwf port
053D   3002           01884             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

053E   00D3           01885             movwf prc
053F   2200           01886             call setout ;nastav port v prc
0540   0008           01887             return
                      01888             
                      01889 ;rewind
0541   162C           01890 t1_23       bsf o_d, 4
0542   3013           01891             movlw b'10011' ;port C3
0543   00D2           01892             movwf port
0544   3002           01893             movlw b'10' ;procesor 2
0545   00D3           01894             movwf prc
0546   2200           01895             call setout ;nastav port v prc
0547   0008           01896             return
                      01897             
                      01898 ;volume +
0548   16AC           01899 t1_24       bsf o_d, 5
0549   3014           01900             movlw b'10100' ;port C4
054A   00D2           01901             movwf port
054B   3002           01902             movlw b'10' ;procesor 2
054C   00D3           01903             movwf prc
054D   2200           01904             call setout ;nastav port v prc
054E   0008           01905             return
                      01906             
                      01907 ;volume -
054F   172C           01908 t1_25       bsf o_d, 6
0550   3015           01909             movlw b'10101' ;port C5
0551   00D2           01910             movwf port
0552   3002           01911             movlw b'10' ;procesor 2
0553   00D3           01912             movwf prc
0554   2200           01913             call setout ;nastav port v prc
0555   0008           01914             return
                      01915             
                      01916 ;rozehrivani okenka
0556   082E           01917 t1_26       movf o_f, W
0557   00A4           01918             movwf r5
                      01919 
0558   1D24           01920             btfss r5, 2
0559   16E0           01921             bsf PORTC_temp, 5
055A   1D24           01922             btfss r5, 2
055B   1687           01923             bsf PORTC, 5
055C   1D24           01924             btfss r5, 2
055D   152E           01925             bsf o_f, 2 
                      01926         
055E   1924           01927             btfsc r5, 2
055F   12E0           01928             bcf PORTC_temp, 5
0560   1924           01929             btfsc r5, 2
0561   1287           01930             bcf PORTC, 5
0562   1924           01931             btfsc r5, 2
0563   112E           01932             bcf o_f, 2 
0564   0008           01933             return
                      01934             
                      01935 ;pripraveno
0565   0000           01936 t1_27       nop
0566   0008           01937             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01938 ;pripraveno
0567   0000           01939 t1_28       nop
0568   0008           01940             return
                      01941 ;pripraveno
0569   0000           01942 t1_29       nop
056A   0008           01943             return
                      01944 
                      01945 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
056B   0008           01946 t1_30       return;movf o1tar, W
056C   00A4           01947             movwf r5
056D   30F0           01948             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
056E   07A4           01949             addwf r5, F
056F   1C03           01950             btfss STATUS, C
0570   0008           01951             return
0571   0824           01952             movf r5, W
0572   00A4           01953             movwf o1tar
0573   0008           01954             return
                      01955             
                      01956 ;okno 2 up
0574   0008           01957 t1_31       return;movf o2tar, W
0575   00A4           01958             movwf r5
0576   30F0           01959             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0577   07A4           01960             addwf r5, F
0578   1C03           01961             btfss STATUS, C
0579   0008           01962             return
057A   0824           01963             movf r5, W
057B   00A5           01964             movwf o2tar
057C   0008           01965             return
                      01966             
                      01967 ;okno 3 up
057D   0008           01968 t1_32       return;btfsc o_i, 4
057E   0008           01969             return
057F   0826           01970             movf o3tar, W
0580   00A4           01971             movwf r5
0581   30F0           01972             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0582   07A4           01973             addwf r5, F
0583   1C03           01974             btfss STATUS, C
0584   0008           01975             return
0585   0824           01976             movf r5, W
0586   00A6           01977             movwf o3tar
0587   0008           01978             return
                      01979             
                      01980 ;okno 4 up
0588   0008           01981 t1_33       return;btfsc o_i, 4
0589   0008           01982             return
058A   0827           01983             movf o4tar, W
058B   00A4           01984             movwf r5
058C   30F0           01985             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
058D   07A4           01986             addwf r5, F
058E   1C03           01987             btfss STATUS, C
058F   0008           01988             return
0590   0824           01989             movf r5, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0591   00A7           01990             movwf o4tar
0592   0008           01991             return
                      01992             
                      01993 ;okno 1 down
0593   0008           01994 t1_34       return;movf o1tar, W
0594   00A4           01995             movwf r5
0595   3010           01996             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0596   07A4           01997             addwf r5, F
0597   1803           01998             btfsc STATUS, C
0598   0008           01999             return
0599   0824           02000             movf r5, W
059A   00A4           02001             movwf o1tar
059B   0008           02002             return
                      02003             
                      02004 ;okno 2 down
059C   0008           02005 t1_35       return;movf o2tar, W
059D   00A4           02006             movwf r5
059E   3010           02007             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
059F   07A4           02008             addwf r5, F
05A0   1803           02009             btfsc STATUS, C
05A1   0008           02010             return
05A2   0824           02011             movf r5, W
05A3   00A5           02012             movwf o2tar
05A4   0008           02013             return
                      02014             
                      02015 ;okno 3 down
05A5   0008           02016 t1_36       return;btfsc o_i, 4
05A6   0008           02017             return
05A7   0826           02018             movf o3tar, W
05A8   00A4           02019             movwf r5
05A9   3010           02020             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05AA   07A4           02021             addwf r5, F
05AB   1803           02022             btfsc STATUS, C
05AC   0008           02023             return
05AD   0824           02024             movf r5, W
05AE   00A6           02025             movwf o3tar
05AF   0008           02026             return
                      02027             
                      02028 ;detský zámek zadních oken a dveri
05B0   1E31           02029 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
05B1   2DB9           02030             goto t2_37
05B2   1231           02031             bcf o_i, 4
05B3   301C           02032             movlw b'11100' ;port D4
05B4   00D2           02033             movwf port
05B5   3003           02034             movlw b'11' ;procesor 3
05B6   00D3           02035             movwf prc
05B7   2227           02036             call clrout ;nastav port v prc        
05B8   0008           02037             return
                      02038             
05B9   1631           02039 t2_37       bsf o_i, 4
05BA   301C           02040             movlw b'11100' ;port D4
05BB   00D2           02041             movwf port
05BC   3003           02042             movlw b'11' ;procesor 3
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05BD   00D3           02043             movwf prc
05BE   2200           02044             call setout ;nastav port v prc        
05BF   0008           02045             return
                      02046             
                      02047 ;pripraveno
05C0   0000           02048 t1_38       nop
05C1   0008           02049             return
                      02050 ;pripraveno
05C2   0000           02051 t1_39       nop
05C3   0008           02052             return
                      02053 
                      02054 ;RED tuning
05C4   3016           02055 t1_40       movlw b'10110' ;port C6
05C5   00D2           02056             movwf port
05C6   3002           02057             movlw b'10' ;procesor 2
05C7   00D3           02058             movwf prc
                      02059             
05C8   082B           02060             movf o_c, W
05C9   00A4           02061             movwf r5
                      02062 
05CA   1D24           02063             btfss r5, 2
05CB   2200           02064             call setout ;nastav port v prc
05CC   1D24           02065             btfss r5, 2
05CD   152B           02066             bsf o_c, 2 
                      02067         
05CE   1924           02068             btfsc r5, 2
05CF   2227           02069             call clrout ;smaz port v prc
05D0   1924           02070             btfsc r5, 2
05D1   112B           02071             bcf o_c, 2 
05D2   0008           02072             return
                      02073             
                      02074 ;WHITE tunning
05D3   3017           02075 t1_41       movlw b'10111' ;port C7
05D4   00D2           02076             movwf port
05D5   3002           02077             movlw b'10' ;procesor 2
05D6   00D3           02078             movwf prc
                      02079             
05D7   082B           02080             movf o_c, W
05D8   00A4           02081             movwf r5
                      02082 
05D9   1DA4           02083             btfss r5, 3
05DA   2200           02084             call setout ;nastav port v prc
05DB   1DA4           02085             btfss r5, 3
05DC   15AB           02086             bsf o_c, 3 
                      02087         
05DD   19A4           02088             btfsc r5, 3
05DE   2227           02089             call clrout ;smaz port v prc
05DF   19A4           02090             btfsc r5, 3
05E0   11AB           02091             bcf o_c, 3 
05E1   0008           02092             return
                      02093             
                      02094 ;Parkovačky
05E2   082D           02095 t1_42       movf o_e, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05E3   00A4           02096             movwf r5
                      02097 
05E4   1DA4           02098             btfss r5, 3
05E5   16E1           02099             bsf PORTD_temp, 5
05E6   1DA4           02100             btfss r5, 3
05E7   1688           02101             bsf PORTD, 5
05E8   1DA4           02102             btfss r5, 3
05E9   15AD           02103             bsf o_e, 3 
                      02104         
05EA   19A4           02105             btfsc r5, 3
05EB   12E1           02106             bcf PORTD_temp, 5
05EC   19A4           02107             btfsc r5, 3
05ED   1288           02108             bcf PORTD, 5
05EE   19A4           02109             btfsc r5, 3
05EF   11AD           02110             bcf o_e, 3 
05F0   0008           02111             return
                      02112             
                      02113 ;Světla
05F1   082B           02114 t1_43       movf o_c, W
05F2   00A4           02115             movwf r5
                      02116 
05F3   1CA4           02117             btfss r5, 1
05F4   15E0           02118             bsf PORTC_temp, 3
05F5   1CA4           02119             btfss r5, 1
05F6   1587           02120             bsf PORTC, 3
05F7   1CA4           02121             btfss r5, 1
05F8   14AB           02122             bsf o_c, 1 
                      02123         
05F9   18A4           02124             btfsc r5, 1
05FA   11E0           02125             bcf PORTC_temp, 3
05FB   18A4           02126             btfsc r5, 1
05FC   1187           02127             bcf PORTC, 3
05FD   18A4           02128             btfsc r5, 1
05FE   10AB           02129             bcf o_c, 1 
05FF   0008           02130             return
                      02131             
                      02132 ;Mlhovky zadní
0600   082E           02133 t1_44       movf o_f, W
0601   00A4           02134             movwf r5
                      02135 
0602   1CA4           02136             btfss r5, 1
0603   1660           02137             bsf PORTC_temp, 4
0604   1CA4           02138             btfss r5, 1
0605   1607           02139             bsf PORTC, 4
0606   1CA4           02140             btfss r5, 1
0607   14AE           02141             bsf o_f, 1 
                      02142         
0608   18A4           02143             btfsc r5, 1
0609   1260           02144             bcf PORTC_temp, 4
060A   18A4           02145             btfsc r5, 1
060B   1207           02146             bcf PORTC, 4
060C   18A4           02147             btfsc r5, 1
060D   10AE           02148             bcf o_f, 1 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

060E   0008           02149             return
                      02150             
                      02151 ;Blinkr levý
060F   162D           02152 t1_45       bsf o_e, 4
0610   1761           02153             bsf PORTD_temp, 6
0611   1708           02154             bsf PORTD, 6
0612   0008           02155             return
                      02156             
                      02157 ;Blinkr pravý
0613   16AD           02158 t1_46       bsf o_e, 5
0614   17E1           02159             bsf PORTD_temp, 7
0615   1788           02160             bsf PORTD, 7
0616   0008           02161             return
                      02162             
                      02163 ;Mlhovky přední
0617   082B           02164 t1_47       movf o_c, W
0618   00A4           02165             movwf r5
                      02166 
0619   1EA4           02167             btfss r5, 5
061A   14E1           02168             bsf PORTD_temp, 1
061B   1EA4           02169             btfss r5, 5
061C   1488           02170             bsf PORTD, 1
061D   1EA4           02171             btfss r5, 5
061E   16AB           02172             bsf o_c, 5 
                      02173         
061F   1AA4           02174             btfsc r5, 5
0620   10E1           02175             bcf PORTD_temp, 1
0621   1AA4           02176             btfsc r5, 5
0622   1088           02177             bcf PORTD, 1
0623   1AA4           02178             btfsc r5, 5
0624   12AB           02179             bcf o_c, 5 
0625   0008           02180             return
                      02181             
                      02182 ;pripraveno
0626   0000           02183 t1_48       nop
0627   0008           02184             return
                      02185 ;pripraveno
0628   0000           02186 t1_49       nop
0629   0008           02187             return
                      02188 
                      02189 ;klakson
062A   162B           02190 t1_50       bsf o_c, 4
062B   3019           02191             movlw b'11001' ;port D1
062C   00D2           02192             movwf port
062D   3003           02193             movlw b'11' ;procesor 3
062E   00D3           02194             movwf prc
062F   2200           02195             call setout ;nastav port v prc
0630   0008           02196             return
                      02197             
                      02198 ;stěrače
0631   17AB           02199 t1_51       bsf o_c, 7
0632   15E1           02200             bsf PORTD_temp, 3
0633   1588           02201             bsf PORTD, 3
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0634   0008           02202             return
                      02203 ;odstřikovače
0635   172B           02204 t1_52       bsf o_c, 6
0636   1561           02205             bsf PORTD_temp, 2
0637   1508           02206             bsf PORTD, 2
0638   0008           02207             return
                      02208             
                      02209 ;Siréna
0639   3018           02210 t1_53       movlw b'11000' ;port D0
063A   00D2           02211             movwf port
063B   3003           02212             movlw b'11' ;procesor 3
063C   00D3           02213             movwf prc
                      02214             
063D   082D           02215             movf o_e, W
063E   00A4           02216             movwf r5
                      02217 
063F   1CA4           02218             btfss r5, 1
0640   2200           02219             call setout ;nastav port v prc
0641   1CA4           02220             btfss r5, 1
0642   14AD           02221             bsf o_e, 1 
                      02222         
0643   18A4           02223             btfsc r5, 1
0644   2227           02224             call clrout ;smaz port v prc
0645   18A4           02225             btfsc r5, 1
0646   10AD           02226             bcf o_e, 1 
                      02227         
0647   0008           02228             return
                      02229 
                      02230 ;stroboskop
0648   3019           02231 t1_54       movlw b'11001' ;port D1
0649   00D2           02232             movwf port
064A   3002           02233             movlw b'10' ;procesor 2
064B   00D3           02234             movwf prc
                      02235             
064C   082D           02236             movf o_e, W
064D   00A4           02237             movwf r5
                      02238 
064E   1D24           02239             btfss r5, 2
064F   2200           02240             call setout ;nastav port v prc
0650   1D24           02241             btfss r5, 2
0651   152D           02242             bsf o_e, 2 
                      02243         
0652   1924           02244             btfsc r5, 2
0653   2227           02245             call clrout ;smaz port v prc
0654   1924           02246             btfsc r5, 2
0655   112D           02247             bcf o_e, 2 
0656   0008           02248             return
                      02249             
                      02250 ;Dálkové světla
0657   142C           02251 t1_55       bsf o_d, 0
0658   1661           02252             bsf PORTD_temp, 4
0659   1608           02253             bsf PORTD, 4
065A   0008           02254             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02255             
                      02256 ;alarm start
065B   3018           02257 t1_56       movlw b'11000' ;port D0  ;sirena
065C   00D2           02258             movwf port
065D   3003           02259             movlw b'11' ;procesor 3
065E   00D3           02260             movwf prc 
065F   1CAD           02261             btfss o_e, 1
0660   2200           02262             call setout ;set port v prc
0661   14AD           02263             bsf o_e, 1
                      02264             ;varovky
0662   2474           02265             call t1_05
                      02266             
                      02267             ;stroboskop
0663   3019           02268             movlw b'11001' ;port D1
0664   00D2           02269             movwf port
0665   3002           02270             movlw b'10' ;procesor 2
0666   00D3           02271             movwf prc 
0667   1D2D           02272             btfss o_e, 2
0668   2200           02273             call setout ;set port v prc
0669   152D           02274             bsf o_e, 2
                      02275             ;red tunning
066A   3016           02276             movlw b'10110' ;port C6
066B   00D2           02277             movwf port
066C   3002           02278             movlw b'10' ;procesor 2
066D   00D3           02279             movwf prc 
066E   1D2B           02280             btfss o_c, 2
066F   2200           02281             call setout ;set port v prc
0670   152B           02282             bsf o_c, 2
                      02283             ;white interier
0671   301B           02284             movlw b'11011' ;port D3
0672   00D2           02285             movwf port
0673   3002           02286             movlw b'10' ;procesor 2
0674   00D3           02287             movwf prc 
0675   1E2E           02288             btfss o_f, 4
0676   2200           02289             call setout ;set port v prc
0677   162E           02290             bsf o_f, 4
                      02291             
0678   16DA           02292             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0679   301E           02293             movlw .30
067A   00E7           02294             movwf timala
                      02295 
067B   0008           02296             return
                      02297             
                      02298 ;pripraveno
067C   0000           02299 t1_57       nop
067D   0008           02300             return
                      02301             
                      02302 ;pripraveno
067E   0000           02303 t1_58       nop
067F   0008           02304             return
                      02305             
                      02306 ;pripraveno
0680   0000           02307 t1_59       nop
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0681   0008           02308             return
                      02309         
                      02310 ;okno 4 down
0682   0008           02311 t1_60       return;btfsc o_i, 4
0683   0008           02312             return
0684   0827           02313             movf o4tar, W
0685   00A4           02314             movwf r5
0686   3010           02315             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0687   07A4           02316             addwf r5, F
0688   1803           02317             btfsc STATUS, C
0689   0008           02318             return
068A   0824           02319             movf r5, W
068B   00A7           02320             movwf o4tar
068C   0008           02321             return
                      02322             
                      02323 ;red interiér
068D   301A           02324 t1_61       movlw b'11010' ;port D2
068E   00D2           02325             movwf port
068F   3002           02326             movlw b'10' ;procesor 2
0690   00D3           02327             movwf prc
                      02328             
0691   082E           02329             movf o_f, W
0692   00A4           02330             movwf r5
                      02331 
0693   1DA4           02332             btfss r5, 3
0694   2200           02333             call setout ;nastav port v prc
0695   1DA4           02334             btfss r5, 3
0696   15AE           02335             bsf o_f, 3 
                      02336         
0697   19A4           02337             btfsc r5, 3
0698   2227           02338             call clrout ;smaz port v prc
0699   19A4           02339             btfsc r5, 3
069A   11AE           02340             bcf o_f, 3 
069B   0008           02341             return
                      02342             
                      02343 ;white interier
069C   301B           02344 t1_62       movlw b'11011' ;port D3
069D   00D2           02345             movwf port
069E   3002           02346             movlw b'10' ;procesor 2
069F   00D3           02347             movwf prc
                      02348             
06A0   082E           02349             movf o_f, W
06A1   00A4           02350             movwf r5
                      02351 
06A2   1E24           02352             btfss r5, 4
06A3   2200           02353             call setout ;nastav port v prc
06A4   1E24           02354             btfss r5, 4
06A5   162E           02355             bsf o_f, 4 
                      02356         
06A6   1A24           02357             btfsc r5, 4
06A7   2227           02358             call clrout ;smaz port v prc
06A8   1A24           02359             btfsc r5, 4
06A9   122E           02360             bcf o_f, 4 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06AA   0008           02361             return
                      02362             
                      02363 ;klima on/off
06AB   17AD           02364 t1_63       bsf o_e, 7
06AC   301E           02365             movlw b'11110' ;port D6
06AD   00D2           02366             movwf port
06AE   3002           02367             movlw b'10' ;procesor 2
06AF   00D3           02368             movwf prc
06B0   2200           02369             call setout ;nastav port v prc
06B1   165A           02370             bsf casov, ODSKOK
06B2   3008           02371             movlw .8
06B3   00E6           02372             movwf timods
06B4   0008           02373             return
                      02374             
                      02375 ;klima teplota up
06B5   172D           02376 t1_64       bsf o_e, 6
06B6   301C           02377             movlw b'11100' ;port D4
06B7   00D2           02378             movwf port
06B8   3002           02379             movlw b'10' ;procesor 2
06B9   00D3           02380             movwf prc
06BA   2200           02381             call setout ;nastav port v prc
06BB   165A           02382             bsf casov, ODSKOK
06BC   3008           02383             movlw .8
06BD   00E6           02384             movwf timods
06BE   0008           02385             return
                      02386             
                      02387 ;klima teplota down
06BF   16AE           02388 t1_65       bsf o_f, 5
06C0   301D           02389             movlw b'11101' ;port D5
06C1   00D2           02390             movwf port
06C2   3002           02391             movlw b'10' ;procesor 2
06C3   00D3           02392             movwf prc
06C4   2200           02393             call setout ;nastav port v prc
06C5   165A           02394             bsf casov, ODSKOK
06C6   3008           02395             movlw .8
06C7   00E6           02396             movwf timods
06C8   0008           02397             return
                      02398             
                      02399 ;klima mista ventilace
06C9   142E           02400 t1_66       bsf o_f, 0
06CA   301F           02401             movlw b'11111' ;port D7
06CB   00D2           02402             movwf port
06CC   3002           02403             movlw b'10' ;procesor 2
06CD   00D3           02404             movwf prc
06CE   2200           02405             call setout ;nastav port v prc
06CF   165A           02406             bsf casov, ODSKOK
06D0   3008           02407             movlw .8
06D1   00E6           02408             movwf timods
06D2   0008           02409             return
                      02410             
                      02411 ;pripraveno
06D3   0000           02412 t1_67       nop
06D4   0008           02413             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02414 ;pripraveno
06D5   0000           02415 t1_68       nop
06D6   0008           02416             return
                      02417 ;pripraveno
06D7   0000           02418 t1_69       nop
06D8   0008           02419             return
                      02420 
06D9   0000           02421 t1_x        nop
06DA   0008           02422             return
                      02423             
                      02424 
                      02425 
                      02426 
                      02427 
                      02428 
06DB   3005           02429 w20i        movlw .5
06DC   00A3           02430             movwf r4
06DD   0BA3           02431             decfsz r4, F
06DE   2EDD           02432             goto $-1
06DF   0008           02433             return
                      02434 
                      02435 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06E0   3050           02436 w100c       movlw .80
06E1   00A3           02437             movwf r4
06E2   0BA3           02438             decfsz r4, F
06E3   2EE2           02439             goto $-1
06E4   0008           02440             return
                      02441 
                      02442 ;cekej necelou polovinu w100c
06E5   301E           02443 w40c        movlw .30
06E6   00A3           02444             movwf r4
06E7   0BA3           02445             decfsz r4, F
06E8   2EE7           02446             goto $-1
06E9   0008           02447             return
                      02448             
                      02449 
                      02450 
                      02451 
                      02452 
                      02453 
06EA   3019           02454 klakson     movlw b'11001' ;port D1
06EB   00D2           02455             movwf port
06EC   3003           02456             movlw b'11' ;procesor 3
06ED   00D3           02457             movwf prc
                      02458             
06EE   082B           02459             movf o_c, W
06EF   00A4           02460             movwf r5
                      02461 
06F0   1E24           02462             btfss r5, 4
06F1   2200           02463             call setout ;nastav port v prc
06F2   1E24           02464             btfss r5, 4
06F3   162B           02465             bsf o_c, 4 
                      02466         
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06F4   1A24           02467             btfsc r5, 4
06F5   2227           02468             call clrout ;smaz port v prc
06F6   1A24           02469             btfsc r5, 4
06F7   122B           02470             bcf o_c, 4 
06F8   0008           02471             return
                      02472 
                      02473 
                      02474 ;zmeni stav LED zamceno
06F9   3016           02475 ledzam      movlw b'10110' ;port C6
06FA   00D2           02476             movwf port
06FB   3003           02477             movlw b'11' ;procesor 3
06FC   00D3           02478             movwf prc
                      02479             
06FD   0830           02480             movf o_h, W
06FE   00A4           02481             movwf r5
                      02482 
06FF   1F24           02483             btfss r5, 6
0700   2200           02484             call setout ;nastav port v prc
0701   1F24           02485             btfss r5, 6
0702   1730           02486             bsf o_h, 6 
                      02487         
0703   1B24           02488             btfsc r5, 6
0704   2227           02489             call clrout ;smaz port v prc
0705   1B24           02490             btfsc r5, 6
0706   1330           02491             bcf o_h, 6 
                      02492         
0707   0008           02493             return
                      02494 
                      02495 
                      02496 
                      02497 
                      02498 
                      02499 
                      02500 
                      02501 
                      02502 
                      02503 
                      02504 
                      02505 
0800                  02506             org 800h ;zacina druha stranka programu
0800   118A           02507 restart     bcf PCLATH,3 ;Select page 0
                      02508             ;Po restartu se obnovi stare registry PORTU
                      02509 
0801   085E           02510             movf PORTA_temp, W
0802   0085           02511             movwf PORTA
0803   085F           02512             movf PORTB_temp, W
0804   0086           02513             movwf PORTB
0805   0860           02514             movf PORTC_temp, W
0806   0087           02515             movwf PORTC
0807   0861           02516             movf PORTD_temp, W
0808   0088           02517             movwf PORTD
0809   0862           02518             movf PORTE_temp, W
080A   0089           02519             movwf PORTE
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02520 
                      02521             ;zapne zadni pasy po restartu
080B   300E           02522             movlw b'01110' ;port B6
080C   00D2           02523             movwf port
080D   3003           02524             movlw b'11' ;procesor 3
080E   00D3           02525             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   2200           02526             call setout ;nastav port v prc
0810   172F           02527             bsf o_g, 6 
                      02528             
0811   300F           02529             movlw b'01111' ;port B7
0812   00D2           02530             movwf port
0813   3003           02531             movlw b'11' ;procesor 3
0814   00D3           02532             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   2200           02533             call setout ;nastav port v prc
0816   17AF           02534             bsf o_g, 7 
                      02535 
                      02536             ; zapne predni pasy po startu
0817   300C           02537             movlw b'01100' ;port B4
0818   00D2           02538             movwf port
0819   3003           02539             movlw b'11' ;procesor 3
081A   00D3           02540             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081B   2227           02541             call clrout ;nastav port v prc
081C   122F           02542             bcf o_g, 4 
                      02543             
081D   300D           02544             movlw b'01101' ;port B5
081E   00D2           02545             movwf port
081F   3003           02546             movlw b'11' ;procesor 3
0820   00D3           02547             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   2227           02548             call clrout ;nastav port v prc
0822   12AF           02549             bcf o_g, 5 
                      02550 
0823   301E           02551             movlw .30 ;trochu delsi vterina
0824   00EC           02552             movwf vterina
                      02553         
                      02554 
0825   158A           02555             bsf PCLATH,3 ;Select page 0
0826   284B           02556             goto loop
                      02557     
0827   118A           02558 start       bcf PCLATH,3 ;Select page 0
                      02559             
0828   01DE           02560             clrf PORTA_temp
0829   01DF           02561             clrf PORTB_temp
082A   01E0           02562             clrf PORTC_temp
082B   01E1           02563             clrf PORTD_temp
082C   01E2           02564             clrf PORTE_temp
                      02565 
Message[306]: Crossing page boundary -- ensure page bits are set.
082D   26E0           02566             call w100c
                      02567             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
082E   23AE           02568             call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
                            arm
                      02569             
                      02570             ; zapne predni pasy po startu
082F   300C           02571             movlw b'01100' ;port B4
0830   00D2           02572             movwf port
0831   3003           02573             movlw b'11' ;procesor 3
0832   00D3           02574             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0833   2200           02575             call setout ;nastav port v prc
0834   162F           02576             bsf o_g, 4 
                      02577             
0835   300D           02578             movlw b'01101' ;port B5
0836   00D2           02579             movwf port
0837   3003           02580             movlw b'11' ;procesor 3
0838   00D3           02581             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0839   2200           02582             call setout ;nastav port v prc
083A   16AF           02583             bsf o_g, 5 
                      02584 
                      02585             ;zapne zadni pasy po restartu
083B   300E           02586             movlw b'01110' ;port B6
083C   00D2           02587             movwf port
083D   3003           02588             movlw b'11' ;procesor 3
083E   00D3           02589             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
083F   2227           02590             call clrout ;nastav port v prc
0840   132F           02591             bcf o_g, 6 
                      02592             
0841   300F           02593             movlw b'01111' ;port B7
0842   00D2           02594             movwf port
0843   3003           02595             movlw b'11' ;procesor 3
0844   00D3           02596             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0845   2227           02597             call clrout ;nastav port v prc
0846   13AF           02598             bcf o_g, 7 
                      02599 
0847   301E           02600             movlw .30
0848   00EC           02601             movwf vterina
                      02602         
                      02603 
0849   158A           02604             bsf PCLATH,3 ;Select page 0
084A   284B           02605             goto loop
                      02606 
084B   118A           02607 loop        bcf PCLATH,3 ;Select page 0
                      02608             
084C   0064           02609             clrwdt
                      02610    
                      02611             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02612             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

084D   2059           02613             call watchstart
                      02614             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084E   205C           02615             call watchwait
                      02616             
                      02617             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084F   2059           02618             call watchstart
                      02619             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0850   205C           02620             call watchwait
                      02621             
                      02622             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0851   2059           02623             call watchstart
                      02624             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0852   205C           02625             call watchwait
                      02626             
                      02627             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0853   2059           02628             call watchstart
                      02629             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0854   205C           02630             call watchwait
                      02631       
                      02632       
                      02633       
0855   1A59           02634             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0856   2062           02635             call timer1
                      02636 
0857   158A           02637             bsf PCLATH,3 ;Select page 1
                      02638             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
0858   118A           02639             bcf PCLATH,3 ;Select page 0
                      02640 
                      02641 
                      02642             
                      02643             
0859   3000           02644             movlw .0 ;nastavime ANx kde x je zadane cislo
085A   00F6           02645             movwf ran1
085B   158A           02646             bsf PCLATH,3 ;Select page 1
085C   22FB           02647             call adconv
085D   118A           02648             bcf PCLATH,3 ;Select page 0
085E   0876           02649             movf ran1, W
085F   00A0           02650             movwf r1
                      02651             
0860   093F           02652             comf ir_58, W
0861   07A0           02653             addwf r1, F
0862   081E           02654             movf ADRESH, W
0863   0FA0           02655             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0864   00BF           02656             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0865   0820           02657             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0866   118A           02658             bcf PCLATH,3 ;Select page 0
0867   1D03           02659             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0868   224E           02660             call if_58  ;pokud zmena odesle na sbernici
                      02661             
                      02662             
0869   3001           02663             movlw .1 ;nastavime ANx kde x je zadane cislo
086A   00F6           02664             movwf ran1
086B   158A           02665             bsf PCLATH,3 ;Select page 1
086C   22FB           02666             call adconv
086D   118A           02667             bcf PCLATH,3 ;Select page 0
086E   0876           02668             movf ran1, W
086F   00A0           02669             movwf r1
                      02670             
0870   0943           02671             comf ir_62, W
0871   07A0           02672             addwf r1, F
0872   081E           02673             movf ADRESH, W
0873   0FA0           02674             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0874   00C3           02675             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0875   0820           02676             movf r1, W
0876   118A           02677             bcf PCLATH,3 ;Select page 0
0877   1D03           02678             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0878   229B           02679             call if_62  ;pokud zmena odesle na sbernici
                      02680             
                      02681             
0879   3002           02682             movlw .2 ;nastavime ANx kde x je zadane cislo
087A   00F6           02683             movwf ran1
087B   158A           02684             bsf PCLATH,3 ;Select page 1
087C   22FB           02685             call adconv
087D   118A           02686             bcf PCLATH,3 ;Select page 0
087E   0876           02687             movf ran1, W
087F   00A0           02688             movwf r1
                      02689             
0880   0937           02690             comf ir_50, W
0881   07A0           02691             addwf r1, F
0882   081E           02692             movf ADRESH, W
0883   0FA0           02693             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0884   00B7           02694             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0885   0820           02695             movf r1, W
0886   118A           02696             bcf PCLATH,3 ;Select page 0
0887   1D03           02697             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0888   22E8           02698             call if_50  ;pokud zmena odesle na sbernici
                      02699             
                      02700             
0889   3003           02701             movlw .3 ;nastavime ANx kde x je zadane cislo
088A   00F6           02702             movwf ran1
088B   158A           02703             bsf PCLATH,3 ;Select page 1
088C   22FB           02704             call adconv
088D   118A           02705             bcf PCLATH,3 ;Select page 0
088E   0876           02706             movf ran1, W
088F   00A0           02707             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02708             
0890   0940           02709             comf ir_59, W
0891   07A0           02710             addwf r1, F
0892   081E           02711             movf ADRESH, W
0893   0FA0           02712             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0894   00C0           02713             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0895   0820           02714             movf r1, W
0896   118A           02715             bcf PCLATH,3 ;Select page 0
0897   1D03           02716             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0898   22EA           02717             call if_59  ;pokud zmena odesle na sbernici
                      02718             
                      02719             
0899   3004           02720             movlw .4 ;nastavime ANx kde x je zadane cislo
089A   00F6           02721             movwf ran1
089B   158A           02722             bsf PCLATH,3 ;Select page 1
089C   22FB           02723             call adconv
089D   118A           02724             bcf PCLATH,3 ;Select page 0
089E   0876           02725             movf ran1, W
089F   00A0           02726             movwf r1
                      02727             
08A0   0941           02728             comf ir_60, W
08A1   07A0           02729             addwf r1, F
08A2   081E           02730             movf ADRESH, W
08A3   0FA0           02731             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A4   00C1           02732             movwf ir_60  ;prepise reg AN prevedenou hodnotou
08A5   0820           02733             movf r1, W
08A6   118A           02734             bcf PCLATH,3 ;Select page 0
08A7   1D03           02735             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A8   22EC           02736             call if_60  ;pokud zmena odesle na sbernici
                      02737             
                      02738             
08A9   3005           02739             movlw .5 ;nastavime ANx kde x je zadane cislo
08AA   00F6           02740             movwf ran1
08AB   158A           02741             bsf PCLATH,3 ;Select page 1
08AC   22FB           02742             call adconv
08AD   118A           02743             bcf PCLATH,3 ;Select page 0
08AE   0876           02744             movf ran1, W
08AF   00A0           02745             movwf r1
                      02746             
08B0   0942           02747             comf ir_61, W
08B1   07A0           02748             addwf r1, F
08B2   081E           02749             movf ADRESH, W
08B3   0FA0           02750             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B4   00C2           02751             movwf ir_61  ;prepise reg AN prevedenou hodnotou
08B5   0820           02752             movf r1, W
08B6   118A           02753             bcf PCLATH,3 ;Select page 0
08B7   1D03           02754             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B8   22EE           02755             call if_61  ;pokud zmena odesle na sbernici
                      02756             
                      02757             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02758             
                      02759             
                      02760 
                      02761 
                      02762             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08B9   2059           02763             call watchstart
                      02764 
                      02765             ;dotaz na procesor 2
08BA   3002           02766             movlw .2  ;oznaceni ciloveho procesoru
08BB   00F8           02767             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08BC   2147           02768             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02769     
                      02770             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08BD   205C           02771             call watchwait
                      02772     
08BE   0870           02773             movf pri0, W    ;kontroluje zda je zmena od minule
08BF   00A0           02774             movwf r1
08C0   0938           02775             comf ir_51, W
08C1   07A0           02776             addwf r1, F
08C2   0870           02777             movf pri0, W
08C3   0FA0           02778             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C4   00B8           02779             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08C5   0820           02780             movf r1, W
08C6   1D03           02781             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C7   22F4           02782             call if_51  ;pokud zmena spusti podprig
                      02783     
08C8   0871           02784             movf pri1, W    ;kontroluje zda je zmena od minule
08C9   00A0           02785             movwf r1
08CA   0939           02786             comf ir_52, W
08CB   07A0           02787             addwf r1, F
08CC   0871           02788             movf pri1, W
08CD   0FA0           02789             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CE   00B9           02790             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08CF   0820           02791             movf r1, W
08D0   1D03           02792             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D1   22F6           02793             call if_52  ;pokud zmena spusti podprig
                      02794     
                      02795     
08D2   0872           02796             movf pri2, W    ;kontroluje zda je zmena od minule
08D3   00A0           02797             movwf r1
08D4   093A           02798             comf ir_53, W
08D5   07A0           02799             addwf r1, F
08D6   0872           02800             movf pri2, W
08D7   0FA0           02801             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D8   00BA           02802             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08D9   0820           02803             movf r1, W
08DA   1D03           02804             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08DB   22F8           02805             call if_53  ;pokud zmena spusti podprig
                      02806     
                      02807     
08DC   0873           02808             movf pri3, W    ;kontroluje zda je zmena od minule
08DD   00A0           02809             movwf r1
08DE   093B           02810             comf ir_54, W
08DF   07A0           02811             addwf r1, F
08E0   0873           02812             movf pri3, W
08E1   0FA0           02813             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E2   00BB           02814             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08E3   0820           02815             movf r1, W
08E4   1D03           02816             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E5   22FA           02817             call if_54  ;pokud zmena spusti podprig
                      02818     
                      02819     
08E6   0874           02820             movf pri4, W    ;kontroluje zda je zmena od minule
08E7   00A0           02821             movwf r1
08E8   093C           02822             comf ir_55, W
08E9   07A0           02823             addwf r1, F
08EA   0874           02824             movf pri4, W
08EB   0FA0           02825             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EC   00BC           02826             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08ED   0820           02827             movf r1, W
08EE   1D03           02828             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EF   22FC           02829             call if_55  ;pokud zmena spusti podprig
                      02830     
                      02831     
08F0   0875           02832             movf pri5, W    ;kontroluje zda je zmena od minule
08F1   00A0           02833             movwf r1
08F2   093D           02834             comf ir_56, W
08F3   07A0           02835             addwf r1, F
08F4   0875           02836             movf pri5, W
08F5   0FA0           02837             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F6   00BD           02838             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08F7   0820           02839             movf r1, W
08F8   1D03           02840             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F9   22FE           02841             call if_56  ;pokud zmena spusti podprig
                      02842     
                      02843     
08FA   0876           02844             movf pri6, W    ;kontroluje zda je zmena od minule
08FB   00A0           02845             movwf r1
08FC   093E           02846             comf ir_57, W
08FD   07A0           02847             addwf r1, F
08FE   0876           02848             movf pri6, W
08FF   0FA0           02849             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0900   00BE           02850             movwf ir_57  ;priepise reg AN prievedenou hodnotou
0901   0820           02851             movf r1, W
0902   1D03           02852             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0903   2300           02853             call if_57  ;pokud zmena spusti podprig
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02854     
                      02855     
0904   0877           02856             movf pri7, W    ;kontroluje zda je zmena od minule
0905   00A0           02857             movwf r1
0906   0936           02858             comf ir_49, W
0907   07A0           02859             addwf r1, F
0908   0877           02860             movf pri7, W
0909   0FA0           02861             incfsz r1, F  ;pokud zadna zmena pokracuje dal
090A   00B6           02862             movwf ir_49  ;priepise reg AN prievedenou hodnotou
090B   0820           02863             movf r1, W
090C   1D03           02864             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090D   22F0           02865             call if_49  ;pokud zmena spusti podprig
                      02866 
                      02867 
                      02868             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090E   2059           02869             call watchstart
                      02870 
                      02871             ;dotaz na procesor 3
090F   3003           02872             movlw .3  ;oznaceni ciloveho procesoru
0910   00F8           02873             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0911   2147           02874             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02875             
                      02876             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0912   205C           02877             call watchwait
                      02878             
                      02879     
                      02880     
0913   0870           02881             movf pri0, W    ;kontroluje zda je zmena od minule
0914   00A0           02882             movwf r1
0915   0944           02883             comf ir_80, W
0916   07A0           02884             addwf r1, F
0917   0870           02885             movf pri0, W
0918   0FA0           02886             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0919   00C4           02887             movwf ir_80  ;priepise reg AN prievedenou hodnotou
091A   0820           02888             movf r1, W
091B   1D03           02889             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
091C   22F2           02890             call if_80  ;pokud zmena spusti podprig
                      02891     
                      02892     
091D   0871           02893             movf pri1, W    ;kontroluje zda je zmena od minule
091E   00A0           02894             movwf r1
091F   0945           02895             comf ir_84, W
0920   07A0           02896             addwf r1, F
0921   0871           02897             movf pri1, W
0922   0FA0           02898             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0923   00C5           02899             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0924   0820           02900             movf r1, W
0925   1D03           02901             btfss STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0926   2302           02902             call if_84  ;pokud zmena spusti podprig
                      02903     
                      02904     
0927   0872           02905             movf pri2, W    ;kontroluje zda je zmena od minule
0928   00A0           02906             movwf r1
0929   0946           02907             comf ir_85, W
092A   07A0           02908             addwf r1, F
092B   0872           02909             movf pri2, W
092C   0FA0           02910             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092D   00C6           02911             movwf ir_85  ;priepise reg AN prievedenou hodnotou
092E   0820           02912             movf r1, W
092F   1D03           02913             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0930   2304           02914             call if_85  ;pokud zmena spusti podprig
                      02915     
                      02916     
0931   0873           02917             movf pri3, W    ;kontroluje zda je zmena od minule
0932   00A0           02918             movwf r1
0933   0947           02919             comf ir_86, W
0934   07A0           02920             addwf r1, F
0935   0873           02921             movf pri3, W
0936   0FA0           02922             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0937   00C7           02923             movwf ir_86  ;priepise reg AN prievedenou hodnotou
0938   0820           02924             movf r1, W
0939   1D03           02925             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
093A   2306           02926             call if_86  ;pokud zmena spusti podprig
                      02927     
                      02928     
093B   0874           02929             movf pri4, W    ;kontroluje zda je zmena od minule
093C   00A0           02930             movwf r1
093D   0948           02931             comf ir_87, W
093E   07A0           02932             addwf r1, F
093F   0874           02933             movf pri4, W
0940   0FA0           02934             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0941   00C8           02935             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0942   0820           02936             movf r1, W
0943   1D03           02937             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0944   2308           02938             call if_87  ;pokud zmena spusti podprig
                      02939     
                      02940     
0945   0875           02941             movf pri5, W    ;kontroluje zda je zmena od minule
0946   00A0           02942             movwf r1
0947   0949           02943             comf ir_88, W
0948   07A0           02944             addwf r1, F
0949   0875           02945             movf pri5, W
094A   0FA0           02946             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094B   00C9           02947             movwf ir_88  ;priepise reg AN prievedenou hodnotou
094C   0820           02948             movf r1, W
094D   1D03           02949             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

094E   230A           02950             call if_88  ;pokud zmena spusti podprig
                      02951     
                      02952     
094F   0876           02953             movf pri6, W    ;kontroluje zda je zmena od minule
0950   00A0           02954             movwf r1
0951   094A           02955             comf ir_89, W
0952   07A0           02956             addwf r1, F
0953   0876           02957             movf pri6, W
0954   0FA0           02958             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0955   00CA           02959             movwf ir_89  ;priepise reg AN prievedenou hodnotou
0956   0820           02960             movf r1, W
0957   1D03           02961             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0958   230C           02962             call if_89  ;pokud zmena spusti podprig
                      02963     
                      02964     
0959   0877           02965             movf pri7, W    ;kontroluje zda je zmena od minule
095A   00A0           02966             movwf r1
095B   094B           02967             comf ir_90, W
095C   07A0           02968             addwf r1, F
095D   0877           02969             movf pri7, W
095E   0FA0           02970             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095F   00CB           02971             movwf ir_90  ;priepise reg AN prievedenou hodnotou
0960   0820           02972             movf r1, W
0961   1D03           02973             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0962   230E           02974             call if_90  ;pokud zmena spusti podprig
                      02975 
                      02976 
                      02977 
                      02978             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0963   2059           02979             call watchstart
                      02980 
                      02981             ;dotaz na procesor 4
0964   3004           02982             movlw .4  ;oznaceni ciloveho procesoru
0965   00F8           02983             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0966   2147           02984             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02985             
                      02986             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0967   205C           02987             call watchwait
                      02988             
                      02989     
                      02990     
0968   0870           02991             movf pri0, W    ;kontroluje zda je zmena od minule
0969   00A0           02992             movwf r1
096A   094C           02993             comf ir_91, W
096B   07A0           02994             addwf r1, F
096C   0870           02995             movf pri0, W
096D   0FA0           02996             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096E   00CC           02997             movwf ir_91  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

096F   0820           02998             movf r1, W
0970   1D03           02999             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0971   2310           03000             call if_91  ;pokud zmena spusti podprig
                      03001     
                      03002     
0972   0871           03003             movf pri1, W    ;kontroluje zda je zmena od minule
0973   00A0           03004             movwf r1
0974   094D           03005             comf ir_92, W
0975   07A0           03006             addwf r1, F
0976   0871           03007             movf pri1, W
0977   0FA0           03008             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0978   00CD           03009             movwf ir_92  ;priepise reg AN prievedenou hodnotou
0979   0820           03010             movf r1, W
097A   1D03           03011             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
097B   2312           03012             call if_92  ;pokud zmena spusti podprig
                      03013     
                      03014     
097C   0872           03015             movf pri2, W    ;kontroluje zda je zmena od minule
097D   00A0           03016             movwf r1
097E   094E           03017             comf ir_93, W
097F   07A0           03018             addwf r1, F
0980   0872           03019             movf pri2, W
0981   0FA0           03020             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0982   00CE           03021             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0983   0820           03022             movf r1, W
0984   1D03           03023             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0985   2314           03024             call if_93  ;pokud zmena spusti podprig
                      03025     
                      03026     
0986   0873           03027             movf pri3, W    ;kontroluje zda je zmena od minule
0987   00A0           03028             movwf r1
0988   094F           03029             comf ir_127, W
0989   07A0           03030             addwf r1, F
098A   0873           03031             movf pri3, W
098B   0FA0           03032             incfsz r1, F  ;pokud zadna zmena pokracuje dal
098C   00CF           03033             movwf ir_127  ;priepise reg AN prievedenou hodnotou
098D   0820           03034             movf r1, W
098E   1D03           03035             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
098F   2316           03036             call if_127  ;pokud zmena spusti podprig
                      03037     
                      03038     
0990   0874           03039             movf pri4, W    ;kontroluje zda je zmena od minule
0991   00A0           03040             movwf r1
0992   0950           03041             comf ir_128, W
0993   07A0           03042             addwf r1, F
0994   0874           03043             movf pri4, W
0995   0FA0           03044             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0996   00D0           03045             movwf ir_128  ;priepise reg AN prievedenou hodnotou
0997   0820           03046             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0998   1D03           03047             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0999   2318           03048             call if_128  ;pokud zmena spusti podprig
                      03049     
                      03050     
099A   0875           03051             movf pri5, W    ;kontroluje zda je zmena od minule
099B   00A0           03052             movwf r1
099C   0935           03053             comf ir_x, W
099D   07A0           03054             addwf r1, F
099E   0875           03055             movf pri5, W
099F   0FA0           03056             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09A0   00B5           03057             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09A1   0820           03058             movf r1, W
09A2   1D03           03059             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09A3   2365           03060             call if_x  ;pokud zmena spusti podprig
                      03061     
                      03062     
09A4   0876           03063             movf pri6, W    ;kontroluje zda je zmena od minule
09A5   00A0           03064             movwf r1
09A6   0935           03065             comf ir_x, W
09A7   07A0           03066             addwf r1, F
09A8   0876           03067             movf pri6, W
09A9   0FA0           03068             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09AA   00B5           03069             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09AB   0820           03070             movf r1, W
09AC   1D03           03071             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09AD   2365           03072             call if_x  ;pokud zmena spusti podprig
                      03073     
                      03074     
09AE   0877           03075             movf pri7, W    ;kontroluje zda je zmena od minule
09AF   00A0           03076             movwf r1
09B0   0935           03077             comf ir_x, W
09B1   07A0           03078             addwf r1, F
09B2   0877           03079             movf pri7, W
09B3   0FA0           03080             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09B4   00B5           03081             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09B5   0820           03082             movf r1, W
09B6   1D03           03083             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09B7   2365           03084             call if_x  ;pokud zmena spusti podprig
                      03085 
                      03086 
                      03087 
09B8   158A           03088             bsf PCLATH,3 ;Select page 1
09B9   284B           03089             goto loop      ;zpet v cyklu na zacatek
                      03090         
                      03091         
                      03092         
                      03093 
                      03094 
                      03095 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03096 
                      03097 
                      03098 
09BA   084B           03099 okna        movf ir_90, W
09BB   39F0           03100             andlw b'11110000' ;odseknu konecnou cast
09BC   00A0           03101             movwf r1
09BD   09A0           03102             comf r1, F ;udelám dvojkový doplněk
09BE   0824           03103             movf o1tar, W
09BF   39F0           03104             andlw b'11110000' ;odseknu konecnou cast
09C0   07A0           03105             addwf r1, F ;sectu s dvojkovym doplnkem
09C1   0803           03106             movf STATUS, W
09C2   00A2           03107             movwf r3
09C3   1922           03108             btfsc r3, Z
09C4   2229           03109             call o1stop
09C5   1922           03110             btfsc r3, Z
09C6   29CB           03111             goto okno2
09C7   1C22           03112             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09C8   21FF           03113             call o1up
09C9   1822           03114             btfsc r3, C ;pokud preteklo, sjed dolu
09CA   2214           03115             call o1down
09CB   084C           03116 okno2       movf ir_91, W
09CC   39F0           03117             andlw b'11110000' ;odseknu konecnou cast
09CD   00A0           03118             movwf r1
09CE   09A0           03119             comf r1, F ;udelám dvojkový doplněk
09CF   0825           03120             movf o2tar, W
09D0   39F0           03121             andlw b'11110000' ;odseknu konecnou cast
09D1   07A0           03122             addwf r1, F ;sectu s dvojkovym doplnkem
09D2   0803           03123             movf STATUS, W
09D3   00A2           03124             movwf r3
09D4   1922           03125             btfsc r3, Z
09D5   2268           03126             call o2stop
09D6   1922           03127             btfsc r3, Z
09D7   29DC           03128             goto okno3
09D8   1C22           03129             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09D9   223E           03130             call o2up
09DA   1822           03131             btfsc r3, C ;pokud preteklo, sjed dolu
09DB   2253           03132             call o2down
09DC   084D           03133 okno3       movf ir_92, W
09DD   39F0           03134             andlw b'11110000' ;odseknu konecnou cast
09DE   00A0           03135             movwf r1
09DF   09A0           03136             comf r1, F ;udelám dvojkový doplněk
09E0   0826           03137             movf o3tar, W
09E1   39F0           03138             andlw b'11110000' ;odseknu konecnou cast
09E2   07A0           03139             addwf r1, F ;sectu s dvojkovym doplnkem
09E3   0803           03140             movf STATUS, W
09E4   00A2           03141             movwf r3
09E5   1922           03142             btfsc r3, Z
09E6   22A7           03143             call o3stop
09E7   1922           03144             btfsc r3, Z
09E8   29ED           03145             goto okno4
09E9   1C22           03146             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09EA   227D           03147             call o3up
09EB   1822           03148             btfsc r3, C ;pokud preteklo, sjed dolu
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09EC   2292           03149             call o3down
09ED   084E           03150 okno4       movf ir_93, W
09EE   39F0           03151             andlw b'11110000' ;odseknu konecnou cast
09EF   00A0           03152             movwf r1
09F0   09A0           03153             comf r1, F ;udelám dvojkový doplněk
09F1   0827           03154             movf o4tar, W
09F2   39F0           03155             andlw b'11110000' ;odseknu konecnou cast
09F3   07A0           03156             addwf r1, F ;sectu s dvojkovym doplnkem
09F4   0803           03157             movf STATUS, W
09F5   00A2           03158             movwf r3
09F6   1922           03159             btfsc r3, Z
09F7   22E6           03160             call o4stop
09F8   1922           03161             btfsc r3, Z
09F9   0008           03162             return
09FA   1C22           03163             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09FB   22BC           03164             call o4up
09FC   1822           03165             btfsc r3, C ;pokud preteklo, sjed dolu
09FD   22D1           03166             call o4down
09FE   0008           03167             return
                      03168 
                      03169 ;okno 1 nahoru, dolu, zastavit
09FF   19A9           03170 o1up        btfsc o_a, 3
0A00   2A09           03171             goto no1up
0A01   301D           03172             movlw b'11101' ;port D5
0A02   00D2           03173             movwf port
0A03   3003           03174             movlw b'11' ;procesor 3
0A04   00D3           03175             movwf prc
                      03176         
0A05   118A           03177             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A06   2200           03178             call setout ;smaz port v prc
0A07   158A           03179             bsf PCLATH,3 ;Select page 1
0A08   15A9           03180             bsf o_a, 3 
0A09   1FA9           03181 no1up       btfss o_a, 7
0A0A   0008           03182             return
0A0B   300C           03183             movlw b'01100' ;port B4
0A0C   00D2           03184             movwf port
0A0D   3002           03185             movlw b'10' ;procesor 2
0A0E   00D3           03186             movwf prc
                      03187             
0A0F   118A           03188             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A10   2227           03189             call clrout ;smaz port v prc
0A11   158A           03190             bsf PCLATH,3 ;Select page 1
0A12   13A9           03191             bcf o_a, 7             
0A13   0008           03192             return
0A14   1DA9           03193 o1down      btfss o_a, 3
0A15   2A1E           03194             goto no1down
0A16   301D           03195             movlw b'11101' ;port D5
0A17   00D2           03196             movwf port
0A18   3003           03197             movlw b'11' ;procesor 3
0A19   00D3           03198             movwf prc
                      03199             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A1A   118A           03200             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A1B   2227           03201             call clrout ;smaz port v prc
0A1C   158A           03202             bsf PCLATH,3 ;Select page 1
0A1D   11A9           03203             bcf o_a, 3 
0A1E   1BA9           03204 no1down     btfsc o_a, 7
0A1F   0008           03205             return
0A20   300C           03206             movlw b'01100' ;port B4
0A21   00D2           03207             movwf port
0A22   3002           03208             movlw b'10' ;procesor 2
0A23   00D3           03209             movwf prc
                      03210             
0A24   118A           03211             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A25   2200           03212             call setout ;smaz port v prc
0A26   158A           03213             bsf PCLATH,3 ;Select page 1
0A27   17A9           03214             bsf o_a, 7             
0A28   0008           03215             return
0A29   1DA9           03216 o1stop      btfss o_a, 3
0A2A   2A33           03217             goto no1stop
0A2B   301D           03218             movlw b'11101' ;port D5
0A2C   00D2           03219             movwf port
0A2D   3003           03220             movlw b'11' ;procesor 3
0A2E   00D3           03221             movwf prc
                      03222             
0A2F   118A           03223             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A30   2227           03224             call clrout ;smaz port v prc
0A31   158A           03225             bsf PCLATH,3 ;Select page 1
0A32   11A9           03226             bcf o_a, 3 
0A33   1FA9           03227 no1stop     btfss o_a, 7
0A34   0008           03228             return
0A35   300C           03229             movlw b'01100' ;port B4
0A36   00D2           03230             movwf port
0A37   3002           03231             movlw b'10' ;procesor 2
0A38   00D3           03232             movwf prc
                      03233             
0A39   118A           03234             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A3A   2227           03235             call clrout ;smaz port v prc
0A3B   158A           03236             bsf PCLATH,3 ;Select page 1
0A3C   13A9           03237             bcf o_a, 7             
0A3D   0008           03238             return
                      03239 ;okno 2 nahoru, dolu, zastavit
0A3E   1A29           03240 o2up        btfsc o_a, 4
0A3F   2A48           03241             goto no2up
0A40   3018           03242             movlw b'11000' ;port D0
0A41   00D2           03243             movwf port
0A42   3002           03244             movlw b'10' ;procesor 2
0A43   00D3           03245             movwf prc
                      03246             
0A44   118A           03247             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A45   2200           03248             call setout ;smaz port v prc
0A46   158A           03249             bsf PCLATH,3 ;Select page 1
0A47   1629           03250             bsf o_a, 4 
0A48   1C2A           03251 no2up       btfss o_b, 0
0A49   0008           03252             return
0A4A   300D           03253             movlw b'01101' ;port B5
0A4B   00D2           03254             movwf port
0A4C   3002           03255             movlw b'10' ;procesor 2
0A4D   00D3           03256             movwf prc
                      03257             
0A4E   118A           03258             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4F   2227           03259             call clrout ;smaz port v prc
0A50   158A           03260             bsf PCLATH,3 ;Select page 1
0A51   102A           03261             bcf o_b, 0             
0A52   0008           03262             return
0A53   1E29           03263 o2down      btfss o_a, 4
0A54   2A5D           03264             goto no2down
0A55   3018           03265             movlw b'11000' ;port D0
0A56   00D2           03266             movwf port
0A57   3002           03267             movlw b'10' ;procesor 2
0A58   00D3           03268             movwf prc
                      03269             
0A59   118A           03270             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A5A   2227           03271             call clrout ;smaz port v prc
0A5B   158A           03272             bsf PCLATH,3 ;Select page 1
0A5C   1229           03273             bcf o_a, 4 
0A5D   182A           03274 no2down     btfsc o_b, 0
0A5E   0008           03275             return
0A5F   300D           03276             movlw b'01101' ;port B5
0A60   00D2           03277             movwf port
0A61   3002           03278             movlw b'10' ;procesor 2
0A62   00D3           03279             movwf prc
                      03280             
0A63   118A           03281             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A64   2200           03282             call setout ;smaz port v prc
0A65   158A           03283             bsf PCLATH,3 ;Select page 1
0A66   142A           03284             bsf o_b, 0             
0A67   0008           03285             return
0A68   1E29           03286 o2stop      btfss o_a, 4
0A69   2A72           03287             goto no2stop
0A6A   3018           03288             movlw b'11000' ;port D0
0A6B   00D2           03289             movwf port
0A6C   3002           03290             movlw b'10' ;procesor 2
0A6D   00D3           03291             movwf prc
                      03292             
0A6E   118A           03293             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6F   2227           03294             call clrout ;smaz port v prc
0A70   158A           03295             bsf PCLATH,3 ;Select page 1
0A71   1229           03296             bcf o_a, 4 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A72   1C2A           03297 no2stop     btfss o_b, 0
0A73   0008           03298             return
0A74   300D           03299             movlw b'01101' ;port B5
0A75   00D2           03300             movwf port
0A76   3002           03301             movlw b'10' ;procesor 2
0A77   00D3           03302             movwf prc
                      03303             
0A78   118A           03304             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A79   2227           03305             call clrout ;smaz port v prc
0A7A   158A           03306             bsf PCLATH,3 ;Select page 1
0A7B   102A           03307             bcf o_b, 0             
0A7C   0008           03308             return
                      03309 ;okno 3 nahoru, dolu, zastavit
0A7D   1AA9           03310 o3up        btfsc o_a, 5
0A7E   2A87           03311             goto no3up
0A7F   300A           03312             movlw b'01010' ;port B2
0A80   00D2           03313             movwf port
0A81   3002           03314             movlw b'10' ;procesor 2
0A82   00D3           03315             movwf prc
                      03316             
0A83   118A           03317             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A84   2200           03318             call setout ;smaz port v prc
0A85   158A           03319             bsf PCLATH,3 ;Select page 1
0A86   16A9           03320             bsf o_a, 5 
0A87   1CAA           03321 no3up       btfss o_b, 1
0A88   0008           03322             return
0A89   300E           03323             movlw b'01110' ;port B6
0A8A   00D2           03324             movwf port
0A8B   3002           03325             movlw b'10' ;procesor 2
0A8C   00D3           03326             movwf prc
                      03327             
0A8D   118A           03328             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8E   2227           03329             call clrout ;smaz port v prc
0A8F   158A           03330             bsf PCLATH,3 ;Select page 1
0A90   10AA           03331             bcf o_b, 1             
0A91   0008           03332             return
0A92   1EA9           03333 o3down      btfss o_a, 5
0A93   2A9C           03334             goto no3down
0A94   300A           03335             movlw b'01010' ;port B2
0A95   00D2           03336             movwf port
0A96   3002           03337             movlw b'10' ;procesor 2
0A97   00D3           03338             movwf prc
                      03339             
0A98   118A           03340             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A99   2227           03341             call clrout ;smaz port v prc
0A9A   158A           03342             bsf PCLATH,3 ;Select page 1
0A9B   12A9           03343             bcf o_a, 5 
0A9C   18AA           03344 no3down     btfsc o_b, 1
0A9D   0008           03345             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A9E   300E           03346             movlw b'01110' ;port B6
0A9F   00D2           03347             movwf port
0AA0   3002           03348             movlw b'10' ;procesor 2
0AA1   00D3           03349             movwf prc
                      03350             
0AA2   118A           03351             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA3   2200           03352             call setout ;smaz port v prc
0AA4   158A           03353             bsf PCLATH,3 ;Select page 1
0AA5   14AA           03354             bsf o_b, 1             
0AA6   0008           03355             return
0AA7   1EA9           03356 o3stop      btfss o_a, 5
0AA8   2AB1           03357             goto no3stop
0AA9   300A           03358             movlw b'01010' ;port B2
0AAA   00D2           03359             movwf port
0AAB   3002           03360             movlw b'10' ;procesor 2
0AAC   00D3           03361             movwf prc
                      03362             
0AAD   118A           03363             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAE   2227           03364             call clrout ;smaz port v prc
0AAF   158A           03365             bsf PCLATH,3 ;Select page 1
0AB0   12A9           03366             bcf o_a, 5 
0AB1   1CAA           03367 no3stop     btfss o_b, 1
0AB2   0008           03368             return
0AB3   300E           03369             movlw b'01110' ;port B6
0AB4   00D2           03370             movwf port
0AB5   3002           03371             movlw b'10' ;procesor 2
0AB6   00D3           03372             movwf prc
                      03373             
0AB7   118A           03374             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB8   2227           03375             call clrout ;smaz port v prc
0AB9   158A           03376             bsf PCLATH,3 ;Select page 1
0ABA   10AA           03377             bcf o_b, 1             
0ABB   0008           03378             return
                      03379 ;okno 4 nahoru, dolu, zastavit
0ABC   1B29           03380 o4up        btfsc o_a, 6
0ABD   2AC6           03381             goto no4up
0ABE   300B           03382             movlw b'01011' ;port B3
0ABF   00D2           03383             movwf port
0AC0   3002           03384             movlw b'10' ;procesor 2
0AC1   00D3           03385             movwf prc
                      03386             
0AC2   118A           03387             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC3   2200           03388             call setout ;smaz port v prc
0AC4   158A           03389             bsf PCLATH,3 ;Select page 1
0AC5   1729           03390             bsf o_a, 6 
0AC6   1D2A           03391 no4up       btfss o_b, 2
0AC7   0008           03392             return
0AC8   300F           03393             movlw b'01111' ;port B7
0AC9   00D2           03394             movwf port
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0ACA   3002           03395             movlw b'10' ;procesor 2
0ACB   00D3           03396             movwf prc
                      03397             
0ACC   118A           03398             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACD   2227           03399             call clrout ;smaz port v prc
0ACE   158A           03400             bsf PCLATH,3 ;Select page 1
0ACF   112A           03401             bcf o_b, 2             
0AD0   0008           03402             return
0AD1   1F29           03403 o4down      btfss o_a, 6
0AD2   2ADB           03404             goto no4down
0AD3   300B           03405             movlw b'01011' ;port B3
0AD4   00D2           03406             movwf port
0AD5   3002           03407             movlw b'10' ;procesor 2
0AD6   00D3           03408             movwf prc
                      03409             
0AD7   118A           03410             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD8   2227           03411             call clrout ;smaz port v prc
0AD9   158A           03412             bsf PCLATH,3 ;Select page 1
0ADA   1329           03413             bcf o_a, 6 
0ADB   192A           03414 no4down     btfsc o_b, 2
0ADC   0008           03415             return
0ADD   300F           03416             movlw b'01111' ;port B7
0ADE   00D2           03417             movwf port
0ADF   3002           03418             movlw b'10' ;procesor 2
0AE0   00D3           03419             movwf prc
                      03420             
0AE1   118A           03421             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AE2   2200           03422             call setout ;smaz port v prc
0AE3   158A           03423             bsf PCLATH,3 ;Select page 1
0AE4   152A           03424             bsf o_b, 2             
0AE5   0008           03425             return
0AE6   1F29           03426 o4stop      btfss o_a, 6
0AE7   2AF0           03427             goto no4stop
0AE8   300B           03428             movlw b'01011' ;port B3
0AE9   00D2           03429             movwf port
0AEA   3002           03430             movlw b'10' ;procesor 2
0AEB   00D3           03431             movwf prc
                      03432             
0AEC   118A           03433             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AED   2227           03434             call clrout ;smaz port v prc
0AEE   158A           03435             bsf PCLATH,3 ;Select page 1
0AEF   1329           03436             bcf o_a, 6 
0AF0   1D2A           03437 no4stop     btfss o_b, 2
0AF1   0008           03438             return
0AF2   300F           03439             movlw b'01111' ;port B7
0AF3   00D2           03440             movwf port
0AF4   3002           03441             movlw b'10' ;procesor 2
0AF5   00D3           03442             movwf prc
                      03443             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AF6   118A           03444             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AF7   2227           03445             call clrout ;smaz port v prc
0AF8   158A           03446             bsf PCLATH,3 ;Select page 1
0AF9   112A           03447             bcf o_b, 2             
0AFA   0008           03448             return
                      03449             
                      03450             
                      03451             
                      03452             
                      03453 
                      03454 
                      03455 
                      03456 
0AFB   3032           03457 adconv      movlw .50 ; kolikrat se ma merit vstup
0AFC   00F7           03458             movwf ran2 ; decrementator pro cykl
0AFD   00FA           03459             movwf ran5 ; delitel pro vypocet prumeru
0AFE   0876           03460             movf ran1, W
0AFF   00F8           03461             movwf ran3 ; zachováni ANx vstupu
0B00   01F2           03462             clrf CIS2_L
0B01   01F3           03463             clrf CIS2_H
                      03464             
0B02   0878           03465 adconv2     movf ran3, W
0B03   00F6           03466             movwf ran1 ; nasteni znova ANx vstupu
0B04   2323           03467             call adconv_one
                      03468             
                      03469             ; pripraveni cisla 1 k pricteni
0B05   01F1           03470             clrf CIS1_H
0B06   0876           03471             movf ran1, W
0B07   00F0           03472             movwf CIS1_L
                      03473             
                      03474             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03475             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03476         
0B08   0870           03477                 movf    CIS1_L,W        ; CIS1_L do W
0B09   0772           03478                 addwf   CIS2_L,W        ; W + CIS2_L do W
0B0A   00F4           03479                 movwf   OUT_L           ; W do OUT_L
                      03480         
0B0B   0871           03481                 movf    CIS1_H,W        ; CIS1_H do W
0B0C   1803           03482                 btfsc   STATUS,C
0B0D   3E01           03483                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0B0E   0773           03484                 addwf   CIS2_H,W
0B0F   00F5           03485                 movwf   OUT_H           ; W do OUT_H
                      03486                 
                      03487                 ; ulozi OUT do CIS2
0B10   0874           03488             movf OUT_L, W
0B11   00F2           03489             movwf CIS2_L
0B12   0875           03490             movf OUT_H, W
0B13   00F3           03491             movwf CIS2_H
                      03492             
                      03493             
0B14   0BF7           03494             decfsz ran2, F
0B15   2B02           03495             goto adconv2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03496             
                      03497             ; vydeli poctem mereni
0B16   0872           03498             movf CIS2_L, W
0B17   00F0           03499             movwf A1
0B18   0873           03500             movf CIS2_H, W
0B19   00F1           03501             movwf A2
0B1A   01F2           03502             clrf A3
                      03503             
0B1B   087A           03504             movf ran5, W
0B1C   00F3           03505             movwf B1
0B1D   01F4           03506             clrf B2
0B1E   01F5           03507             clrf B3
                      03508             
0B1F   2332           03509             call LOMENO24
0B20   0876           03510             movf C1, W
0B21   00F6           03511             movwf ran1
                      03512             
0B22   0008           03513             return
                      03514         
0B23   1003           03515 adconv_one  bcf STATUS, C
0B24   0DF6           03516             rlf ran1, F
0B25   0DF6           03517             rlf ran1, F
0B26   0DF6           03518             rlf ran1, F
                      03519             
                      03520             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B27   13F6           03521             bcf ran1, 7
0B28   1776           03522             bsf ran1, 6
                      03523             ; 5
                      03524             ; 4
                      03525             ; 3
0B29   1576           03526             bsf ran1, 2
                      03527             ; 1
0B2A   1476           03528             bsf ran1, 0
                      03529             
0B2B   0876           03530             movf ran1, W
0B2C   009F           03531             movwf ADCON0
                      03532             
0B2D   191F           03533             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B2E   2B2D           03534             goto $-1
0B2F   081E           03535             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B30   00F6           03536             movwf ran1
0B31   0008           03537             return
                      03538         
                      03539         
                      03540         
                      03541         
                      03542         
                      03543 ;-------------------------------;
                      03544 ; A1,2,3 / B1,2,3 = C1,2,3
                      03545 ;24Bit, pouze kladna cisla
                      03546 ;SZ=1=deleni nulou (B1,2,3=0)
                      03547 ;B se nezmeni, v A bude zbytek
                      03548 ;pouziva D1,2,3; X1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B32                  03549 LOMENO24
                      03550 ;test B na nulu; sZ=1=ANO
0B32   08F3           03551         MOVF    B1,F
0B33   1903           03552         BTFSC   STATUS,Z        ;nenulove?
0B34   08F4           03553         MOVF    B2,F
0B35   1903           03554         BTFSC   STATUS,Z        ;nenulove?
0B36   08F5           03555         MOVF    B3,F
0B37   1903           03556         BTFSC   STATUS,Z        ;nenulove?
0B38   0008           03557         RETURN                  ;B1,2,3=0
                      03558 ;priprava pro deleni
0B39   0870           03559 LOM24   MOVF    A1,W            ;A do D
0B3A   00F9           03560         MOVWF   D1              ;
0B3B   0871           03561         MOVF    A2,W            ;
0B3C   00FA           03562         MOVWF   D2              ;
0B3D   0872           03563         MOVF    A3,W            ;
0B3E   00FB           03564         MOVWF   D3              ;
0B3F   01F0           03565         CLRF    A1              ;nulovat
0B40   01F1           03566         CLRF    A2              ;
0B41   01F2           03567         CLRF    A3              ;
0B42   3018           03568         MOVLW   24              ;pocet bitu
0B43   00FC           03569         MOVWF   X1              ;
0B44   1003           03570         BCF     STATUS,C        ;SC=0
                      03571 ;deleni
0B45   2357           03572 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B46   1C03           03573         BTFSS   STATUS,C        ;kladny vysledek?
0B47   2B4D           03574         GOTO    LZapor          ;NE
                      03575 ;LKlad
0B48   00F2           03576         MOVWF   A3              ;C do A
0B49   0877           03577         MOVF    C2,W            ;
0B4A   00F1           03578         MOVWF   A2              ;
0B4B   0876           03579         MOVF    C1,W            ;
0B4C   00F0           03580         MOVWF   A1              ;
                      03581 
0B4D   0BFC           03582 LZapor  DECFSZ  X1,F            ;-1=0?
0B4E   2B45           03583         GOTO    LDalsi          ;jeste neni konec
                      03584 ;vysledek
0B4F   0D79           03585         RLF     D1,W            ;posledni x2
0B50   00F6           03586         MOVWF   C1              ; a W do C
0B51   0D7A           03587         RLF     D2,W            ;
0B52   00F7           03588         MOVWF   C2              ;
0B53   0D7B           03589         RLF     D3,W            ;
0B54   00F8           03590         MOVWF   C3              ;
                      03591 
0B55   1103           03592         BCF     STATUS,Z        ;SZ=0
0B56   0008           03593         RETURN
                      03594 
                      03595 
                      03596 ;................................
                      03597 ; D1,2,3 A1,2,3 * 2 a Minus
0B57   0DF9           03598 x2M     RLF     D1,F            ;posuv vlevo
0B58   0DFA           03599         RLF     D2,F            ;
0B59   0DFB           03600         RLF     D3,F            ;
0B5A   0DF0           03601         RLF     A1,F            ;
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B5B   0DF1           03602         RLF     A2,F            ;
0B5C   0DF2           03603         RLF     A3,F            ;
                      03604                                 ;pokracuje MINUS
                      03605 ;--------------------------------
                      03606 ; A1,2,3 - B1,2,3 = C1,2,3
                      03607 ;SC=0=zaporny vysledek
                      03608 ;A,B se nezmeni
0B5D   0873           03609 MINUS   MOVF    B1,W            ;W=B1
0B5E   0270           03610         SUBWF   A1,W            ;A1-B1=W
0B5F   00F6           03611         MOVWF   C1              ;C1=W=vysledek1
0B60   0103           03612         CLRW                    ;W=0
0B61   1C03           03613         BTFSS   STATUS,C        ;SUB kladne?
0B62   3001           03614         MOVLW   1               ;W=1
0B63   0774           03615         ADDWF   B2,W            ;B2+W=W
0B64   01F8           03616         CLRF    C3              ;C3=0
0B65   1803           03617         BTFSC   STATUS,C        ;ADD nepreteklo?
0B66   1478           03618         BSF     C3,0            ;C3=1
0B67   0271           03619         SUBWF   A2,W            ;A2-W=W
0B68   00F7           03620         MOVWF   C2              ;C2=w=vysledek2
0B69   0878           03621         MOVF    C3,W            ;W=C3
0B6A   1C03           03622         BTFSS   STATUS,C        ;SUB kladne?
0B6B   3001           03623         MOVLW   1               ;W=1
0B6C   0775           03624         ADDWF   B3,W            ;B3+W=W
0B6D   01F8           03625         CLRF    C3              ;C3=0
0B6E   1803           03626         BTFSC   STATUS,C        ;ADD nepreteklo?
0B6F   1478           03627         BSF     C3,0            ;C3=1
0B70   0272           03628         SUBWF   A3,W            ;A3-W=W
0B71   1878           03629         BTFSC   C3,0            ;C3=0?
0B72   1003           03630         BCF     STATUS,C        ;SC=0
0B73   00F8           03631         MOVWF   C3              ;C3=W=vysledek3
0B74   0008           03632         RETURN
                      03633 
                      03634 
                      03635         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B45
LEDZAM                            00000002
LOM24                             00000B39
LOMENO24                          00000B32
LZapor                            00000B4D
MINUS                             00000B5D
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AFB
adconv2                           00000B02
adconv_one                        00000B23
alabli                            0000013C
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            00000227
conf                              00000059
dotaz                             00000147
dotazerr                          000001FC
if_127                            00000316
if_128                            00000318
if_49                             000002F0
if_50                             000002E8
if_51                             000002F4
if_52                             000002F6
if_53                             000002F8
if_54                             000002FA
if_55                             000002FC
if_56                             000002FE
if_57                             00000300
if_58                             0000024E
if_59                             000002EA
if_60                             000002EC
if_61                             000002EE
if_62                             0000029B
if_80                             000002F2
if_84                             00000302
if_85                             00000304
if_86                             00000306
if_87                             00000308
if_88                             0000030A
if_89                             0000030C
if_90                             0000030E
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             00000310
if_92                             00000312
if_93                             00000314
if_x                              00000365
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           000006EA
ledPCRun                          00000078
ledzam                            000006F9
locked                            00000051
loop                              0000084B
lzabli                            000000EA
no1down                           00000A1E
no1stop                           00000A33
no1up                             00000A09
no2down                           00000A5D
no2stop                           00000A72
no2up                             00000A48
no3down                           00000A9C
no3stop                           00000AB1
no3up                             00000A87
no4down                           00000ADB
no4stop                           00000AF0
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

no4up                             00000AC6
o1down                            00000A14
o1stop                            00000A29
o1tar                             00000024
o1tmp                             00000020
o1up                              000009FF
o2down                            00000A53
o2stop                            00000A68
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A3E
o3down                            00000A92
o3stop                            00000AA7
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A7D
o4down                            00000AD1
o4stop                            00000AE6
o4tar                             00000027
o4tmp                             00000023
o4up                              00000ABC
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            00000107
okna                              000009BA
okno2                             000009CB
okno3                             000009DC
okno4                             000009ED
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

r5                                00000024
r6                                00000025
radio                             00000060
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000D9
s_temp                            00000027
setout                            00000200
sirbeep                           000000A5
spinac                            00000064
spioff                            00000102
start                             00000827
t1_00                             000003AE
t1_01                             000003D0
t1_02                             000003F0
t1_03                             00000418
t1_04                             0000043E
t1_05                             00000474
t1_06                             00000494
t1_07                             000004D0
t1_08                             000004DE
t1_09                             000004EC
t1_10                             000004EE
t1_11                             000004F8
t1_12                             000004FF
t1_13                             00000508
t1_14                             00000511
t1_15                             00000518
t1_16                             0000051F
t1_17                             00000526
t1_18                             00000528
t1_19                             0000052A
t1_20                             0000052C
t1_21                             00000533
t1_22                             0000053A
t1_23                             00000541
t1_24                             00000548
t1_25                             0000054F
t1_26                             00000556
t1_27                             00000565
t1_28                             00000567
t1_29                             00000569
t1_30                             0000056B
t1_31                             00000574
t1_32                             0000057D
t1_33                             00000588
t1_34                             00000593
t1_35                             0000059C
t1_36                             000005A5
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

t1_37                             000005B0
t1_38                             000005C0
t1_39                             000005C2
t1_40                             000005C4
t1_41                             000005D3
t1_42                             000005E2
t1_43                             000005F1
t1_44                             00000600
t1_45                             0000060F
t1_46                             00000613
t1_47                             00000617
t1_48                             00000626
t1_49                             00000628
t1_50                             0000062A
t1_51                             00000631
t1_52                             00000635
t1_53                             00000639
t1_54                             00000648
t1_55                             00000657
t1_56                             0000065B
t1_57                             0000067C
t1_58                             0000067E
t1_59                             00000680
t1_60                             00000682
t1_61                             0000068D
t1_62                             0000069C
t1_63                             000006AB
t1_64                             000006B5
t1_65                             000006BF
t1_66                             000006C9
t1_67                             000006D3
t1_68                             000006D5
t1_69                             000006D7
t1_stop                           00000367
t1_x                              000006D9
t2_02                             0000040B
t2_03                             00000431
t2_37                             000005B9
t2_stop                           00000369
t3_02                             00000414
t3_03                             0000043A
t3_stop                           0000036B
timala                            00000067
timer1                            00000062
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           0000036D
varoff                            000000AE
vterina                           0000006C
vterinka                          00000077
w100c                             000006E0
w20i                              000006DB
w40c                              000006E5
w_temp                            00000026
watchover                         00000057
watchstart                        00000059
watchwait                         0000005C
wtuoff                            000000F1
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B57


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-14-2012  8:36:35         PAGE 83


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXX-------- ---------------- ---------------- ----------------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXX-----------

All other memory blocks unused.

Program Memory Words Used:  2682
Program Memory Words Free:  1414


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :   100 reported,     0 suppressed

