MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3A
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 o1tmp       
  0000005F            00081 o2tmp       
  00000060            00082 o3tmp       
  00000061            00083 o4tmp       
  00000062            00084 o1tar       
  00000063            00085 o2tar       
  00000064            00086 o3tar       
  00000065            00087 o4tar       
                      00088 
  00000066            00089 timwtu      
  00000067            00090 spinac      
  00000068            00091 timspi      
  00000069            00092 timods      
  0000006A            00093 timala      
  0000006B            00094 x0          
                      00095 
  0000006C            00096 x1          
  0000006D            00097 x2          
  0000006E            00098 casvar
                      00099       ; registr 79/96
                      00100       endc
                      00101 
                      00102 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 ;Lokální proměne (pracovni a parametry) od 6D
                      00104       cblock 0x70
  00000070            00105 pri0       
  00000071            00106 pri1       
  00000072            00107 pri2        
  00000073            00108 pri3      
  00000074            00109 pri4        
  00000075            00110 pri5       
  00000076            00111 pri6    
  00000077            00112 pri7        
  00000078            00113 cil       
                      00114       endc  
                      00115 
                      00116       cblock 0x70
  00000070            00117 CIS1_L      
  00000071            00118 CIS1_H      
  00000072            00119 CIS2_L 
  00000073            00120 CIS2_H 
  00000074            00121 OUT_L 
  00000075            00122 OUT_H       
  00000076            00123 ran1      
  00000077            00124 ran2      
  00000078            00125 ran3       
  00000079            00126 ran4    
  0000007A            00127 ran5  
                      00128       endc
                      00129   
                      00130       cblock 0x70
  00000070            00131 A1    
  00000071            00132 A2    
  00000072            00133 A3    
  00000073            00134 B1    
  00000074            00135 B2    
  00000075            00136 B3    
  00000076            00137 C1    
  00000077            00138 C2    
  00000078            00139 C3    
  00000079            00140 D1    
  0000007A            00141 D2    
  0000007B            00142 D3    
  0000007C            00143 X1    
  0000007D            00144 X2    
  0000007E            00145 FL    
                      00146       endc
                      00147 
                      00148 
                      00149 
                      00150 ;KONSTANTY
                      00151 ;conf constant
  00000000            00152 T0OF        equ .0
  00000001            00153 STARTED     equ .1
  00000002            00154 WATCHOVER   equ .2
                      00155 ;casov constant
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00156 ;VAROV       equ .0
  00000001            00157 REDTUN      equ .1
  00000002            00158 LEDZAM      equ .2
  00000003            00159 WHITUN      equ .3
  00000004            00160 ODSKOK      equ .4
  00000005            00161 ALARM       equ .5
                      00162 
                      00163 
                      00164 
                      00165 
0000                  00166             org 000h        ;vektor zacatku
0000   2812           00167             goto init
                      00168 
0004                  00169             org 004h        ;vektor preruseni
0004   00A6           00170             movwf w_temp ;copy w to temp register
0005   0E0A           00171             swapf PCLATH, W ;swap pclath to be saved into w
0006   00A8           00172             movwf pcl_temp ;save status to bank zero pclath_temp register
0007   0E03           00173             swapf STATUS, W ;swap status to be saved into w
0008   00A7           00174             movwf s_temp ;save status to bank zero s_temp register
0009   0183           00175             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00176             
000A   118A           00177             bcf PCLATH,3 ;Select page 0
000B   203A           00178             call inter
                      00179         
000C   0E27           00180             swapf s_temp, W ;swap status_temp register into w
000D   0083           00181             movwf STATUS ;move w into status register;(sets bank to original state)
000E   0E28           00182             swapf pcl_temp, W ;swap pcl_temp register into w
000F   008A           00183             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
0010   0E26           00184             swapf w_temp, W ;
0011   0008           00185             return
                      00186 
                      00187 ;init        ;clrf PORTA      ;Init PORTS
                      00188             ;clrf PORTB
                      00189             ;clrf PORTC
                      00190             ;clrf PORTD
                      00191             ;clrf PORTE
                      00192             
0012   1683           00193 init        bsf STATUS, RP0  ;Bank 1
                      00194             
0013   3003           00195             movlw b'00000011' ; PCON 000000XX POR, BOR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0014   008E           00196             movwf PCON
                      00197     
0015   3049           00198             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0016   009F           00199             movwf ADCON1
                      00200     
0017   302F           00201             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0018   0085           00202             movwf TRISA
0019   3001           00203             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001A   0086           00204             movwf TRISB
001B   3000           00205             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001C   0087           00206             movwf TRISC
001D   3000           00207             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001E   0088           00208             movwf TRISD
001F   3001           00209             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0020   0089           00210             movwf TRISE
                      00211             
0021   30C7           00212             movlw b'11000111' ; timer0 control
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0022   0081           00213             movwf OPTION_REG
                      00214             
                      00215             
0023   1283           00216             bcf STATUS, RP0 ;Bank 0
                      00217     
0024   3046           00218             movlw b'01000110' ; nastaví control register timer2
0025   0092           00219             movwf T2CON
                      00220             
0026   2029           00221             call inton
                      00222             
                      00223             ;po startu zamkne a zapne alarm
                      00224             ;call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo
                      00225             
0027   158A           00226             bsf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0028   2800           00227             goto start      ;zacni na startu
                      00228         
                      00229         
                      00230         
                      00231 
0029   108B           00232 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
002A   160B           00233             bsf INTCON, INTE
002B   110B           00234             bcf INTCON, T0IF ;nastavení přerušení od Timer0
002C   168B           00235             bsf INTCON, T0IE
002D   108C           00236             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
002E   1683           00237             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002F   148C           00238             bsf PIE1, TMR2IE
0030   1283           00239             bcf STATUS, RP0 ;Bank 0
0031   170B           00240             bsf INTCON, PEIE
0032   178B           00241             bsf INTCON, GIE
0033   0008           00242             return
                      00243         
0034   120B           00244 intoff      bcf INTCON, INTE
0035   128B           00245             bcf INTCON, T0IE
0036   1683           00246             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0037   108C           00247             bcf PIE1, TMR2IE
0038   1283           00248             bcf STATUS, RP0 ;Bank 0
0039   0008           00249             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00250 
                      00251 
                      00252 
003A   2034           00253 inter       call intoff
                      00254       
003B   188B           00255             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
003C   204C           00256             call radio
003D   190B           00257             btfsc INTCON, T0IF
003E   1459           00258             bsf conf, T0OF
003F   188C           00259             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0040   2043           00260             call watchover
                      00261     
0041   2029           00262             call inton
0042   0008           00263             return
                      00264 
                      00265 ;pokud přetekl timer2 pro watch
0043   1559           00266 watchover   bsf conf, WATCHOVER
0044   0008           00267             return
                      00268             
                      00269 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0045   1159           00270 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
0046   0191           00271             clrf TMR2 ;vynuluje timer2
0047   0008           00272             return
                      00273             
0048   1D59           00274 watchwait   btfss conf, WATCHOVER
0049   2848           00275             goto $-1
                      00276             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
004A   2687           00277             call w100c
004B   0008           00278             return
                      00279 
                      00280 ;při zachyceni signalu na radiovem přijímači        
004C   0000           00281 radio       nop
004D   0008           00282             return
                      00283             
                      00284 ;při přetečení timeru 0, až po fázi synchronizace procesorů    
004E   1858           00285 timer0      btfsc cassir, 0
004F   2060           00286             call sirbeep
0050   186E           00287             btfsc casvar, 0
0051   2069           00288             call varoff
0052   18DA           00289             btfsc casov, REDTUN
0053   208C           00290             call rtuoff
0054   195A           00291             btfsc casov, LEDZAM
0055   209D           00292             call lzabli
0056   19DA           00293             btfsc casov, WHITUN
0057   20A4           00294             call wtuoff
0058   1A5A           00295             btfsc casov, ODSKOK
0059   20BA           00296             call odsoff
005A   1ADA           00297             btfsc casov, ALARM
005B   20E9           00298             call alabli
005C   1967           00299             btfsc spinac, 2
005D   20B5           00300             call spioff
                      00301 
005E   1059           00302             bcf conf, T0OF
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005F   0008           00303             return
                      00304             
                      00305 ;houkani sireny v intervalech cca 240ms        
0060   03D7           00306 sirbeep     decf timsir, F
0061   1D03           00307             btfss STATUS, Z
0062   0008           00308             return
0063   1003           00309             bcf STATUS, C
0064   0CD8           00310             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
0065   25E1           00311             call t1_53 ;neguje houkani sireny
0066   3003           00312             movlw .3 ;nastavy na dalsich 240ms
0067   00D7           00313             movwf timsir
0068   0008           00314             return
                      00315             
                      00316 ;blikani varovek
0069   03DB           00317 varoff      decf timvar, F
006A   1D03           00318             btfss STATUS, Z
006B   0008           00319             return
006C   0CEE           00320             rrf casvar, F
006D   1C03           00321             btfss STATUS, C
006E   13EE           00322             bcf casvar, 7
006F   1803           00323             btfsc STATUS, C
0070   17EE           00324             bsf casvar, 7
                      00325             
0071   01A1           00326             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
0072   01A2           00327             clrf r3
0073   1A2D           00328             btfsc o_e, 4
0074   1421           00329             bsf r2, 0
0075   1AAD           00330             btfsc o_e, 5
0076   1422           00331             bsf r3, 0
0077   0821           00332             movf r2, W
0078   05A2           00333             andwf r3, F
                      00334             
0079   1822           00335             btfsc r3, 0 ;pokud oba zaply oba vypne
007A   122D           00336             bcf o_e, 4
007B   1822           00337             btfsc r3, 0 ;pokud oba zaply oba vypne
007C   1308           00338             bcf PORTD, 6
007D   1822           00339             btfsc r3, 0 ;pokud oba zaply oba vypne
007E   12AD           00340             bcf o_e, 5
007F   1822           00341             btfsc r3, 0 ;pokud oba zaply oba vypne
0080   1388           00342             bcf PORTD, 7
                      00343     
0081   1C22           00344             btfss r3, 0 ;pokud jeden vyply oba zapne
0082   162D           00345             bsf o_e, 4
0083   1C22           00346             btfss r3, 0 ;pokud jeden vyply oba zapne
0084   1708           00347             bsf PORTD, 6
0085   1C22           00348             btfss r3, 0 ;pokud jeden vyply oba zapne
0086   16AD           00349             bsf o_e, 5
0087   1C22           00350             btfss r3, 0 ;pokud jeden vyply oba zapne
0088   1788           00351             bsf PORTD, 7
                      00352             
0089   3008           00353             movlw .8 ;nastavy na dalsich 240ms
008A   00DB           00354             movwf timvar
008B   0008           00355             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00356 
                      00357 ;vypnuti red tuning
008C   03DC           00358 rtuoff      decf timrtu, F
008D   1D03           00359             btfss STATUS, Z
008E   0008           00360             return
008F   112B           00361             bcf o_c, 2 ;vypne red tunning
0090   3016           00362             movlw b'10110' ;port C6
0091   00D2           00363             movwf port
0092   3002           00364             movlw b'10' ;procesor 2
0093   00D3           00365             movwf prc
0094   21D4           00366             call clrout ;smaz port v prc
0095   11AE           00367             bcf o_f, 3 ;vypne red interier
0096   301A           00368             movlw b'11010' ;port D2
0097   00D2           00369             movwf port
0098   3002           00370             movlw b'10' ;procesor 2
0099   00D3           00371             movwf prc
009A   21D4           00372             call clrout ;smaz port v prc
009B   10DA           00373             bcf casov, REDTUN ;timer red tunningu nebude vniman
009C   0008           00374             return
                      00375             
                      00376 ;blikani led zamknuto
009D   03DD           00377 lzabli      decf timlza, F
009E   1D03           00378             btfss STATUS, Z
009F   0008           00379             return
00A0   26A0           00380             call ledzam ;neguje led zamknuto
00A1   300F           00381             movlw .15 ;nasavy na dalsich 240ms
00A2   00DD           00382             movwf timlza
00A3   0008           00383             return
                      00384             
                      00385 ;vypnuti white tuning
00A4   03E6           00386 wtuoff      decf timwtu, F
00A5   1D03           00387             btfss STATUS, Z
00A6   0008           00388             return
00A7   11AB           00389             bcf o_c, 3 ;vypne white tunning
00A8   3017           00390             movlw b'10111' ;port C7
00A9   00D2           00391             movwf port
00AA   3002           00392             movlw b'10' ;procesor 2
00AB   00D3           00393             movwf prc
00AC   21D4           00394             call clrout ;smaz port v prc
00AD   122E           00395             bcf o_f, 4 ;vypne white interier
00AE   301B           00396             movlw b'11011' ;port D3
00AF   00D2           00397             movwf port
00B0   3002           00398             movlw b'10' ;procesor 2
00B1   00D3           00399             movwf prc
00B2   21D4           00400             call clrout ;smaz port v prc
00B3   11DA           00401             bcf casov, WHITUN ;timer red tunningu nebude vniman
00B4   0008           00402             return
                      00403             
                      00404 ;vypnuti polohy 3 spinacky
00B5   03E8           00405 spioff      decf timspi, F
00B6   1D03           00406             btfss STATUS, Z
00B7   0008           00407             return
00B8   23F0           00408             call t1_03
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00B9   0008           00409             return
                      00410             
                      00411 ;vypnuti odskoků
00BA   03E9           00412 odsoff      decf timods, F
00BB   1D03           00413             btfss STATUS, Z
00BC   0008           00414             return
00BD   122A           00415             bcf o_b, 4
00BE   301F           00416             movlw b'11111' ;port D7
00BF   00D2           00417             movwf port
00C0   3003           00418             movlw b'11' ;procesor 3
00C1   00D3           00419             movwf prc
00C2   21D4           00420             call clrout ;smaz port v prc
00C3   12AA           00421             bcf o_b, 5
00C4   1387           00422             bcf PORTC, 7
00C5   132A           00423             bcf o_b, 6
00C6   1106           00424             bcf PORTB, 2
00C7   13AA           00425             bcf o_b, 7
00C8   1186           00426             bcf PORTB, 3
00C9   11AA           00427             bcf o_b, 3
00CA   1206           00428             bcf PORTB, 4
00CB   102D           00429             bcf o_e, 0
00CC   1286           00430             bcf PORTB, 5
00CD   102B           00431             bcf o_c, 0
00CE   1306           00432             bcf PORTB, 6
                      00433 
00CF   13AD           00434             bcf o_e, 7
00D0   301E           00435             movlw b'11110' ;port D6
00D1   00D2           00436             movwf port
00D2   3002           00437             movlw b'10' ;procesor 2
00D3   00D3           00438             movwf prc
00D4   21D4           00439             call clrout ;nastav port v prc
00D5   132D           00440             bcf o_e, 6
00D6   301C           00441             movlw b'11100' ;port D4
00D7   00D2           00442             movwf port
00D8   3002           00443             movlw b'10' ;procesor 2
00D9   00D3           00444             movwf prc
00DA   21D4           00445             call clrout ;nastav port v prc
00DB   12AE           00446             bcf o_f, 5
00DC   301D           00447             movlw b'11101' ;port D5
00DD   00D2           00448             movwf port
00DE   3002           00449             movlw b'10' ;procesor 2
00DF   00D3           00450             movwf prc
00E0   21D4           00451             call clrout ;nastav port v prc
00E1   102E           00452             bcf o_f, 0
00E2   301F           00453             movlw b'11111' ;port D7
00E3   00D2           00454             movwf port
00E4   3002           00455             movlw b'10' ;procesor 2
00E5   00D3           00456             movwf prc
00E6   21D4           00457             call clrout ;nastav port v prc
                      00458 
00E7   125A           00459             bcf casov, ODSKOK ;timer red tunningu nebude vniman
00E8   0008           00460             return
                      00461             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00462 ;Problikavani alarmu
00E9   03EA           00463 alabli      decf timala, F
00EA   1D03           00464             btfss STATUS, Z
00EB   0008           00465             return
                      00466 
00EC   2580           00467             call t1_40
00ED   258F           00468             call t1_41
00EE   2634           00469             call t1_61
00EF   2643           00470             call t1_62
00F0   2691           00471             call klakson
                      00472             
00F1   3014           00473             movlw .20 ;nasavy na dalsich 240ms
00F2   00EA           00474             movwf timala
00F3   0008           00475             return
                      00476 
                      00477 
                      00478 
                      00479 
                      00480 
                      00481 
00F4   1486           00482 dotaz       bsf PORTB, 1  ;start bity XX - 10
00F5   2687           00483             call w100c
00F6   1086           00484             bcf PORTB, 1
00F7   2687           00485             call w100c
                      00486             
00F8   0878           00487             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
00F9   00A0           00488             movwf r1
00FA   3004           00489             movlw .4
00FB   00A1           00490             movwf r2
00FC   19A0           00491             btfsc r1, 3
00FD   1486           00492             bsf PORTB, 1
00FE   1DA0           00493             btfss r1, 3
00FF   1086           00494             bcf PORTB, 1
0100   2687           00495             call w100c
0101   0DA0           00496             rlf r1, F
0102   0BA1           00497             decfsz r2, F
0103   28FC           00498             goto $-7
                      00499             
0104   3000           00500             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
0105   00A0           00501             movwf r1
0106   3007           00502             movlw .7
0107   00A1           00503             movwf r2
0108   1B20           00504             btfsc r1, 6
0109   1486           00505             bsf PORTB, 1
010A   1F20           00506             btfss r1, 6
010B   1086           00507             bcf PORTB, 1
010C   2687           00508             call w100c
010D   0DA0           00509             rlf r1, F
010E   0BA1           00510             decfsz r2, F
010F   2908           00511             goto $-7
                      00512             
0110   1486           00513             bsf PORTB, 1  ;STOP bity XXX - 111
0111   2687           00514             call w100c
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0112   2687           00515             call w100c
0113   2687           00516             call w100c
0114   1086           00517             bcf PORTB, 1
0115   268C           00518             call w40c
                      00519             
0116   1683           00520             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0117   1486           00521             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
0118   1283           00522             bcf STATUS, RP0  ;Bank 0
                      00523             
0119   1959           00524             btfsc conf, WATCHOVER
011A   29A9           00525             goto dotazerr
011B   1C86           00526             btfss PORTB, 1  ;ceka az zacne vysilat signal
011C   2919           00527             goto $-3 ;ochrana proti zamrznuti
                      00528             
011D   1959           00529             btfsc conf, WATCHOVER
011E   29A9           00530             goto dotazerr
011F   1886           00531             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0120   291D           00532             goto $-3 ;ochrana proti zamrznuti
                      00533             
0121   268C           00534             call w40c   ;posune do prostred signalu X - 0
0122   2687           00535             call w100c
                      00536             
0123   01F0           00537             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0124   3008           00538             movlw .8
0125   00A1           00539             movwf r2
0126   0DF0           00540             rlf pri0, F
0127   1886           00541             btfsc PORTB, 1
0128   1470           00542             bsf pri0, 0
0129   1C86           00543             btfss PORTB, 1
012A   1070           00544             bcf pri0, 0
012B   2687           00545             call w100c
012C   0BA1           00546             decfsz r2, F
012D   2926           00547             goto $-7
                      00548             
012E   1959           00549             btfsc conf, WATCHOVER
012F   29A9           00550             goto dotazerr
0130   1886           00551             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0131   292E           00552             goto $-3 ;ochrana proti zamrznuti
0132   268C           00553             call w40c
0133   2687           00554             call w100c
                      00555             
                      00556             
0134   01F1           00557             clrf pri1        ; ulozi priijate do pri XXXX XXXX
0135   3008           00558             movlw .8
0136   00A1           00559             movwf r2
0137   0DF1           00560             rlf pri1, F
0138   1886           00561             btfsc PORTB, 1
0139   1471           00562             bsf pri1, 0
013A   1C86           00563             btfss PORTB, 1
013B   1071           00564             bcf pri1, 0
013C   2687           00565             call w100c
013D   0BA1           00566             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013E   2937           00567             goto $-7
                      00568             
013F   1959           00569             btfsc conf, WATCHOVER
0140   29A9           00570             goto dotazerr
0141   1886           00571             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0142   293F           00572             goto $-3 ;ochrana proti zamrznuti
0143   268C           00573             call w40c
0144   2687           00574             call w100c
                      00575             
                      00576             
0145   01F2           00577             clrf pri2        ; ulozi priijate do pri XXXX XXXX
0146   3008           00578             movlw .8
0147   00A1           00579             movwf r2
0148   0DF2           00580             rlf pri2, F
0149   1886           00581             btfsc PORTB, 1
014A   1472           00582             bsf pri2, 0
014B   1C86           00583             btfss PORTB, 1
014C   1072           00584             bcf pri2, 0
014D   2687           00585             call w100c
014E   0BA1           00586             decfsz r2, F
014F   2948           00587             goto $-7
                      00588             
0150   1959           00589             btfsc conf, WATCHOVER
0151   29A9           00590             goto dotazerr
0152   1886           00591             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0153   2950           00592             goto $-3 ;ochrana proti zamrznuti
0154   268C           00593             call w40c
0155   2687           00594             call w100c
                      00595             
                      00596             
0156   01F3           00597             clrf pri3        ; ulozi priijate do pri XXXX XXXX
0157   3008           00598             movlw .8
0158   00A1           00599             movwf r2
0159   0DF3           00600             rlf pri3, F
015A   1886           00601             btfsc PORTB, 1
015B   1473           00602             bsf pri3, 0
015C   1C86           00603             btfss PORTB, 1
015D   1073           00604             bcf pri3, 0
015E   2687           00605             call w100c
015F   0BA1           00606             decfsz r2, F
0160   2959           00607             goto $-7
                      00608             
0161   1959           00609             btfsc conf, WATCHOVER
0162   29A9           00610             goto dotazerr
0163   1886           00611             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0164   2961           00612             goto $-3 ;ochrana proti zamrznuti
0165   268C           00613             call w40c
0166   2687           00614             call w100c
                      00615             
                      00616             
0167   01F4           00617             clrf pri4        ; ulozi priijate do pri XXXX XXXX
0168   3008           00618             movlw .8
0169   00A1           00619             movwf r2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

016A   0DF4           00620             rlf pri4, F
016B   1886           00621             btfsc PORTB, 1
016C   1474           00622             bsf pri4, 0
016D   1C86           00623             btfss PORTB, 1
016E   1074           00624             bcf pri4, 0
016F   2687           00625             call w100c
0170   0BA1           00626             decfsz r2, F
0171   296A           00627             goto $-7
                      00628             
0172   1959           00629             btfsc conf, WATCHOVER
0173   29A9           00630             goto dotazerr
0174   1886           00631             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0175   2972           00632             goto $-3 ;ochrana proti zamrznuti
0176   268C           00633             call w40c
0177   2687           00634             call w100c
                      00635             
                      00636             
0178   01F5           00637             clrf pri5        ; ulozi priijate do pri XXXX XXXX
0179   3008           00638             movlw .8
017A   00A1           00639             movwf r2
017B   0DF5           00640             rlf pri5, F
017C   1886           00641             btfsc PORTB, 1
017D   1475           00642             bsf pri5, 0
017E   1C86           00643             btfss PORTB, 1
017F   1075           00644             bcf pri5, 0
0180   2687           00645             call w100c
0181   0BA1           00646             decfsz r2, F
0182   297B           00647             goto $-7
                      00648             
0183   1959           00649             btfsc conf, WATCHOVER
0184   29A9           00650             goto dotazerr
0185   1886           00651             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0186   2983           00652             goto $-3 ;ochrana proti zamrznuti
0187   268C           00653             call w40c
0188   2687           00654             call w100c
                      00655             
                      00656             
0189   01F6           00657             clrf pri6        ; ulozi priijate do pri XXXX XXXX
018A   3008           00658             movlw .8
018B   00A1           00659             movwf r2
018C   0DF6           00660             rlf pri6, F
018D   1886           00661             btfsc PORTB, 1
018E   1476           00662             bsf pri6, 0
018F   1C86           00663             btfss PORTB, 1
0190   1076           00664             bcf pri6, 0
0191   2687           00665             call w100c
0192   0BA1           00666             decfsz r2, F
0193   298C           00667             goto $-7
                      00668             
0194   1959           00669             btfsc conf, WATCHOVER
0195   29A9           00670             goto dotazerr
0196   1886           00671             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0197   2994           00672             goto $-3 ;ochrana proti zamrznuti
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0198   268C           00673             call w40c
0199   2687           00674             call w100c
                      00675             
                      00676             
019A   01F7           00677             clrf pri7        ; ulozi priijate do pri XXXX XXXX
019B   3008           00678             movlw .8
019C   00A1           00679             movwf r2
019D   0DF7           00680             rlf pri7, F
019E   1886           00681             btfsc PORTB, 1
019F   1477           00682             bsf pri7, 0
01A0   1C86           00683             btfss PORTB, 1
01A1   1077           00684             bcf pri7, 0
01A2   2687           00685             call w100c
01A3   0BA1           00686             decfsz r2, F
01A4   299D           00687             goto $-7
                      00688             
01A5   1959           00689             btfsc conf, WATCHOVER
01A6   29A9           00690             goto dotazerr
01A7   1886           00691             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01A8   29A5           00692             goto $-3 ;ochrana proti zamrznuti
                      00693             
                      00694             
01A9   1683           00695 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AA   1086           00696             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01AB   1283           00697             bcf STATUS, RP0  ;Bank 0
01AC   0008           00698             return
                      00699         
                      00700         ; WATCH2 start
01AD   1486           00701 setout      bsf PORTB, 1  ;start bity XX - 10
01AE   2687           00702             call w100c
01AF   1086           00703             bcf PORTB, 1
01B0   2687           00704             call w100c
                      00705             
01B1   0853           00706             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01B2   00A0           00707             movwf r1
01B3   3004           00708             movlw .4
01B4   00A1           00709             movwf r2
01B5   19A0           00710             btfsc r1, 3
01B6   1486           00711             bsf PORTB, 1
01B7   1DA0           00712             btfss r1, 3
01B8   1086           00713             bcf PORTB, 1
01B9   2687           00714             call w100c
01BA   0DA0           00715             rlf r1, F
01BB   0BA1           00716             decfsz r2, F
01BC   29B5           00717             goto $-7
                      00718             
01BD   1486           00719             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01BE   2687           00720             call w100c
                      00721             
01BF   0852           00722             movf port, W   ;vysila port ke zmene XXXXX
01C0   00A0           00723             movwf r1
01C1   3005           00724             movlw .5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C2   00A1           00725             movwf r2
01C3   1A20           00726             btfsc r1, 4
01C4   1486           00727             bsf PORTB, 1
01C5   1E20           00728             btfss r1, 4
01C6   1086           00729             bcf PORTB, 1
01C7   2687           00730             call w100c
01C8   0DA0           00731             rlf r1, F
01C9   0BA1           00732             decfsz r2, F
01CA   29C3           00733             goto $-7
                      00734             
01CB   1486           00735             bsf PORTB, 1  ;vysle hodnotu 1
01CC   2687           00736             call w100c
                      00737             
01CD   1486           00738             bsf PORTB, 1  ;STOP bity XXX - 111
01CE   2687           00739             call w100c
01CF   2687           00740             call w100c
01D0   2687           00741             call w100c
01D1   1086           00742             bcf PORTB, 1
01D2   2687           00743             call w100c
                      00744             ; WATCH2 wait
01D3   0008           00745             return
                      00746 
                      00747       ; WATCH2 start
01D4   1486           00748 clrout      bsf PORTB, 1  ;start bity XX - 10
01D5   2687           00749             call w100c
01D6   1086           00750             bcf PORTB, 1
01D7   2687           00751             call w100c
                      00752             
01D8   0853           00753             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01D9   00A0           00754             movwf r1
01DA   3004           00755             movlw .4
01DB   00A1           00756             movwf r2
01DC   19A0           00757             btfsc r1, 3
01DD   1486           00758             bsf PORTB, 1
01DE   1DA0           00759             btfss r1, 3
01DF   1086           00760             bcf PORTB, 1
01E0   2687           00761             call w100c
01E1   0DA0           00762             rlf r1, F
01E2   0BA1           00763             decfsz r2, F
01E3   29DC           00764             goto $-7
                      00765             
01E4   1486           00766             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01E5   2687           00767             call w100c
                      00768             
01E6   0852           00769             movf port, W   ;vysila port ke zmene XXXXX
01E7   00A0           00770             movwf r1
01E8   3005           00771             movlw .5
01E9   00A1           00772             movwf r2
01EA   1A20           00773             btfsc r1, 4
01EB   1486           00774             bsf PORTB, 1
01EC   1E20           00775             btfss r1, 4
01ED   1086           00776             bcf PORTB, 1
01EE   2687           00777             call w100c
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01EF   0DA0           00778             rlf r1, F
01F0   0BA1           00779             decfsz r2, F
01F1   29EA           00780             goto $-7
                      00781             
01F2   1086           00782             bcf PORTB, 1  ;vysle hodnotu 0
01F3   2687           00783             call w100c
                      00784             
01F4   1486           00785             bsf PORTB, 1  ;STOP bity XXX - 111
01F5   2687           00786             call w100c
01F6   2687           00787             call w100c
01F7   2687           00788             call w100c
01F8   1086           00789             bcf PORTB, 1
01F9   2687           00790             call w100c
                      00791             ; WATCH2 wait
01FA   0008           00792             return
                      00793         
                      00794         
                      00795         
                      00796         
                      00797         
                      00798         
                      00799         
                      00800         
                      00801         
                      00802         
                      00803         
                      00804         ;podprogramy
                      00805 ;Tlačitka funkci 1
01FB   1BAC           00806 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
01FC   0008           00807             return
                      00808             
01FD   1003           00809             bcf STATUS, C
01FE   0C3F           00810             rrf ir_58, W
01FF   00A0           00811             movwf r1
0200   1003           00812             bcf STATUS, C
0201   0CA0           00813             rrf r1, F
0202   1003           00814             bcf STATUS, C
0203   0CA0           00815             rrf r1, F
0204   30E0           00816             movlw b'11100000'
0205   04A0           00817             iorwf r1, F
                      00818             
0206   0820           00819             movf r1, W    ;zkontroluje jestli nebylo uz minule
0207   00A3           00820             movwf r4
0208   0854           00821             movf tl1, W
0209   06A3           00822             xorwf r4, F
020A   1903           00823             btfsc STATUS, Z
020B   0008           00824             return
020C   0820           00825             movf r1, W    ;ulozi aktualni tlacitko
020D   00D4           00826             movwf tl1
                      00827             
020E   0AA0           00828             incf r1, F
020F   1903           00829             btfsc STATUS, Z
0210   245F           00830             call t1_06
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0211   0AA0           00831             incf r1, F
0212   1903           00832             btfsc STATUS, Z
0213   23CD           00833             call t1_02
0214   0AA0           00834             incf r1, F
0215   1903           00835             btfsc STATUS, Z
0216   23F0           00836             call t1_03
0217   0AA0           00837             incf r1, F
0218   1903           00838             btfsc STATUS, Z
0219   2447           00839             call t1_05
021A   0AA0           00840             incf r1, F
021B   1903           00841             btfsc STATUS, Z
021C   25A9           00842             call t1_43
021D   0AA0           00843             incf r1, F
021E   1903           00844             btfsc STATUS, Z
021F   259E           00845             call t1_42
0220   0AA0           00846             incf r1, F
0221   1903           00847             btfsc STATUS, Z
0222   2496           00848             call t1_07
0223   0AA0           00849             incf r1, F
0224   1903           00850             btfsc STATUS, Z
0225   24A4           00851             call t1_08
0226   0AA0           00852             incf r1, F
0227   1903           00853             btfsc STATUS, Z
0228   24D4           00854             call t1_14
0229   0AA0           00855             incf r1, F
022A   1903           00856             btfsc STATUS, Z
022B   24DA           00857             call t1_15
022C   0AA0           00858             incf r1, F
022D   1903           00859             btfsc STATUS, Z
022E   256C           00860             call t1_37
022F   0AA0           00861             incf r1, F
0230   1903           00862             btfsc STATUS, Z
0231   24B4           00863             call t1_10
0232   0AA0           00864             incf r1, F
0233   1903           00865             btfsc STATUS, Z
0234   24C4           00866             call t1_12
0235   0AA0           00867             incf r1, F
0236   1903           00868             btfsc STATUS, Z
0237   2527           00869             call t1_30
0238   0AA0           00870             incf r1, F
0239   1903           00871             btfsc STATUS, Z
023A   254F           00872             call t1_34
023B   0AA0           00873             incf r1, F
023C   1903           00874             btfsc STATUS, Z
023D   2539           00875             call t1_32
023E   0AA0           00876             incf r1, F
023F   1903           00877             btfsc STATUS, Z
0240   2561           00878             call t1_36
                      00879             ;pokud je tlacitko prave pusteno
0241   1003           00880             bcf STATUS, C
0242   0C3F           00881             rrf ir_58, W
0243   00A0           00882             movwf r1
0244   0820           00883             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0245   1903           00884             btfsc STATUS, Z
0246   2314           00885             call t1_stop
0247   0008           00886             return
                      00887 
                      00888 ;Tlačitka funkci 2
0248   1BAC           00889 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0249   0008           00890             return
                      00891             
024A   1003           00892             bcf STATUS, C
024B   0C43           00893             rrf ir_62, W
024C   00A0           00894             movwf r1
024D   1003           00895             bcf STATUS, C
024E   0CA0           00896             rrf r1, F
024F   1003           00897             bcf STATUS, C
0250   0CA0           00898             rrf r1, F
0251   30E0           00899             movlw b'11100000'
0252   04A0           00900             iorwf r1, F
                      00901             
0253   0820           00902             movf r1, W    ;zkontroluje jestli nebylo uz minule
0254   00A3           00903             movwf r4
0255   0855           00904             movf tl2, W
0256   06A3           00905             xorwf r4, F
0257   1903           00906             btfsc STATUS, Z
0258   0008           00907             return
0259   0820           00908             movf r1, W    ;ulozi aktualni tlacitko
025A   00D5           00909             movwf tl2
                      00910     
025B   0AA0           00911             incf r1, F
025C   1903           00912             btfsc STATUS, Z
025D   2411           00913             call t1_04
025E   0AA0           00914             incf r1, F
025F   1903           00915             btfsc STATUS, Z
0260   2602           00916             call t1_56
0261   0AA0           00917             incf r1, F
0262   1903           00918             btfsc STATUS, Z
0263   24E0           00919             call t1_16
0264   0AA0           00920             incf r1, F
0265   1903           00921             btfsc STATUS, Z
0266   2516           00922             call t1_26
0267   0AA0           00923             incf r1, F
0268   1903           00924             btfsc STATUS, Z
0269   25B4           00925             call t1_44
026A   0AA0           00926             incf r1, F
026B   1903           00927             btfsc STATUS, Z
026C   24BE           00928             call t1_11
026D   0AA0           00929             incf r1, F
026E   1903           00930             btfsc STATUS, Z
026F   24CC           00931             call t1_13
0270   0AA0           00932             incf r1, F
0271   1903           00933             btfsc STATUS, Z
0272   25F0           00934             call t1_54
0273   0AA0           00935             incf r1, F
0274   1903           00936             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0275   258F           00937             call t1_41
0276   0AA0           00938             incf r1, F
0277   1903           00939             btfsc STATUS, Z
0278   2643           00940             call t1_62
0279   0AA0           00941             incf r1, F
027A   1903           00942             btfsc STATUS, Z
027B   2580           00943             call t1_40
027C   0AA0           00944             incf r1, F
027D   1903           00945             btfsc STATUS, Z
027E   2634           00946             call t1_61
027F   0AA0           00947             incf r1, F
0280   1903           00948             btfsc STATUS, Z
0281   2530           00949             call t1_31
0282   0AA0           00950             incf r1, F
0283   1903           00951             btfsc STATUS, Z
0284   2558           00952             call t1_35
0285   0AA0           00953             incf r1, F
0286   1903           00954             btfsc STATUS, Z
0287   25E1           00955             call t1_53
0288   0AA0           00956             incf r1, F
0289   1903           00957             btfsc STATUS, Z
028A   2544           00958             call t1_33
028B   0AA0           00959             incf r1, F
028C   1903           00960             btfsc STATUS, Z
028D   2629           00961             call t1_60
                      00962             ;pokud je tlacitko prave pusteno
028E   1003           00963             bcf STATUS, C
028F   0C43           00964             rrf ir_62, W
0290   00A0           00965             movwf r1
0291   0820           00966             movf r1, W
0292   1903           00967             btfsc STATUS, Z
0293   2316           00968             call t2_stop
0294   0008           00969             return
                      00970 ;Tlačitka imobilizeru
0295   0000           00971 if_50       nop
0296   0008           00972             return
                      00973              ;pasy
0297   0000           00974 if_59       nop
0298   0008           00975             return
                      00976              ;rychlost
0299   0000           00977 if_60       nop
029A   0008           00978             return
                      00979              ;otáčky
029B   0000           00980 if_61       nop
029C   0008           00981             return
                      00982              ;teplota in set
029D   0000           00983 if_49       nop
029E   0008           00984             return
                      00985              ;alarm senzory
029F   0000           00986 if_80       nop
02A0   0008           00987             return
                      00988              ;baterie
02A1   0000           00989 if_51       nop
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02A2   0008           00990             return
                      00991              ;teplota in
02A3   0000           00992 if_52       nop
02A4   0008           00993             return
                      00994              ;teplota eng
02A5   0000           00995 if_53       nop
02A6   0008           00996             return
                      00997              ;palivo
02A7   0000           00998 if_54       nop
02A8   0008           00999             return
                      01000              ;dveře 1
02A9   0000           01001 if_55       nop
02AA   0008           01002             return
                      01003              ;ruční brzda
02AB   0000           01004 if_56       nop
02AC   0008           01005             return
                      01006              ;kvalt
02AD   0000           01007 if_57       nop
02AE   0008           01008             return
                      01009              ;dveře 2
02AF   0000           01010 if_84       nop
02B0   0008           01011             return
                      01012              ;dveře 3
02B1   0000           01013 if_85       nop
02B2   0008           01014             return
                      01015              ;dveře 4
02B3   0000           01016 if_86       nop
02B4   0008           01017             return
                      01018              ;kapota
02B5   0000           01019 if_87       nop
02B6   0008           01020             return
                      01021              ;kufr
02B7   0000           01022 if_88       nop
02B8   0008           01023             return
                      01024              ;nadrz
02B9   0000           01025 if_89       nop
02BA   0008           01026             return
                      01027              ;okno 1
02BB   0000           01028 if_90       nop
02BC   0008           01029             return
                      01030              ;okno 2
02BD   0000           01031 if_91       nop
02BE   0008           01032             return
                      01033              ;okno 3
02BF   0000           01034 if_92       nop
02C0   0008           01035             return
                      01036              ;okno 4
02C1   0000           01037 if_93       nop
02C2   0008           01038             return
                      01039              ;teplota OUT
02C3   0000           01040 if_127      nop
02C4   0008           01041             return
                      01042 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01043 ;Tlačítka funkcí 3
02C5   1BAC           01044 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
02C6   0000           01045             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01046             
02C7   1003           01047             bcf STATUS, C
02C8   0C50           01048             rrf ir_128, W
02C9   00A0           01049             movwf r1
02CA   1003           01050             bcf STATUS, C
02CB   0CA0           01051             rrf r1, F
02CC   1003           01052             bcf STATUS, C
02CD   0CA0           01053             rrf r1, F
02CE   30E0           01054             movlw b'11100000'
02CF   04A0           01055             iorwf r1, F
                      01056             
02D0   0820           01057             movf r1, W    ;zkontroluje jestli nebylo uz minule
02D1   00A3           01058             movwf r4
02D2   0856           01059             movf tl3, W
02D3   06A3           01060             xorwf r4, F
02D4   1903           01061             btfsc STATUS, Z
02D5   0008           01062             return
02D6   0820           01063             movf r1, W    ;ulozi aktualni tlacitko
02D7   00D6           01064             movwf tl3
                      01065     
02D8   0AA0           01066             incf r1, F
02D9   1903           01067             btfsc STATUS, Z
02DA   25C5           01068             call t1_47
02DB   0AA0           01069             incf r1, F
02DC   1903           01070             btfsc STATUS, Z
02DD   2356           01071             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
02DE   0AA0           01072             incf r1, F
02DF   1903           01073             btfsc STATUS, Z
02E0   239F           01074             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
02E1   0AA0           01075             incf r1, F
02E2   1903           01076             btfsc STATUS, Z
02E3   2680           01077             call t1_x
02E4   0AA0           01078             incf r1, F
02E5   1903           01079             btfsc STATUS, Z
02E6   2680           01080             call t1_x
02E7   0AA0           01081             incf r1, F
02E8   1903           01082             btfsc STATUS, Z
02E9   2680           01083             call t1_x
02EA   0AA0           01084             incf r1, F
02EB   1903           01085             btfsc STATUS, Z
02EC   2680           01086             call t1_x
02ED   0AA0           01087             incf r1, F
02EE   1903           01088             btfsc STATUS, Z
02EF   2680           01089             call t1_x
02F0   0AA0           01090             incf r1, F
02F1   1903           01091             btfsc STATUS, Z
02F2   2680           01092             call t1_x
02F3   0AA0           01093             incf r1, F
02F4   1903           01094             btfsc STATUS, Z
02F5   2680           01095             call t1_x
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02F6   0AA0           01096             incf r1, F
02F7   1903           01097             btfsc STATUS, Z
02F8   2680           01098             call t1_x
02F9   0AA0           01099             incf r1, F
02FA   1903           01100             btfsc STATUS, Z
02FB   2680           01101             call t1_x
02FC   0AA0           01102             incf r1, F
02FD   1903           01103             btfsc STATUS, Z
02FE   2680           01104             call t1_x
02FF   0AA0           01105             incf r1, F
0300   1903           01106             btfsc STATUS, Z
0301   2680           01107             call t1_x
0302   0AA0           01108             incf r1, F
0303   1903           01109             btfsc STATUS, Z
0304   2680           01110             call t1_x
0305   0AA0           01111             incf r1, F
0306   1903           01112             btfsc STATUS, Z
0307   2680           01113             call t1_x
0308   0AA0           01114             incf r1, F
0309   1903           01115             btfsc STATUS, Z
030A   2680           01116             call t1_x
                      01117             ;pokud je tlacitko prave pusteno
030B   1003           01118             bcf STATUS, C
030C   0C50           01119             rrf ir_128, W
030D   00A0           01120             movwf r1
030E   0820           01121             movf r1, W
030F   1903           01122             btfsc STATUS, Z
0310   2318           01123             call t3_stop
0311   0008           01124             return
                      01125 
                      01126 ;předpřipravené pro rozšíření procesoru 5 a vice
0312   0000           01127 if_x        nop
0313   0008           01128             return
                      01129 
                      01130 ;vypina holdovaci vystupy
0314   0000           01131 t1_stop     nop
0315   0008           01132             return
0316   0000           01133 t2_stop     nop
0317   0008           01134             return
0318   0000           01135 t3_stop     nop
0319   0008           01136             return
                      01137             
031A   3010           01138 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
031B   00D2           01139             movwf port
031C   3002           01140             movlw b'10' ;procesor 2
031D   00D3           01141             movwf prc
031E   18AC           01142             btfsc o_d, 1
031F   21D4           01143             call clrout ;nastav port v prc
0320   10AC           01144             bcf o_d, 1
0321   3011           01145             movlw b'10001' ;port C1
0322   00D2           01146             movwf port
0323   3002           01147             movlw b'10' ;procesor 2
0324   00D3           01148             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0325   192C           01149             btfsc o_d, 2
0326   21D4           01150             call clrout ;nastav port v prc
0327   112C           01151             bcf o_d, 2
0328   3012           01152             movlw b'10010' ;port C2
0329   00D2           01153             movwf port
032A   3002           01154             movlw b'10' ;procesor 2
032B   00D3           01155             movwf prc
032C   19AC           01156             btfsc o_d, 3
032D   21D4           01157             call clrout ;nastav port v prc
032E   11AC           01158             bcf o_d, 3
032F   3013           01159             movlw b'10011' ;port C3
0330   00D2           01160             movwf port
0331   3002           01161             movlw b'10' ;procesor 2
0332   00D3           01162             movwf prc
0333   1A2C           01163             btfsc o_d, 4
0334   21D4           01164             call clrout ;nastav port v prc
0335   122C           01165             bcf o_d, 4
0336   3014           01166             movlw b'10100' ;port C4
0337   00D2           01167             movwf port
0338   3002           01168             movlw b'10' ;procesor 2
0339   00D3           01169             movwf prc
033A   1AAC           01170             btfsc o_d, 5
033B   21D4           01171             call clrout ;nastav port v prc
033C   12AC           01172             bcf o_d, 5
033D   3015           01173             movlw b'10101' ;port C5
033E   00D2           01174             movwf port
033F   3002           01175             movlw b'10' ;procesor 2
0340   00D3           01176             movwf prc
0341   1B2C           01177             btfsc o_d, 6
0342   21D4           01178             call clrout ;nastav port v prc
0343   132C           01179             bcf o_d, 6
                      01180                   ;blinkry
0344   122D           01181             bcf o_e, 4
0345   1308           01182             bcf PORTD, 6
0346   12AD           01183             bcf o_e, 5
0347   1388           01184             bcf PORTD, 7
                      01185                   ;klakson
0348   3019           01186             movlw b'11001' ;port D1
0349   00D2           01187             movwf port
034A   3003           01188             movlw b'11' ;procesor 3
034B   00D3           01189             movwf prc
034C   1A2B           01190             btfsc o_c, 4
034D   21D4           01191             call clrout ;nastav port v prc
034E   122B           01192             bcf o_c, 4
                      01193                   ;stěrače, odstřikovače
034F   13AB           01194             bcf o_c, 7
0350   1188           01195             bcf PORTD, 3
0351   132B           01196             bcf o_c, 6
0352   1108           01197             bcf PORTD, 2
                      01198                   ;dálková světla
0353   102C           01199             bcf o_d, 0
0354   1208           01200             bcf PORTD, 4
0355   0008           01201             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01202         
                      01203         
                      01204         
                      01205 ;zamknuti alarm on
0356   1858           01206 t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
0357   0008           01207             return
0358   083C           01208             movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
0359   0445           01209             iorwf ir_84, W
035A   0446           01210             iorwf ir_85, W
035B   0447           01211             iorwf ir_86, W
035C   0448           01212             iorwf ir_87, W
035D   0449           01213             iorwf ir_88, W
035E   044A           01214             iorwf ir_89, W
035F   00A5           01215             movwf r6
0360   1BA5           01216             btfsc r6, 7
0361   0000           01217             nop ;MLUV "zkontrolujte vstupy do auta"
0362   1BA5           01218             btfsc r6, 7
0363   25E1           01219             call t1_53 ;zapne sirenu
0364   1BA5           01220             btfsc r6, 7
0365   301F           01221             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
0366   1BA5           01222             btfsc r6, 7
0367   00D8           01223             movwf cassir
0368   1BA5           01224             btfsc r6, 7
0369   3003           01225             movlw .3
036A   1BA5           01226             btfsc r6, 7
036B   00D7           01227             movwf timsir
                      01228             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01229             ;return
                      01230 
036C   245F           01231             call t1_06 ;vypne vse 
036D   17AC           01232             bsf o_d, 7 ;zapne alarm cidla
036E   1786           01233             bsf PORTB, 7
                      01234                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01235                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01236             
                      01237             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01238             ;bsf PORTD, 6
                      01239             ;bsf o_e, 5
                      01240             ;bsf PORTD, 7
                      01241             ;bsf casov, VAROV
                      01242             ;movlw .80
                      01243             ;movwf timvar
                      01244             
036F   2447           01245             call t1_05 ;zapne varovky
0370   301F           01246             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
0371   00EE           01247             movwf casvar
0372   3008           01248             movlw .8
0373   00DB           01249             movwf timvar
                      01250             
                      01251             
0374   3016           01252             movlw b'10110' ;port C6
0375   00D2           01253             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0376   3002           01254             movlw b'10' ;procesor 2
0377   00D3           01255             movwf prc 
0378   1D2B           01256             btfss o_c, 2
0379   21AD           01257             call setout ;set port v prc
037A   152B           01258             bsf o_c, 2 ;problikne red tunning na 1 sekundu
037B   301A           01259             movlw b'11010' ;port D2
037C   00D2           01260             movwf port
037D   3002           01261             movlw b'10' ;procesor 2
037E   00D3           01262             movwf prc 
037F   1DAE           01263             btfss o_f, 3
0380   21AD           01264             call setout ;set port v prc
0381   15AE           01265             bsf o_f, 3 ;problikne red interier na 1 sekundu
0382   14DA           01266             bsf casov, REDTUN ;do timeru ze po 1s vypne
0383   301E           01267             movlw .30
0384   00DC           01268             movwf timrtu
0385   25E1           01269             call t1_53 ;zahraje sirenou na 200ms
0386   3001           01270             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
0387   00D8           01271             movwf cassir
0388   3008           01272             movlw .8
0389   00D7           01273             movwf timsir
038A   13AE           01274             bcf o_f, 7 ;sklopi zrcatka neboli vypne
038B   1089           01275             bcf PORTE, 1
038C   0000           01276             nop ;MLUV "auto zamčeno"
038D   2496           01277             call t1_07 ;zamkne
038E   155A           01278             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
038F   300F           01279             movlw .15
0390   00DD           01280             movwf timlza
                      01281 
                      01282                   ;zatahnuti okenek
0391   084B           01283             movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
0392   00DE           01284             movwf o1tmp
0393   084C           01285             movf ir_91, W
0394   00DF           01286             movwf o2tmp
0395   084D           01287             movf ir_92, W
0396   00E0           01288             movwf o3tmp
0397   084E           01289             movf ir_93, W
0398   00E1           01290             movwf o4tmp
0399   3000           01291             movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
039A   00E2           01292             movwf o1tar
039B   00E3           01293             movwf o2tar
039C   00E4           01294             movwf o3tar
039D   00E5           01295             movwf o4tar
                      01296  
039E   0008           01297             return
                      01298             
                      01299 ;odemknuti alarm off
039F   1858           01300 t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
03A0   0008           01301             return
                      01302             
03A1   13AC           01303             bcf o_d, 7 ;vypne alarm cidla
03A2   1386           01304             bcf PORTB, 7
                      01305                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01306                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            emceno
03A3   2411           01307             call t1_04
                      01308             
                      01309             ;bsf o_e, 4 ;zapne levy i pravy blinkr a ty vypne po 2 sekundach - realizovano timerem
                      01310             ;bsf PORTD, 6
                      01311             ;bsf o_e, 5
                      01312             ;bsf PORTD, 7
                      01313             ;bsf casov, VAROV
                      01314             ;movlw .80
                      01315             ;movwf timvar
                      01316             
03A4   2447           01317             call t1_05 ;zapne varovky
03A5   3007           01318             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03A6   00EE           01319             movwf casvar
03A7   3008           01320             movlw .8
03A8   00DB           01321             movwf timvar
                      01322             
                      01323             
03A9   3017           01324             movlw b'10111' ;port C7
03AA   00D2           01325             movwf port
03AB   3002           01326             movlw b'10' ;procesor 2
03AC   00D3           01327             movwf prc 
03AD   1DAB           01328             btfss o_c, 3
03AE   21AD           01329             call setout ;set port v prc
03AF   15AB           01330             bsf o_c, 3 ;problikne white tunning na 1 sekundu
03B0   301B           01331             movlw b'11011' ;port D3
03B1   00D2           01332             movwf port
03B2   3002           01333             movlw b'10' ;procesor 2
03B3   00D3           01334             movwf prc 
03B4   1E2E           01335             btfss o_f, 4
03B5   21AD           01336             call setout ;set port v prc
03B6   162E           01337             bsf o_f, 4 ;problikne white interier na 1 sekundu
03B7   15DA           01338             bsf casov, WHITUN ;do timeru ze po 1s vypne
03B8   301E           01339             movlw .30
03B9   00E6           01340             movwf timwtu
03BA   25E1           01341             call t1_53 ;zahraje sirenou na 200ms
03BB   3007           01342             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03BC   00D8           01343             movwf cassir
03BD   3008           01344             movlw .8
03BE   00D7           01345             movwf timsir
03BF   17AE           01346             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03C0   1489           01347             bsf PORTE, 1
03C1   0000           01348             nop ;MLUV "auto odemčeno"
03C2   115A           01349             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03C3   24A4           01350             call t1_08 ;odemkne
                      01351 
                      01352                   ;stahnuti okenek
03C4   085E           01353             movf o1tmp, W
03C5   00E2           01354             movwf o1tar
03C6   085F           01355             movf o2tmp, W
03C7   00E3           01356             movwf o2tar
03C8   0860           01357             movf o3tmp, W
03C9   00E4           01358             movwf o3tar
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03CA   0861           01359             movf o4tmp, W
03CB   00E5           01360             movwf o4tar
                      01361  
03CC   0008           01362             return
                      01363             
                      01364 ;spinacka poloha up
03CD   1967           01365 t1_02       btfsc spinac, 2
03CE   0008           01366             return
03CF   1403           01367             bsf STATUS, C
03D0   0DE7           01368             rlf spinac, F
                      01369                   ;pokud poloha 3
03D1   1D67           01370             btfss spinac, 2
03D2   2BE6           01371             goto t2_02
03D3   1029           01372             bcf o_a, 0
03D4   1007           01373             bcf PORTC, 0
03D5   10A9           01374             bcf o_a, 1
03D6   1087           01375             bcf PORTC, 1
03D7   1531           01376             bsf o_i, 2
03D8   301A           01377             movlw b'11010' ;port D2
03D9   00D2           01378             movwf port
03DA   3003           01379             movlw b'11' ;procesor 3
03DB   00D3           01380             movwf prc 
03DC   21AD           01381             call setout ;set port v prc
03DD   15B1           01382             bsf o_i, 3
03DE   301B           01383             movlw b'11011' ;port D3
03DF   00D2           01384             movwf port
03E0   3003           01385             movlw b'11' ;procesor 3
03E1   00D3           01386             movwf prc 
03E2   21AD           01387             call setout ;set port v prc
03E3   3014           01388             movlw .20 ;nastavi startovani pouze max na vterinu
03E4   00E8           01389             movwf timspi
03E5   0008           01390             return
                      01391             ;pokud poloha 2
03E6   1CE7           01392 t2_02       btfss spinac, 1
03E7   2BED           01393             goto t3_02
03E8   1429           01394             bsf o_a, 0
03E9   1407           01395             bsf PORTC, 0
03EA   1529           01396             bsf o_a, 2
03EB   1507           01397             bsf PORTC, 2
03EC   0008           01398             return
                      01399             ;pokud poloha 1
03ED   14A9           01400 t3_02       bsf o_a, 1
03EE   1487           01401             bsf PORTC, 1
03EF   0008           01402             return
                      01403             
                      01404 ;spinacka poloha down
03F0   1C67           01405 t1_03       btfss spinac, 0
03F1   0008           01406             return
03F2   1003           01407             bcf STATUS, C
03F3   0CE7           01408             rrf spinac, F
                      01409             ;pokud poloha 2
03F4   1CE7           01410             btfss spinac, 1
03F5   2C07           01411             goto t2_03
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03F6   1429           01412             bsf o_a, 0
03F7   1407           01413             bsf PORTC, 0
03F8   14A9           01414             bsf o_a, 1
03F9   1487           01415             bsf PORTC, 1
03FA   1131           01416             bcf o_i, 2
03FB   301A           01417             movlw b'11010' ;port D2
03FC   00D2           01418             movwf port
03FD   3003           01419             movlw b'11' ;procesor 3
03FE   00D3           01420             movwf prc 
03FF   21D4           01421             call clrout ;set port v prc
0400   11B1           01422             bcf o_i, 3
0401   301B           01423             movlw b'11011' ;port D3
0402   00D2           01424             movwf port
0403   3003           01425             movlw b'11' ;procesor 3
0404   00D3           01426             movwf prc 
0405   21D4           01427             call clrout ;set port v prc
0406   0008           01428             return
                      01429             ;pokud poloha 1
0407   1C67           01430 t2_03       btfss spinac, 0
0408   2C0E           01431             goto t3_03
0409   1029           01432             bcf o_a, 0
040A   1007           01433             bcf PORTC, 0
040B   1129           01434             bcf o_a, 2
040C   1107           01435             bcf PORTC, 2
040D   0008           01436             return
                      01437             ;pokud poloha 0
040E   10A9           01438 t3_03       bcf o_a, 1
040F   1087           01439             bcf PORTC, 1
0410   0008           01440             return
                      01441             
                      01442 ;alarm stop
0411   1EDA           01443 t1_04       btfss casov, ALARM
0412   0008           01444             return
0413   3018           01445             movlw b'11000' ;port D0  ;sirena
0414   00D2           01446             movwf port
0415   3003           01447             movlw b'11' ;procesor 3
0416   00D3           01448             movwf prc 
0417   18AD           01449             btfsc o_e, 1
0418   21D4           01450             call clrout ;set port v prc
0419   10AD           01451             bcf o_e, 1
                      01452             ;varovky
                      01453             ;bcf o_e, 4
                      01454             ;bcf PORTD, 6
                      01455             ;bcf o_e, 5
                      01456             ;bcf PORTD, 7
041A   2447           01457             call t1_05
                      01458             
                      01459             ;stroboskop
041B   3019           01460             movlw b'11001' ;port D1
041C   00D2           01461             movwf port
041D   3002           01462             movlw b'10' ;procesor 2
041E   00D3           01463             movwf prc 
041F   192D           01464             btfsc o_e, 2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0420   21D4           01465             call clrout ;set port v prc
0421   112D           01466             bcf o_e, 2
                      01467             
0422   3016           01468             movlw b'10110' ;port C6
0423   00D2           01469             movwf port
0424   3002           01470             movlw b'10' ;procesor 2
0425   00D3           01471             movwf prc 
0426   192B           01472             btfsc o_c, 2
0427   21D4           01473             call clrout ;set port v prc
0428   112B           01474             bcf o_c, 2
0429   3017           01475             movlw b'10111' ;port C7
042A   00D2           01476             movwf port
042B   3002           01477             movlw b'10' ;procesor 2
042C   00D3           01478             movwf prc 
042D   19AB           01479             btfsc o_c, 3
042E   21D4           01480             call clrout ;set port v prc
042F   11AB           01481             bcf o_c, 3
0430   301A           01482             movlw b'11010' ;port D2
0431   00D2           01483             movwf port
0432   3002           01484             movlw b'10' ;procesor 2
0433   00D3           01485             movwf prc 
0434   19AE           01486             btfsc o_f, 3
0435   21D4           01487             call clrout ;set port v prc
0436   11AE           01488             bcf o_f, 3
0437   301B           01489             movlw b'11011' ;port D3
0438   00D2           01490             movwf port
0439   3002           01491             movlw b'10' ;procesor 2
043A   00D3           01492             movwf prc 
043B   1A2E           01493             btfsc o_f, 4
043C   21D4           01494             call clrout ;set port v prc
043D   122E           01495             bcf o_f, 4
043E   3019           01496             movlw b'11001' ;port D1
043F   00D2           01497             movwf port
0440   3003           01498             movlw b'11' ;procesor 3
0441   00D3           01499             movwf prc 
0442   1A2B           01500             btfsc o_c, 4
0443   21D4           01501             call clrout ;set port v prc
0444   122B           01502             bcf o_c, 4
                      01503             
0445   12DA           01504             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0446   0008           01505             return
                      01506             
                      01507 ;varovna svetla
0447   186E           01508 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0448   122D           01509             bcf o_e, 4
0449   186E           01510             btfsc casvar, 0 ;pokud oba zaply oba vypne
044A   1308           01511             bcf PORTD, 6
044B   186E           01512             btfsc casvar, 0 ;pokud oba zaply oba vypne
044C   12AD           01513             bcf o_e, 5
044D   186E           01514             btfsc casvar, 0 ;pokud oba zaply oba vypne
044E   1388           01515             bcf PORTD, 7
                      01516     
044F   1C6E           01517             btfss casvar, 0 ;pokud jeden vyply oba zapne
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0450   162D           01518             bsf o_e, 4
0451   1C6E           01519             btfss casvar, 0 ;pokud jeden vyply oba zapne
0452   1708           01520             bsf PORTD, 6
0453   1C6E           01521             btfss casvar, 0 ;pokud jeden vyply oba zapne
0454   16AD           01522             bsf o_e, 5
0455   1C6E           01523             btfss casvar, 0 ;pokud jeden vyply oba zapne
0456   1788           01524             bsf PORTD, 7
                      01525             
0457   186E           01526             btfsc casvar, 0
0458   3000           01527             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
0459   1C6E           01528             btfss casvar, 0
045A   30FF           01529             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
045B   00EE           01530             movwf casvar
045C   3008           01531             movlw .8
045D   00DB           01532             movwf timvar
                      01533             
045E   0008           01534             return
                      01535             
                      01536 ;vypnout vse
045F   18D9           01537 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
0460   0008           01538             return
                      01539             ;svetla 
0461   10AB           01540             bcf o_c, 1
0462   1187           01541             bcf PORTC, 3
                      01542             ;red tuning
                      01543             ;white tunning
                      01544             ;red interier
                      01545             ;white interier
0463   3017           01546             movlw b'10111' ;port C7
0464   00D2           01547             movwf port
0465   3002           01548             movlw b'10' ;procesor 2
0466   00D3           01549             movwf prc 
0467   19AB           01550             btfsc o_c, 3
0468   21D4           01551             call clrout ;set port v prc
0469   11AB           01552             bcf o_c, 3
046A   301B           01553             movlw b'11011' ;port D3
046B   00D2           01554             movwf port
046C   3002           01555             movlw b'10' ;procesor 2
046D   00D3           01556             movwf prc 
046E   1A2E           01557             btfsc o_f, 4
046F   21D4           01558             call clrout ;set port v prc
0470   122E           01559             bcf o_f, 4
0471   3016           01560             movlw b'10110' ;port C6
0472   00D2           01561             movwf port
0473   3002           01562             movlw b'10' ;procesor 2
0474   00D3           01563             movwf prc 
0475   192B           01564             btfsc o_c, 2
0476   21D4           01565             call clrout ;set port v prc
0477   112B           01566             bcf o_c, 2
0478   301A           01567             movlw b'11010' ;port D2
0479   00D2           01568             movwf port
047A   3002           01569             movlw b'10' ;procesor 2
047B   00D3           01570             movwf prc 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

047C   19AE           01571             btfsc o_f, 3
047D   21D4           01572             call clrout ;set port v prc
047E   11AE           01573             bcf o_f, 3
                      01574         
                      01575             ;stroboskop
047F   3019           01576             movlw b'11001' ;port D1
0480   00D2           01577             movwf port
0481   3002           01578             movlw b'10' ;procesor 2
0482   00D3           01579             movwf prc 
0483   192D           01580             btfsc o_e, 2
0484   21D4           01581             call clrout ;set port v prc
0485   112D           01582             bcf o_e, 2
                      01583             ;sirena
0486   3018           01584             movlw b'11000' ;port D0
0487   00D2           01585             movwf port
0488   3003           01586             movlw b'11' ;procesor 3
0489   00D3           01587             movwf prc 
048A   18AD           01588             btfsc o_e, 1
048B   21D4           01589             call clrout ;set port v prc
048C   10AD           01590             bcf o_e, 1
                      01591             ;parkovacky
048D   11AD           01592             bcf o_e, 3
048E   1288           01593             bcf PORTD, 5
                      01594             ;mlhovky zadni
048F   10AE           01595             bcf o_f, 1
0490   1207           01596             bcf PORTC, 4
                      01597             ;mlhovky predni
0491   12AB           01598             bcf o_c, 5
0492   1088           01599             bcf PORTD, 1
                      01600             ;rozehrivani okenka
0493   112E           01601             bcf o_f, 2
0494   1287           01602             bcf PORTC, 5
0495   0008           01603             return
                      01604             
                      01605 ;zamknuti
0496   1451           01606 t1_07       bsf locked, 0 ;nastavi registr locked
0497   12B0           01607             bcf o_h, 5 ;vypne v regs led odemceno
0498   3015           01608             movlw b'10101' ;port C5
0499   00D2           01609             movwf port
049A   3003           01610             movlw b'11' ;procesor 3
049B   00D3           01611             movwf prc
049C   21D4           01612             call clrout ;smaz port v prc
049D   1730           01613             bsf o_h, 6 ;zapne v regs led zamceno
049E   3016           01614             movlw b'10110' ;port C6
049F   00D2           01615             movwf port
04A0   3003           01616             movlw b'0011' ;procesor 3
04A1   00D3           01617             movwf prc
04A2   21AD           01618             call setout ;nastav port v prc
04A3   0008           01619             return
                      01620 ;odemknuti
04A4   1051           01621 t1_08       bcf locked, 0 ;smaze registr locked
04A5   16B0           01622             bsf o_h, 5 ;zapne v regs led odemceno
04A6   3015           01623             movlw b'10101' ;port C5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04A7   00D2           01624             movwf port
04A8   3003           01625             movlw b'11' ;procesor 3
04A9   00D3           01626             movwf prc
04AA   21AD           01627             call setout ;nastav port v prc
04AB   1730           01628             bsf o_h, 6 ;vypne v regs led zamceno
04AC   3016           01629             movlw b'10110' ;port C6
04AD   00D2           01630             movwf port
04AE   3003           01631             movlw b'0011' ;procesor 3
04AF   00D3           01632             movwf prc
04B0   21D4           01633             call clrout ;smaz port v prc
04B1   0008           01634             return
                      01635             
                      01636 ;pripraveno
04B2   0000           01637 t1_09       nop
04B3   0008           01638             return
                      01639 
                      01640 ;odskok dvere 1
04B4   162A           01641 t1_10       bsf o_b, 4
04B5   301F           01642             movlw b'11111' ;port D7
04B6   00D2           01643             movwf port
04B7   3003           01644             movlw b'11' ;procesor 3
04B8   00D3           01645             movwf prc
04B9   21AD           01646             call setout ;smaz port v prc
04BA   165A           01647             bsf casov, ODSKOK
04BB   3008           01648             movlw .8
04BC   00E9           01649             movwf timods
04BD   0008           01650             return
                      01651             
                      01652 ;odskok dvere 2
04BE   16AA           01653 t1_11       bsf o_b, 5
04BF   1787           01654             bsf PORTC, 7
04C0   165A           01655             bsf casov, ODSKOK
04C1   3008           01656             movlw .8
04C2   00E9           01657             movwf timods
04C3   0008           01658             return
                      01659             
                      01660 ;odskok dvere 3
04C4   1A31           01661 t1_12       btfsc o_i, 4
04C5   0008           01662             return
04C6   172A           01663             bsf o_b, 6
04C7   1506           01664             bsf PORTB, 2
04C8   165A           01665             bsf casov, ODSKOK
04C9   3008           01666             movlw .8
04CA   00E9           01667             movwf timods
04CB   0008           01668             return
                      01669             
                      01670 ;odskok dvere 4
04CC   1A31           01671 t1_13       btfsc o_i, 4
04CD   0008           01672             return
04CE   17AA           01673             bsf o_b, 7
04CF   1586           01674             bsf PORTB, 3
04D0   165A           01675             bsf casov, ODSKOK
04D1   3008           01676             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04D2   00E9           01677             movwf timods
04D3   0008           01678             return
                      01679             
                      01680 ;odskok kufr
04D4   15AA           01681 t1_14       bsf o_b, 3
04D5   1606           01682             bsf PORTB, 4
04D6   165A           01683             bsf casov, ODSKOK
04D7   3008           01684             movlw .8
04D8   00E9           01685             movwf timods
04D9   0008           01686             return
                      01687             
                      01688 ;odskok nadrz
04DA   142D           01689 t1_15       bsf o_e, 0
04DB   1686           01690             bsf PORTB, 5
04DC   165A           01691             bsf casov, ODSKOK
04DD   3008           01692             movlw .8
04DE   00E9           01693             movwf timods
04DF   0008           01694             return
                      01695             
                      01696 ;odskok kapota
04E0   142B           01697 t1_16       bsf o_c, 0
04E1   1706           01698             bsf PORTB, 6
04E2   165A           01699             bsf casov, ODSKOK
04E3   3008           01700             movlw .8
04E4   00E9           01701             movwf timods
04E5   0008           01702             return
                      01703             
                      01704 ;pripraveno
04E6   0000           01705 t1_17       nop
04E7   0008           01706             return
                      01707 ;pripraveno
04E8   0000           01708 t1_18       nop
04E9   0008           01709             return
                      01710 ;pripraveno
04EA   0000           01711 t1_19       nop
04EB   0008           01712             return
                      01713 
                      01714 ;play pause
04EC   14AC           01715 t1_20       bsf o_d, 1
04ED   3010           01716             movlw b'10000' ;port C0
04EE   00D2           01717             movwf port
04EF   3002           01718             movlw b'10' ;procesor 2
04F0   00D3           01719             movwf prc
04F1   21AD           01720             call setout ;nastav port v prc
04F2   0008           01721             return
                      01722             
                      01723 ;stop
04F3   152C           01724 t1_21       bsf o_d, 2
04F4   3011           01725             movlw b'10001' ;port C1
04F5   00D2           01726             movwf port
04F6   3002           01727             movlw b'10' ;procesor 2
04F7   00D3           01728             movwf prc
04F8   21AD           01729             call setout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04F9   0008           01730             return
                      01731             
                      01732 ;forwind
04FA   15AC           01733 t1_22       bsf o_d, 3
04FB   3012           01734             movlw b'10010' ;port C2
04FC   00D2           01735             movwf port
04FD   3002           01736             movlw b'10' ;procesor 2
04FE   00D3           01737             movwf prc
04FF   21AD           01738             call setout ;nastav port v prc
0500   0008           01739             return
                      01740             
                      01741 ;rewind
0501   162C           01742 t1_23       bsf o_d, 4
0502   3013           01743             movlw b'10011' ;port C3
0503   00D2           01744             movwf port
0504   3002           01745             movlw b'10' ;procesor 2
0505   00D3           01746             movwf prc
0506   21AD           01747             call setout ;nastav port v prc
0507   0008           01748             return
                      01749             
                      01750 ;volume +
0508   16AC           01751 t1_24       bsf o_d, 5
0509   3014           01752             movlw b'10100' ;port C4
050A   00D2           01753             movwf port
050B   3002           01754             movlw b'10' ;procesor 2
050C   00D3           01755             movwf prc
050D   21AD           01756             call setout ;nastav port v prc
050E   0008           01757             return
                      01758             
                      01759 ;volume -
050F   172C           01760 t1_25       bsf o_d, 6
0510   3015           01761             movlw b'10101' ;port C5
0511   00D2           01762             movwf port
0512   3002           01763             movlw b'10' ;procesor 2
0513   00D3           01764             movwf prc
0514   21AD           01765             call setout ;nastav port v prc
0515   0008           01766             return
                      01767             
                      01768 ;rozehrivani okenka
0516   082E           01769 t1_26       movf o_f, W
0517   00A4           01770             movwf r5
                      01771 
0518   1D24           01772             btfss r5, 2
0519   1687           01773             bsf PORTC, 5
051A   1D24           01774             btfss r5, 2
051B   152E           01775             bsf o_f, 2 
                      01776         
051C   1924           01777             btfsc r5, 2
051D   1287           01778             bcf PORTC, 5
051E   1924           01779             btfsc r5, 2
051F   112E           01780             bcf o_f, 2 
0520   0008           01781             return
                      01782             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01783 ;pripraveno
0521   0000           01784 t1_27       nop
0522   0008           01785             return
                      01786 ;pripraveno
0523   0000           01787 t1_28       nop
0524   0008           01788             return
                      01789 ;pripraveno
0525   0000           01790 t1_29       nop
0526   0008           01791             return
                      01792 
                      01793 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0527   0862           01794 t1_30       movf o1tar, W
0528   00A4           01795             movwf r5
0529   30F0           01796             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
052A   07A4           01797             addwf r5, F
052B   1C03           01798             btfss STATUS, C
052C   0008           01799             return
052D   0824           01800             movf r5, W
052E   00E2           01801             movwf o1tar
052F   0008           01802             return
                      01803             
                      01804 ;okno 2 up
0530   0863           01805 t1_31       movf o2tar, W
0531   00A4           01806             movwf r5
0532   30F0           01807             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0533   07A4           01808             addwf r5, F
0534   1C03           01809             btfss STATUS, C
0535   0008           01810             return
0536   0824           01811             movf r5, W
0537   00E3           01812             movwf o2tar
0538   0008           01813             return
                      01814             
                      01815 ;okno 3 up
0539   1A31           01816 t1_32       btfsc o_i, 4
053A   0008           01817             return
053B   0864           01818             movf o3tar, W
053C   00A4           01819             movwf r5
053D   30F0           01820             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
053E   07A4           01821             addwf r5, F
053F   1C03           01822             btfss STATUS, C
0540   0008           01823             return
0541   0824           01824             movf r5, W
0542   00E4           01825             movwf o3tar
0543   0008           01826             return
                      01827             
                      01828 ;okno 4 up
0544   1A31           01829 t1_33       btfsc o_i, 4
0545   0008           01830             return
0546   0865           01831             movf o4tar, W
0547   00A4           01832             movwf r5
0548   30F0           01833             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0549   07A4           01834             addwf r5, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

054A   1C03           01835             btfss STATUS, C
054B   0008           01836             return
054C   0824           01837             movf r5, W
054D   00E5           01838             movwf o4tar
054E   0008           01839             return
                      01840             
                      01841 ;okno 1 down
054F   0862           01842 t1_34       movf o1tar, W
0550   00A4           01843             movwf r5
0551   3010           01844             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0552   07A4           01845             addwf r5, F
0553   1803           01846             btfsc STATUS, C
0554   0008           01847             return
0555   0824           01848             movf r5, W
0556   00E2           01849             movwf o1tar
0557   0008           01850             return
                      01851             
                      01852 ;okno 2 down
0558   0863           01853 t1_35       movf o2tar, W
0559   00A4           01854             movwf r5
055A   3010           01855             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
055B   07A4           01856             addwf r5, F
055C   1803           01857             btfsc STATUS, C
055D   0008           01858             return
055E   0824           01859             movf r5, W
055F   00E3           01860             movwf o2tar
0560   0008           01861             return
                      01862             
                      01863 ;okno 3 down
0561   1A31           01864 t1_36       btfsc o_i, 4
0562   0008           01865             return
0563   0864           01866             movf o3tar, W
0564   00A4           01867             movwf r5
0565   3010           01868             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0566   07A4           01869             addwf r5, F
0567   1803           01870             btfsc STATUS, C
0568   0008           01871             return
0569   0824           01872             movf r5, W
056A   00E4           01873             movwf o3tar
056B   0008           01874             return
                      01875             
                      01876 ;detský zámek zadních oken a dveri
056C   1E31           01877 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
056D   2D75           01878             goto t2_37
056E   1231           01879             bcf o_i, 4
056F   301C           01880             movlw b'11100' ;port D4
0570   00D2           01881             movwf port
0571   3003           01882             movlw b'11' ;procesor 3
0572   00D3           01883             movwf prc
0573   21D4           01884             call clrout ;nastav port v prc        
0574   0008           01885             return
                      01886             
0575   1631           01887 t2_37       bsf o_i, 4
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0576   301C           01888             movlw b'11100' ;port D4
0577   00D2           01889             movwf port
0578   3003           01890             movlw b'11' ;procesor 3
0579   00D3           01891             movwf prc
057A   21AD           01892             call setout ;nastav port v prc        
057B   0008           01893             return
                      01894             
                      01895 ;pripraveno
057C   0000           01896 t1_38       nop
057D   0008           01897             return
                      01898 ;pripraveno
057E   0000           01899 t1_39       nop
057F   0008           01900             return
                      01901 
                      01902 ;RED tuning
0580   3016           01903 t1_40       movlw b'10110' ;port C6
0581   00D2           01904             movwf port
0582   3002           01905             movlw b'10' ;procesor 2
0583   00D3           01906             movwf prc
                      01907             
0584   082B           01908             movf o_c, W
0585   00A4           01909             movwf r5
                      01910 
0586   1D24           01911             btfss r5, 2
0587   21AD           01912             call setout ;nastav port v prc
0588   1D24           01913             btfss r5, 2
0589   152B           01914             bsf o_c, 2 
                      01915         
058A   1924           01916             btfsc r5, 2
058B   21D4           01917             call clrout ;smaz port v prc
058C   1924           01918             btfsc r5, 2
058D   112B           01919             bcf o_c, 2 
058E   0008           01920             return
                      01921             
                      01922 ;WHITE tunning
058F   3017           01923 t1_41       movlw b'10111' ;port C7
0590   00D2           01924             movwf port
0591   3002           01925             movlw b'10' ;procesor 2
0592   00D3           01926             movwf prc
                      01927             
0593   082B           01928             movf o_c, W
0594   00A4           01929             movwf r5
                      01930 
0595   1DA4           01931             btfss r5, 3
0596   21AD           01932             call setout ;nastav port v prc
0597   1DA4           01933             btfss r5, 3
0598   15AB           01934             bsf o_c, 3 
                      01935         
0599   19A4           01936             btfsc r5, 3
059A   21D4           01937             call clrout ;smaz port v prc
059B   19A4           01938             btfsc r5, 3
059C   11AB           01939             bcf o_c, 3 
059D   0008           01940             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01941             
                      01942 ;Parkovačky
059E   082D           01943 t1_42       movf o_e, W
059F   00A4           01944             movwf r5
                      01945 
05A0   1DA4           01946             btfss r5, 3
05A1   1688           01947             bsf PORTD, 5
05A2   1DA4           01948             btfss r5, 3
05A3   15AD           01949             bsf o_e, 3 
                      01950         
05A4   19A4           01951             btfsc r5, 3
05A5   1288           01952             bcf PORTD, 5
05A6   19A4           01953             btfsc r5, 3
05A7   11AD           01954             bcf o_e, 3 
05A8   0008           01955             return
                      01956             
                      01957 ;Světla
05A9   082B           01958 t1_43       movf o_c, W
05AA   00A4           01959             movwf r5
                      01960 
05AB   1CA4           01961             btfss r5, 1
05AC   1587           01962             bsf PORTC, 3
05AD   1CA4           01963             btfss r5, 1
05AE   14AB           01964             bsf o_c, 1 
                      01965         
05AF   18A4           01966             btfsc r5, 1
05B0   1187           01967             bcf PORTC, 3
05B1   18A4           01968             btfsc r5, 1
05B2   10AB           01969             bcf o_c, 1 
05B3   0008           01970             return
                      01971             
                      01972 ;Mlhovky zadní
05B4   082E           01973 t1_44       movf o_f, W
05B5   00A4           01974             movwf r5
                      01975 
05B6   1CA4           01976             btfss r5, 1
05B7   1607           01977             bsf PORTC, 4
05B8   1CA4           01978             btfss r5, 1
05B9   14AE           01979             bsf o_f, 1 
                      01980         
05BA   18A4           01981             btfsc r5, 1
05BB   1207           01982             bcf PORTC, 4
05BC   18A4           01983             btfsc r5, 1
05BD   10AE           01984             bcf o_f, 1 
05BE   0008           01985             return
                      01986             
                      01987 ;Blinkr levý
05BF   162D           01988 t1_45       bsf o_e, 4
05C0   1708           01989             bsf PORTD, 6
05C1   0008           01990             return
                      01991             
                      01992 ;Blinkr pravý
05C2   16AD           01993 t1_46       bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05C3   1788           01994             bsf PORTD, 7
05C4   0008           01995             return
                      01996             
                      01997 ;Mlhovky přední
05C5   082B           01998 t1_47       movf o_c, W
05C6   00A4           01999             movwf r5
                      02000 
05C7   1EA4           02001             btfss r5, 5
05C8   1488           02002             bsf PORTD, 1
05C9   1EA4           02003             btfss r5, 5
05CA   16AB           02004             bsf o_c, 5 
                      02005         
05CB   1AA4           02006             btfsc r5, 5
05CC   1088           02007             bcf PORTD, 1
05CD   1AA4           02008             btfsc r5, 5
05CE   12AB           02009             bcf o_c, 5 
05CF   0008           02010             return
                      02011             
                      02012 ;pripraveno
05D0   0000           02013 t1_48       nop
05D1   0008           02014             return
                      02015 ;pripraveno
05D2   0000           02016 t1_49       nop
05D3   0008           02017             return
                      02018 
                      02019 ;klakson
05D4   162B           02020 t1_50       bsf o_c, 4
05D5   3019           02021             movlw b'11001' ;port D1
05D6   00D2           02022             movwf port
05D7   3003           02023             movlw b'11' ;procesor 3
05D8   00D3           02024             movwf prc
05D9   21AD           02025             call setout ;nastav port v prc
05DA   0008           02026             return
                      02027             
                      02028 ;stěrače
05DB   17AB           02029 t1_51       bsf o_c, 7
05DC   1588           02030             bsf PORTD, 3
05DD   0008           02031             return
                      02032 ;odstřikovače
05DE   172B           02033 t1_52       bsf o_c, 6
05DF   1508           02034             bsf PORTD, 2
05E0   0008           02035             return
                      02036             
                      02037 ;Siréna
05E1   3018           02038 t1_53       movlw b'11000' ;port D0
05E2   00D2           02039             movwf port
05E3   3003           02040             movlw b'11' ;procesor 3
05E4   00D3           02041             movwf prc
                      02042             
05E5   082D           02043             movf o_e, W
05E6   00A4           02044             movwf r5
                      02045 
05E7   1CA4           02046             btfss r5, 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05E8   21AD           02047             call setout ;nastav port v prc
05E9   1CA4           02048             btfss r5, 1
05EA   14AD           02049             bsf o_e, 1 
                      02050         
05EB   18A4           02051             btfsc r5, 1
05EC   21D4           02052             call clrout ;smaz port v prc
05ED   18A4           02053             btfsc r5, 1
05EE   10AD           02054             bcf o_e, 1 
                      02055         
05EF   0008           02056             return
                      02057 
                      02058 ;stroboskop
05F0   3019           02059 t1_54       movlw b'11001' ;port D1
05F1   00D2           02060             movwf port
05F2   3002           02061             movlw b'10' ;procesor 2
05F3   00D3           02062             movwf prc
                      02063             
05F4   082D           02064             movf o_e, W
05F5   00A4           02065             movwf r5
                      02066 
05F6   1D24           02067             btfss r5, 2
05F7   21AD           02068             call setout ;nastav port v prc
05F8   1D24           02069             btfss r5, 2
05F9   152D           02070             bsf o_e, 2 
                      02071         
05FA   1924           02072             btfsc r5, 2
05FB   21D4           02073             call clrout ;smaz port v prc
05FC   1924           02074             btfsc r5, 2
05FD   112D           02075             bcf o_e, 2 
05FE   0008           02076             return
                      02077             
                      02078 ;Dálkové světla
05FF   142C           02079 t1_55   bsf o_d, 0
0600   1608           02080             bsf PORTD, 4
0601   0008           02081             return
                      02082             
                      02083 ;alarm start
0602   3018           02084 t1_56       movlw b'11000' ;port D0  ;sirena
0603   00D2           02085             movwf port
0604   3003           02086             movlw b'11' ;procesor 3
0605   00D3           02087             movwf prc 
0606   1CAD           02088             btfss o_e, 1
0607   21AD           02089             call setout ;set port v prc
0608   14AD           02090             bsf o_e, 1
                      02091             ;varovky
                      02092             ;bsf o_e, 4
                      02093             ;bsf PORTD, 6
                      02094             ;bsf o_e, 5
                      02095             ;bsf PORTD, 7
0609   2447           02096             call t1_05
                      02097             
                      02098             ;stroboskop
060A   3019           02099             movlw b'11001' ;port D1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

060B   00D2           02100             movwf port
060C   3002           02101             movlw b'10' ;procesor 2
060D   00D3           02102             movwf prc 
060E   1D2D           02103             btfss o_e, 2
060F   21AD           02104             call setout ;set port v prc
0610   152D           02105             bsf o_e, 2
                      02106             ;red tunning
0611   3016           02107             movlw b'10110' ;port C6
0612   00D2           02108             movwf port
0613   3002           02109             movlw b'10' ;procesor 2
0614   00D3           02110             movwf prc 
0615   1D2B           02111             btfss o_c, 2
0616   21AD           02112             call setout ;set port v prc
0617   152B           02113             bsf o_c, 2
                      02114             ;white interier
0618   301B           02115             movlw b'11011' ;port D3
0619   00D2           02116             movwf port
061A   3002           02117             movlw b'10' ;procesor 2
061B   00D3           02118             movwf prc 
061C   1E2E           02119             btfss o_f, 4
061D   21AD           02120             call setout ;set port v prc
061E   162E           02121             bsf o_f, 4
                      02122             
061F   16DA           02123             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0620   301E           02124             movlw .30
0621   00EA           02125             movwf timala
                      02126 
0622   0008           02127             return
                      02128             
                      02129 ;pripraveno
0623   0000           02130 t1_57       nop
0624   0008           02131             return
                      02132             
                      02133 ;pripraveno
0625   0000           02134 t1_58       nop
0626   0008           02135             return
                      02136             
                      02137 ;pripraveno
0627   0000           02138 t1_59       nop
0628   0008           02139             return
                      02140         
                      02141 ;okno 4 down
0629   1A31           02142 t1_60       btfsc o_i, 4
062A   0008           02143             return
062B   0865           02144             movf o4tar, W
062C   00A4           02145             movwf r5
062D   3010           02146             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
062E   07A4           02147             addwf r5, F
062F   1803           02148             btfsc STATUS, C
0630   0008           02149             return
0631   0824           02150             movf r5, W
0632   00E5           02151             movwf o4tar
0633   0008           02152             return
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02153             
                      02154 ;red interiér
0634   301A           02155 t1_61       movlw b'11010' ;port D2
0635   00D2           02156             movwf port
0636   3002           02157             movlw b'10' ;procesor 2
0637   00D3           02158             movwf prc
                      02159             
0638   082E           02160             movf o_f, W
0639   00A4           02161             movwf r5
                      02162 
063A   1DA4           02163             btfss r5, 3
063B   21AD           02164             call setout ;nastav port v prc
063C   1DA4           02165             btfss r5, 3
063D   15AE           02166             bsf o_f, 3 
                      02167         
063E   19A4           02168             btfsc r5, 3
063F   21D4           02169             call clrout ;smaz port v prc
0640   19A4           02170             btfsc r5, 3
0641   11AE           02171             bcf o_f, 3 
0642   0008           02172             return
                      02173             
                      02174 ;white interier
0643   301B           02175 t1_62       movlw b'11011' ;port D3
0644   00D2           02176             movwf port
0645   3002           02177             movlw b'10' ;procesor 2
0646   00D3           02178             movwf prc
                      02179             
0647   082E           02180             movf o_f, W
0648   00A4           02181             movwf r5
                      02182 
0649   1E24           02183             btfss r5, 4
064A   21AD           02184             call setout ;nastav port v prc
064B   1E24           02185             btfss r5, 4
064C   162E           02186             bsf o_f, 4 
                      02187         
064D   1A24           02188             btfsc r5, 4
064E   21D4           02189             call clrout ;smaz port v prc
064F   1A24           02190             btfsc r5, 4
0650   122E           02191             bcf o_f, 4 
0651   0008           02192             return
                      02193             
                      02194 ;klima on/off
0652   17AD           02195 t1_63       bsf o_e, 7
0653   301E           02196             movlw b'11110' ;port D6
0654   00D2           02197             movwf port
0655   3002           02198             movlw b'10' ;procesor 2
0656   00D3           02199             movwf prc
0657   21AD           02200             call setout ;nastav port v prc
0658   165A           02201             bsf casov, ODSKOK
0659   3008           02202             movlw .8
065A   00E9           02203             movwf timods
065B   0008           02204             return
                      02205             
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02206 ;klima teplota up
065C   172D           02207 t1_64       bsf o_e, 6
065D   301C           02208             movlw b'11100' ;port D4
065E   00D2           02209             movwf port
065F   3002           02210             movlw b'10' ;procesor 2
0660   00D3           02211             movwf prc
0661   21AD           02212             call setout ;nastav port v prc
0662   165A           02213             bsf casov, ODSKOK
0663   3008           02214             movlw .8
0664   00E9           02215             movwf timods
0665   0008           02216             return
                      02217             
                      02218 ;klima teplota down
0666   16AE           02219 t1_65       bsf o_f, 5
0667   301D           02220             movlw b'11101' ;port D5
0668   00D2           02221             movwf port
0669   3002           02222             movlw b'10' ;procesor 2
066A   00D3           02223             movwf prc
066B   21AD           02224             call setout ;nastav port v prc
066C   165A           02225             bsf casov, ODSKOK
066D   3008           02226             movlw .8
066E   00E9           02227             movwf timods
066F   0008           02228             return
                      02229             
                      02230 ;klima mista ventilace
0670   142E           02231 t1_66       bsf o_f, 0
0671   301F           02232             movlw b'11111' ;port D7
0672   00D2           02233             movwf port
0673   3002           02234             movlw b'10' ;procesor 2
0674   00D3           02235             movwf prc
0675   21AD           02236             call setout ;nastav port v prc
0676   165A           02237             bsf casov, ODSKOK
0677   3008           02238             movlw .8
0678   00E9           02239             movwf timods
0679   0008           02240             return
                      02241             
                      02242 ;pripraveno
067A   0000           02243 t1_67       nop
067B   0008           02244             return
                      02245 ;pripraveno
067C   0000           02246 t1_68       nop
067D   0008           02247             return
                      02248 ;pripraveno
067E   0000           02249 t1_69       nop
067F   0008           02250             return
                      02251 
0680   0000           02252 t1_x        nop
0681   0008           02253             return
                      02254             
                      02255 
                      02256 
                      02257 
                      02258 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02259 
0682   3005           02260 w20i        movlw .5
0683   00A3           02261             movwf r4
0684   0BA3           02262             decfsz r4, F
0685   2E84           02263             goto $-1
0686   0008           02264             return
                      02265 
                      02266 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
0687   3050           02267 w100c       movlw .80
0688   00A3           02268             movwf r4
0689   0BA3           02269             decfsz r4, F
068A   2E89           02270             goto $-1
068B   0008           02271             return
                      02272 
                      02273 ;cekej necelou polovinu w100c
068C   301E           02274 w40c        movlw .30
068D   00A3           02275             movwf r4
068E   0BA3           02276             decfsz r4, F
068F   2E8E           02277             goto $-1
0690   0008           02278             return
                      02279             
                      02280 
                      02281 
                      02282 
                      02283 
                      02284 
0691   3019           02285 klakson     movlw b'11001' ;port D1
0692   00D2           02286             movwf port
0693   3003           02287             movlw b'11' ;procesor 3
0694   00D3           02288             movwf prc
                      02289             
0695   082B           02290             movf o_c, W
0696   00A4           02291             movwf r5
                      02292 
0697   1E24           02293             btfss r5, 4
0698   21AD           02294             call setout ;nastav port v prc
0699   1E24           02295             btfss r5, 4
069A   162B           02296             bsf o_c, 4 
                      02297         
069B   1A24           02298             btfsc r5, 4
069C   21D4           02299             call clrout ;smaz port v prc
069D   1A24           02300             btfsc r5, 4
069E   122B           02301             bcf o_c, 4 
069F   0008           02302             return
                      02303 
                      02304 
                      02305 ;zmeni stav LED zamceno
06A0   3016           02306 ledzam      movlw b'10110' ;port C6
06A1   00D2           02307             movwf port
06A2   3003           02308             movlw b'11' ;procesor 3
06A3   00D3           02309             movwf prc
                      02310             
06A4   0830           02311             movf o_h, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06A5   00A4           02312             movwf r5
                      02313 
06A6   1F24           02314             btfss r5, 6
06A7   21AD           02315             call setout ;nastav port v prc
06A8   1F24           02316             btfss r5, 6
06A9   1730           02317             bsf o_h, 6 
                      02318         
06AA   1B24           02319             btfsc r5, 6
06AB   21D4           02320             call clrout ;smaz port v prc
06AC   1B24           02321             btfsc r5, 6
06AD   1330           02322             bcf o_h, 6 
                      02323         
06AE   0008           02324             return
                      02325 
                      02326 
                      02327 
                      02328 
                      02329 
                      02330 
                      02331 
                      02332 
                      02333 
                      02334 
                      02335 
                      02336 
0800                  02337             org 800h ;zacina druha stranka programu
0800   118A           02338 start       bcf PCLATH,3 ;Select page 0
                      02339 
                      02340 
                      02341             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02342             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0801   2045           02343             call watchstart
                      02344             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0802   2048           02345             call watchwait
                      02346             
                      02347             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0803   2045           02348             call watchstart
                      02349             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0804   2048           02350             call watchwait
                      02351             
                      02352             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0805   2045           02353             call watchstart
                      02354             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0806   2048           02355             call watchwait
                      02356             
                      02357             ; Začne počítat čas odpočinku procesorů WATCH2
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0807   2045           02358             call watchstart
                      02359             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0808   2048           02360             call watchwait
                      02361       
                      02362       
                      02363       
0809   1859           02364             btfsc conf, T0OF ;pokud timer 0 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
080A   204E           02365             call timer0
                      02366 
080B   158A           02367             bsf PCLATH,3 ;Select page 1
                      02368             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
080C   118A           02369             bcf PCLATH,3 ;Select page 0
                      02370 
                      02371 
                      02372             
                      02373             
080D   3000           02374             movlw .0 ;nastavime ANx kde x je zadane cislo
080E   00F6           02375             movwf ran1
080F   158A           02376             bsf PCLATH,3 ;Select page 1
0810   22AF           02377             call adconv
0811   118A           02378             bcf PCLATH,3 ;Select page 0
0812   0876           02379             movf ran1, W
0813   00A0           02380             movwf r1
                      02381             
0814   093F           02382             comf ir_58, W
0815   07A0           02383             addwf r1, F
0816   081E           02384             movf ADRESH, W
0817   0FA0           02385             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0818   00BF           02386             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0819   0820           02387             movf r1, W
081A   118A           02388             bcf PCLATH,3 ;Select page 0
081B   1D03           02389             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
081C   21FB           02390             call if_58  ;pokud zmena odesle na sbernici
                      02391             
                      02392             
081D   3001           02393             movlw .1 ;nastavime ANx kde x je zadane cislo
081E   00F6           02394             movwf ran1
081F   158A           02395             bsf PCLATH,3 ;Select page 1
0820   22AF           02396             call adconv
0821   118A           02397             bcf PCLATH,3 ;Select page 0
0822   0876           02398             movf ran1, W
0823   00A0           02399             movwf r1
                      02400             
0824   0943           02401             comf ir_62, W
0825   07A0           02402             addwf r1, F
0826   081E           02403             movf ADRESH, W
0827   0FA0           02404             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0828   00C3           02405             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0829   0820           02406             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

082A   118A           02407             bcf PCLATH,3 ;Select page 0
082B   1D03           02408             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
082C   2248           02409             call if_62  ;pokud zmena odesle na sbernici
                      02410             
                      02411             
082D   3002           02412             movlw .2 ;nastavime ANx kde x je zadane cislo
082E   00F6           02413             movwf ran1
082F   158A           02414             bsf PCLATH,3 ;Select page 1
0830   22AF           02415             call adconv
0831   118A           02416             bcf PCLATH,3 ;Select page 0
0832   0876           02417             movf ran1, W
0833   00A0           02418             movwf r1
                      02419             
0834   0937           02420             comf ir_50, W
0835   07A0           02421             addwf r1, F
0836   081E           02422             movf ADRESH, W
0837   0FA0           02423             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0838   00B7           02424             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0839   0820           02425             movf r1, W
083A   118A           02426             bcf PCLATH,3 ;Select page 0
083B   1D03           02427             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
083C   2295           02428             call if_50  ;pokud zmena odesle na sbernici
                      02429             
                      02430             
083D   3003           02431             movlw .3 ;nastavime ANx kde x je zadane cislo
083E   00F6           02432             movwf ran1
083F   158A           02433             bsf PCLATH,3 ;Select page 1
0840   22AF           02434             call adconv
0841   118A           02435             bcf PCLATH,3 ;Select page 0
0842   0876           02436             movf ran1, W
0843   00A0           02437             movwf r1
                      02438             
0844   0940           02439             comf ir_59, W
0845   07A0           02440             addwf r1, F
0846   081E           02441             movf ADRESH, W
0847   0FA0           02442             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0848   00C0           02443             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0849   0820           02444             movf r1, W
084A   118A           02445             bcf PCLATH,3 ;Select page 0
084B   1D03           02446             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   2297           02447             call if_59  ;pokud zmena odesle na sbernici
                      02448             
                      02449             
084D   3004           02450             movlw .4 ;nastavime ANx kde x je zadane cislo
084E   00F6           02451             movwf ran1
084F   158A           02452             bsf PCLATH,3 ;Select page 1
0850   22AF           02453             call adconv
0851   118A           02454             bcf PCLATH,3 ;Select page 0
0852   0876           02455             movf ran1, W
0853   00A0           02456             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02457             
0854   0941           02458             comf ir_60, W
0855   07A0           02459             addwf r1, F
0856   081E           02460             movf ADRESH, W
0857   0FA0           02461             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0858   00C1           02462             movwf ir_60  ;prepise reg AN prevedenou hodnotou
0859   0820           02463             movf r1, W
085A   118A           02464             bcf PCLATH,3 ;Select page 0
085B   1D03           02465             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
085C   2299           02466             call if_60  ;pokud zmena odesle na sbernici
                      02467             
                      02468             
085D   3005           02469             movlw .5 ;nastavime ANx kde x je zadane cislo
085E   00F6           02470             movwf ran1
085F   158A           02471             bsf PCLATH,3 ;Select page 1
0860   22AF           02472             call adconv
0861   118A           02473             bcf PCLATH,3 ;Select page 0
0862   0876           02474             movf ran1, W
0863   00A0           02475             movwf r1
                      02476             
0864   0942           02477             comf ir_61, W
0865   07A0           02478             addwf r1, F
0866   081E           02479             movf ADRESH, W
0867   0FA0           02480             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0868   00C2           02481             movwf ir_61  ;prepise reg AN prevedenou hodnotou
0869   0820           02482             movf r1, W
086A   118A           02483             bcf PCLATH,3 ;Select page 0
086B   1D03           02484             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
086C   229B           02485             call if_61  ;pokud zmena odesle na sbernici
                      02486             
                      02487             
                      02488             
                      02489             
                      02490 
                      02491 
                      02492             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
086D   2045           02493             call watchstart
                      02494 
                      02495             ;dotaz na procesor 2
086E   3002           02496             movlw .2  ;oznaceni ciloveho procesoru
086F   00F8           02497             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0870   20F4           02498             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02499     
                      02500             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0871   2048           02501             call watchwait
                      02502     
0872   0870           02503             movf pri0, W    ;kontroluje zda je zmena od minule
0873   00A0           02504             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0874   0938           02505             comf ir_51, W
0875   07A0           02506             addwf r1, F
0876   0870           02507             movf pri0, W
0877   0FA0           02508             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0878   00B8           02509             movwf ir_51  ;priepise reg AN prievedenou hodnotou
0879   0820           02510             movf r1, W
087A   1D03           02511             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
087B   22A1           02512             call if_51  ;pokud zmena spusti podprig
                      02513     
087C   0871           02514             movf pri1, W    ;kontroluje zda je zmena od minule
087D   00A0           02515             movwf r1
087E   0939           02516             comf ir_52, W
087F   07A0           02517             addwf r1, F
0880   0871           02518             movf pri1, W
0881   0FA0           02519             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0882   00B9           02520             movwf ir_52  ;priepise reg AN prievedenou hodnotou
0883   0820           02521             movf r1, W
0884   1D03           02522             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0885   22A3           02523             call if_52  ;pokud zmena spusti podprig
                      02524     
                      02525     
0886   0872           02526             movf pri2, W    ;kontroluje zda je zmena od minule
0887   00A0           02527             movwf r1
0888   093A           02528             comf ir_53, W
0889   07A0           02529             addwf r1, F
088A   0872           02530             movf pri2, W
088B   0FA0           02531             incfsz r1, F  ;pokud zadna zmena pokracuje dal
088C   00BA           02532             movwf ir_53  ;priepise reg AN prievedenou hodnotou
088D   0820           02533             movf r1, W
088E   1D03           02534             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
088F   22A5           02535             call if_53  ;pokud zmena spusti podprig
                      02536     
                      02537     
0890   0873           02538             movf pri3, W    ;kontroluje zda je zmena od minule
0891   00A0           02539             movwf r1
0892   093B           02540             comf ir_54, W
0893   07A0           02541             addwf r1, F
0894   0873           02542             movf pri3, W
0895   0FA0           02543             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0896   00BB           02544             movwf ir_54  ;priepise reg AN prievedenou hodnotou
0897   0820           02545             movf r1, W
0898   1D03           02546             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0899   22A7           02547             call if_54  ;pokud zmena spusti podprig
                      02548     
                      02549     
089A   0874           02550             movf pri4, W    ;kontroluje zda je zmena od minule
089B   00A0           02551             movwf r1
089C   093C           02552             comf ir_55, W
089D   07A0           02553             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

089E   0874           02554             movf pri4, W
089F   0FA0           02555             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A0   00BC           02556             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08A1   0820           02557             movf r1, W
08A2   1D03           02558             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A3   22A9           02559             call if_55  ;pokud zmena spusti podprig
                      02560     
                      02561     
08A4   0875           02562             movf pri5, W    ;kontroluje zda je zmena od minule
08A5   00A0           02563             movwf r1
08A6   093D           02564             comf ir_56, W
08A7   07A0           02565             addwf r1, F
08A8   0875           02566             movf pri5, W
08A9   0FA0           02567             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08AA   00BD           02568             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08AB   0820           02569             movf r1, W
08AC   1D03           02570             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08AD   22AB           02571             call if_56  ;pokud zmena spusti podprig
                      02572     
                      02573     
08AE   0876           02574             movf pri6, W    ;kontroluje zda je zmena od minule
08AF   00A0           02575             movwf r1
08B0   093E           02576             comf ir_57, W
08B1   07A0           02577             addwf r1, F
08B2   0876           02578             movf pri6, W
08B3   0FA0           02579             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B4   00BE           02580             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08B5   0820           02581             movf r1, W
08B6   1D03           02582             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B7   22AD           02583             call if_57  ;pokud zmena spusti podprig
                      02584     
                      02585     
08B8   0877           02586             movf pri7, W    ;kontroluje zda je zmena od minule
08B9   00A0           02587             movwf r1
08BA   0936           02588             comf ir_49, W
08BB   07A0           02589             addwf r1, F
08BC   0877           02590             movf pri7, W
08BD   0FA0           02591             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08BE   00B6           02592             movwf ir_49  ;priepise reg AN prievedenou hodnotou
08BF   0820           02593             movf r1, W
08C0   1D03           02594             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C1   229D           02595             call if_49  ;pokud zmena spusti podprig
                      02596 
                      02597 
                      02598             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08C2   2045           02599             call watchstart
                      02600 
                      02601             ;dotaz na procesor 3
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C3   3003           02602             movlw .3  ;oznaceni ciloveho procesoru
08C4   00F8           02603             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08C5   20F4           02604             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02605             
                      02606             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08C6   2048           02607             call watchwait
                      02608             
                      02609     
                      02610     
08C7   0870           02611             movf pri0, W    ;kontroluje zda je zmena od minule
08C8   00A0           02612             movwf r1
08C9   0944           02613             comf ir_80, W
08CA   07A0           02614             addwf r1, F
08CB   0870           02615             movf pri0, W
08CC   0FA0           02616             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CD   00C4           02617             movwf ir_80  ;priepise reg AN prievedenou hodnotou
08CE   0820           02618             movf r1, W
08CF   1D03           02619             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D0   229F           02620             call if_80  ;pokud zmena spusti podprig
                      02621     
                      02622     
08D1   0871           02623             movf pri1, W    ;kontroluje zda je zmena od minule
08D2   00A0           02624             movwf r1
08D3   0945           02625             comf ir_84, W
08D4   07A0           02626             addwf r1, F
08D5   0871           02627             movf pri1, W
08D6   0FA0           02628             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D7   00C5           02629             movwf ir_84  ;priepise reg AN prievedenou hodnotou
08D8   0820           02630             movf r1, W
08D9   1D03           02631             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08DA   22AF           02632             call if_84  ;pokud zmena spusti podprig
                      02633     
                      02634     
08DB   0872           02635             movf pri2, W    ;kontroluje zda je zmena od minule
08DC   00A0           02636             movwf r1
08DD   0946           02637             comf ir_85, W
08DE   07A0           02638             addwf r1, F
08DF   0872           02639             movf pri2, W
08E0   0FA0           02640             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E1   00C6           02641             movwf ir_85  ;priepise reg AN prievedenou hodnotou
08E2   0820           02642             movf r1, W
08E3   1D03           02643             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E4   22B1           02644             call if_85  ;pokud zmena spusti podprig
                      02645     
                      02646     
08E5   0873           02647             movf pri3, W    ;kontroluje zda je zmena od minule
08E6   00A0           02648             movwf r1
08E7   0947           02649             comf ir_86, W
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08E8   07A0           02650             addwf r1, F
08E9   0873           02651             movf pri3, W
08EA   0FA0           02652             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EB   00C7           02653             movwf ir_86  ;priepise reg AN prievedenou hodnotou
08EC   0820           02654             movf r1, W
08ED   1D03           02655             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EE   22B3           02656             call if_86  ;pokud zmena spusti podprig
                      02657     
                      02658     
08EF   0874           02659             movf pri4, W    ;kontroluje zda je zmena od minule
08F0   00A0           02660             movwf r1
08F1   0948           02661             comf ir_87, W
08F2   07A0           02662             addwf r1, F
08F3   0874           02663             movf pri4, W
08F4   0FA0           02664             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F5   00C8           02665             movwf ir_87  ;priepise reg AN prievedenou hodnotou
08F6   0820           02666             movf r1, W
08F7   1D03           02667             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F8   22B5           02668             call if_87  ;pokud zmena spusti podprig
                      02669     
                      02670     
08F9   0875           02671             movf pri5, W    ;kontroluje zda je zmena od minule
08FA   00A0           02672             movwf r1
08FB   0949           02673             comf ir_88, W
08FC   07A0           02674             addwf r1, F
08FD   0875           02675             movf pri5, W
08FE   0FA0           02676             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FF   00C9           02677             movwf ir_88  ;priepise reg AN prievedenou hodnotou
0900   0820           02678             movf r1, W
0901   1D03           02679             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0902   22B7           02680             call if_88  ;pokud zmena spusti podprig
                      02681     
                      02682     
0903   0876           02683             movf pri6, W    ;kontroluje zda je zmena od minule
0904   00A0           02684             movwf r1
0905   094A           02685             comf ir_89, W
0906   07A0           02686             addwf r1, F
0907   0876           02687             movf pri6, W
0908   0FA0           02688             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0909   00CA           02689             movwf ir_89  ;priepise reg AN prievedenou hodnotou
090A   0820           02690             movf r1, W
090B   1D03           02691             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090C   22B9           02692             call if_89  ;pokud zmena spusti podprig
                      02693     
                      02694     
090D   0877           02695             movf pri7, W    ;kontroluje zda je zmena od minule
090E   00A0           02696             movwf r1
090F   094B           02697             comf ir_90, W
0910   07A0           02698             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0911   0877           02699             movf pri7, W
0912   0FA0           02700             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0913   00CB           02701             movwf ir_90  ;priepise reg AN prievedenou hodnotou
0914   0820           02702             movf r1, W
0915   1D03           02703             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0916   22BB           02704             call if_90  ;pokud zmena spusti podprig
                      02705 
                      02706 
                      02707 
                      02708             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0917   2045           02709             call watchstart
                      02710 
                      02711             ;dotaz na procesor 4
0918   3004           02712             movlw .4  ;oznaceni ciloveho procesoru
0919   00F8           02713             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
091A   20F4           02714             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02715             
                      02716             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
091B   2048           02717             call watchwait
                      02718             
                      02719     
                      02720     
091C   0870           02721             movf pri0, W    ;kontroluje zda je zmena od minule
091D   00A0           02722             movwf r1
091E   094C           02723             comf ir_91, W
091F   07A0           02724             addwf r1, F
0920   0870           02725             movf pri0, W
0921   0FA0           02726             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0922   00CC           02727             movwf ir_91  ;priepise reg AN prievedenou hodnotou
0923   0820           02728             movf r1, W
0924   1D03           02729             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0925   22BD           02730             call if_91  ;pokud zmena spusti podprig
                      02731     
                      02732     
0926   0871           02733             movf pri1, W    ;kontroluje zda je zmena od minule
0927   00A0           02734             movwf r1
0928   094D           02735             comf ir_92, W
0929   07A0           02736             addwf r1, F
092A   0871           02737             movf pri1, W
092B   0FA0           02738             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092C   00CD           02739             movwf ir_92  ;priepise reg AN prievedenou hodnotou
092D   0820           02740             movf r1, W
092E   1D03           02741             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092F   22BF           02742             call if_92  ;pokud zmena spusti podprig
                      02743     
                      02744     
0930   0872           02745             movf pri2, W    ;kontroluje zda je zmena od minule
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0931   00A0           02746             movwf r1
0932   094E           02747             comf ir_93, W
0933   07A0           02748             addwf r1, F
0934   0872           02749             movf pri2, W
0935   0FA0           02750             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0936   00CE           02751             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0937   0820           02752             movf r1, W
0938   1D03           02753             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0939   22C1           02754             call if_93  ;pokud zmena spusti podprig
                      02755     
                      02756     
093A   0873           02757             movf pri3, W    ;kontroluje zda je zmena od minule
093B   00A0           02758             movwf r1
093C   094F           02759             comf ir_127, W
093D   07A0           02760             addwf r1, F
093E   0873           02761             movf pri3, W
093F   0FA0           02762             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0940   00CF           02763             movwf ir_127  ;priepise reg AN prievedenou hodnotou
0941   0820           02764             movf r1, W
0942   1D03           02765             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0943   22C3           02766             call if_127  ;pokud zmena spusti podprig
                      02767     
                      02768     
0944   0874           02769             movf pri4, W    ;kontroluje zda je zmena od minule
0945   00A0           02770             movwf r1
0946   0950           02771             comf ir_128, W
0947   07A0           02772             addwf r1, F
0948   0874           02773             movf pri4, W
0949   0FA0           02774             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094A   00D0           02775             movwf ir_128  ;priepise reg AN prievedenou hodnotou
094B   0820           02776             movf r1, W
094C   1D03           02777             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094D   22C5           02778             call if_128  ;pokud zmena spusti podprig
                      02779     
                      02780     
094E   0875           02781             movf pri5, W    ;kontroluje zda je zmena od minule
094F   00A0           02782             movwf r1
0950   0935           02783             comf ir_x, W
0951   07A0           02784             addwf r1, F
0952   0875           02785             movf pri5, W
0953   0FA0           02786             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0954   00B5           02787             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0955   0820           02788             movf r1, W
0956   1D03           02789             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0957   2312           02790             call if_x  ;pokud zmena spusti podprig
                      02791     
                      02792     
0958   0876           02793             movf pri6, W    ;kontroluje zda je zmena od minule
0959   00A0           02794             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

095A   0935           02795             comf ir_x, W
095B   07A0           02796             addwf r1, F
095C   0876           02797             movf pri6, W
095D   0FA0           02798             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095E   00B5           02799             movwf ir_x  ;priepise reg AN prievedenou hodnotou
095F   0820           02800             movf r1, W
0960   1D03           02801             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0961   2312           02802             call if_x  ;pokud zmena spusti podprig
                      02803     
                      02804     
0962   0877           02805             movf pri7, W    ;kontroluje zda je zmena od minule
0963   00A0           02806             movwf r1
0964   0935           02807             comf ir_x, W
0965   07A0           02808             addwf r1, F
0966   0877           02809             movf pri7, W
0967   0FA0           02810             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0968   00B5           02811             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0969   0820           02812             movf r1, W
096A   1D03           02813             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
096B   2312           02814             call if_x  ;pokud zmena spusti podprig
                      02815 
                      02816 
                      02817 
096C   158A           02818             bsf PCLATH,3 ;Select page 1
096D   2800           02819             goto start      ;zpet v cyklu na zacatek
                      02820         
                      02821         
                      02822         
                      02823 
                      02824 
                      02825 
                      02826 
                      02827 
                      02828 
096E   084B           02829 okna        movf ir_90, W
096F   39F0           02830             andlw b'11110000' ;odseknu konecnou cast
0970   00A0           02831             movwf r1
0971   09A0           02832             comf r1, F ;udelám dvojkový doplněk
0972   0862           02833             movf o1tar, W
0973   39F0           02834             andlw b'11110000' ;odseknu konecnou cast
0974   07A0           02835             addwf r1, F ;sectu s dvojkovym doplnkem
0975   0803           02836             movf STATUS, W
0976   00A2           02837             movwf r3
0977   1922           02838             btfsc r3, Z
0978   21DD           02839             call o1stop
0979   1922           02840             btfsc r3, Z
097A   297F           02841             goto okno2
097B   1C22           02842             btfss r3, C ;pokud nepreteklo, vyjed nahoru
097C   21B3           02843             call o1up
097D   1822           02844             btfsc r3, C ;pokud preteklo, sjed dolu
097E   21C8           02845             call o1down
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

097F   084C           02846 okno2       movf ir_91, W
0980   39F0           02847             andlw b'11110000' ;odseknu konecnou cast
0981   00A0           02848             movwf r1
0982   09A0           02849             comf r1, F ;udelám dvojkový doplněk
0983   0863           02850             movf o2tar, W
0984   39F0           02851             andlw b'11110000' ;odseknu konecnou cast
0985   07A0           02852             addwf r1, F ;sectu s dvojkovym doplnkem
0986   0803           02853             movf STATUS, W
0987   00A2           02854             movwf r3
0988   1922           02855             btfsc r3, Z
0989   221C           02856             call o2stop
098A   1922           02857             btfsc r3, Z
098B   2990           02858             goto okno3
098C   1C22           02859             btfss r3, C ;pokud nepreteklo, vyjed nahoru
098D   21F2           02860             call o2up
098E   1822           02861             btfsc r3, C ;pokud preteklo, sjed dolu
098F   2207           02862             call o2down
0990   084D           02863 okno3       movf ir_92, W
0991   39F0           02864             andlw b'11110000' ;odseknu konecnou cast
0992   00A0           02865             movwf r1
0993   09A0           02866             comf r1, F ;udelám dvojkový doplněk
0994   0864           02867             movf o3tar, W
0995   39F0           02868             andlw b'11110000' ;odseknu konecnou cast
0996   07A0           02869             addwf r1, F ;sectu s dvojkovym doplnkem
0997   0803           02870             movf STATUS, W
0998   00A2           02871             movwf r3
0999   1922           02872             btfsc r3, Z
099A   225B           02873             call o3stop
099B   1922           02874             btfsc r3, Z
099C   29A1           02875             goto okno4
099D   1C22           02876             btfss r3, C ;pokud nepreteklo, vyjed nahoru
099E   2231           02877             call o3up
099F   1822           02878             btfsc r3, C ;pokud preteklo, sjed dolu
09A0   2246           02879             call o3down
09A1   084E           02880 okno4       movf ir_93, W
09A2   39F0           02881             andlw b'11110000' ;odseknu konecnou cast
09A3   00A0           02882             movwf r1
09A4   09A0           02883             comf r1, F ;udelám dvojkový doplněk
09A5   0865           02884             movf o4tar, W
09A6   39F0           02885             andlw b'11110000' ;odseknu konecnou cast
09A7   07A0           02886             addwf r1, F ;sectu s dvojkovym doplnkem
09A8   0803           02887             movf STATUS, W
09A9   00A2           02888             movwf r3
09AA   1922           02889             btfsc r3, Z
09AB   229A           02890             call o4stop
09AC   1922           02891             btfsc r3, Z
09AD   0008           02892             return
09AE   1C22           02893             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09AF   2270           02894             call o4up
09B0   1822           02895             btfsc r3, C ;pokud preteklo, sjed dolu
09B1   2285           02896             call o4down
09B2   0008           02897             return
                      02898 
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02899 ;okno 1 nahoru, dolu, zastavit
09B3   19A9           02900 o1up        btfsc o_a, 3
09B4   29BD           02901             goto no1up
09B5   301D           02902             movlw b'11101' ;port D5
09B6   00D2           02903             movwf port
09B7   3003           02904             movlw b'11' ;procesor 3
09B8   00D3           02905             movwf prc
                      02906         
09B9   118A           02907             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09BA   21AD           02908             call setout ;smaz port v prc
09BB   158A           02909             bsf PCLATH,3 ;Select page 1
09BC   15A9           02910             bsf o_a, 3 
09BD   1FA9           02911 no1up       btfss o_a, 7
09BE   0008           02912             return
09BF   300C           02913             movlw b'01100' ;port B4
09C0   00D2           02914             movwf port
09C1   3002           02915             movlw b'10' ;procesor 2
09C2   00D3           02916             movwf prc
                      02917             
09C3   118A           02918             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09C4   21D4           02919             call clrout ;smaz port v prc
09C5   158A           02920             bsf PCLATH,3 ;Select page 1
09C6   13A9           02921             bcf o_a, 7             
09C7   0008           02922             return
09C8   1DA9           02923 o1down      btfss o_a, 3
09C9   29D2           02924             goto no1down
09CA   301D           02925             movlw b'11101' ;port D5
09CB   00D2           02926             movwf port
09CC   3003           02927             movlw b'11' ;procesor 3
09CD   00D3           02928             movwf prc
                      02929             
09CE   118A           02930             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09CF   21D4           02931             call clrout ;smaz port v prc
09D0   158A           02932             bsf PCLATH,3 ;Select page 1
09D1   11A9           02933             bcf o_a, 3 
09D2   1BA9           02934 no1down     btfsc o_a, 7
09D3   0008           02935             return
09D4   300C           02936             movlw b'01100' ;port B4
09D5   00D2           02937             movwf port
09D6   3002           02938             movlw b'10' ;procesor 2
09D7   00D3           02939             movwf prc
                      02940             
09D8   118A           02941             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09D9   21AD           02942             call setout ;smaz port v prc
09DA   158A           02943             bsf PCLATH,3 ;Select page 1
09DB   17A9           02944             bsf o_a, 7             
09DC   0008           02945             return
09DD   1DA9           02946 o1stop      btfss o_a, 3
09DE   29E7           02947             goto no1stop
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09DF   301D           02948             movlw b'11101' ;port D5
09E0   00D2           02949             movwf port
09E1   3003           02950             movlw b'11' ;procesor 3
09E2   00D3           02951             movwf prc
                      02952             
09E3   118A           02953             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09E4   21D4           02954             call clrout ;smaz port v prc
09E5   158A           02955             bsf PCLATH,3 ;Select page 1
09E6   11A9           02956             bcf o_a, 3 
09E7   1FA9           02957 no1stop     btfss o_a, 7
09E8   0008           02958             return
09E9   300C           02959             movlw b'01100' ;port B4
09EA   00D2           02960             movwf port
09EB   3002           02961             movlw b'10' ;procesor 2
09EC   00D3           02962             movwf prc
                      02963             
09ED   118A           02964             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09EE   21D4           02965             call clrout ;smaz port v prc
09EF   158A           02966             bsf PCLATH,3 ;Select page 1
09F0   13A9           02967             bcf o_a, 7             
09F1   0008           02968             return
                      02969 ;okno 2 nahoru, dolu, zastavit
09F2   1A29           02970 o2up        btfsc o_a, 4
09F3   29FC           02971             goto no2up
09F4   3018           02972             movlw b'11000' ;port D0
09F5   00D2           02973             movwf port
09F6   3002           02974             movlw b'10' ;procesor 2
09F7   00D3           02975             movwf prc
                      02976             
09F8   118A           02977             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
09F9   21AD           02978             call setout ;smaz port v prc
09FA   158A           02979             bsf PCLATH,3 ;Select page 1
09FB   1629           02980             bsf o_a, 4 
09FC   1C2A           02981 no2up       btfss o_b, 0
09FD   0008           02982             return
09FE   300D           02983             movlw b'01101' ;port B5
09FF   00D2           02984             movwf port
0A00   3002           02985             movlw b'10' ;procesor 2
0A01   00D3           02986             movwf prc
                      02987             
0A02   118A           02988             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A03   21D4           02989             call clrout ;smaz port v prc
0A04   158A           02990             bsf PCLATH,3 ;Select page 1
0A05   102A           02991             bcf o_b, 0             
0A06   0008           02992             return
0A07   1E29           02993 o2down      btfss o_a, 4
0A08   2A11           02994             goto no2down
0A09   3018           02995             movlw b'11000' ;port D0
0A0A   00D2           02996             movwf port
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A0B   3002           02997             movlw b'10' ;procesor 2
0A0C   00D3           02998             movwf prc
                      02999             
0A0D   118A           03000             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0E   21D4           03001             call clrout ;smaz port v prc
0A0F   158A           03002             bsf PCLATH,3 ;Select page 1
0A10   1229           03003             bcf o_a, 4 
0A11   182A           03004 no2down     btfsc o_b, 0
0A12   0008           03005             return
0A13   300D           03006             movlw b'01101' ;port B5
0A14   00D2           03007             movwf port
0A15   3002           03008             movlw b'10' ;procesor 2
0A16   00D3           03009             movwf prc
                      03010             
0A17   118A           03011             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A18   21AD           03012             call setout ;smaz port v prc
0A19   158A           03013             bsf PCLATH,3 ;Select page 1
0A1A   142A           03014             bsf o_b, 0             
0A1B   0008           03015             return
0A1C   1E29           03016 o2stop      btfss o_a, 4
0A1D   2A26           03017             goto no2stop
0A1E   3018           03018             movlw b'11000' ;port D0
0A1F   00D2           03019             movwf port
0A20   3002           03020             movlw b'10' ;procesor 2
0A21   00D3           03021             movwf prc
                      03022             
0A22   118A           03023             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A23   21D4           03024             call clrout ;smaz port v prc
0A24   158A           03025             bsf PCLATH,3 ;Select page 1
0A25   1229           03026             bcf o_a, 4 
0A26   1C2A           03027 no2stop     btfss o_b, 0
0A27   0008           03028             return
0A28   300D           03029             movlw b'01101' ;port B5
0A29   00D2           03030             movwf port
0A2A   3002           03031             movlw b'10' ;procesor 2
0A2B   00D3           03032             movwf prc
                      03033             
0A2C   118A           03034             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2D   21D4           03035             call clrout ;smaz port v prc
0A2E   158A           03036             bsf PCLATH,3 ;Select page 1
0A2F   102A           03037             bcf o_b, 0             
0A30   0008           03038             return
                      03039 ;okno 3 nahoru, dolu, zastavit
0A31   1AA9           03040 o3up        btfsc o_a, 5
0A32   2A3B           03041             goto no3up
0A33   300A           03042             movlw b'01010' ;port B2
0A34   00D2           03043             movwf port
0A35   3002           03044             movlw b'10' ;procesor 2
0A36   00D3           03045             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03046             
0A37   118A           03047             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A38   21AD           03048             call setout ;smaz port v prc
0A39   158A           03049             bsf PCLATH,3 ;Select page 1
0A3A   16A9           03050             bsf o_a, 5 
0A3B   1CAA           03051 no3up       btfss o_b, 1
0A3C   0008           03052             return
0A3D   300E           03053             movlw b'01110' ;port B6
0A3E   00D2           03054             movwf port
0A3F   3002           03055             movlw b'10' ;procesor 2
0A40   00D3           03056             movwf prc
                      03057             
0A41   118A           03058             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A42   21D4           03059             call clrout ;smaz port v prc
0A43   158A           03060             bsf PCLATH,3 ;Select page 1
0A44   10AA           03061             bcf o_b, 1             
0A45   0008           03062             return
0A46   1EA9           03063 o3down      btfss o_a, 5
0A47   2A50           03064             goto no3down
0A48   300A           03065             movlw b'01010' ;port B2
0A49   00D2           03066             movwf port
0A4A   3002           03067             movlw b'10' ;procesor 2
0A4B   00D3           03068             movwf prc
                      03069             
0A4C   118A           03070             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4D   21D4           03071             call clrout ;smaz port v prc
0A4E   158A           03072             bsf PCLATH,3 ;Select page 1
0A4F   12A9           03073             bcf o_a, 5 
0A50   18AA           03074 no3down     btfsc o_b, 1
0A51   0008           03075             return
0A52   300E           03076             movlw b'01110' ;port B6
0A53   00D2           03077             movwf port
0A54   3002           03078             movlw b'10' ;procesor 2
0A55   00D3           03079             movwf prc
                      03080             
0A56   118A           03081             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A57   21AD           03082             call setout ;smaz port v prc
0A58   158A           03083             bsf PCLATH,3 ;Select page 1
0A59   14AA           03084             bsf o_b, 1             
0A5A   0008           03085             return
0A5B   1EA9           03086 o3stop      btfss o_a, 5
0A5C   2A65           03087             goto no3stop
0A5D   300A           03088             movlw b'01010' ;port B2
0A5E   00D2           03089             movwf port
0A5F   3002           03090             movlw b'10' ;procesor 2
0A60   00D3           03091             movwf prc
                      03092             
0A61   118A           03093             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A62   21D4           03094             call clrout ;smaz port v prc
0A63   158A           03095             bsf PCLATH,3 ;Select page 1
0A64   12A9           03096             bcf o_a, 5 
0A65   1CAA           03097 no3stop     btfss o_b, 1
0A66   0008           03098             return
0A67   300E           03099             movlw b'01110' ;port B6
0A68   00D2           03100             movwf port
0A69   3002           03101             movlw b'10' ;procesor 2
0A6A   00D3           03102             movwf prc
                      03103             
0A6B   118A           03104             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6C   21D4           03105             call clrout ;smaz port v prc
0A6D   158A           03106             bsf PCLATH,3 ;Select page 1
0A6E   10AA           03107             bcf o_b, 1             
0A6F   0008           03108             return
                      03109 ;okno 4 nahoru, dolu, zastavit
0A70   1B29           03110 o4up        btfsc o_a, 6
0A71   2A7A           03111             goto no4up
0A72   300B           03112             movlw b'01011' ;port B3
0A73   00D2           03113             movwf port
0A74   3002           03114             movlw b'10' ;procesor 2
0A75   00D3           03115             movwf prc
                      03116             
0A76   118A           03117             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A77   21AD           03118             call setout ;smaz port v prc
0A78   158A           03119             bsf PCLATH,3 ;Select page 1
0A79   1729           03120             bsf o_a, 6 
0A7A   1D2A           03121 no4up       btfss o_b, 2
0A7B   0008           03122             return
0A7C   300F           03123             movlw b'01111' ;port B7
0A7D   00D2           03124             movwf port
0A7E   3002           03125             movlw b'10' ;procesor 2
0A7F   00D3           03126             movwf prc
                      03127             
0A80   118A           03128             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A81   21D4           03129             call clrout ;smaz port v prc
0A82   158A           03130             bsf PCLATH,3 ;Select page 1
0A83   112A           03131             bcf o_b, 2             
0A84   0008           03132             return
0A85   1F29           03133 o4down      btfss o_a, 6
0A86   2A8F           03134             goto no4down
0A87   300B           03135             movlw b'01011' ;port B3
0A88   00D2           03136             movwf port
0A89   3002           03137             movlw b'10' ;procesor 2
0A8A   00D3           03138             movwf prc
                      03139             
0A8B   118A           03140             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8C   21D4           03141             call clrout ;smaz port v prc
0A8D   158A           03142             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A8E   1329           03143             bcf o_a, 6 
0A8F   192A           03144 no4down     btfsc o_b, 2
0A90   0008           03145             return
0A91   300F           03146             movlw b'01111' ;port B7
0A92   00D2           03147             movwf port
0A93   3002           03148             movlw b'10' ;procesor 2
0A94   00D3           03149             movwf prc
                      03150             
0A95   118A           03151             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A96   21AD           03152             call setout ;smaz port v prc
0A97   158A           03153             bsf PCLATH,3 ;Select page 1
0A98   152A           03154             bsf o_b, 2             
0A99   0008           03155             return
0A9A   1F29           03156 o4stop      btfss o_a, 6
0A9B   2AA4           03157             goto no4stop
0A9C   300B           03158             movlw b'01011' ;port B3
0A9D   00D2           03159             movwf port
0A9E   3002           03160             movlw b'10' ;procesor 2
0A9F   00D3           03161             movwf prc
                      03162             
0AA0   118A           03163             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA1   21D4           03164             call clrout ;smaz port v prc
0AA2   158A           03165             bsf PCLATH,3 ;Select page 1
0AA3   1329           03166             bcf o_a, 6 
0AA4   1D2A           03167 no4stop     btfss o_b, 2
0AA5   0008           03168             return
0AA6   300F           03169             movlw b'01111' ;port B7
0AA7   00D2           03170             movwf port
0AA8   3002           03171             movlw b'10' ;procesor 2
0AA9   00D3           03172             movwf prc
                      03173             
0AAA   118A           03174             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAB   21D4           03175             call clrout ;smaz port v prc
0AAC   158A           03176             bsf PCLATH,3 ;Select page 1
0AAD   112A           03177             bcf o_b, 2             
0AAE   0008           03178             return
                      03179             
                      03180             
                      03181             
                      03182             
                      03183 
                      03184 
                      03185 
                      03186 
0AAF   3032           03187 adconv      movlw .50 ; kolikrat se ma merit vstup
0AB0   00F7           03188             movwf ran2 ; decrementator pro cykl
0AB1   00FA           03189             movwf ran5 ; delitel pro vypocet prumeru
0AB2   0876           03190             movf ran1, W
0AB3   00F8           03191             movwf ran3 ; zachováni ANx vstupu
0AB4   01F2           03192             clrf CIS2_L
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AB5   01F3           03193             clrf CIS2_H
                      03194             
0AB6   0878           03195 adconv2     movf ran3, W
0AB7   00F6           03196             movwf ran1 ; nasteni znova ANx vstupu
0AB8   22D7           03197             call adconv_one
                      03198             
                      03199             ; pripraveni cisla 1 k pricteni
0AB9   01F1           03200             clrf CIS1_H
0ABA   0876           03201             movf ran1, W
0ABB   00F0           03202             movwf CIS1_L
                      03203             
                      03204             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03205             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03206         
0ABC   0870           03207                 movf    CIS1_L,W        ; CIS1_L do W
0ABD   0772           03208                 addwf   CIS2_L,W        ; W + CIS2_L do W
0ABE   00F4           03209                 movwf   OUT_L           ; W do OUT_L
                      03210         
0ABF   0871           03211                 movf    CIS1_H,W        ; CIS1_H do W
0AC0   1803           03212                 btfsc   STATUS,C
0AC1   3E01           03213                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0AC2   0773           03214                 addwf   CIS2_H,W
0AC3   00F5           03215                 movwf   OUT_H           ; W do OUT_H
                      03216                 
                      03217                 ; ulozi OUT do CIS2
0AC4   0874           03218             movf OUT_L, W
0AC5   00F2           03219             movwf CIS2_L
0AC6   0875           03220             movf OUT_H, W
0AC7   00F3           03221             movwf CIS2_H
                      03222             
                      03223             
0AC8   0BF7           03224             decfsz ran2, F
0AC9   2AB6           03225             goto adconv2
                      03226             
                      03227             ; vydeli poctem mereni
0ACA   0872           03228             movf CIS2_L, W
0ACB   00F0           03229             movwf A1
0ACC   0873           03230             movf CIS2_H, W
0ACD   00F1           03231             movwf A2
0ACE   01F2           03232             clrf A3
                      03233             
0ACF   087A           03234             movf ran5, W
0AD0   00F3           03235             movwf B1
0AD1   01F4           03236             clrf B2
0AD2   01F5           03237             clrf B3
                      03238             
0AD3   22E6           03239             call LOMENO24
0AD4   0876           03240             movf C1, W
0AD5   00F6           03241             movwf ran1
                      03242             
0AD6   0008           03243             return
                      03244         
0AD7   1003           03245 adconv_one  bcf STATUS, C
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AD8   0DF6           03246             rlf ran1, F
0AD9   0DF6           03247             rlf ran1, F
0ADA   0DF6           03248             rlf ran1, F
                      03249             
                      03250             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0ADB   13F6           03251             bcf ran1, 7
0ADC   1776           03252             bsf ran1, 6
                      03253             ; 5
                      03254             ; 4
                      03255             ; 3
0ADD   1576           03256             bsf ran1, 2
                      03257             ; 1
0ADE   1476           03258             bsf ran1, 0
                      03259             
0ADF   0876           03260             movf ran1, W
0AE0   009F           03261             movwf ADCON0
                      03262             
0AE1   191F           03263             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0AE2   2AE1           03264             goto $-1
0AE3   081E           03265             movf ADRESH, W    ;kontroluje zda je zmena od minule
0AE4   00F6           03266             movwf ran1
0AE5   0008           03267             return
                      03268         
                      03269         
                      03270         
                      03271         
                      03272         
                      03273 ;-------------------------------;
                      03274 ; A1,2,3 / B1,2,3 = C1,2,3
                      03275 ;24Bit, pouze kladna cisla
                      03276 ;SZ=1=deleni nulou (B1,2,3=0)
                      03277 ;B se nezmeni, v A bude zbytek
                      03278 ;pouziva D1,2,3; X1
0AE6                  03279 LOMENO24
                      03280 ;test B na nulu; sZ=1=ANO
0AE6   08F3           03281         MOVF    B1,F
0AE7   1903           03282         BTFSC   STATUS,Z        ;nenulove?
0AE8   08F4           03283         MOVF    B2,F
0AE9   1903           03284         BTFSC   STATUS,Z        ;nenulove?
0AEA   08F5           03285         MOVF    B3,F
0AEB   1903           03286         BTFSC   STATUS,Z        ;nenulove?
0AEC   0008           03287         RETURN                  ;B1,2,3=0
                      03288 ;priprava pro deleni
0AED   0870           03289 LOM24   MOVF    A1,W            ;A do D
0AEE   00F9           03290         MOVWF   D1              ;
0AEF   0871           03291         MOVF    A2,W            ;
0AF0   00FA           03292         MOVWF   D2              ;
0AF1   0872           03293         MOVF    A3,W            ;
0AF2   00FB           03294         MOVWF   D3              ;
0AF3   01F0           03295         CLRF    A1              ;nulovat
0AF4   01F1           03296         CLRF    A2              ;
0AF5   01F2           03297         CLRF    A3              ;
0AF6   3018           03298         MOVLW   24              ;pocet bitu
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AF7   00FC           03299         MOVWF   X1              ;
0AF8   1003           03300         BCF     STATUS,C        ;SC=0
                      03301 ;deleni
0AF9   230B           03302 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0AFA   1C03           03303         BTFSS   STATUS,C        ;kladny vysledek?
0AFB   2B01           03304         GOTO    LZapor          ;NE
                      03305 ;LKlad
0AFC   00F2           03306         MOVWF   A3              ;C do A
0AFD   0877           03307         MOVF    C2,W            ;
0AFE   00F1           03308         MOVWF   A2              ;
0AFF   0876           03309         MOVF    C1,W            ;
0B00   00F0           03310         MOVWF   A1              ;
                      03311 
0B01   0BFC           03312 LZapor  DECFSZ  X1,F            ;-1=0?
0B02   2AF9           03313         GOTO    LDalsi          ;jeste neni konec
                      03314 ;vysledek
0B03   0D79           03315         RLF     D1,W            ;posledni x2
0B04   00F6           03316         MOVWF   C1              ; a W do C
0B05   0D7A           03317         RLF     D2,W            ;
0B06   00F7           03318         MOVWF   C2              ;
0B07   0D7B           03319         RLF     D3,W            ;
0B08   00F8           03320         MOVWF   C3              ;
                      03321 
0B09   1103           03322         BCF     STATUS,Z        ;SZ=0
0B0A   0008           03323         RETURN
                      03324 
                      03325 
                      03326 ;................................
                      03327 ; D1,2,3 A1,2,3 * 2 a Minus
0B0B   0DF9           03328 x2M     RLF     D1,F            ;posuv vlevo
0B0C   0DFA           03329         RLF     D2,F            ;
0B0D   0DFB           03330         RLF     D3,F            ;
0B0E   0DF0           03331         RLF     A1,F            ;
0B0F   0DF1           03332         RLF     A2,F            ;
0B10   0DF2           03333         RLF     A3,F            ;
                      03334                                 ;pokracuje MINUS
                      03335 ;--------------------------------
                      03336 ; A1,2,3 - B1,2,3 = C1,2,3
                      03337 ;SC=0=zaporny vysledek
                      03338 ;A,B se nezmeni
0B11   0873           03339 MINUS   MOVF    B1,W            ;W=B1
0B12   0270           03340         SUBWF   A1,W            ;A1-B1=W
0B13   00F6           03341         MOVWF   C1              ;C1=W=vysledek1
0B14   0103           03342         CLRW                    ;W=0
0B15   1C03           03343         BTFSS   STATUS,C        ;SUB kladne?
0B16   3001           03344         MOVLW   1               ;W=1
0B17   0774           03345         ADDWF   B2,W            ;B2+W=W
0B18   01F8           03346         CLRF    C3              ;C3=0
0B19   1803           03347         BTFSC   STATUS,C        ;ADD nepreteklo?
0B1A   1478           03348         BSF     C3,0            ;C3=1
0B1B   0271           03349         SUBWF   A2,W            ;A2-W=W
0B1C   00F7           03350         MOVWF   C2              ;C2=w=vysledek2
0B1D   0878           03351         MOVF    C3,W            ;W=C3
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B1E   1C03           03352         BTFSS   STATUS,C        ;SUB kladne?
0B1F   3001           03353         MOVLW   1               ;W=1
0B20   0775           03354         ADDWF   B3,W            ;B3+W=W
0B21   01F8           03355         CLRF    C3              ;C3=0
0B22   1803           03356         BTFSC   STATUS,C        ;ADD nepreteklo?
0B23   1478           03357         BSF     C3,0            ;C3=1
0B24   0272           03358         SUBWF   A3,W            ;A3-W=W
0B25   1878           03359         BTFSC   C3,0            ;C3=0?
0B26   1003           03360         BCF     STATUS,C        ;SC=0
0B27   00F8           03361         MOVWF   C3              ;C3=W=vysledek3
0B28   0008           03362         RETURN
                      03363 
                      03364 
                      03365         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 67


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000AF9
LEDZAM                            00000002
LOM24                             00000AED
LOMENO24                          00000AE6
LZapor                            00000B01
MINUS                             00000B11
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AAF
adconv2                           00000AB6
adconv_one                        00000AD7
alabli                            000000E9
casov                             0000005A
cassir                            00000058
casvar                            0000006E
cil                               00000078
clrout                            000001D4
conf                              00000059
dotaz                             000000F4
dotazerr                          000001A9
if_127                            000002C3
if_128                            000002C5
if_49                             0000029D
if_50                             00000295
if_51                             000002A1
if_52                             000002A3
if_53                             000002A5
if_54                             000002A7
if_55                             000002A9
if_56                             000002AB
if_57                             000002AD
if_58                             000001FB
if_59                             00000297
if_60                             00000299
if_61                             0000029B
if_62                             00000248
if_80                             0000029F
if_84                             000002AF
if_85                             000002B1
if_86                             000002B3
if_87                             000002B5
if_88                             000002B7
if_89                             000002B9
if_90                             000002BB
if_91                             000002BD
if_92                             000002BF
if_93                             000002C1
if_x                              00000312
init                              00000012
inter                             0000003A
intoff                            00000034
inton                             00000029
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           00000691
ledzam                            000006A0
locked                            00000051
lzabli                            0000009D
no1down                           000009D2
no1stop                           000009E7
no1up                             000009BD
no2down                           00000A11
no2stop                           00000A26
no2up                             000009FC
no3down                           00000A50
no3stop                           00000A65
no3up                             00000A3B
no4down                           00000A8F
no4stop                           00000AA4
no4up                             00000A7A
o1down                            000009C8
o1stop                            000009DD
o1tar                             00000062
o1tmp                             0000005E
o1up                              000009B3
o2down                            00000A07
o2stop                            00000A1C
o2tar                             00000063
o2tmp                             0000005F
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

o2up                              000009F2
o3down                            00000A46
o3stop                            00000A5B
o3tar                             00000064
o3tmp                             00000060
o3up                              00000A31
o4down                            00000A85
o4stop                            00000A9A
o4tar                             00000065
o4tmp                             00000061
o4up                              00000A70
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000BA
okna                              0000096E
okno2                             0000097F
okno3                             00000990
okno4                             000009A1
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
r5                                00000024
r6                                00000025
radio                             0000004C
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
rtuoff                            0000008C
s_temp                            00000027
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

setout                            000001AD
sirbeep                           00000060
spinac                            00000067
spioff                            000000B5
start                             00000800
t1_00                             00000356
t1_01                             0000039F
t1_02                             000003CD
t1_03                             000003F0
t1_04                             00000411
t1_05                             00000447
t1_06                             0000045F
t1_07                             00000496
t1_08                             000004A4
t1_09                             000004B2
t1_10                             000004B4
t1_11                             000004BE
t1_12                             000004C4
t1_13                             000004CC
t1_14                             000004D4
t1_15                             000004DA
t1_16                             000004E0
t1_17                             000004E6
t1_18                             000004E8
t1_19                             000004EA
t1_20                             000004EC
t1_21                             000004F3
t1_22                             000004FA
t1_23                             00000501
t1_24                             00000508
t1_25                             0000050F
t1_26                             00000516
t1_27                             00000521
t1_28                             00000523
t1_29                             00000525
t1_30                             00000527
t1_31                             00000530
t1_32                             00000539
t1_33                             00000544
t1_34                             0000054F
t1_35                             00000558
t1_36                             00000561
t1_37                             0000056C
t1_38                             0000057C
t1_39                             0000057E
t1_40                             00000580
t1_41                             0000058F
t1_42                             0000059E
t1_43                             000005A9
t1_44                             000005B4
t1_45                             000005BF
t1_46                             000005C2
t1_47                             000005C5
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

t1_48                             000005D0
t1_49                             000005D2
t1_50                             000005D4
t1_51                             000005DB
t1_52                             000005DE
t1_53                             000005E1
t1_54                             000005F0
t1_55                             000005FF
t1_56                             00000602
t1_57                             00000623
t1_58                             00000625
t1_59                             00000627
t1_60                             00000629
t1_61                             00000634
t1_62                             00000643
t1_63                             00000652
t1_64                             0000065C
t1_65                             00000666
t1_66                             00000670
t1_67                             0000067A
t1_68                             0000067C
t1_69                             0000067E
t1_stop                           00000314
t1_x                              00000680
t2_02                             000003E6
t2_03                             00000407
t2_37                             00000575
t2_stop                           00000316
t3_02                             000003ED
t3_03                             0000040E
t3_stop                           00000318
timala                            0000006A
timer0                            0000004E
timlza                            0000005D
timods                            00000069
timrtu                            0000005C
timsir                            00000057
timspi                            00000068
timvar                            0000005B
timwtu                            00000066
tl1                               00000054
tl2                               00000055
tl3                               00000056
tx_stop                           0000031A
varoff                            00000069
w100c                             00000687
w20i                              00000682
w40c                              0000068C
w_temp                            00000026
watchover                         00000043
watchstart                        00000045
watchwait                         00000048
wtuoff                            000000A4
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

x0                                0000006B
x1                                0000006C
x2                                0000006D
x2M                               00000B0B


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXX- ----------------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-12-2012  17:14:10         PAGE 78


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXX------- ----------------

All other memory blocks unused.

Program Memory Words Used:  2517
Program Memory Words Free:  1579


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    86 reported,     0 suppressed

