MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
  0000006C            00097 vterina
                      00098       ; registr 79/96
                      00099       endc
                      00100 
                      00101 ; BANK 1
                      00102       cblock    0x20
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 
  00000020            00104 o1tmp       
  00000021            00105 o2tmp       
  00000022            00106 o3tmp       
  00000023            00107 o4tmp       
  00000024            00108 o1tar       
  00000025            00109 o2tar       
  00000026            00110 o3tar       
  00000027            00111 o4tar       
                      00112       endc
                      00113 
                      00114 
                      00115 ;Lokální proměne (pracovni a parametry) od 6D
                      00116       cblock 0x70
  00000070            00117 pri0       
  00000071            00118 pri1       
  00000072            00119 pri2        
  00000073            00120 pri3      
  00000074            00121 pri4        
  00000075            00122 pri5       
  00000076            00123 pri6    
  00000077            00124 pri7        
  00000078            00125 cil       
                      00126       endc  
                      00127 
                      00128       cblock 0x70
  00000070            00129 CIS1_L      
  00000071            00130 CIS1_H      
  00000072            00131 CIS2_L 
  00000073            00132 CIS2_H 
  00000074            00133 OUT_L 
  00000075            00134 OUT_H       
  00000076            00135 ran1      
  00000077            00136 ran2      
  00000078            00137 ran3       
  00000079            00138 ran4    
  0000007A            00139 ran5  
                      00140       endc
                      00141   
                      00142       cblock 0x70
  00000070            00143 A1    
  00000071            00144 A2    
  00000072            00145 A3    
  00000073            00146 B1    
  00000074            00147 B2    
  00000075            00148 B3    
  00000076            00149 C1    
  00000077            00150 C2    
  00000078            00151 C3    
  00000079            00152 D1    
  0000007A            00153 D2    
  0000007B            00154 D3    
  0000007C            00155 X1    
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007D            00156 X2    
  0000007E            00157 FL    
                      00158       endc
                      00159 
                      00160 
                      00161 
                      00162 ;KONSTANTY
                      00163 ;conf constant
  00000000            00164 T0OF        equ .0
  00000001            00165 STARTED     equ .1
  00000002            00166 WATCHOVER   equ .2
  00000003            00167 PCON_POR    equ .3
  00000004            00168 T1OF        equ .4
                      00169 ;casov constant
                      00170 ;VAROV       equ .0
  00000001            00171 REDTUN      equ .1
  00000002            00172 LEDZAM      equ .2
  00000003            00173 WHITUN      equ .3
  00000004            00174 ODSKOK      equ .4
  00000005            00175 ALARM       equ .5
                      00176 
                      00177 ;system constants
  00000001            00178 POR         equ .1
                      00179 
                      00180 
                      00181 
0000                  00182             org 000h        ;vektor zacatku
0000   2816           00183             goto init
                      00184 
0004                  00185             org 004h        ;vektor preruseni
0004   00A6           00186             movwf w_temp ;copy w to temp register
0005   0803           00187             movf STATUS, W ;swap status to be saved into w
0006   00A7           00188             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00189             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00190             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00191             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00192             
000A   118A           00193             bcf PCLATH,3 ;Select page 0
000B   204E           00194             call inter
                      00195         
000C   0828           00196             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00197             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00198             movf s_temp, W ;swap status_temp register into w
000F   0083           00199             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00200             movf w_temp, W ;
0011   1D27           00201             btfss s_temp, Z
0012   1103           00202             bcf STATUS, Z
0013   1927           00203             btfsc s_temp, Z
0014   1503           00204             bsf STATUS, Z
0015   0008           00205             return
                      00206 
0016   118A           00207 init        bcf PCLATH,3 ;Select page 0
0017   120A           00208             bcf PCLATH,4 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00209                 
0018   0185           00210             clrf PORTA      ;Init PORTS 
0019   0186           00211             clrf PORTB
001A   0187           00212             clrf PORTC
001B   0188           00213             clrf PORTD
001C   0189           00214             clrf PORTE
                      00215             
001D   1683           00216             bsf STATUS, RP0  ;Bank 1
                      00217             
001E   3049           00218             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00219             movwf ADCON1
                      00220     
0020   302F           00221             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00222             movwf TRISA
0022   3001           00223             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00224             movwf TRISB
0024   3000           00225             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00226             movwf TRISC
0026   3000           00227             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00228             movwf TRISD
0028   3001           00229             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00230             movwf TRISE
                      00231             
002A   0064           00232             clrwdt
002B   30CC           00233             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00234             movwf OPTION_REG
                      00235             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00236             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00237             bsf PCON, POR
                      00238 
002F   1283           00239             bcf STATUS, RP0 ;Bank 0
                      00240 
0030   00A0           00241             movwf r1
0031   11D9           00242             bcf conf, PCON_POR
0032   18A0           00243             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00244             bsf conf, PCON_POR
                      00245 
                      00246 
0034   3021           00247             movlw b'00100001' ; nastaví control register timer1
0035   0090           00248             movwf T1CON
0036   3046           00249             movlw b'01000110' ; nastaví control register timer2
0037   0092           00250             movwf T2CON
                      00251             
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   203D           00252             call inton
                      00253             
                      00254             
0039   158A           00255             bsf PCLATH,3 ;Select page 1
003A   19D9           00256             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00257             goto restart
                      00258 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2827           00259             goto start      ;zacni na startu
                      00260         
                      00261         
                      00262         
                      00263 
003D   108B           00264 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00265             bsf INTCON, INTE
                      00266             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00267             ;bsf INTCON, T0IE
003F   100C           00268             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00269             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00270             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00271             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00272             bsf PIE1, TMR2IE
0044   1283           00273             bcf STATUS, RP0 ;Bank 0
0045   170B           00274             bsf INTCON, PEIE
0046   178B           00275             bsf INTCON, GIE
0047   0008           00276             return
                      00277         
0048   120B           00278 intoff      bcf INTCON, INTE
                      00279             ;bcf INTCON, T0IE
0049   1683           00280             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00281             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00282             bcf PIE1, TMR2IE
004C   1283           00283             bcf STATUS, RP0 ;Bank 0
004D   0008           00284             return
                      00285 
                      00286 
                      00287 
004E   2048           00288 inter       call intoff
                      00289       
004F   188B           00290             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2060           00291             call radio
                      00292             ;btfsc INTCON, T0IF
                      00293             ;bsf conf, T0OF
0051   180C           00294             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0052   1659           00295             bsf conf, T1OF
0053   188C           00296             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0054   2057           00297             call watchover
                      00298             
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0055   203D           00299             call inton
0056   0008           00300             return
                      00301 
                      00302 ;pokud přetekl timer2 pro watch
0057   1559           00303 watchover   bsf conf, WATCHOVER
0058   0008           00304             return
                      00305             
                      00306 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0059   1159           00307 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005A   0191           00308             clrf TMR2 ;vynuluje timer2
005B   0008           00309             return
                      00310             
005C   1D59           00311 watchwait   btfss conf, WATCHOVER
005D   285C           00312             goto $-1
                      00313             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
005E   26D3           00314             call w100c
005F   0008           00315             return
                      00316 
                      00317 ;při zachyceni signalu na radiovem přijímači        
0060   0000           00318 radio       nop
0061   0008           00319             return
                      00320 
                      00321 ;timer0     nop
                      00322             
                      00323             ;bcf conf, T0OF
                      00324             ;return
                      00325 
                      00326 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0062   1858           00327 timer1      btfsc cassir, 0
0063   20A5           00328             call sirbeep
0064   186B           00329             btfsc casvar, 0
0065   20AE           00330             call varoff
0066   18DA           00331             btfsc casov, REDTUN
0067   20D9           00332             call rtuoff
0068   195A           00333             btfsc casov, LEDZAM
0069   20EA           00334             call lzabli
006A   19DA           00335             btfsc casov, WHITUN
006B   20F1           00336             call wtuoff
006C   1A5A           00337             btfsc casov, ODSKOK
006D   2107           00338             call odsoff
006E   1ADA           00339             btfsc casov, ALARM
006F   213C           00340             call alabli
0070   1964           00341             btfsc spinac, 2
0071   2102           00342             call spioff
                      00343 
0072   03EC           00344             decf vterina, F
0073   1903           00345             btfsc STATUS, Z
0074   2077           00346             call vterinka
                      00347 
0075   1259           00348             bcf conf, T1OF
0076   0008           00349             return
                      00350             
0077   0000           00351 vterinka    nop
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00352 
                      00353 ;Ledky blikajici kdyz je PC zaply
0078   082F           00354 ledPCRun    movf o_g, W
0079   00A4           00355             movwf r5
007A   300C           00356             movlw b'01100' ;port B4
007B   00D2           00357             movwf port
007C   3003           00358             movlw b'11' ;procesor 3
007D   00D3           00359             movwf prc
007E   1AA4           00360             btfsc r5, 5
007F   21FF           00361             call setout ;nastav port v prc
0080   1AA4           00362             btfsc r5, 5
0081   162F           00363             bsf o_g, 4 
0082   1EA4           00364             btfss r5, 5
0083   2226           00365             call clrout ;nastav port v prc
0084   1EA4           00366             btfss r5, 5
0085   122F           00367             bcf o_g, 4 
                      00368             
0086   082F           00369             movf o_g, W
0087   00A4           00370             movwf r5
0088   300D           00371             movlw b'01101' ;port B5
0089   00D2           00372             movwf port
008A   3003           00373             movlw b'11' ;procesor 3
008B   00D3           00374             movwf prc
008C   1E24           00375             btfss r5, 4
008D   21FF           00376             call setout ;nastav port v prc
008E   1E24           00377             btfss r5, 4
008F   16AF           00378             bsf o_g, 5 
0090   1A24           00379             btfsc r5, 4
0091   2226           00380             call clrout ;nastav port v prc
0092   1A24           00381             btfsc r5, 4
0093   12AF           00382             bcf o_g, 5 
                      00383 
                      00384             ;vypne zadni pasy po restartu
0094   300E           00385             movlw b'01110' ;port B6
0095   00D2           00386             movwf port
0096   3003           00387             movlw b'11' ;procesor 3
0097   00D3           00388             movwf prc
0098   1B2F           00389             btfsc o_g, 6
0099   2226           00390             call clrout ;nastav port v prc
009A   132F           00391             bcf o_g, 6 
                      00392             
009B   300F           00393             movlw b'01111' ;port B7
009C   00D2           00394             movwf port
009D   3003           00395             movlw b'11' ;procesor 3
009E   00D3           00396             movwf prc
009F   1BAF           00397             btfsc o_g, 7
00A0   2226           00398             call clrout ;nastav port v prc
00A1   13AF           00399             bcf o_g, 7 
                      00400 
                      00401             ; nastaveni nove vterinky
00A2   3009           00402             movlw .9 ;nastavy na dalsich 240ms
00A3   00EC           00403             movwf vterina
00A4   0008           00404             return
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00405 
                      00406 
                      00407 ;houkani sireny v intervalech cca 240ms        
00A5   03D7           00408 sirbeep     decf timsir, F
00A6   1D03           00409             btfss STATUS, Z
00A7   0008           00410             return
00A8   1003           00411             bcf STATUS, C
00A9   0CD8           00412             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
00AA   2633           00413             call t1_53 ;neguje houkani sireny
00AB   3003           00414             movlw .3 ;nastavy na dalsich 240ms
00AC   00D7           00415             movwf timsir
00AD   0008           00416             return
                      00417             
                      00418 ;blikani varovek
00AE   03DB           00419 varoff      decf timvar, F
00AF   1D03           00420             btfss STATUS, Z
00B0   0008           00421             return
00B1   0CEB           00422             rrf casvar, F
00B2   1C03           00423             btfss STATUS, C
00B3   13EB           00424             bcf casvar, 7
00B4   1803           00425             btfsc STATUS, C
00B5   17EB           00426             bsf casvar, 7
                      00427             
00B6   01A1           00428             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
00B7   01A2           00429             clrf r3
00B8   1A2D           00430             btfsc o_e, 4
00B9   1421           00431             bsf r2, 0
00BA   1AAD           00432             btfsc o_e, 5
00BB   1422           00433             bsf r3, 0
00BC   0821           00434             movf r2, W
00BD   05A2           00435             andwf r3, F
                      00436             
00BE   1822           00437             btfsc r3, 0 ;pokud oba zaply oba vypne
00BF   122D           00438             bcf o_e, 4
00C0   1822           00439             btfsc r3, 0 ;pokud oba zaply oba vypne
00C1   1361           00440             bcf PORTD_temp, 6
00C2   1822           00441             btfsc r3, 0 ;pokud oba zaply oba vypne
00C3   1308           00442             bcf PORTD, 6
00C4   1822           00443             btfsc r3, 0 ;pokud oba zaply oba vypne
00C5   12AD           00444             bcf o_e, 5
00C6   1822           00445             btfsc r3, 0 ;pokud oba zaply oba vypne
00C7   13E1           00446             bcf PORTD_temp, 7
00C8   1822           00447             btfsc r3, 0 ;pokud oba zaply oba vypne
00C9   1388           00448             bcf PORTD, 7
                      00449     
00CA   1C22           00450             btfss r3, 0 ;pokud jeden vyply oba zapne
00CB   162D           00451             bsf o_e, 4
00CC   1C22           00452             btfss r3, 0 ;pokud jeden vyply oba zapne
00CD   1761           00453             bsf PORTD_temp, 6
00CE   1C22           00454             btfss r3, 0 ;pokud jeden vyply oba zapne
00CF   1708           00455             bsf PORTD, 6
00D0   1C22           00456             btfss r3, 0 ;pokud jeden vyply oba zapne
00D1   16AD           00457             bsf o_e, 5
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D2   1C22           00458             btfss r3, 0 ;pokud jeden vyply oba zapne
00D3   17E1           00459             bsf PORTD_temp, 7
00D4   1C22           00460             btfss r3, 0 ;pokud jeden vyply oba zapne
00D5   1788           00461             bsf PORTD, 7
                      00462             
00D6   3008           00463             movlw .8 ;nastavy na dalsich 240ms
00D7   00DB           00464             movwf timvar
00D8   0008           00465             return
                      00466 
                      00467 ;vypnuti red tuning
00D9   03DC           00468 rtuoff      decf timrtu, F
00DA   1D03           00469             btfss STATUS, Z
00DB   0008           00470             return
00DC   112B           00471             bcf o_c, 2 ;vypne red tunning
00DD   3016           00472             movlw b'10110' ;port C6
00DE   00D2           00473             movwf port
00DF   3002           00474             movlw b'10' ;procesor 2
00E0   00D3           00475             movwf prc
00E1   2226           00476             call clrout ;smaz port v prc
00E2   11AE           00477             bcf o_f, 3 ;vypne red interier
00E3   301A           00478             movlw b'11010' ;port D2
00E4   00D2           00479             movwf port
00E5   3002           00480             movlw b'10' ;procesor 2
00E6   00D3           00481             movwf prc
00E7   2226           00482             call clrout ;smaz port v prc
00E8   10DA           00483             bcf casov, REDTUN ;timer red tunningu nebude vniman
00E9   0008           00484             return
                      00485             
                      00486 ;blikani led zamknuto
00EA   03DD           00487 lzabli      decf timlza, F
00EB   1D03           00488             btfss STATUS, Z
00EC   0008           00489             return
00ED   26EC           00490             call ledzam ;neguje led zamknuto
00EE   300F           00491             movlw .15 ;nasavy na dalsich 240ms
00EF   00DD           00492             movwf timlza
00F0   0008           00493             return
                      00494             
                      00495 ;vypnuti white tuning
00F1   03E3           00496 wtuoff      decf timwtu, F
00F2   1D03           00497             btfss STATUS, Z
00F3   0008           00498             return
00F4   11AB           00499             bcf o_c, 3 ;vypne white tunning
00F5   3017           00500             movlw b'10111' ;port C7
00F6   00D2           00501             movwf port
00F7   3002           00502             movlw b'10' ;procesor 2
00F8   00D3           00503             movwf prc
00F9   2226           00504             call clrout ;smaz port v prc
00FA   122E           00505             bcf o_f, 4 ;vypne white interier
00FB   301B           00506             movlw b'11011' ;port D3
00FC   00D2           00507             movwf port
00FD   3002           00508             movlw b'10' ;procesor 2
00FE   00D3           00509             movwf prc
00FF   2226           00510             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0100   11DA           00511             bcf casov, WHITUN ;timer red tunningu nebude vniman
0101   0008           00512             return
                      00513             
                      00514 ;vypnuti polohy 3 spinacky
0102   03E5           00515 spioff      decf timspi, F
0103   1D03           00516             btfss STATUS, Z
0104   0008           00517             return
0105   2419           00518             call t1_03
0106   0008           00519             return
                      00520             
                      00521 ;vypnuti odskoků
0107   03E6           00522 odsoff      decf timods, F
0108   1D03           00523             btfss STATUS, Z
0109   0008           00524             return
010A   122A           00525             bcf o_b, 4
010B   301F           00526             movlw b'11111' ;port D7
010C   00D2           00527             movwf port
010D   3003           00528             movlw b'11' ;procesor 3
010E   00D3           00529             movwf prc
010F   2226           00530             call clrout ;smaz port v prc
0110   12AA           00531             bcf o_b, 5
0111   13E0           00532             bcf PORTC_temp, 7
0112   1387           00533             bcf PORTC, 7
0113   132A           00534             bcf o_b, 6
0114   115F           00535             bcf PORTB_temp, 2
0115   1106           00536             bcf PORTB, 2
0116   13AA           00537             bcf o_b, 7
0117   11DF           00538             bcf PORTB_temp, 3
0118   1186           00539             bcf PORTB, 3
0119   11AA           00540             bcf o_b, 3
011A   125F           00541             bcf PORTB_temp, 4
011B   1206           00542             bcf PORTB, 4
011C   102D           00543             bcf o_e, 0
011D   12DF           00544             bcf PORTB_temp, 5
011E   1286           00545             bcf PORTB, 5
011F   102B           00546             bcf o_c, 0
0120   135F           00547             bcf PORTB_temp, 6
0121   1306           00548             bcf PORTB, 6
                      00549 
0122   13AD           00550             bcf o_e, 7
0123   301E           00551             movlw b'11110' ;port D6
0124   00D2           00552             movwf port
0125   3002           00553             movlw b'10' ;procesor 2
0126   00D3           00554             movwf prc
0127   2226           00555             call clrout ;nastav port v prc
0128   132D           00556             bcf o_e, 6
0129   301C           00557             movlw b'11100' ;port D4
012A   00D2           00558             movwf port
012B   3002           00559             movlw b'10' ;procesor 2
012C   00D3           00560             movwf prc
012D   2226           00561             call clrout ;nastav port v prc
012E   12AE           00562             bcf o_f, 5
012F   301D           00563             movlw b'11101' ;port D5
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0130   00D2           00564             movwf port
0131   3002           00565             movlw b'10' ;procesor 2
0132   00D3           00566             movwf prc
0133   2226           00567             call clrout ;nastav port v prc
0134   102E           00568             bcf o_f, 0
0135   301F           00569             movlw b'11111' ;port D7
0136   00D2           00570             movwf port
0137   3002           00571             movlw b'10' ;procesor 2
0138   00D3           00572             movwf prc
0139   2226           00573             call clrout ;nastav port v prc
                      00574 
013A   125A           00575             bcf casov, ODSKOK ;timer red tunningu nebude vniman
013B   0008           00576             return
                      00577             
                      00578 ;Problikavani alarmu
013C   03E7           00579 alabli      decf timala, F
013D   1D03           00580             btfss STATUS, Z
013E   0008           00581             return
                      00582 
013F   25BE           00583             call t1_40
0140   25CD           00584             call t1_41
0141   2680           00585             call t1_61
                      00586             ;call t1_62 ;Baterie nebliká
0142   26DD           00587             call klakson
                      00588             
0143   3014           00589             movlw .20 ;nasavy na dalsich 240ms
0144   00E7           00590             movwf timala
0145   0008           00591             return
                      00592 
                      00593 
                      00594 
                      00595 
                      00596 
                      00597 
0146   1486           00598 dotaz       bsf PORTB, 1  ;start bity XX - 10
0147   26D3           00599             call w100c
0148   1086           00600             bcf PORTB, 1
0149   26D3           00601             call w100c
                      00602             
014A   0878           00603             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
014B   00A0           00604             movwf r1
014C   3004           00605             movlw .4
014D   00A1           00606             movwf r2
014E   19A0           00607             btfsc r1, 3
014F   1486           00608             bsf PORTB, 1
0150   1DA0           00609             btfss r1, 3
0151   1086           00610             bcf PORTB, 1
0152   26D3           00611             call w100c
0153   0DA0           00612             rlf r1, F
0154   0BA1           00613             decfsz r2, F
0155   294E           00614             goto $-7
                      00615             
0156   3000           00616             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0157   00A0           00617             movwf r1
0158   3007           00618             movlw .7
0159   00A1           00619             movwf r2
015A   1B20           00620             btfsc r1, 6
015B   1486           00621             bsf PORTB, 1
015C   1F20           00622             btfss r1, 6
015D   1086           00623             bcf PORTB, 1
015E   26D3           00624             call w100c
015F   0DA0           00625             rlf r1, F
0160   0BA1           00626             decfsz r2, F
0161   295A           00627             goto $-7
                      00628             
0162   1486           00629             bsf PORTB, 1  ;STOP bity XXX - 111
0163   26D3           00630             call w100c
0164   26D3           00631             call w100c
0165   26D3           00632             call w100c
0166   1086           00633             bcf PORTB, 1
0167   26D8           00634             call w40c
                      00635             
0168   1683           00636             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0169   1486           00637             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
016A   1283           00638             bcf STATUS, RP0  ;Bank 0
                      00639             
016B   1959           00640             btfsc conf, WATCHOVER
016C   29FB           00641             goto dotazerr
016D   1C86           00642             btfss PORTB, 1  ;ceka az zacne vysilat signal
016E   296B           00643             goto $-3 ;ochrana proti zamrznuti
                      00644             
016F   1959           00645             btfsc conf, WATCHOVER
0170   29FB           00646             goto dotazerr
0171   1886           00647             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0172   296F           00648             goto $-3 ;ochrana proti zamrznuti
                      00649             
0173   26D8           00650             call w40c   ;posune do prostred signalu X - 0
0174   26D3           00651             call w100c
                      00652             
0175   01F0           00653             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0176   3008           00654             movlw .8
0177   00A1           00655             movwf r2
0178   0DF0           00656             rlf pri0, F
0179   1886           00657             btfsc PORTB, 1
017A   1470           00658             bsf pri0, 0
017B   1C86           00659             btfss PORTB, 1
017C   1070           00660             bcf pri0, 0
017D   26D3           00661             call w100c
017E   0BA1           00662             decfsz r2, F
017F   2978           00663             goto $-7
                      00664             
0180   1959           00665             btfsc conf, WATCHOVER
0181   29FB           00666             goto dotazerr
0182   1886           00667             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0183   2980           00668             goto $-3 ;ochrana proti zamrznuti
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0184   26D8           00669             call w40c
0185   26D3           00670             call w100c
                      00671             
                      00672             
0186   01F1           00673             clrf pri1        ; ulozi priijate do pri XXXX XXXX
0187   3008           00674             movlw .8
0188   00A1           00675             movwf r2
0189   0DF1           00676             rlf pri1, F
018A   1886           00677             btfsc PORTB, 1
018B   1471           00678             bsf pri1, 0
018C   1C86           00679             btfss PORTB, 1
018D   1071           00680             bcf pri1, 0
018E   26D3           00681             call w100c
018F   0BA1           00682             decfsz r2, F
0190   2989           00683             goto $-7
                      00684             
0191   1959           00685             btfsc conf, WATCHOVER
0192   29FB           00686             goto dotazerr
0193   1886           00687             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0194   2991           00688             goto $-3 ;ochrana proti zamrznuti
0195   26D8           00689             call w40c
0196   26D3           00690             call w100c
                      00691             
                      00692             
0197   01F2           00693             clrf pri2        ; ulozi priijate do pri XXXX XXXX
0198   3008           00694             movlw .8
0199   00A1           00695             movwf r2
019A   0DF2           00696             rlf pri2, F
019B   1886           00697             btfsc PORTB, 1
019C   1472           00698             bsf pri2, 0
019D   1C86           00699             btfss PORTB, 1
019E   1072           00700             bcf pri2, 0
019F   26D3           00701             call w100c
01A0   0BA1           00702             decfsz r2, F
01A1   299A           00703             goto $-7
                      00704             
01A2   1959           00705             btfsc conf, WATCHOVER
01A3   29FB           00706             goto dotazerr
01A4   1886           00707             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A5   29A2           00708             goto $-3 ;ochrana proti zamrznuti
01A6   26D8           00709             call w40c
01A7   26D3           00710             call w100c
                      00711             
                      00712             
01A8   01F3           00713             clrf pri3        ; ulozi priijate do pri XXXX XXXX
01A9   3008           00714             movlw .8
01AA   00A1           00715             movwf r2
01AB   0DF3           00716             rlf pri3, F
01AC   1886           00717             btfsc PORTB, 1
01AD   1473           00718             bsf pri3, 0
01AE   1C86           00719             btfss PORTB, 1
01AF   1073           00720             bcf pri3, 0
01B0   26D3           00721             call w100c
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B1   0BA1           00722             decfsz r2, F
01B2   29AB           00723             goto $-7
                      00724             
01B3   1959           00725             btfsc conf, WATCHOVER
01B4   29FB           00726             goto dotazerr
01B5   1886           00727             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01B6   29B3           00728             goto $-3 ;ochrana proti zamrznuti
01B7   26D8           00729             call w40c
01B8   26D3           00730             call w100c
                      00731             
                      00732             
01B9   01F4           00733             clrf pri4        ; ulozi priijate do pri XXXX XXXX
01BA   3008           00734             movlw .8
01BB   00A1           00735             movwf r2
01BC   0DF4           00736             rlf pri4, F
01BD   1886           00737             btfsc PORTB, 1
01BE   1474           00738             bsf pri4, 0
01BF   1C86           00739             btfss PORTB, 1
01C0   1074           00740             bcf pri4, 0
01C1   26D3           00741             call w100c
01C2   0BA1           00742             decfsz r2, F
01C3   29BC           00743             goto $-7
                      00744             
01C4   1959           00745             btfsc conf, WATCHOVER
01C5   29FB           00746             goto dotazerr
01C6   1886           00747             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01C7   29C4           00748             goto $-3 ;ochrana proti zamrznuti
01C8   26D8           00749             call w40c
01C9   26D3           00750             call w100c
                      00751             
                      00752             
01CA   01F5           00753             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01CB   3008           00754             movlw .8
01CC   00A1           00755             movwf r2
01CD   0DF5           00756             rlf pri5, F
01CE   1886           00757             btfsc PORTB, 1
01CF   1475           00758             bsf pri5, 0
01D0   1C86           00759             btfss PORTB, 1
01D1   1075           00760             bcf pri5, 0
01D2   26D3           00761             call w100c
01D3   0BA1           00762             decfsz r2, F
01D4   29CD           00763             goto $-7
                      00764             
01D5   1959           00765             btfsc conf, WATCHOVER
01D6   29FB           00766             goto dotazerr
01D7   1886           00767             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01D8   29D5           00768             goto $-3 ;ochrana proti zamrznuti
01D9   26D8           00769             call w40c
01DA   26D3           00770             call w100c
                      00771             
                      00772             
01DB   01F6           00773             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01DC   3008           00774             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01DD   00A1           00775             movwf r2
01DE   0DF6           00776             rlf pri6, F
01DF   1886           00777             btfsc PORTB, 1
01E0   1476           00778             bsf pri6, 0
01E1   1C86           00779             btfss PORTB, 1
01E2   1076           00780             bcf pri6, 0
01E3   26D3           00781             call w100c
01E4   0BA1           00782             decfsz r2, F
01E5   29DE           00783             goto $-7
                      00784             
01E6   1959           00785             btfsc conf, WATCHOVER
01E7   29FB           00786             goto dotazerr
01E8   1886           00787             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01E9   29E6           00788             goto $-3 ;ochrana proti zamrznuti
01EA   26D8           00789             call w40c
01EB   26D3           00790             call w100c
                      00791             
                      00792             
01EC   01F7           00793             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01ED   3008           00794             movlw .8
01EE   00A1           00795             movwf r2
01EF   0DF7           00796             rlf pri7, F
01F0   1886           00797             btfsc PORTB, 1
01F1   1477           00798             bsf pri7, 0
01F2   1C86           00799             btfss PORTB, 1
01F3   1077           00800             bcf pri7, 0
01F4   26D3           00801             call w100c
01F5   0BA1           00802             decfsz r2, F
01F6   29EF           00803             goto $-7
                      00804             
01F7   1959           00805             btfsc conf, WATCHOVER
01F8   29FB           00806             goto dotazerr
01F9   1886           00807             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01FA   29F7           00808             goto $-3 ;ochrana proti zamrznuti
                      00809             
                      00810             
01FB   1683           00811 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01FC   1086           00812             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01FD   1283           00813             bcf STATUS, RP0  ;Bank 0
01FE   0008           00814             return
                      00815         
                      00816         ; WATCH2 start
01FF   1486           00817 setout      bsf PORTB, 1  ;start bity XX - 10
0200   26D3           00818             call w100c
0201   1086           00819             bcf PORTB, 1
0202   26D3           00820             call w100c
                      00821             
0203   0853           00822             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0204   00A0           00823             movwf r1
0205   3004           00824             movlw .4
0206   00A1           00825             movwf r2
0207   19A0           00826             btfsc r1, 3
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0208   1486           00827             bsf PORTB, 1
0209   1DA0           00828             btfss r1, 3
020A   1086           00829             bcf PORTB, 1
020B   26D3           00830             call w100c
020C   0DA0           00831             rlf r1, F
020D   0BA1           00832             decfsz r2, F
020E   2A07           00833             goto $-7
                      00834             
020F   1486           00835             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0210   26D3           00836             call w100c
                      00837             
0211   0852           00838             movf port, W   ;vysila port ke zmene XXXXX
0212   00A0           00839             movwf r1
0213   3005           00840             movlw .5
0214   00A1           00841             movwf r2
0215   1A20           00842             btfsc r1, 4
0216   1486           00843             bsf PORTB, 1
0217   1E20           00844             btfss r1, 4
0218   1086           00845             bcf PORTB, 1
0219   26D3           00846             call w100c
021A   0DA0           00847             rlf r1, F
021B   0BA1           00848             decfsz r2, F
021C   2A15           00849             goto $-7
                      00850             
021D   1486           00851             bsf PORTB, 1  ;vysle hodnotu 1
021E   26D3           00852             call w100c
                      00853             
021F   1486           00854             bsf PORTB, 1  ;STOP bity XXX - 111
0220   26D3           00855             call w100c
0221   26D3           00856             call w100c
0222   26D3           00857             call w100c
0223   1086           00858             bcf PORTB, 1
0224   26D3           00859             call w100c
                      00860             ; WATCH2 wait
0225   0008           00861             return
                      00862 
                      00863       ; WATCH2 start
0226   1486           00864 clrout      bsf PORTB, 1  ;start bity XX - 10
0227   26D3           00865             call w100c
0228   1086           00866             bcf PORTB, 1
0229   26D3           00867             call w100c
                      00868             
022A   0853           00869             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
022B   00A0           00870             movwf r1
022C   3004           00871             movlw .4
022D   00A1           00872             movwf r2
022E   19A0           00873             btfsc r1, 3
022F   1486           00874             bsf PORTB, 1
0230   1DA0           00875             btfss r1, 3
0231   1086           00876             bcf PORTB, 1
0232   26D3           00877             call w100c
0233   0DA0           00878             rlf r1, F
0234   0BA1           00879             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0235   2A2E           00880             goto $-7
                      00881             
0236   1486           00882             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0237   26D3           00883             call w100c
                      00884             
0238   0852           00885             movf port, W   ;vysila port ke zmene XXXXX
0239   00A0           00886             movwf r1
023A   3005           00887             movlw .5
023B   00A1           00888             movwf r2
023C   1A20           00889             btfsc r1, 4
023D   1486           00890             bsf PORTB, 1
023E   1E20           00891             btfss r1, 4
023F   1086           00892             bcf PORTB, 1
0240   26D3           00893             call w100c
0241   0DA0           00894             rlf r1, F
0242   0BA1           00895             decfsz r2, F
0243   2A3C           00896             goto $-7
                      00897             
0244   1086           00898             bcf PORTB, 1  ;vysle hodnotu 0
0245   26D3           00899             call w100c
                      00900             
0246   1486           00901             bsf PORTB, 1  ;STOP bity XXX - 111
0247   26D3           00902             call w100c
0248   26D3           00903             call w100c
0249   26D3           00904             call w100c
024A   1086           00905             bcf PORTB, 1
024B   26D3           00906             call w100c
                      00907             ; WATCH2 wait
024C   0008           00908             return
                      00909         
                      00910         
                      00911         
                      00912         
                      00913         
                      00914         
                      00915         
                      00916         
                      00917         
                      00918         
                      00919         
                      00920         ;podprogramy
                      00921 ;Tlačitka funkci 1
024D   1BAC           00922 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
024E   0008           00923             return
                      00924             
024F   1003           00925             bcf STATUS, C
0250   0C3F           00926             rrf ir_58, W
0251   00A0           00927             movwf r1
0252   1003           00928             bcf STATUS, C
0253   0CA0           00929             rrf r1, F
0254   1003           00930             bcf STATUS, C
0255   0CA0           00931             rrf r1, F
0256   30E0           00932             movlw b'11100000'
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0257   04A0           00933             iorwf r1, F
                      00934             
0258   0820           00935             movf r1, W    ;zkontroluje jestli nebylo uz minule
0259   00A3           00936             movwf r4
025A   0854           00937             movf tl1, W
025B   06A3           00938             xorwf r4, F
025C   1903           00939             btfsc STATUS, Z
025D   0008           00940             return
025E   0820           00941             movf r1, W    ;ulozi aktualni tlacitko
025F   00D4           00942             movwf tl1
                      00943             
0260   0AA0           00944             incf r1, F
0261   1903           00945             btfsc STATUS, Z
0262   248E           00946             call t1_06
0263   0AA0           00947             incf r1, F
0264   1903           00948             btfsc STATUS, Z
0265   23F1           00949             call t1_02
0266   0AA0           00950             incf r1, F
0267   1903           00951             btfsc STATUS, Z
0268   2419           00952             call t1_03
0269   0AA0           00953             incf r1, F
026A   1903           00954             btfsc STATUS, Z
026B   246E           00955             call t1_05
026C   0AA0           00956             incf r1, F
026D   1903           00957             btfsc STATUS, Z
026E   25EB           00958             call t1_43
026F   0AA0           00959             incf r1, F
0270   1903           00960             btfsc STATUS, Z
0271   25DC           00961             call t1_42
0272   0AA0           00962             incf r1, F
0273   1903           00963             btfsc STATUS, Z
0274   24CA           00964             call t1_07
0275   0AA0           00965             incf r1, F
0276   1903           00966             btfsc STATUS, Z
0277   24D8           00967             call t1_08
0278   0AA0           00968             incf r1, F
0279   1903           00969             btfsc STATUS, Z
027A   250B           00970             call t1_14
027B   0AA0           00971             incf r1, F
027C   1903           00972             btfsc STATUS, Z
027D   2512           00973             call t1_15
027E   0AA0           00974             incf r1, F
027F   1903           00975             btfsc STATUS, Z
0280   25AA           00976             call t1_37
0281   0AA0           00977             incf r1, F
0282   1903           00978             btfsc STATUS, Z
0283   24E8           00979             call t1_10
0284   0AA0           00980             incf r1, F
0285   1903           00981             btfsc STATUS, Z
0286   24F9           00982             call t1_12
0287   0AA0           00983             incf r1, F
0288   1903           00984             btfsc STATUS, Z
0289   2565           00985             call t1_30
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028A   0AA0           00986             incf r1, F
028B   1903           00987             btfsc STATUS, Z
028C   258D           00988             call t1_34
028D   0AA0           00989             incf r1, F
028E   1903           00990             btfsc STATUS, Z
028F   2577           00991             call t1_32
0290   0AA0           00992             incf r1, F
0291   1903           00993             btfsc STATUS, Z
0292   259F           00994             call t1_36
                      00995             ;pokud je tlacitko prave pusteno
0293   1003           00996             bcf STATUS, C
0294   0C3F           00997             rrf ir_58, W
0295   00A0           00998             movwf r1
0296   0820           00999             movf r1, W
0297   1903           01000             btfsc STATUS, Z
0298   2366           01001             call t1_stop
0299   0008           01002             return
                      01003 
                      01004 ;Tlačitka funkci 2
029A   1BAC           01005 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
029B   0008           01006             return
                      01007             
029C   1003           01008             bcf STATUS, C
029D   0C43           01009             rrf ir_62, W
029E   00A0           01010             movwf r1
029F   1003           01011             bcf STATUS, C
02A0   0CA0           01012             rrf r1, F
02A1   1003           01013             bcf STATUS, C
02A2   0CA0           01014             rrf r1, F
02A3   30E0           01015             movlw b'11100000'
02A4   04A0           01016             iorwf r1, F
                      01017             
02A5   0820           01018             movf r1, W    ;zkontroluje jestli nebylo uz minule
02A6   00A3           01019             movwf r4
02A7   0855           01020             movf tl2, W
02A8   06A3           01021             xorwf r4, F
02A9   1903           01022             btfsc STATUS, Z
02AA   0008           01023             return
02AB   0820           01024             movf r1, W    ;ulozi aktualni tlacitko
02AC   00D5           01025             movwf tl2
                      01026     
02AD   0AA0           01027             incf r1, F
02AE   1903           01028             btfsc STATUS, Z
02AF   243F           01029             call t1_04
02B0   0AA0           01030             incf r1, F
02B1   1903           01031             btfsc STATUS, Z
02B2   2655           01032             call t1_56
02B3   0AA0           01033             incf r1, F
02B4   1903           01034             btfsc STATUS, Z
02B5   2519           01035             call t1_16
02B6   0AA0           01036             incf r1, F
02B7   1903           01037             btfsc STATUS, Z
02B8   2550           01038             call t1_26
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02B9   0AA0           01039             incf r1, F
02BA   1903           01040             btfsc STATUS, Z
02BB   25FA           01041             call t1_44
02BC   0AA0           01042             incf r1, F
02BD   1903           01043             btfsc STATUS, Z
02BE   24F2           01044             call t1_11
02BF   0AA0           01045             incf r1, F
02C0   1903           01046             btfsc STATUS, Z
02C1   2502           01047             call t1_13
02C2   0AA0           01048             incf r1, F
02C3   1903           01049             btfsc STATUS, Z
02C4   2642           01050             call t1_54
02C5   0AA0           01051             incf r1, F
02C6   1903           01052             btfsc STATUS, Z
02C7   25CD           01053             call t1_41
02C8   0AA0           01054             incf r1, F
02C9   1903           01055             btfsc STATUS, Z
02CA   268F           01056             call t1_62
02CB   0AA0           01057             incf r1, F
02CC   1903           01058             btfsc STATUS, Z
02CD   25BE           01059             call t1_40
02CE   0AA0           01060             incf r1, F
02CF   1903           01061             btfsc STATUS, Z
02D0   2680           01062             call t1_61
02D1   0AA0           01063             incf r1, F
02D2   1903           01064             btfsc STATUS, Z
02D3   256E           01065             call t1_31
02D4   0AA0           01066             incf r1, F
02D5   1903           01067             btfsc STATUS, Z
02D6   2596           01068             call t1_35
02D7   0AA0           01069             incf r1, F
02D8   1903           01070             btfsc STATUS, Z
02D9   2633           01071             call t1_53
02DA   0AA0           01072             incf r1, F
02DB   1903           01073             btfsc STATUS, Z
02DC   2582           01074             call t1_33
02DD   0AA0           01075             incf r1, F
02DE   1903           01076             btfsc STATUS, Z
02DF   2675           01077             call t1_60
                      01078             ;pokud je tlacitko prave pusteno
02E0   1003           01079             bcf STATUS, C
02E1   0C43           01080             rrf ir_62, W
02E2   00A0           01081             movwf r1
02E3   0820           01082             movf r1, W
02E4   1903           01083             btfsc STATUS, Z
02E5   2368           01084             call t2_stop
02E6   0008           01085             return
                      01086 ;Tlačitka imobilizeru
02E7   0000           01087 if_50       nop
02E8   0008           01088             return
                      01089              ;pasy
02E9   0000           01090 if_59       nop
02EA   0008           01091             return
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01092              ;rychlost
02EB   0000           01093 if_60       nop
02EC   0008           01094             return
                      01095              ;otáčky
02ED   0000           01096 if_61       nop
02EE   0008           01097             return
                      01098              ;teplota in set
02EF   0000           01099 if_49       nop
02F0   0008           01100             return
                      01101              ;alarm senzory
02F1   0000           01102 if_80       nop
02F2   0008           01103             return
                      01104              ;baterie
02F3   0000           01105 if_51       nop
02F4   0008           01106             return
                      01107              ;teplota in
02F5   0000           01108 if_52       nop
02F6   0008           01109             return
                      01110              ;teplota eng
02F7   0000           01111 if_53       nop
02F8   0008           01112             return
                      01113              ;palivo
02F9   0000           01114 if_54       nop
02FA   0008           01115             return
                      01116              ;dveře 1
02FB   0000           01117 if_55       nop
02FC   0008           01118             return
                      01119              ;ruční brzda
02FD   0000           01120 if_56       nop
02FE   0008           01121             return
                      01122              ;kvalt
02FF   0000           01123 if_57       nop
0300   0008           01124             return
                      01125              ;dveře 2
0301   0000           01126 if_84       nop
0302   0008           01127             return
                      01128              ;dveře 3
0303   0000           01129 if_85       nop
0304   0008           01130             return
                      01131              ;dveře 4
0305   0000           01132 if_86       nop
0306   0008           01133             return
                      01134              ;kapota
0307   0000           01135 if_87       nop
0308   0008           01136             return
                      01137              ;kufr
0309   0000           01138 if_88       nop
030A   0008           01139             return
                      01140              ;nadrz
030B   0000           01141 if_89       nop
030C   0008           01142             return
                      01143              ;okno 1
030D   0000           01144 if_90       nop
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

030E   0008           01145             return
                      01146              ;okno 2
030F   0000           01147 if_91       nop
0310   0008           01148             return
                      01149              ;okno 3
0311   0000           01150 if_92       nop
0312   0008           01151             return
                      01152              ;okno 4
0313   0000           01153 if_93       nop
0314   0008           01154             return
                      01155              ;teplota OUT
0315   0000           01156 if_127      nop
0316   0008           01157             return
                      01158 
                      01159 ;Tlačítka funkcí 3
0317   1BAC           01160 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0318   0000           01161             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01162             
0319   1003           01163             bcf STATUS, C
031A   0C50           01164             rrf ir_128, W
031B   00A0           01165             movwf r1
031C   1003           01166             bcf STATUS, C
031D   0CA0           01167             rrf r1, F
031E   1003           01168             bcf STATUS, C
031F   0CA0           01169             rrf r1, F
0320   30E0           01170             movlw b'11100000'
0321   04A0           01171             iorwf r1, F
                      01172             
0322   0820           01173             movf r1, W    ;zkontroluje jestli nebylo uz minule
0323   00A3           01174             movwf r4
0324   0856           01175             movf tl3, W
0325   06A3           01176             xorwf r4, F
0326   1903           01177             btfsc STATUS, Z
0327   0008           01178             return
0328   0820           01179             movf r1, W    ;ulozi aktualni tlacitko
0329   00D6           01180             movwf tl3
                      01181     
032A   0AA0           01182             incf r1, F
032B   1903           01183             btfsc STATUS, Z
032C   2611           01184             call t1_47
032D   0AA0           01185             incf r1, F
032E   1903           01186             btfsc STATUS, Z
032F   23AD           01187             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0330   0AA0           01188             incf r1, F
0331   1903           01189             btfsc STATUS, Z
0332   23D0           01190             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0333   0AA0           01191             incf r1, F
0334   1903           01192             btfsc STATUS, Z
0335   26CC           01193             call t1_x
0336   0AA0           01194             incf r1, F
0337   1903           01195             btfsc STATUS, Z
0338   26CC           01196             call t1_x
0339   0AA0           01197             incf r1, F
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033A   1903           01198             btfsc STATUS, Z
033B   26CC           01199             call t1_x
033C   0AA0           01200             incf r1, F
033D   1903           01201             btfsc STATUS, Z
033E   26CC           01202             call t1_x
033F   0AA0           01203             incf r1, F
0340   1903           01204             btfsc STATUS, Z
0341   26CC           01205             call t1_x
0342   0AA0           01206             incf r1, F
0343   1903           01207             btfsc STATUS, Z
0344   26CC           01208             call t1_x
0345   0AA0           01209             incf r1, F
0346   1903           01210             btfsc STATUS, Z
0347   26CC           01211             call t1_x
0348   0AA0           01212             incf r1, F
0349   1903           01213             btfsc STATUS, Z
034A   26CC           01214             call t1_x
034B   0AA0           01215             incf r1, F
034C   1903           01216             btfsc STATUS, Z
034D   26CC           01217             call t1_x
034E   0AA0           01218             incf r1, F
034F   1903           01219             btfsc STATUS, Z
0350   26CC           01220             call t1_x
0351   0AA0           01221             incf r1, F
0352   1903           01222             btfsc STATUS, Z
0353   26CC           01223             call t1_x
0354   0AA0           01224             incf r1, F
0355   1903           01225             btfsc STATUS, Z
0356   26CC           01226             call t1_x
0357   0AA0           01227             incf r1, F
0358   1903           01228             btfsc STATUS, Z
0359   26CC           01229             call t1_x
035A   0AA0           01230             incf r1, F
035B   1903           01231             btfsc STATUS, Z
035C   26CC           01232             call t1_x
                      01233             ;pokud je tlacitko prave pusteno
035D   1003           01234             bcf STATUS, C
035E   0C50           01235             rrf ir_128, W
035F   00A0           01236             movwf r1
0360   0820           01237             movf r1, W
0361   1903           01238             btfsc STATUS, Z
0362   236A           01239             call t3_stop
0363   0008           01240             return
                      01241 
                      01242 ;předpřipravené pro rozšíření procesoru 5 a vice
0364   0000           01243 if_x        nop
0365   0008           01244             return
                      01245 
                      01246 ;vypina holdovaci vystupy
0366   0000           01247 t1_stop     nop
0367   0008           01248             return
0368   0000           01249 t2_stop     nop
0369   0008           01250             return
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

036A   0000           01251 t3_stop     nop
036B   0008           01252             return
                      01253             
036C   3010           01254 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
036D   00D2           01255             movwf port
036E   3002           01256             movlw b'10' ;procesor 2
036F   00D3           01257             movwf prc
0370   18AC           01258             btfsc o_d, 1
0371   2226           01259             call clrout ;nastav port v prc
0372   10AC           01260             bcf o_d, 1
0373   3011           01261             movlw b'10001' ;port C1
0374   00D2           01262             movwf port
0375   3002           01263             movlw b'10' ;procesor 2
0376   00D3           01264             movwf prc
0377   192C           01265             btfsc o_d, 2
0378   2226           01266             call clrout ;nastav port v prc
0379   112C           01267             bcf o_d, 2
037A   3012           01268             movlw b'10010' ;port C2
037B   00D2           01269             movwf port
037C   3002           01270             movlw b'10' ;procesor 2
037D   00D3           01271             movwf prc
037E   19AC           01272             btfsc o_d, 3
037F   2226           01273             call clrout ;nastav port v prc
0380   11AC           01274             bcf o_d, 3
0381   3013           01275             movlw b'10011' ;port C3
0382   00D2           01276             movwf port
0383   3002           01277             movlw b'10' ;procesor 2
0384   00D3           01278             movwf prc
0385   1A2C           01279             btfsc o_d, 4
0386   2226           01280             call clrout ;nastav port v prc
0387   122C           01281             bcf o_d, 4
0388   3014           01282             movlw b'10100' ;port C4
0389   00D2           01283             movwf port
038A   3002           01284             movlw b'10' ;procesor 2
038B   00D3           01285             movwf prc
038C   1AAC           01286             btfsc o_d, 5
038D   2226           01287             call clrout ;nastav port v prc
038E   12AC           01288             bcf o_d, 5
038F   3015           01289             movlw b'10101' ;port C5
0390   00D2           01290             movwf port
0391   3002           01291             movlw b'10' ;procesor 2
0392   00D3           01292             movwf prc
0393   1B2C           01293             btfsc o_d, 6
0394   2226           01294             call clrout ;nastav port v prc
0395   132C           01295             bcf o_d, 6
                      01296                   ;blinkry
0396   122D           01297             bcf o_e, 4
0397   1361           01298             bcf PORTD_temp, 6
0398   1308           01299             bcf PORTD, 6
0399   12AD           01300             bcf o_e, 5
039A   13E1           01301             bcf PORTD_temp, 7
039B   1388           01302             bcf PORTD, 7
                      01303                   ;klakson
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

039C   3019           01304             movlw b'11001' ;port D1
039D   00D2           01305             movwf port
039E   3003           01306             movlw b'11' ;procesor 3
039F   00D3           01307             movwf prc
03A0   1A2B           01308             btfsc o_c, 4
03A1   2226           01309             call clrout ;nastav port v prc
03A2   122B           01310             bcf o_c, 4
                      01311                   ;stěrače, odstřikovače
03A3   13AB           01312             bcf o_c, 7
03A4   11E1           01313             bcf PORTD_temp, 3
03A5   1188           01314             bcf PORTD, 3
03A6   132B           01315             bcf o_c, 6
03A7   1161           01316             bcf PORTD_temp, 2
03A8   1108           01317             bcf PORTD, 2
                      01318                   ;dálková světla
03A9   102C           01319             bcf o_d, 0
03AA   1261           01320             bcf PORTD_temp, 4
03AB   1208           01321             bcf PORTD, 4
03AC   0008           01322             return
                      01323         
                      01324         
                      01325         
                      01326 ;zamknuti alarm on
03AD   1BAC           01327 t1_00       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
03AE   0008           01328             return
                      01329             ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01330             ;return
                      01331             ;movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
                      01332             ;iorwf ir_84, W
                      01333             ;iorwf ir_85, W
                      01334             ;iorwf ir_86, W
                      01335             ;iorwf ir_87, W
                      01336             ;iorwf ir_88, W
                      01337             ;iorwf ir_89, W
                      01338             ;movwf r6
                      01339             ;btfsc r6, 7
                      01340             ;nop ;MLUV "zkontrolujte vstupy do auta"
                      01341             ;btfsc r6, 7
                      01342             ;call t1_53 ;zapne sirenu
                      01343             ;btfsc r6, 7
                      01344             ;movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
                      01345             ;btfsc r6, 7
                      01346             ;movwf cassir
                      01347             ;btfsc r6, 7
                      01348             ;movlw .3
                      01349             ;btfsc r6, 7
                      01350             ;movwf timsir
                      01351             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01352             ;return
                      01353 
03AF   248E           01354             call t1_06 ;vypne vse 
03B0   17AC           01355             bsf o_d, 7 ;zapne alarm cidla
03B1   17DF           01356             bsf PORTB_temp, 7
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03B2   1786           01357             bsf PORTB, 7
                      01358                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01359                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01360             
                      01361             
03B3   246E           01362             call t1_05 ;zapne varovky
03B4   301F           01363             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03B5   00EB           01364             movwf casvar
03B6   3008           01365             movlw .8
03B7   00DB           01366             movwf timvar
                      01367             
                      01368             
03B8   3016           01369             movlw b'10110' ;port C6
03B9   00D2           01370             movwf port
03BA   3002           01371             movlw b'10' ;procesor 2
03BB   00D3           01372             movwf prc 
03BC   1D2B           01373             btfss o_c, 2
03BD   21FF           01374             call setout ;set port v prc
03BE   152B           01375             bsf o_c, 2 ;problikne red tunning na 1 sekundu
                      01376 
                      01377             ;movlw b'11010' ;port D2
                      01378             ;movwf port
                      01379             ;movlw b'10' ;procesor 2
                      01380             ;movwf prc 
                      01381             ;btfss o_f, 3
                      01382             ;call setout ;set port v prc
                      01383             ;bsf o_f, 3 ;problikne red interier na 1 sekundu
                      01384 
03BF   14DA           01385             bsf casov, REDTUN ;do timeru ze po 1s vypne
03C0   3014           01386             movlw .20
03C1   00DC           01387             movwf timrtu
                      01388 
03C2   2633           01389             call t1_53 ;zahraje sirenou na 200ms
03C3   3001           01390             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03C4   00D8           01391             movwf cassir
03C5   3008           01392             movlw .8
03C6   00D7           01393             movwf timsir
                      01394 
03C7   13AE           01395             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03C8   10E2           01396             bcf PORTE_temp, 1
03C9   1089           01397             bcf PORTE, 1
                      01398 
03CA   0000           01399             nop ;MLUV "auto zamčeno"
03CB   24CA           01400             call t1_07 ;zamkne
                      01401 
03CC   155A           01402             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03CD   300F           01403             movlw .15
03CE   00DD           01404             movwf timlza
                      01405 
                      01406                   ;zatahnuti okenek
                      01407             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01408             ;movwf o1tmp
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01409             ;movf ir_91, W
                      01410             ;movwf o2tmp
                      01411             ;movf ir_92, W
                      01412             ;movwf o3tmp
                      01413             ;movf ir_93, W
                      01414             ;movwf o4tmp
                      01415             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01416             ;movwf o1tar
                      01417             ;movwf o2tar
                      01418             ;movwf o3tar
                      01419             ;movwf o4tar
                      01420  
03CF   0008           01421             return
                      01422             
                      01423 ;odemknuti alarm off
03D0   1FAC           01424 t1_01       btfss o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
03D1   0008           01425             return
                      01426             ;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01427             ;return
                      01428             
03D2   13AC           01429             bcf o_d, 7 ;vypne alarm cidla
03D3   13DF           01430             bcf PORTB_temp, 7
03D4   1386           01431             bcf PORTB, 7
                      01432                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01433                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03D5   243F           01434             call t1_04
                      01435             
                      01436             
03D6   246E           01437             call t1_05 ;zapne varovky
03D7   3007           01438             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03D8   00EB           01439             movwf casvar
03D9   3008           01440             movlw .8
03DA   00DB           01441             movwf timvar
                      01442             
                      01443             
03DB   3017           01444             movlw b'10111' ;port C7
03DC   00D2           01445             movwf port
03DD   3002           01446             movlw b'10' ;procesor 2
03DE   00D3           01447             movwf prc 
03DF   1DAB           01448             btfss o_c, 3
03E0   21FF           01449             call setout ;set port v prc
03E1   15AB           01450             bsf o_c, 3 ;problikne white tunning na 1 sekundu
                      01451 
                      01452             ;movlw b'11011' ;port D3
                      01453             ;movwf port
                      01454             ;movlw b'10' ;procesor 2
                      01455             ;movwf prc 
                      01456             ;btfss o_f, 4
                      01457             ;call setout ;set port v prc
                      01458             ;bsf o_f, 4 ;problikne white interier na 1 sekundu
                      01459 
03E2   15DA           01460             bsf casov, WHITUN ;do timeru ze po 1s vypne
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03E3   3014           01461             movlw .20
03E4   00E3           01462             movwf timwtu
                      01463 
03E5   2633           01464             call t1_53 ;zahraje sirenou na 200ms
03E6   3007           01465             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03E7   00D8           01466             movwf cassir
03E8   3008           01467             movlw .8
03E9   00D7           01468             movwf timsir
                      01469 
03EA   17AE           01470             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03EB   14E2           01471             bsf PORTE_temp, 1
03EC   1489           01472             bsf PORTE, 1
                      01473 
03ED   0000           01474             nop ;MLUV "auto odemčeno"
03EE   115A           01475             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
                      01476 
03EF   24D8           01477             call t1_08 ;odemkne
                      01478 
                      01479                   ;stahnuti okenek
                      01480             ;movf o1tmp, W
                      01481             ;movwf o1tar
                      01482             ;movf o2tmp, W
                      01483             ;movwf o2tar
                      01484             ;movf o3tmp, W
                      01485             ;movwf o3tar
                      01486             ;movf o4tmp, W
                      01487             ;movwf o4tar
                      01488  
03F0   0008           01489             return
                      01490             
                      01491 ;spinacka poloha up
03F1   1964           01492 t1_02       btfsc spinac, 2
03F2   0008           01493             return
03F3   1403           01494             bsf STATUS, C
03F4   0DE4           01495             rlf spinac, F
                      01496                   ;pokud poloha 3
03F5   1D64           01497             btfss spinac, 2
03F6   2C0C           01498             goto t2_02
03F7   1029           01499             bcf o_a, 0
03F8   1060           01500             bcf PORTC_temp, 0
03F9   1007           01501             bcf PORTC, 0
03FA   10A9           01502             bcf o_a, 1
03FB   10E0           01503             bcf PORTC_temp, 1
03FC   1087           01504             bcf PORTC, 1
03FD   1531           01505             bsf o_i, 2
03FE   301A           01506             movlw b'11010' ;port D2
03FF   00D2           01507             movwf port
0400   3003           01508             movlw b'11' ;procesor 3
0401   00D3           01509             movwf prc 
0402   21FF           01510             call setout ;set port v prc
0403   15B1           01511             bsf o_i, 3
0404   301B           01512             movlw b'11011' ;port D3
0405   00D2           01513             movwf port
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0406   3003           01514             movlw b'11' ;procesor 3
0407   00D3           01515             movwf prc 
0408   21FF           01516             call setout ;set port v prc
0409   300F           01517             movlw .15 ;nastavi startovani pouze max na vterinu
040A   00E5           01518             movwf timspi
040B   0008           01519             return
                      01520             ;pokud poloha 2
040C   1CE4           01521 t2_02       btfss spinac, 1
040D   2C15           01522             goto t3_02
040E   1429           01523             bsf o_a, 0
040F   1460           01524             bsf PORTC_temp, 0
0410   1407           01525             bsf PORTC, 0
0411   1529           01526             bsf o_a, 2
0412   1560           01527             bsf PORTC_temp, 2
0413   1507           01528             bsf PORTC, 2
0414   0008           01529             return
                      01530             ;pokud poloha 1
0415   14A9           01531 t3_02       bsf o_a, 1
0416   14E0           01532             bsf PORTC_temp, 1
0417   1487           01533             bsf PORTC, 1
0418   0008           01534             return
                      01535             
                      01536 ;spinacka poloha down
0419   1C64           01537 t1_03       btfss spinac, 0
041A   0008           01538             return
041B   1003           01539             bcf STATUS, C
041C   0CE4           01540             rrf spinac, F
                      01541             ;pokud poloha 2
041D   1CE4           01542             btfss spinac, 1
041E   2C32           01543             goto t2_03
041F   1429           01544             bsf o_a, 0
0420   1460           01545             bsf PORTC_temp, 0
0421   1407           01546             bsf PORTC, 0
0422   14A9           01547             bsf o_a, 1
0423   14E0           01548             bsf PORTC_temp, 1
0424   1487           01549             bsf PORTC, 1
0425   1131           01550             bcf o_i, 2
0426   301A           01551             movlw b'11010' ;port D2
0427   00D2           01552             movwf port
0428   3003           01553             movlw b'11' ;procesor 3
0429   00D3           01554             movwf prc 
042A   2226           01555             call clrout ;set port v prc
042B   11B1           01556             bcf o_i, 3
042C   301B           01557             movlw b'11011' ;port D3
042D   00D2           01558             movwf port
042E   3003           01559             movlw b'11' ;procesor 3
042F   00D3           01560             movwf prc 
0430   2226           01561             call clrout ;set port v prc
0431   0008           01562             return
                      01563             ;pokud poloha 1
0432   1C64           01564 t2_03       btfss spinac, 0
0433   2C3B           01565             goto t3_03
0434   1029           01566             bcf o_a, 0
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0435   1060           01567             bcf PORTC_temp, 0
0436   1007           01568             bcf PORTC, 0
0437   1129           01569             bcf o_a, 2
0438   1160           01570             bcf PORTC_temp, 2
0439   1107           01571             bcf PORTC, 2
043A   0008           01572             return
                      01573             ;pokud poloha 0
043B   10A9           01574 t3_03       bcf o_a, 1
043C   10E0           01575             bcf PORTC_temp, 1
043D   1087           01576             bcf PORTC, 1
043E   0008           01577             return
                      01578             
                      01579 ;alarm stop
043F   1EDA           01580 t1_04       btfss casov, ALARM
0440   0008           01581             return
0441   3018           01582             movlw b'11000' ;port D0  ;sirena
0442   00D2           01583             movwf port
0443   3003           01584             movlw b'11' ;procesor 3
0444   00D3           01585             movwf prc 
0445   18AD           01586             btfsc o_e, 1
0446   2226           01587             call clrout ;set port v prc
0447   10AD           01588             bcf o_e, 1
                      01589             ;varovky
0448   246E           01590             call t1_05
                      01591             
                      01592             ;stroboskop
0449   3019           01593             movlw b'11001' ;port D1
044A   00D2           01594             movwf port
044B   3002           01595             movlw b'10' ;procesor 2
044C   00D3           01596             movwf prc 
044D   192D           01597             btfsc o_e, 2
044E   2226           01598             call clrout ;set port v prc
044F   112D           01599             bcf o_e, 2
                      01600             
0450   3016           01601             movlw b'10110' ;port C6
0451   00D2           01602             movwf port
0452   3002           01603             movlw b'10' ;procesor 2
0453   00D3           01604             movwf prc 
0454   192B           01605             btfsc o_c, 2
0455   2226           01606             call clrout ;set port v prc
0456   112B           01607             bcf o_c, 2
0457   3017           01608             movlw b'10111' ;port C7
0458   00D2           01609             movwf port
0459   3002           01610             movlw b'10' ;procesor 2
045A   00D3           01611             movwf prc 
045B   19AB           01612             btfsc o_c, 3
045C   2226           01613             call clrout ;set port v prc
045D   11AB           01614             bcf o_c, 3
045E   301A           01615             movlw b'11010' ;port D2
045F   00D2           01616             movwf port
0460   3002           01617             movlw b'10' ;procesor 2
0461   00D3           01618             movwf prc 
0462   19AE           01619             btfsc o_f, 3
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0463   2226           01620             call clrout ;set port v prc
0464   11AE           01621             bcf o_f, 3
                      01622             ;movlw b'11011' ;port D3
                      01623             ;movwf port
                      01624             ;movlw b'10' ;procesor 2
                      01625             ;movwf prc
                      01626             ;btfsc o_f, 4
                      01627             ;call clrout ;set port v prc
                      01628             ;bcf o_f, 4
0465   3019           01629             movlw b'11001' ;port D1
0466   00D2           01630             movwf port
0467   3003           01631             movlw b'11' ;procesor 3
0468   00D3           01632             movwf prc 
0469   1A2B           01633             btfsc o_c, 4
046A   2226           01634             call clrout ;set port v prc
046B   122B           01635             bcf o_c, 4
                      01636             
046C   12DA           01637             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
046D   0008           01638             return
                      01639             
                      01640 ;varovna svetla
046E   186B           01641 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
046F   122D           01642             bcf o_e, 4
0470   186B           01643             btfsc casvar, 0 ;pokud oba zaply oba vypne
0471   1361           01644             bcf PORTD_temp, 6
0472   186B           01645             btfsc casvar, 0 ;pokud oba zaply oba vypne
0473   1308           01646             bcf PORTD, 6
0474   186B           01647             btfsc casvar, 0 ;pokud oba zaply oba vypne
0475   12AD           01648             bcf o_e, 5
0476   186B           01649             btfsc casvar, 0 ;pokud oba zaply oba vypne
0477   13E1           01650             bcf PORTD_temp, 7
0478   186B           01651             btfsc casvar, 0 ;pokud oba zaply oba vypne
0479   1388           01652             bcf PORTD, 7
                      01653     
047A   1C6B           01654             btfss casvar, 0 ;pokud jeden vyply oba zapne
047B   162D           01655             bsf o_e, 4
047C   1C6B           01656             btfss casvar, 0 ;pokud jeden vyply oba zapne
047D   1761           01657             bsf PORTD_temp, 6
047E   1C6B           01658             btfss casvar, 0 ;pokud jeden vyply oba zapne
047F   1708           01659             bsf PORTD, 6
0480   1C6B           01660             btfss casvar, 0 ;pokud jeden vyply oba zapne
0481   16AD           01661             bsf o_e, 5
0482   1C6B           01662             btfss casvar, 0 ;pokud jeden vyply oba zapne
0483   17E1           01663             bsf PORTD_temp, 7
0484   1C6B           01664             btfss casvar, 0 ;pokud jeden vyply oba zapne
0485   1788           01665             bsf PORTD, 7
                      01666             
0486   186B           01667             btfsc casvar, 0
0487   3000           01668             movlw b'00000000' ;nastavi do timeru ze prestane blikat porad
0488   1C6B           01669             btfss casvar, 0
0489   30FF           01670             movlw b'11111111' ;nastavi do timeru ze bude blikat porad
048A   00EB           01671             movwf casvar
048B   3008           01672             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

048C   00DB           01673             movwf timvar
                      01674             
048D   0008           01675             return
                      01676             
                      01677 ;vypnout vse
048E   18D9           01678 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
048F   0008           01679             return
                      01680             ;svetla 
0490   10AB           01681             bcf o_c, 1
0491   11E0           01682             bcf PORTC_temp, 3
0492   1187           01683             bcf PORTC, 3
                      01684             ;red tuning
                      01685             ;white tunning
                      01686             ;red interier
                      01687             ;white interier
0493   3017           01688             movlw b'10111' ;port C7
0494   00D2           01689             movwf port
0495   3002           01690             movlw b'10' ;procesor 2
0496   00D3           01691             movwf prc 
0497   19AB           01692             btfsc o_c, 3
0498   2226           01693             call clrout ;set port v prc
0499   11AB           01694             bcf o_c, 3
049A   301B           01695             movlw b'11011' ;port D3
049B   00D2           01696             movwf port
049C   3002           01697             movlw b'10' ;procesor 2
049D   00D3           01698             movwf prc 
049E   1A2E           01699             btfsc o_f, 4
049F   2226           01700             call clrout ;set port v prc
04A0   122E           01701             bcf o_f, 4
04A1   3016           01702             movlw b'10110' ;port C6
04A2   00D2           01703             movwf port
04A3   3002           01704             movlw b'10' ;procesor 2
04A4   00D3           01705             movwf prc 
04A5   192B           01706             btfsc o_c, 2
04A6   2226           01707             call clrout ;set port v prc
04A7   112B           01708             bcf o_c, 2
04A8   301A           01709             movlw b'11010' ;port D2
04A9   00D2           01710             movwf port
04AA   3002           01711             movlw b'10' ;procesor 2
04AB   00D3           01712             movwf prc 
04AC   19AE           01713             btfsc o_f, 3
04AD   2226           01714             call clrout ;set port v prc
04AE   11AE           01715             bcf o_f, 3
                      01716         
                      01717             ;stroboskop
04AF   3019           01718             movlw b'11001' ;port D1
04B0   00D2           01719             movwf port
04B1   3002           01720             movlw b'10' ;procesor 2
04B2   00D3           01721             movwf prc 
04B3   192D           01722             btfsc o_e, 2
04B4   2226           01723             call clrout ;set port v prc
04B5   112D           01724             bcf o_e, 2
                      01725             ;sirena
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04B6   3018           01726             movlw b'11000' ;port D0
04B7   00D2           01727             movwf port
04B8   3003           01728             movlw b'11' ;procesor 3
04B9   00D3           01729             movwf prc 
04BA   18AD           01730             btfsc o_e, 1
04BB   2226           01731             call clrout ;set port v prc
04BC   10AD           01732             bcf o_e, 1
                      01733             ;parkovacky
04BD   11AD           01734             bcf o_e, 3
04BE   12E1           01735             bcf PORTD_temp, 5
04BF   1288           01736             bcf PORTD, 5
                      01737             ;mlhovky zadni
04C0   10AE           01738             bcf o_f, 1
04C1   1260           01739             bcf PORTC_temp, 4
04C2   1207           01740             bcf PORTC, 4
                      01741             ;mlhovky predni
04C3   12AB           01742             bcf o_c, 5
04C4   10E1           01743             bcf PORTD_temp, 1
04C5   1088           01744             bcf PORTD, 1
                      01745             ;rozehrivani okenka
04C6   112E           01746             bcf o_f, 2
04C7   12E0           01747             bcf PORTC_temp, 5
04C8   1287           01748             bcf PORTC, 5
04C9   0008           01749             return
                      01750             
                      01751 ;zamknuti
04CA   1451           01752 t1_07       bsf locked, 0 ;nastavi registr locked
04CB   12B0           01753             bcf o_h, 5 ;vypne v regs led odemceno
04CC   3015           01754             movlw b'10101' ;port C5
04CD   00D2           01755             movwf port
04CE   3003           01756             movlw b'11' ;procesor 3
04CF   00D3           01757             movwf prc
04D0   2226           01758             call clrout ;smaz port v prc
04D1   1730           01759             bsf o_h, 6 ;zapne v regs led zamceno
04D2   3016           01760             movlw b'10110' ;port C6
04D3   00D2           01761             movwf port
04D4   3003           01762             movlw b'0011' ;procesor 3
04D5   00D3           01763             movwf prc
04D6   21FF           01764             call setout ;nastav port v prc
04D7   0008           01765             return
                      01766 ;odemknuti
04D8   1051           01767 t1_08       bcf locked, 0 ;smaze registr locked
04D9   16B0           01768             bsf o_h, 5 ;zapne v regs led odemceno
04DA   3015           01769             movlw b'10101' ;port C5
04DB   00D2           01770             movwf port
04DC   3003           01771             movlw b'11' ;procesor 3
04DD   00D3           01772             movwf prc
04DE   21FF           01773             call setout ;nastav port v prc
04DF   1730           01774             bsf o_h, 6 ;vypne v regs led zamceno
04E0   3016           01775             movlw b'10110' ;port C6
04E1   00D2           01776             movwf port
04E2   3003           01777             movlw b'0011' ;procesor 3
04E3   00D3           01778             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04E4   2226           01779             call clrout ;smaz port v prc
04E5   0008           01780             return
                      01781             
                      01782 ;pripraveno
04E6   0000           01783 t1_09       nop
04E7   0008           01784             return
                      01785 
                      01786 ;odskok dvere 1
04E8   162A           01787 t1_10       bsf o_b, 4
04E9   301F           01788             movlw b'11111' ;port D7
04EA   00D2           01789             movwf port
04EB   3003           01790             movlw b'11' ;procesor 3
04EC   00D3           01791             movwf prc
04ED   21FF           01792             call setout ;smaz port v prc
04EE   165A           01793             bsf casov, ODSKOK
04EF   3008           01794             movlw .8
04F0   00E6           01795             movwf timods
04F1   0008           01796             return
                      01797             
                      01798 ;odskok dvere 2
04F2   16AA           01799 t1_11       bsf o_b, 5
04F3   17E0           01800             bsf PORTC_temp, 7
04F4   1787           01801             bsf PORTC, 7
04F5   165A           01802             bsf casov, ODSKOK
04F6   3008           01803             movlw .8
04F7   00E6           01804             movwf timods
04F8   0008           01805             return
                      01806             
                      01807 ;odskok dvere 3
04F9   1A31           01808 t1_12       btfsc o_i, 4
04FA   0008           01809             return
04FB   172A           01810             bsf o_b, 6
04FC   155F           01811             bsf PORTB_temp, 2
04FD   1506           01812             bsf PORTB, 2
04FE   165A           01813             bsf casov, ODSKOK
04FF   3008           01814             movlw .8
0500   00E6           01815             movwf timods
0501   0008           01816             return
                      01817             
                      01818 ;odskok dvere 4
0502   1A31           01819 t1_13       btfsc o_i, 4
0503   0008           01820             return
0504   17AA           01821             bsf o_b, 7
0505   15DF           01822             bsf PORTB_temp, 3
0506   1586           01823             bsf PORTB, 3
0507   165A           01824             bsf casov, ODSKOK
0508   3008           01825             movlw .8
0509   00E6           01826             movwf timods
050A   0008           01827             return
                      01828             
                      01829 ;odskok kufr
050B   15AA           01830 t1_14       bsf o_b, 3
050C   165F           01831             bsf PORTB_temp, 4
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

050D   1606           01832             bsf PORTB, 4
050E   165A           01833             bsf casov, ODSKOK
050F   3008           01834             movlw .8
0510   00E6           01835             movwf timods
0511   0008           01836             return
                      01837             
                      01838 ;odskok nadrz
0512   142D           01839 t1_15       bsf o_e, 0
0513   16DF           01840             bsf PORTB_temp, 5
0514   1686           01841             bsf PORTB, 5
0515   165A           01842             bsf casov, ODSKOK
0516   3008           01843             movlw .8
0517   00E6           01844             movwf timods
0518   0008           01845             return
                      01846             
                      01847 ;odskok kapota
0519   142B           01848 t1_16       bsf o_c, 0
051A   175F           01849             bsf PORTB_temp, 6
051B   1706           01850             bsf PORTB, 6
051C   165A           01851             bsf casov, ODSKOK
051D   3008           01852             movlw .8
051E   00E6           01853             movwf timods
051F   0008           01854             return
                      01855             
                      01856 ;pripraveno
0520   0000           01857 t1_17       nop
0521   0008           01858             return
                      01859 ;pripraveno
0522   0000           01860 t1_18       nop
0523   0008           01861             return
                      01862 ;pripraveno
0524   0000           01863 t1_19       nop
0525   0008           01864             return
                      01865 
                      01866 ;play pause
0526   14AC           01867 t1_20       bsf o_d, 1
0527   3010           01868             movlw b'10000' ;port C0
0528   00D2           01869             movwf port
0529   3002           01870             movlw b'10' ;procesor 2
052A   00D3           01871             movwf prc
052B   21FF           01872             call setout ;nastav port v prc
052C   0008           01873             return
                      01874             
                      01875 ;stop
052D   152C           01876 t1_21       bsf o_d, 2
052E   3011           01877             movlw b'10001' ;port C1
052F   00D2           01878             movwf port
0530   3002           01879             movlw b'10' ;procesor 2
0531   00D3           01880             movwf prc
0532   21FF           01881             call setout ;nastav port v prc
0533   0008           01882             return
                      01883             
                      01884 ;forwind
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0534   15AC           01885 t1_22       bsf o_d, 3
0535   3012           01886             movlw b'10010' ;port C2
0536   00D2           01887             movwf port
0537   3002           01888             movlw b'10' ;procesor 2
0538   00D3           01889             movwf prc
0539   21FF           01890             call setout ;nastav port v prc
053A   0008           01891             return
                      01892             
                      01893 ;rewind
053B   162C           01894 t1_23       bsf o_d, 4
053C   3013           01895             movlw b'10011' ;port C3
053D   00D2           01896             movwf port
053E   3002           01897             movlw b'10' ;procesor 2
053F   00D3           01898             movwf prc
0540   21FF           01899             call setout ;nastav port v prc
0541   0008           01900             return
                      01901             
                      01902 ;volume +
0542   16AC           01903 t1_24       bsf o_d, 5
0543   3014           01904             movlw b'10100' ;port C4
0544   00D2           01905             movwf port
0545   3002           01906             movlw b'10' ;procesor 2
0546   00D3           01907             movwf prc
0547   21FF           01908             call setout ;nastav port v prc
0548   0008           01909             return
                      01910             
                      01911 ;volume -
0549   172C           01912 t1_25       bsf o_d, 6
054A   3015           01913             movlw b'10101' ;port C5
054B   00D2           01914             movwf port
054C   3002           01915             movlw b'10' ;procesor 2
054D   00D3           01916             movwf prc
054E   21FF           01917             call setout ;nastav port v prc
054F   0008           01918             return
                      01919             
                      01920 ;rozehrivani okenka
0550   082E           01921 t1_26       movf o_f, W
0551   00A4           01922             movwf r5
                      01923 
0552   1D24           01924             btfss r5, 2
0553   16E0           01925             bsf PORTC_temp, 5
0554   1D24           01926             btfss r5, 2
0555   1687           01927             bsf PORTC, 5
0556   1D24           01928             btfss r5, 2
0557   152E           01929             bsf o_f, 2 
                      01930         
0558   1924           01931             btfsc r5, 2
0559   12E0           01932             bcf PORTC_temp, 5
055A   1924           01933             btfsc r5, 2
055B   1287           01934             bcf PORTC, 5
055C   1924           01935             btfsc r5, 2
055D   112E           01936             bcf o_f, 2 
055E   0008           01937             return
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01938             
                      01939 ;pripraveno
055F   0000           01940 t1_27       nop
0560   0008           01941             return
                      01942 ;pripraveno
0561   0000           01943 t1_28       nop
0562   0008           01944             return
                      01945 ;pripraveno
0563   0000           01946 t1_29       nop
0564   0008           01947             return
                      01948 
                      01949 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0565   0008           01950 t1_30       return;movf o1tar, W
0566   00A4           01951             movwf r5
0567   30F0           01952             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0568   07A4           01953             addwf r5, F
0569   1C03           01954             btfss STATUS, C
056A   0008           01955             return
056B   0824           01956             movf r5, W
056C   00A4           01957             movwf o1tar
056D   0008           01958             return
                      01959             
                      01960 ;okno 2 up
056E   0008           01961 t1_31       return;movf o2tar, W
056F   00A4           01962             movwf r5
0570   30F0           01963             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0571   07A4           01964             addwf r5, F
0572   1C03           01965             btfss STATUS, C
0573   0008           01966             return
0574   0824           01967             movf r5, W
0575   00A5           01968             movwf o2tar
0576   0008           01969             return
                      01970             
                      01971 ;okno 3 up
0577   0008           01972 t1_32       return;btfsc o_i, 4
0578   0008           01973             return
0579   0826           01974             movf o3tar, W
057A   00A4           01975             movwf r5
057B   30F0           01976             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
057C   07A4           01977             addwf r5, F
057D   1C03           01978             btfss STATUS, C
057E   0008           01979             return
057F   0824           01980             movf r5, W
0580   00A6           01981             movwf o3tar
0581   0008           01982             return
                      01983             
                      01984 ;okno 4 up
0582   0008           01985 t1_33       return;btfsc o_i, 4
0583   0008           01986             return
0584   0827           01987             movf o4tar, W
0585   00A4           01988             movwf r5
0586   30F0           01989             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0587   07A4           01990             addwf r5, F
0588   1C03           01991             btfss STATUS, C
0589   0008           01992             return
058A   0824           01993             movf r5, W
058B   00A7           01994             movwf o4tar
058C   0008           01995             return
                      01996             
                      01997 ;okno 1 down
058D   0008           01998 t1_34       return;movf o1tar, W
058E   00A4           01999             movwf r5
058F   3010           02000             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0590   07A4           02001             addwf r5, F
0591   1803           02002             btfsc STATUS, C
0592   0008           02003             return
0593   0824           02004             movf r5, W
0594   00A4           02005             movwf o1tar
0595   0008           02006             return
                      02007             
                      02008 ;okno 2 down
0596   0008           02009 t1_35       return;movf o2tar, W
0597   00A4           02010             movwf r5
0598   3010           02011             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0599   07A4           02012             addwf r5, F
059A   1803           02013             btfsc STATUS, C
059B   0008           02014             return
059C   0824           02015             movf r5, W
059D   00A5           02016             movwf o2tar
059E   0008           02017             return
                      02018             
                      02019 ;okno 3 down
059F   0008           02020 t1_36       return;btfsc o_i, 4
05A0   0008           02021             return
05A1   0826           02022             movf o3tar, W
05A2   00A4           02023             movwf r5
05A3   3010           02024             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05A4   07A4           02025             addwf r5, F
05A5   1803           02026             btfsc STATUS, C
05A6   0008           02027             return
05A7   0824           02028             movf r5, W
05A8   00A6           02029             movwf o3tar
05A9   0008           02030             return
                      02031             
                      02032 ;detský zámek zadních oken a dveri
05AA   1E31           02033 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
05AB   2DB3           02034             goto t2_37
05AC   1231           02035             bcf o_i, 4
05AD   301C           02036             movlw b'11100' ;port D4
05AE   00D2           02037             movwf port
05AF   3003           02038             movlw b'11' ;procesor 3
05B0   00D3           02039             movwf prc
05B1   2226           02040             call clrout ;nastav port v prc        
05B2   0008           02041             return
                      02042             
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05B3   1631           02043 t2_37       bsf o_i, 4
05B4   301C           02044             movlw b'11100' ;port D4
05B5   00D2           02045             movwf port
05B6   3003           02046             movlw b'11' ;procesor 3
05B7   00D3           02047             movwf prc
05B8   21FF           02048             call setout ;nastav port v prc        
05B9   0008           02049             return
                      02050             
                      02051 ;pripraveno
05BA   0000           02052 t1_38       nop
05BB   0008           02053             return
                      02054 ;pripraveno
05BC   0000           02055 t1_39       nop
05BD   0008           02056             return
                      02057 
                      02058 ;RED tuning
05BE   3016           02059 t1_40       movlw b'10110' ;port C6
05BF   00D2           02060             movwf port
05C0   3002           02061             movlw b'10' ;procesor 2
05C1   00D3           02062             movwf prc
                      02063             
05C2   082B           02064             movf o_c, W
05C3   00A4           02065             movwf r5
                      02066 
05C4   1D24           02067             btfss r5, 2
05C5   21FF           02068             call setout ;nastav port v prc
05C6   1D24           02069             btfss r5, 2
05C7   152B           02070             bsf o_c, 2 
                      02071         
05C8   1924           02072             btfsc r5, 2
05C9   2226           02073             call clrout ;smaz port v prc
05CA   1924           02074             btfsc r5, 2
05CB   112B           02075             bcf o_c, 2 
05CC   0008           02076             return
                      02077             
                      02078 ;WHITE tunning
05CD   3017           02079 t1_41       movlw b'10111' ;port C7
05CE   00D2           02080             movwf port
05CF   3002           02081             movlw b'10' ;procesor 2
05D0   00D3           02082             movwf prc
                      02083             
05D1   082B           02084             movf o_c, W
05D2   00A4           02085             movwf r5
                      02086 
05D3   1DA4           02087             btfss r5, 3
05D4   21FF           02088             call setout ;nastav port v prc
05D5   1DA4           02089             btfss r5, 3
05D6   15AB           02090             bsf o_c, 3 
                      02091         
05D7   19A4           02092             btfsc r5, 3
05D8   2226           02093             call clrout ;smaz port v prc
05D9   19A4           02094             btfsc r5, 3
05DA   11AB           02095             bcf o_c, 3 
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05DB   0008           02096             return
                      02097             
                      02098 ;Parkovačky
05DC   082D           02099 t1_42       movf o_e, W
05DD   00A4           02100             movwf r5
                      02101 
05DE   1DA4           02102             btfss r5, 3
05DF   16E1           02103             bsf PORTD_temp, 5
05E0   1DA4           02104             btfss r5, 3
05E1   1688           02105             bsf PORTD, 5
05E2   1DA4           02106             btfss r5, 3
05E3   15AD           02107             bsf o_e, 3 
                      02108         
05E4   19A4           02109             btfsc r5, 3
05E5   12E1           02110             bcf PORTD_temp, 5
05E6   19A4           02111             btfsc r5, 3
05E7   1288           02112             bcf PORTD, 5
05E8   19A4           02113             btfsc r5, 3
05E9   11AD           02114             bcf o_e, 3 
05EA   0008           02115             return
                      02116             
                      02117 ;Světla
05EB   082B           02118 t1_43       movf o_c, W
05EC   00A4           02119             movwf r5
                      02120 
05ED   1CA4           02121             btfss r5, 1
05EE   15E0           02122             bsf PORTC_temp, 3
05EF   1CA4           02123             btfss r5, 1
05F0   1587           02124             bsf PORTC, 3
05F1   1CA4           02125             btfss r5, 1
05F2   14AB           02126             bsf o_c, 1 
                      02127         
05F3   18A4           02128             btfsc r5, 1
05F4   11E0           02129             bcf PORTC_temp, 3
05F5   18A4           02130             btfsc r5, 1
05F6   1187           02131             bcf PORTC, 3
05F7   18A4           02132             btfsc r5, 1
05F8   10AB           02133             bcf o_c, 1 
05F9   0008           02134             return
                      02135             
                      02136 ;Mlhovky zadní
05FA   082E           02137 t1_44       movf o_f, W
05FB   00A4           02138             movwf r5
                      02139 
05FC   1CA4           02140             btfss r5, 1
05FD   1660           02141             bsf PORTC_temp, 4
05FE   1CA4           02142             btfss r5, 1
05FF   1607           02143             bsf PORTC, 4
0600   1CA4           02144             btfss r5, 1
0601   14AE           02145             bsf o_f, 1 
                      02146         
0602   18A4           02147             btfsc r5, 1
0603   1260           02148             bcf PORTC_temp, 4
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0604   18A4           02149             btfsc r5, 1
0605   1207           02150             bcf PORTC, 4
0606   18A4           02151             btfsc r5, 1
0607   10AE           02152             bcf o_f, 1 
0608   0008           02153             return
                      02154             
                      02155 ;Blinkr levý
0609   162D           02156 t1_45       bsf o_e, 4
060A   1761           02157             bsf PORTD_temp, 6
060B   1708           02158             bsf PORTD, 6
060C   0008           02159             return
                      02160             
                      02161 ;Blinkr pravý
060D   16AD           02162 t1_46       bsf o_e, 5
060E   17E1           02163             bsf PORTD_temp, 7
060F   1788           02164             bsf PORTD, 7
0610   0008           02165             return
                      02166             
                      02167 ;Mlhovky přední
0611   082B           02168 t1_47       movf o_c, W
0612   00A4           02169             movwf r5
                      02170 
0613   1EA4           02171             btfss r5, 5
0614   14E1           02172             bsf PORTD_temp, 1
0615   1EA4           02173             btfss r5, 5
0616   1488           02174             bsf PORTD, 1
0617   1EA4           02175             btfss r5, 5
0618   16AB           02176             bsf o_c, 5 
                      02177         
0619   1AA4           02178             btfsc r5, 5
061A   10E1           02179             bcf PORTD_temp, 1
061B   1AA4           02180             btfsc r5, 5
061C   1088           02181             bcf PORTD, 1
061D   1AA4           02182             btfsc r5, 5
061E   12AB           02183             bcf o_c, 5 
061F   0008           02184             return
                      02185             
                      02186 ;pripraveno
0620   0000           02187 t1_48       nop
0621   0008           02188             return
                      02189 ;pripraveno
0622   0000           02190 t1_49       nop
0623   0008           02191             return
                      02192 
                      02193 ;klakson
0624   162B           02194 t1_50       bsf o_c, 4
0625   3019           02195             movlw b'11001' ;port D1
0626   00D2           02196             movwf port
0627   3003           02197             movlw b'11' ;procesor 3
0628   00D3           02198             movwf prc
0629   21FF           02199             call setout ;nastav port v prc
062A   0008           02200             return
                      02201             
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02202 ;stěrače
062B   17AB           02203 t1_51       bsf o_c, 7
062C   15E1           02204             bsf PORTD_temp, 3
062D   1588           02205             bsf PORTD, 3
062E   0008           02206             return
                      02207 ;odstřikovače
062F   172B           02208 t1_52       bsf o_c, 6
0630   1561           02209             bsf PORTD_temp, 2
0631   1508           02210             bsf PORTD, 2
0632   0008           02211             return
                      02212             
                      02213 ;Siréna
0633   3018           02214 t1_53       movlw b'11000' ;port D0
0634   00D2           02215             movwf port
0635   3003           02216             movlw b'11' ;procesor 3
0636   00D3           02217             movwf prc
                      02218             
0637   082D           02219             movf o_e, W
0638   00A4           02220             movwf r5
                      02221 
0639   1CA4           02222             btfss r5, 1
063A   21FF           02223             call setout ;nastav port v prc
063B   1CA4           02224             btfss r5, 1
063C   14AD           02225             bsf o_e, 1 
                      02226         
063D   18A4           02227             btfsc r5, 1
063E   2226           02228             call clrout ;smaz port v prc
063F   18A4           02229             btfsc r5, 1
0640   10AD           02230             bcf o_e, 1 
                      02231         
0641   0008           02232             return
                      02233 
                      02234 ;stroboskop
0642   3019           02235 t1_54       movlw b'11001' ;port D1
0643   00D2           02236             movwf port
0644   3002           02237             movlw b'10' ;procesor 2
0645   00D3           02238             movwf prc
                      02239             
0646   082D           02240             movf o_e, W
0647   00A4           02241             movwf r5
                      02242 
0648   1D24           02243             btfss r5, 2
0649   21FF           02244             call setout ;nastav port v prc
064A   1D24           02245             btfss r5, 2
064B   152D           02246             bsf o_e, 2 
                      02247         
064C   1924           02248             btfsc r5, 2
064D   2226           02249             call clrout ;smaz port v prc
064E   1924           02250             btfsc r5, 2
064F   112D           02251             bcf o_e, 2 
0650   0008           02252             return
                      02253             
                      02254 ;Dálkové světla
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0651   142C           02255 t1_55       bsf o_d, 0
0652   1661           02256             bsf PORTD_temp, 4
0653   1608           02257             bsf PORTD, 4
0654   0008           02258             return
                      02259             
                      02260 ;alarm start
0655   3018           02261 t1_56       movlw b'11000' ;port D0  ;sirena
0656   00D2           02262             movwf port
0657   3003           02263             movlw b'11' ;procesor 3
0658   00D3           02264             movwf prc 
0659   1CAD           02265             btfss o_e, 1
065A   21FF           02266             call setout ;set port v prc
065B   14AD           02267             bsf o_e, 1
                      02268             ;varovky
065C   246E           02269             call t1_05
                      02270             
                      02271             ;stroboskop
065D   3019           02272             movlw b'11001' ;port D1
065E   00D2           02273             movwf port
065F   3002           02274             movlw b'10' ;procesor 2
0660   00D3           02275             movwf prc 
0661   1D2D           02276             btfss o_e, 2
0662   21FF           02277             call setout ;set port v prc
0663   152D           02278             bsf o_e, 2
                      02279             ;red tunning
0664   3016           02280             movlw b'10110' ;port C6
0665   00D2           02281             movwf port
0666   3002           02282             movlw b'10' ;procesor 2
0667   00D3           02283             movwf prc 
0668   1D2B           02284             btfss o_c, 2
0669   21FF           02285             call setout ;set port v prc
066A   152B           02286             bsf o_c, 2
                      02287             ;white interier
                      02288             ;movlw b'11011' ;port D3
                      02289             ;movwf port
                      02290             ;movlw b'10' ;procesor 2
                      02291             ;movwf prc
                      02292             ;btfss o_f, 4
                      02293             ;call setout ;set port v prc
                      02294             ;bsf o_f, 4
                      02295             
066B   16DA           02296             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
066C   301E           02297             movlw .30
066D   00E7           02298             movwf timala
                      02299 
066E   0008           02300             return
                      02301             
                      02302 ;pripraveno
066F   0000           02303 t1_57       nop
0670   0008           02304             return
                      02305             
                      02306 ;pripraveno
0671   0000           02307 t1_58       nop
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0672   0008           02308             return
                      02309             
                      02310 ;pripraveno
0673   0000           02311 t1_59       nop
0674   0008           02312             return
                      02313         
                      02314 ;okno 4 down
0675   0008           02315 t1_60       return;btfsc o_i, 4
0676   0008           02316             return
0677   0827           02317             movf o4tar, W
0678   00A4           02318             movwf r5
0679   3010           02319             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
067A   07A4           02320             addwf r5, F
067B   1803           02321             btfsc STATUS, C
067C   0008           02322             return
067D   0824           02323             movf r5, W
067E   00A7           02324             movwf o4tar
067F   0008           02325             return
                      02326             
                      02327 ;red interiér
0680   301A           02328 t1_61       movlw b'11010' ;port D2
0681   00D2           02329             movwf port
0682   3002           02330             movlw b'10' ;procesor 2
0683   00D3           02331             movwf prc
                      02332             
0684   082E           02333             movf o_f, W
0685   00A4           02334             movwf r5
                      02335 
0686   1DA4           02336             btfss r5, 3
0687   21FF           02337             call setout ;nastav port v prc
0688   1DA4           02338             btfss r5, 3
0689   15AE           02339             bsf o_f, 3 
                      02340         
068A   19A4           02341             btfsc r5, 3
068B   2226           02342             call clrout ;smaz port v prc
068C   19A4           02343             btfsc r5, 3
068D   11AE           02344             bcf o_f, 3 
068E   0008           02345             return
                      02346             
                      02347 ;white interier (Baterie na budíkách)
068F   301B           02348 t1_62       movlw b'11011' ;port D3
0690   00D2           02349             movwf port
0691   3002           02350             movlw b'10' ;procesor 2
0692   00D3           02351             movwf prc
                      02352             
0693   082E           02353             movf o_f, W
0694   00A4           02354             movwf r5
                      02355 
0695   1E24           02356             btfss r5, 4
0696   21FF           02357             call setout ;nastav port v prc
0697   1E24           02358             btfss r5, 4
0698   162E           02359             bsf o_f, 4 
                      02360         
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0699   1A24           02361             btfsc r5, 4
069A   2226           02362             call clrout ;smaz port v prc
069B   1A24           02363             btfsc r5, 4
069C   122E           02364             bcf o_f, 4 
069D   0008           02365             return
                      02366             
                      02367 ;klima on/off
069E   17AD           02368 t1_63       bsf o_e, 7
069F   301E           02369             movlw b'11110' ;port D6
06A0   00D2           02370             movwf port
06A1   3002           02371             movlw b'10' ;procesor 2
06A2   00D3           02372             movwf prc
06A3   21FF           02373             call setout ;nastav port v prc
06A4   165A           02374             bsf casov, ODSKOK
06A5   3008           02375             movlw .8
06A6   00E6           02376             movwf timods
06A7   0008           02377             return
                      02378             
                      02379 ;klima teplota up
06A8   172D           02380 t1_64       bsf o_e, 6
06A9   301C           02381             movlw b'11100' ;port D4
06AA   00D2           02382             movwf port
06AB   3002           02383             movlw b'10' ;procesor 2
06AC   00D3           02384             movwf prc
06AD   21FF           02385             call setout ;nastav port v prc
06AE   165A           02386             bsf casov, ODSKOK
06AF   3008           02387             movlw .8
06B0   00E6           02388             movwf timods
06B1   0008           02389             return
                      02390             
                      02391 ;klima teplota down
06B2   16AE           02392 t1_65       bsf o_f, 5
06B3   301D           02393             movlw b'11101' ;port D5
06B4   00D2           02394             movwf port
06B5   3002           02395             movlw b'10' ;procesor 2
06B6   00D3           02396             movwf prc
06B7   21FF           02397             call setout ;nastav port v prc
06B8   165A           02398             bsf casov, ODSKOK
06B9   3008           02399             movlw .8
06BA   00E6           02400             movwf timods
06BB   0008           02401             return
                      02402             
                      02403 ;klima mista ventilace
06BC   142E           02404 t1_66       bsf o_f, 0
06BD   301F           02405             movlw b'11111' ;port D7
06BE   00D2           02406             movwf port
06BF   3002           02407             movlw b'10' ;procesor 2
06C0   00D3           02408             movwf prc
06C1   21FF           02409             call setout ;nastav port v prc
06C2   165A           02410             bsf casov, ODSKOK
06C3   3008           02411             movlw .8
06C4   00E6           02412             movwf timods
06C5   0008           02413             return
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02414             
                      02415 ;pripraveno
06C6   0000           02416 t1_67       nop
06C7   0008           02417             return
                      02418 ;pripraveno
06C8   0000           02419 t1_68       nop
06C9   0008           02420             return
                      02421 ;pripraveno
06CA   0000           02422 t1_69       nop
06CB   0008           02423             return
                      02424 
06CC   0000           02425 t1_x        nop
06CD   0008           02426             return
                      02427             
                      02428 
                      02429 
                      02430 
                      02431 
                      02432 
06CE   3005           02433 w20i        movlw .5
06CF   00A3           02434             movwf r4
06D0   0BA3           02435             decfsz r4, F
06D1   2ED0           02436             goto $-1
06D2   0008           02437             return
                      02438 
                      02439 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06D3   3050           02440 w100c       movlw .80
06D4   00A3           02441             movwf r4
06D5   0BA3           02442             decfsz r4, F
06D6   2ED5           02443             goto $-1
06D7   0008           02444             return
                      02445 
                      02446 ;cekej necelou polovinu w100c
06D8   301E           02447 w40c        movlw .30
06D9   00A3           02448             movwf r4
06DA   0BA3           02449             decfsz r4, F
06DB   2EDA           02450             goto $-1
06DC   0008           02451             return
                      02452             
                      02453 
                      02454 
                      02455 
                      02456 
                      02457 
06DD   3019           02458 klakson     movlw b'11001' ;port D1
06DE   00D2           02459             movwf port
06DF   3003           02460             movlw b'11' ;procesor 3
06E0   00D3           02461             movwf prc
                      02462             
06E1   082B           02463             movf o_c, W
06E2   00A4           02464             movwf r5
                      02465 
06E3   1E24           02466             btfss r5, 4
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06E4   21FF           02467             call setout ;nastav port v prc
06E5   1E24           02468             btfss r5, 4
06E6   162B           02469             bsf o_c, 4 
                      02470         
06E7   1A24           02471             btfsc r5, 4
06E8   2226           02472             call clrout ;smaz port v prc
06E9   1A24           02473             btfsc r5, 4
06EA   122B           02474             bcf o_c, 4 
06EB   0008           02475             return
                      02476 
                      02477 
                      02478 ;zmeni stav LED zamceno
06EC   3016           02479 ledzam      movlw b'10110' ;port C6
06ED   00D2           02480             movwf port
06EE   3003           02481             movlw b'11' ;procesor 3
06EF   00D3           02482             movwf prc
                      02483             
06F0   0830           02484             movf o_h, W
06F1   00A4           02485             movwf r5
                      02486 
06F2   1F24           02487             btfss r5, 6
06F3   21FF           02488             call setout ;nastav port v prc
06F4   1F24           02489             btfss r5, 6
06F5   1730           02490             bsf o_h, 6 
                      02491         
06F6   1B24           02492             btfsc r5, 6
06F7   2226           02493             call clrout ;smaz port v prc
06F8   1B24           02494             btfsc r5, 6
06F9   1330           02495             bcf o_h, 6 
                      02496         
06FA   0008           02497             return
                      02498 
                      02499 
                      02500 
                      02501 
                      02502 
                      02503 
                      02504 
                      02505 
                      02506 
                      02507 
                      02508 
                      02509 
0800                  02510             org 800h ;zacina druha stranka programu
0800   118A           02511 restart     bcf PCLATH,3 ;Select page 0
                      02512             ;Po restartu se obnovi stare registry PORTU
                      02513 
0801   085E           02514             movf PORTA_temp, W
0802   0085           02515             movwf PORTA
0803   085F           02516             movf PORTB_temp, W
0804   0086           02517             movwf PORTB
0805   0860           02518             movf PORTC_temp, W
0806   0087           02519             movwf PORTC
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0807   0861           02520             movf PORTD_temp, W
0808   0088           02521             movwf PORTD
0809   0862           02522             movf PORTE_temp, W
080A   0089           02523             movwf PORTE
                      02524 
                      02525             ;zapne zadni pasy po restartu
080B   300E           02526             movlw b'01110' ;port B6
080C   00D2           02527             movwf port
080D   3003           02528             movlw b'11' ;procesor 3
080E   00D3           02529             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   21FF           02530             call setout ;nastav port v prc
0810   172F           02531             bsf o_g, 6 
                      02532             
0811   300F           02533             movlw b'01111' ;port B7
0812   00D2           02534             movwf port
0813   3003           02535             movlw b'11' ;procesor 3
0814   00D3           02536             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   21FF           02537             call setout ;nastav port v prc
0816   17AF           02538             bsf o_g, 7 
                      02539 
                      02540             ; zapne predni pasy po startu
0817   300C           02541             movlw b'01100' ;port B4
0818   00D2           02542             movwf port
0819   3003           02543             movlw b'11' ;procesor 3
081A   00D3           02544             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081B   2226           02545             call clrout ;nastav port v prc
081C   122F           02546             bcf o_g, 4 
                      02547             
081D   300D           02548             movlw b'01101' ;port B5
081E   00D2           02549             movwf port
081F   3003           02550             movlw b'11' ;procesor 3
0820   00D3           02551             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   2226           02552             call clrout ;nastav port v prc
0822   12AF           02553             bcf o_g, 5 
                      02554 
0823   301E           02555             movlw .30 ;trochu delsi vterina
0824   00EC           02556             movwf vterina
                      02557         
                      02558 
0825   158A           02559             bsf PCLATH,3 ;Select page 0
0826   284A           02560             goto loop
                      02561     
0827   118A           02562 start       bcf PCLATH,3 ;Select page 0
                      02563             
0828   01DE           02564             clrf PORTA_temp
0829   01DF           02565             clrf PORTB_temp
082A   01E0           02566             clrf PORTC_temp
082B   01E1           02567             clrf PORTD_temp
082C   01E2           02568             clrf PORTE_temp
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02569 
Message[306]: Crossing page boundary -- ensure page bits are set.
082D   26D3           02570             call w100c
                      02571             
                      02572             ;call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne a
                            larm
                      02573             
                      02574             ; zapne predni pasy po startu
082E   300C           02575             movlw b'01100' ;port B4
082F   00D2           02576             movwf port
0830   3003           02577             movlw b'11' ;procesor 3
0831   00D3           02578             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0832   21FF           02579             call setout ;nastav port v prc
0833   162F           02580             bsf o_g, 4 
                      02581             
0834   300D           02582             movlw b'01101' ;port B5
0835   00D2           02583             movwf port
0836   3003           02584             movlw b'11' ;procesor 3
0837   00D3           02585             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0838   21FF           02586             call setout ;nastav port v prc
0839   16AF           02587             bsf o_g, 5 
                      02588 
                      02589             ;zapne zadni pasy po restartu
083A   300E           02590             movlw b'01110' ;port B6
083B   00D2           02591             movwf port
083C   3003           02592             movlw b'11' ;procesor 3
083D   00D3           02593             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
083E   2226           02594             call clrout ;nastav port v prc
083F   132F           02595             bcf o_g, 6 
                      02596             
0840   300F           02597             movlw b'01111' ;port B7
0841   00D2           02598             movwf port
0842   3003           02599             movlw b'11' ;procesor 3
0843   00D3           02600             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0844   2226           02601             call clrout ;nastav port v prc
0845   13AF           02602             bcf o_g, 7 
                      02603 
0846   301E           02604             movlw .30
0847   00EC           02605             movwf vterina
                      02606         
                      02607 
0848   158A           02608             bsf PCLATH,3 ;Select page 0
0849   284A           02609             goto loop
                      02610 
084A   118A           02611 loop        bcf PCLATH,3 ;Select page 0
                      02612             
084B   0064           02613             clrwdt
                      02614    
                      02615             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            oblémů
                      02616             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   2059           02617             call watchstart
                      02618             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084D   205C           02619             call watchwait
                      02620             
                      02621             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084E   2059           02622             call watchstart
                      02623             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084F   205C           02624             call watchwait
                      02625             
                      02626             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0850   2059           02627             call watchstart
                      02628             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0851   205C           02629             call watchwait
                      02630             
                      02631             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0852   2059           02632             call watchstart
                      02633             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0853   205C           02634             call watchwait
                      02635       
                      02636       
                      02637       
0854   1A59           02638             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0855   2062           02639             call timer1
                      02640 
0856   158A           02641             bsf PCLATH,3 ;Select page 1
                      02642             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
0857   118A           02643             bcf PCLATH,3 ;Select page 0
                      02644 
                      02645 
                      02646             
                      02647             
0858   3000           02648             movlw .0 ;nastavime ANx kde x je zadane cislo
0859   00F6           02649             movwf ran1
085A   158A           02650             bsf PCLATH,3 ;Select page 1
085B   22FA           02651             call adconv
085C   118A           02652             bcf PCLATH,3 ;Select page 0
085D   0876           02653             movf ran1, W
085E   00A0           02654             movwf r1
                      02655             
085F   093F           02656             comf ir_58, W
0860   07A0           02657             addwf r1, F
0861   081E           02658             movf ADRESH, W
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0862   0FA0           02659             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0863   00BF           02660             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0864   0820           02661             movf r1, W
0865   118A           02662             bcf PCLATH,3 ;Select page 0
0866   1D03           02663             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0867   224D           02664             call if_58  ;pokud zmena odesle na sbernici
                      02665             
                      02666             
0868   3001           02667             movlw .1 ;nastavime ANx kde x je zadane cislo
0869   00F6           02668             movwf ran1
086A   158A           02669             bsf PCLATH,3 ;Select page 1
086B   22FA           02670             call adconv
086C   118A           02671             bcf PCLATH,3 ;Select page 0
086D   0876           02672             movf ran1, W
086E   00A0           02673             movwf r1
                      02674             
086F   0943           02675             comf ir_62, W
0870   07A0           02676             addwf r1, F
0871   081E           02677             movf ADRESH, W
0872   0FA0           02678             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0873   00C3           02679             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0874   0820           02680             movf r1, W
0875   118A           02681             bcf PCLATH,3 ;Select page 0
0876   1D03           02682             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0877   229A           02683             call if_62  ;pokud zmena odesle na sbernici
                      02684             
                      02685             
0878   3002           02686             movlw .2 ;nastavime ANx kde x je zadane cislo
0879   00F6           02687             movwf ran1
087A   158A           02688             bsf PCLATH,3 ;Select page 1
087B   22FA           02689             call adconv
087C   118A           02690             bcf PCLATH,3 ;Select page 0
087D   0876           02691             movf ran1, W
087E   00A0           02692             movwf r1
                      02693             
087F   0937           02694             comf ir_50, W
0880   07A0           02695             addwf r1, F
0881   081E           02696             movf ADRESH, W
0882   0FA0           02697             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0883   00B7           02698             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0884   0820           02699             movf r1, W
0885   118A           02700             bcf PCLATH,3 ;Select page 0
0886   1D03           02701             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0887   22E7           02702             call if_50  ;pokud zmena odesle na sbernici
                      02703             
                      02704             
0888   3003           02705             movlw .3 ;nastavime ANx kde x je zadane cislo
0889   00F6           02706             movwf ran1
088A   158A           02707             bsf PCLATH,3 ;Select page 1
088B   22FA           02708             call adconv
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

088C   118A           02709             bcf PCLATH,3 ;Select page 0
088D   0876           02710             movf ran1, W
088E   00A0           02711             movwf r1
                      02712             
088F   0940           02713             comf ir_59, W
0890   07A0           02714             addwf r1, F
0891   081E           02715             movf ADRESH, W
0892   0FA0           02716             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0893   00C0           02717             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0894   0820           02718             movf r1, W
0895   118A           02719             bcf PCLATH,3 ;Select page 0
0896   1D03           02720             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0897   22E9           02721             call if_59  ;pokud zmena odesle na sbernici
                      02722             
                      02723             
0898   3004           02724             movlw .4 ;nastavime ANx kde x je zadane cislo
0899   00F6           02725             movwf ran1
089A   158A           02726             bsf PCLATH,3 ;Select page 1
089B   22FA           02727             call adconv
089C   118A           02728             bcf PCLATH,3 ;Select page 0
089D   0876           02729             movf ran1, W
089E   00A0           02730             movwf r1
                      02731             
089F   0941           02732             comf ir_60, W
08A0   07A0           02733             addwf r1, F
08A1   081E           02734             movf ADRESH, W
08A2   0FA0           02735             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A3   00C1           02736             movwf ir_60  ;prepise reg AN prevedenou hodnotou
08A4   0820           02737             movf r1, W
08A5   118A           02738             bcf PCLATH,3 ;Select page 0
08A6   1D03           02739             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A7   22EB           02740             call if_60  ;pokud zmena odesle na sbernici
                      02741             
                      02742             
08A8   3005           02743             movlw .5 ;nastavime ANx kde x je zadane cislo
08A9   00F6           02744             movwf ran1
08AA   158A           02745             bsf PCLATH,3 ;Select page 1
08AB   22FA           02746             call adconv
08AC   118A           02747             bcf PCLATH,3 ;Select page 0
08AD   0876           02748             movf ran1, W
08AE   00A0           02749             movwf r1
                      02750             
08AF   0942           02751             comf ir_61, W
08B0   07A0           02752             addwf r1, F
08B1   081E           02753             movf ADRESH, W
08B2   0FA0           02754             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B3   00C2           02755             movwf ir_61  ;prepise reg AN prevedenou hodnotou
08B4   0820           02756             movf r1, W
08B5   118A           02757             bcf PCLATH,3 ;Select page 0
08B6   1D03           02758             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08B7   22ED           02759             call if_61  ;pokud zmena odesle na sbernici
                      02760             
                      02761             
                      02762             
                      02763             
                      02764 
                      02765 
                      02766             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08B8   2059           02767             call watchstart
                      02768 
                      02769             ;dotaz na procesor 2
08B9   3002           02770             movlw .2  ;oznaceni ciloveho procesoru
08BA   00F8           02771             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08BB   2146           02772             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02773     
                      02774             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08BC   205C           02775             call watchwait
                      02776     
08BD   0870           02777             movf pri0, W    ;kontroluje zda je zmena od minule
08BE   00A0           02778             movwf r1
08BF   0938           02779             comf ir_51, W
08C0   07A0           02780             addwf r1, F
08C1   0870           02781             movf pri0, W
08C2   0FA0           02782             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C3   00B8           02783             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08C4   0820           02784             movf r1, W
08C5   1D03           02785             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C6   22F3           02786             call if_51  ;pokud zmena spusti podprig
                      02787     
08C7   0871           02788             movf pri1, W    ;kontroluje zda je zmena od minule
08C8   00A0           02789             movwf r1
08C9   0939           02790             comf ir_52, W
08CA   07A0           02791             addwf r1, F
08CB   0871           02792             movf pri1, W
08CC   0FA0           02793             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CD   00B9           02794             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08CE   0820           02795             movf r1, W
08CF   1D03           02796             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D0   22F5           02797             call if_52  ;pokud zmena spusti podprig
                      02798     
                      02799     
08D1   0872           02800             movf pri2, W    ;kontroluje zda je zmena od minule
08D2   00A0           02801             movwf r1
08D3   093A           02802             comf ir_53, W
08D4   07A0           02803             addwf r1, F
08D5   0872           02804             movf pri2, W
08D6   0FA0           02805             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D7   00BA           02806             movwf ir_53  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08D8   0820           02807             movf r1, W
08D9   1D03           02808             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08DA   22F7           02809             call if_53  ;pokud zmena spusti podprig
                      02810     
                      02811     
08DB   0873           02812             movf pri3, W    ;kontroluje zda je zmena od minule
08DC   00A0           02813             movwf r1
08DD   093B           02814             comf ir_54, W
08DE   07A0           02815             addwf r1, F
08DF   0873           02816             movf pri3, W
08E0   0FA0           02817             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E1   00BB           02818             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08E2   0820           02819             movf r1, W
08E3   1D03           02820             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E4   22F9           02821             call if_54  ;pokud zmena spusti podprig
                      02822     
                      02823     
08E5   0874           02824             movf pri4, W    ;kontroluje zda je zmena od minule
08E6   00A0           02825             movwf r1
08E7   093C           02826             comf ir_55, W
08E8   07A0           02827             addwf r1, F
08E9   0874           02828             movf pri4, W
08EA   0FA0           02829             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EB   00BC           02830             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08EC   0820           02831             movf r1, W
08ED   1D03           02832             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EE   22FB           02833             call if_55  ;pokud zmena spusti podprig
                      02834     
                      02835     
08EF   0875           02836             movf pri5, W    ;kontroluje zda je zmena od minule
08F0   00A0           02837             movwf r1
08F1   093D           02838             comf ir_56, W
08F2   07A0           02839             addwf r1, F
08F3   0875           02840             movf pri5, W
08F4   0FA0           02841             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F5   00BD           02842             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08F6   0820           02843             movf r1, W
08F7   1D03           02844             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F8   22FD           02845             call if_56  ;pokud zmena spusti podprig
                      02846     
                      02847     
08F9   0876           02848             movf pri6, W    ;kontroluje zda je zmena od minule
08FA   00A0           02849             movwf r1
08FB   093E           02850             comf ir_57, W
08FC   07A0           02851             addwf r1, F
08FD   0876           02852             movf pri6, W
08FE   0FA0           02853             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FF   00BE           02854             movwf ir_57  ;priepise reg AN prievedenou hodnotou
0900   0820           02855             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0901   1D03           02856             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0902   22FF           02857             call if_57  ;pokud zmena spusti podprig
                      02858     
                      02859     
0903   0877           02860             movf pri7, W    ;kontroluje zda je zmena od minule
0904   00A0           02861             movwf r1
0905   0936           02862             comf ir_49, W
0906   07A0           02863             addwf r1, F
0907   0877           02864             movf pri7, W
0908   0FA0           02865             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0909   00B6           02866             movwf ir_49  ;priepise reg AN prievedenou hodnotou
090A   0820           02867             movf r1, W
090B   1D03           02868             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090C   22EF           02869             call if_49  ;pokud zmena spusti podprig
                      02870 
                      02871 
                      02872             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090D   2059           02873             call watchstart
                      02874 
                      02875             ;dotaz na procesor 3
090E   3003           02876             movlw .3  ;oznaceni ciloveho procesoru
090F   00F8           02877             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0910   2146           02878             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02879             
                      02880             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0911   205C           02881             call watchwait
                      02882             
                      02883     
                      02884     
0912   0870           02885             movf pri0, W    ;kontroluje zda je zmena od minule
0913   00A0           02886             movwf r1
0914   0944           02887             comf ir_80, W
0915   07A0           02888             addwf r1, F
0916   0870           02889             movf pri0, W
0917   0FA0           02890             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0918   00C4           02891             movwf ir_80  ;priepise reg AN prievedenou hodnotou
0919   0820           02892             movf r1, W
091A   1D03           02893             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
091B   22F1           02894             call if_80  ;pokud zmena spusti podprig
                      02895     
                      02896     
091C   0871           02897             movf pri1, W    ;kontroluje zda je zmena od minule
091D   00A0           02898             movwf r1
091E   0945           02899             comf ir_84, W
091F   07A0           02900             addwf r1, F
0920   0871           02901             movf pri1, W
0921   0FA0           02902             incfsz r1, F  ;pokud zadna zmena pokracuje dal
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0922   00C5           02903             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0923   0820           02904             movf r1, W
0924   1D03           02905             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0925   2301           02906             call if_84  ;pokud zmena spusti podprig
                      02907     
                      02908     
0926   0872           02909             movf pri2, W    ;kontroluje zda je zmena od minule
0927   00A0           02910             movwf r1
0928   0946           02911             comf ir_85, W
0929   07A0           02912             addwf r1, F
092A   0872           02913             movf pri2, W
092B   0FA0           02914             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092C   00C6           02915             movwf ir_85  ;priepise reg AN prievedenou hodnotou
092D   0820           02916             movf r1, W
092E   1D03           02917             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092F   2303           02918             call if_85  ;pokud zmena spusti podprig
                      02919     
                      02920     
0930   0873           02921             movf pri3, W    ;kontroluje zda je zmena od minule
0931   00A0           02922             movwf r1
0932   0947           02923             comf ir_86, W
0933   07A0           02924             addwf r1, F
0934   0873           02925             movf pri3, W
0935   0FA0           02926             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0936   00C7           02927             movwf ir_86  ;priepise reg AN prievedenou hodnotou
0937   0820           02928             movf r1, W
0938   1D03           02929             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0939   2305           02930             call if_86  ;pokud zmena spusti podprig
                      02931     
                      02932     
093A   0874           02933             movf pri4, W    ;kontroluje zda je zmena od minule
093B   00A0           02934             movwf r1
093C   0948           02935             comf ir_87, W
093D   07A0           02936             addwf r1, F
093E   0874           02937             movf pri4, W
093F   0FA0           02938             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0940   00C8           02939             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0941   0820           02940             movf r1, W
0942   1D03           02941             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0943   2307           02942             call if_87  ;pokud zmena spusti podprig
                      02943     
                      02944     
0944   0875           02945             movf pri5, W    ;kontroluje zda je zmena od minule
0945   00A0           02946             movwf r1
0946   0949           02947             comf ir_88, W
0947   07A0           02948             addwf r1, F
0948   0875           02949             movf pri5, W
0949   0FA0           02950             incfsz r1, F  ;pokud zadna zmena pokracuje dal
094A   00C9           02951             movwf ir_88  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

094B   0820           02952             movf r1, W
094C   1D03           02953             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094D   2309           02954             call if_88  ;pokud zmena spusti podprig
                      02955     
                      02956     
094E   0876           02957             movf pri6, W    ;kontroluje zda je zmena od minule
094F   00A0           02958             movwf r1
0950   094A           02959             comf ir_89, W
0951   07A0           02960             addwf r1, F
0952   0876           02961             movf pri6, W
0953   0FA0           02962             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0954   00CA           02963             movwf ir_89  ;priepise reg AN prievedenou hodnotou
0955   0820           02964             movf r1, W
0956   1D03           02965             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0957   230B           02966             call if_89  ;pokud zmena spusti podprig
                      02967     
                      02968     
0958   0877           02969             movf pri7, W    ;kontroluje zda je zmena od minule
0959   00A0           02970             movwf r1
095A   094B           02971             comf ir_90, W
095B   07A0           02972             addwf r1, F
095C   0877           02973             movf pri7, W
095D   0FA0           02974             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095E   00CB           02975             movwf ir_90  ;priepise reg AN prievedenou hodnotou
095F   0820           02976             movf r1, W
0960   1D03           02977             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0961   230D           02978             call if_90  ;pokud zmena spusti podprig
                      02979 
                      02980 
                      02981 
                      02982             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0962   2059           02983             call watchstart
                      02984 
                      02985             ;dotaz na procesor 4
0963   3004           02986             movlw .4  ;oznaceni ciloveho procesoru
0964   00F8           02987             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0965   2146           02988             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02989             
                      02990             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0966   205C           02991             call watchwait
                      02992             
                      02993     
                      02994     
0967   0870           02995             movf pri0, W    ;kontroluje zda je zmena od minule
0968   00A0           02996             movwf r1
0969   094C           02997             comf ir_91, W
096A   07A0           02998             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

096B   0870           02999             movf pri0, W
096C   0FA0           03000             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096D   00CC           03001             movwf ir_91  ;priepise reg AN prievedenou hodnotou
096E   0820           03002             movf r1, W
096F   1D03           03003             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0970   230F           03004             call if_91  ;pokud zmena spusti podprig
                      03005     
                      03006     
0971   0871           03007             movf pri1, W    ;kontroluje zda je zmena od minule
0972   00A0           03008             movwf r1
0973   094D           03009             comf ir_92, W
0974   07A0           03010             addwf r1, F
0975   0871           03011             movf pri1, W
0976   0FA0           03012             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0977   00CD           03013             movwf ir_92  ;priepise reg AN prievedenou hodnotou
0978   0820           03014             movf r1, W
0979   1D03           03015             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
097A   2311           03016             call if_92  ;pokud zmena spusti podprig
                      03017     
                      03018     
097B   0872           03019             movf pri2, W    ;kontroluje zda je zmena od minule
097C   00A0           03020             movwf r1
097D   094E           03021             comf ir_93, W
097E   07A0           03022             addwf r1, F
097F   0872           03023             movf pri2, W
0980   0FA0           03024             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0981   00CE           03025             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0982   0820           03026             movf r1, W
0983   1D03           03027             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0984   2313           03028             call if_93  ;pokud zmena spusti podprig
                      03029     
                      03030     
0985   0873           03031             movf pri3, W    ;kontroluje zda je zmena od minule
0986   00A0           03032             movwf r1
0987   094F           03033             comf ir_127, W
0988   07A0           03034             addwf r1, F
0989   0873           03035             movf pri3, W
098A   0FA0           03036             incfsz r1, F  ;pokud zadna zmena pokracuje dal
098B   00CF           03037             movwf ir_127  ;priepise reg AN prievedenou hodnotou
098C   0820           03038             movf r1, W
098D   1D03           03039             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
098E   2315           03040             call if_127  ;pokud zmena spusti podprig
                      03041     
                      03042     
098F   0874           03043             movf pri4, W    ;kontroluje zda je zmena od minule
0990   00A0           03044             movwf r1
0991   0950           03045             comf ir_128, W
0992   07A0           03046             addwf r1, F
0993   0874           03047             movf pri4, W
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0994   0FA0           03048             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0995   00D0           03049             movwf ir_128  ;priepise reg AN prievedenou hodnotou
0996   0820           03050             movf r1, W
0997   1D03           03051             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0998   2317           03052             call if_128  ;pokud zmena spusti podprig
                      03053     
                      03054     
0999   0875           03055             movf pri5, W    ;kontroluje zda je zmena od minule
099A   00A0           03056             movwf r1
099B   0935           03057             comf ir_x, W
099C   07A0           03058             addwf r1, F
099D   0875           03059             movf pri5, W
099E   0FA0           03060             incfsz r1, F  ;pokud zadna zmena pokracuje dal
099F   00B5           03061             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09A0   0820           03062             movf r1, W
09A1   1D03           03063             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09A2   2364           03064             call if_x  ;pokud zmena spusti podprig
                      03065     
                      03066     
09A3   0876           03067             movf pri6, W    ;kontroluje zda je zmena od minule
09A4   00A0           03068             movwf r1
09A5   0935           03069             comf ir_x, W
09A6   07A0           03070             addwf r1, F
09A7   0876           03071             movf pri6, W
09A8   0FA0           03072             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09A9   00B5           03073             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09AA   0820           03074             movf r1, W
09AB   1D03           03075             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09AC   2364           03076             call if_x  ;pokud zmena spusti podprig
                      03077     
                      03078     
09AD   0877           03079             movf pri7, W    ;kontroluje zda je zmena od minule
09AE   00A0           03080             movwf r1
09AF   0935           03081             comf ir_x, W
09B0   07A0           03082             addwf r1, F
09B1   0877           03083             movf pri7, W
09B2   0FA0           03084             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09B3   00B5           03085             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09B4   0820           03086             movf r1, W
09B5   1D03           03087             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09B6   2364           03088             call if_x  ;pokud zmena spusti podprig
                      03089 
                      03090 
                      03091 
09B7   158A           03092             bsf PCLATH,3 ;Select page 1
09B8   284A           03093             goto loop      ;zpet v cyklu na zacatek
                      03094         
                      03095         
                      03096         
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03097 
                      03098 
                      03099 
                      03100 
                      03101 
                      03102 
09B9   084B           03103 okna        movf ir_90, W
09BA   39F0           03104             andlw b'11110000' ;odseknu konecnou cast
09BB   00A0           03105             movwf r1
09BC   09A0           03106             comf r1, F ;udelám dvojkový doplněk
09BD   0824           03107             movf o1tar, W
09BE   39F0           03108             andlw b'11110000' ;odseknu konecnou cast
09BF   07A0           03109             addwf r1, F ;sectu s dvojkovym doplnkem
09C0   0803           03110             movf STATUS, W
09C1   00A2           03111             movwf r3
09C2   1922           03112             btfsc r3, Z
09C3   2228           03113             call o1stop
09C4   1922           03114             btfsc r3, Z
09C5   29CA           03115             goto okno2
09C6   1C22           03116             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09C7   21FE           03117             call o1up
09C8   1822           03118             btfsc r3, C ;pokud preteklo, sjed dolu
09C9   2213           03119             call o1down
09CA   084C           03120 okno2       movf ir_91, W
09CB   39F0           03121             andlw b'11110000' ;odseknu konecnou cast
09CC   00A0           03122             movwf r1
09CD   09A0           03123             comf r1, F ;udelám dvojkový doplněk
09CE   0825           03124             movf o2tar, W
09CF   39F0           03125             andlw b'11110000' ;odseknu konecnou cast
09D0   07A0           03126             addwf r1, F ;sectu s dvojkovym doplnkem
09D1   0803           03127             movf STATUS, W
09D2   00A2           03128             movwf r3
09D3   1922           03129             btfsc r3, Z
09D4   2267           03130             call o2stop
09D5   1922           03131             btfsc r3, Z
09D6   29DB           03132             goto okno3
09D7   1C22           03133             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09D8   223D           03134             call o2up
09D9   1822           03135             btfsc r3, C ;pokud preteklo, sjed dolu
09DA   2252           03136             call o2down
09DB   084D           03137 okno3       movf ir_92, W
09DC   39F0           03138             andlw b'11110000' ;odseknu konecnou cast
09DD   00A0           03139             movwf r1
09DE   09A0           03140             comf r1, F ;udelám dvojkový doplněk
09DF   0826           03141             movf o3tar, W
09E0   39F0           03142             andlw b'11110000' ;odseknu konecnou cast
09E1   07A0           03143             addwf r1, F ;sectu s dvojkovym doplnkem
09E2   0803           03144             movf STATUS, W
09E3   00A2           03145             movwf r3
09E4   1922           03146             btfsc r3, Z
09E5   22A6           03147             call o3stop
09E6   1922           03148             btfsc r3, Z
09E7   29EC           03149             goto okno4
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09E8   1C22           03150             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09E9   227C           03151             call o3up
09EA   1822           03152             btfsc r3, C ;pokud preteklo, sjed dolu
09EB   2291           03153             call o3down
09EC   084E           03154 okno4       movf ir_93, W
09ED   39F0           03155             andlw b'11110000' ;odseknu konecnou cast
09EE   00A0           03156             movwf r1
09EF   09A0           03157             comf r1, F ;udelám dvojkový doplněk
09F0   0827           03158             movf o4tar, W
09F1   39F0           03159             andlw b'11110000' ;odseknu konecnou cast
09F2   07A0           03160             addwf r1, F ;sectu s dvojkovym doplnkem
09F3   0803           03161             movf STATUS, W
09F4   00A2           03162             movwf r3
09F5   1922           03163             btfsc r3, Z
09F6   22E5           03164             call o4stop
09F7   1922           03165             btfsc r3, Z
09F8   0008           03166             return
09F9   1C22           03167             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09FA   22BB           03168             call o4up
09FB   1822           03169             btfsc r3, C ;pokud preteklo, sjed dolu
09FC   22D0           03170             call o4down
09FD   0008           03171             return
                      03172 
                      03173 ;okno 1 nahoru, dolu, zastavit
09FE   19A9           03174 o1up        btfsc o_a, 3
09FF   2A08           03175             goto no1up
0A00   301D           03176             movlw b'11101' ;port D5
0A01   00D2           03177             movwf port
0A02   3003           03178             movlw b'11' ;procesor 3
0A03   00D3           03179             movwf prc
                      03180         
0A04   118A           03181             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A05   21FF           03182             call setout ;smaz port v prc
0A06   158A           03183             bsf PCLATH,3 ;Select page 1
0A07   15A9           03184             bsf o_a, 3 
0A08   1FA9           03185 no1up       btfss o_a, 7
0A09   0008           03186             return
0A0A   300C           03187             movlw b'01100' ;port B4
0A0B   00D2           03188             movwf port
0A0C   3002           03189             movlw b'10' ;procesor 2
0A0D   00D3           03190             movwf prc
                      03191             
0A0E   118A           03192             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0F   2226           03193             call clrout ;smaz port v prc
0A10   158A           03194             bsf PCLATH,3 ;Select page 1
0A11   13A9           03195             bcf o_a, 7             
0A12   0008           03196             return
0A13   1DA9           03197 o1down      btfss o_a, 3
0A14   2A1D           03198             goto no1down
0A15   301D           03199             movlw b'11101' ;port D5
0A16   00D2           03200             movwf port
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A17   3003           03201             movlw b'11' ;procesor 3
0A18   00D3           03202             movwf prc
                      03203             
0A19   118A           03204             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A1A   2226           03205             call clrout ;smaz port v prc
0A1B   158A           03206             bsf PCLATH,3 ;Select page 1
0A1C   11A9           03207             bcf o_a, 3 
0A1D   1BA9           03208 no1down     btfsc o_a, 7
0A1E   0008           03209             return
0A1F   300C           03210             movlw b'01100' ;port B4
0A20   00D2           03211             movwf port
0A21   3002           03212             movlw b'10' ;procesor 2
0A22   00D3           03213             movwf prc
                      03214             
0A23   118A           03215             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A24   21FF           03216             call setout ;smaz port v prc
0A25   158A           03217             bsf PCLATH,3 ;Select page 1
0A26   17A9           03218             bsf o_a, 7             
0A27   0008           03219             return
0A28   1DA9           03220 o1stop      btfss o_a, 3
0A29   2A32           03221             goto no1stop
0A2A   301D           03222             movlw b'11101' ;port D5
0A2B   00D2           03223             movwf port
0A2C   3003           03224             movlw b'11' ;procesor 3
0A2D   00D3           03225             movwf prc
                      03226             
0A2E   118A           03227             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2F   2226           03228             call clrout ;smaz port v prc
0A30   158A           03229             bsf PCLATH,3 ;Select page 1
0A31   11A9           03230             bcf o_a, 3 
0A32   1FA9           03231 no1stop     btfss o_a, 7
0A33   0008           03232             return
0A34   300C           03233             movlw b'01100' ;port B4
0A35   00D2           03234             movwf port
0A36   3002           03235             movlw b'10' ;procesor 2
0A37   00D3           03236             movwf prc
                      03237             
0A38   118A           03238             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A39   2226           03239             call clrout ;smaz port v prc
0A3A   158A           03240             bsf PCLATH,3 ;Select page 1
0A3B   13A9           03241             bcf o_a, 7             
0A3C   0008           03242             return
                      03243 ;okno 2 nahoru, dolu, zastavit
0A3D   1A29           03244 o2up        btfsc o_a, 4
0A3E   2A47           03245             goto no2up
0A3F   3018           03246             movlw b'11000' ;port D0
0A40   00D2           03247             movwf port
0A41   3002           03248             movlw b'10' ;procesor 2
0A42   00D3           03249             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03250             
0A43   118A           03251             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A44   21FF           03252             call setout ;smaz port v prc
0A45   158A           03253             bsf PCLATH,3 ;Select page 1
0A46   1629           03254             bsf o_a, 4 
0A47   1C2A           03255 no2up       btfss o_b, 0
0A48   0008           03256             return
0A49   300D           03257             movlw b'01101' ;port B5
0A4A   00D2           03258             movwf port
0A4B   3002           03259             movlw b'10' ;procesor 2
0A4C   00D3           03260             movwf prc
                      03261             
0A4D   118A           03262             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4E   2226           03263             call clrout ;smaz port v prc
0A4F   158A           03264             bsf PCLATH,3 ;Select page 1
0A50   102A           03265             bcf o_b, 0             
0A51   0008           03266             return
0A52   1E29           03267 o2down      btfss o_a, 4
0A53   2A5C           03268             goto no2down
0A54   3018           03269             movlw b'11000' ;port D0
0A55   00D2           03270             movwf port
0A56   3002           03271             movlw b'10' ;procesor 2
0A57   00D3           03272             movwf prc
                      03273             
0A58   118A           03274             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A59   2226           03275             call clrout ;smaz port v prc
0A5A   158A           03276             bsf PCLATH,3 ;Select page 1
0A5B   1229           03277             bcf o_a, 4 
0A5C   182A           03278 no2down     btfsc o_b, 0
0A5D   0008           03279             return
0A5E   300D           03280             movlw b'01101' ;port B5
0A5F   00D2           03281             movwf port
0A60   3002           03282             movlw b'10' ;procesor 2
0A61   00D3           03283             movwf prc
                      03284             
0A62   118A           03285             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A63   21FF           03286             call setout ;smaz port v prc
0A64   158A           03287             bsf PCLATH,3 ;Select page 1
0A65   142A           03288             bsf o_b, 0             
0A66   0008           03289             return
0A67   1E29           03290 o2stop      btfss o_a, 4
0A68   2A71           03291             goto no2stop
0A69   3018           03292             movlw b'11000' ;port D0
0A6A   00D2           03293             movwf port
0A6B   3002           03294             movlw b'10' ;procesor 2
0A6C   00D3           03295             movwf prc
                      03296             
0A6D   118A           03297             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A6E   2226           03298             call clrout ;smaz port v prc
0A6F   158A           03299             bsf PCLATH,3 ;Select page 1
0A70   1229           03300             bcf o_a, 4 
0A71   1C2A           03301 no2stop     btfss o_b, 0
0A72   0008           03302             return
0A73   300D           03303             movlw b'01101' ;port B5
0A74   00D2           03304             movwf port
0A75   3002           03305             movlw b'10' ;procesor 2
0A76   00D3           03306             movwf prc
                      03307             
0A77   118A           03308             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A78   2226           03309             call clrout ;smaz port v prc
0A79   158A           03310             bsf PCLATH,3 ;Select page 1
0A7A   102A           03311             bcf o_b, 0             
0A7B   0008           03312             return
                      03313 ;okno 3 nahoru, dolu, zastavit
0A7C   1AA9           03314 o3up        btfsc o_a, 5
0A7D   2A86           03315             goto no3up
0A7E   300A           03316             movlw b'01010' ;port B2
0A7F   00D2           03317             movwf port
0A80   3002           03318             movlw b'10' ;procesor 2
0A81   00D3           03319             movwf prc
                      03320             
0A82   118A           03321             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A83   21FF           03322             call setout ;smaz port v prc
0A84   158A           03323             bsf PCLATH,3 ;Select page 1
0A85   16A9           03324             bsf o_a, 5 
0A86   1CAA           03325 no3up       btfss o_b, 1
0A87   0008           03326             return
0A88   300E           03327             movlw b'01110' ;port B6
0A89   00D2           03328             movwf port
0A8A   3002           03329             movlw b'10' ;procesor 2
0A8B   00D3           03330             movwf prc
                      03331             
0A8C   118A           03332             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8D   2226           03333             call clrout ;smaz port v prc
0A8E   158A           03334             bsf PCLATH,3 ;Select page 1
0A8F   10AA           03335             bcf o_b, 1             
0A90   0008           03336             return
0A91   1EA9           03337 o3down      btfss o_a, 5
0A92   2A9B           03338             goto no3down
0A93   300A           03339             movlw b'01010' ;port B2
0A94   00D2           03340             movwf port
0A95   3002           03341             movlw b'10' ;procesor 2
0A96   00D3           03342             movwf prc
                      03343             
0A97   118A           03344             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A98   2226           03345             call clrout ;smaz port v prc
0A99   158A           03346             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A9A   12A9           03347             bcf o_a, 5 
0A9B   18AA           03348 no3down     btfsc o_b, 1
0A9C   0008           03349             return
0A9D   300E           03350             movlw b'01110' ;port B6
0A9E   00D2           03351             movwf port
0A9F   3002           03352             movlw b'10' ;procesor 2
0AA0   00D3           03353             movwf prc
                      03354             
0AA1   118A           03355             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA2   21FF           03356             call setout ;smaz port v prc
0AA3   158A           03357             bsf PCLATH,3 ;Select page 1
0AA4   14AA           03358             bsf o_b, 1             
0AA5   0008           03359             return
0AA6   1EA9           03360 o3stop      btfss o_a, 5
0AA7   2AB0           03361             goto no3stop
0AA8   300A           03362             movlw b'01010' ;port B2
0AA9   00D2           03363             movwf port
0AAA   3002           03364             movlw b'10' ;procesor 2
0AAB   00D3           03365             movwf prc
                      03366             
0AAC   118A           03367             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAD   2226           03368             call clrout ;smaz port v prc
0AAE   158A           03369             bsf PCLATH,3 ;Select page 1
0AAF   12A9           03370             bcf o_a, 5 
0AB0   1CAA           03371 no3stop     btfss o_b, 1
0AB1   0008           03372             return
0AB2   300E           03373             movlw b'01110' ;port B6
0AB3   00D2           03374             movwf port
0AB4   3002           03375             movlw b'10' ;procesor 2
0AB5   00D3           03376             movwf prc
                      03377             
0AB6   118A           03378             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB7   2226           03379             call clrout ;smaz port v prc
0AB8   158A           03380             bsf PCLATH,3 ;Select page 1
0AB9   10AA           03381             bcf o_b, 1             
0ABA   0008           03382             return
                      03383 ;okno 4 nahoru, dolu, zastavit
0ABB   1B29           03384 o4up        btfsc o_a, 6
0ABC   2AC5           03385             goto no4up
0ABD   300B           03386             movlw b'01011' ;port B3
0ABE   00D2           03387             movwf port
0ABF   3002           03388             movlw b'10' ;procesor 2
0AC0   00D3           03389             movwf prc
                      03390             
0AC1   118A           03391             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC2   21FF           03392             call setout ;smaz port v prc
0AC3   158A           03393             bsf PCLATH,3 ;Select page 1
0AC4   1729           03394             bsf o_a, 6 
0AC5   1D2A           03395 no4up       btfss o_b, 2
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AC6   0008           03396             return
0AC7   300F           03397             movlw b'01111' ;port B7
0AC8   00D2           03398             movwf port
0AC9   3002           03399             movlw b'10' ;procesor 2
0ACA   00D3           03400             movwf prc
                      03401             
0ACB   118A           03402             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACC   2226           03403             call clrout ;smaz port v prc
0ACD   158A           03404             bsf PCLATH,3 ;Select page 1
0ACE   112A           03405             bcf o_b, 2             
0ACF   0008           03406             return
0AD0   1F29           03407 o4down      btfss o_a, 6
0AD1   2ADA           03408             goto no4down
0AD2   300B           03409             movlw b'01011' ;port B3
0AD3   00D2           03410             movwf port
0AD4   3002           03411             movlw b'10' ;procesor 2
0AD5   00D3           03412             movwf prc
                      03413             
0AD6   118A           03414             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD7   2226           03415             call clrout ;smaz port v prc
0AD8   158A           03416             bsf PCLATH,3 ;Select page 1
0AD9   1329           03417             bcf o_a, 6 
0ADA   192A           03418 no4down     btfsc o_b, 2
0ADB   0008           03419             return
0ADC   300F           03420             movlw b'01111' ;port B7
0ADD   00D2           03421             movwf port
0ADE   3002           03422             movlw b'10' ;procesor 2
0ADF   00D3           03423             movwf prc
                      03424             
0AE0   118A           03425             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AE1   21FF           03426             call setout ;smaz port v prc
0AE2   158A           03427             bsf PCLATH,3 ;Select page 1
0AE3   152A           03428             bsf o_b, 2             
0AE4   0008           03429             return
0AE5   1F29           03430 o4stop      btfss o_a, 6
0AE6   2AEF           03431             goto no4stop
0AE7   300B           03432             movlw b'01011' ;port B3
0AE8   00D2           03433             movwf port
0AE9   3002           03434             movlw b'10' ;procesor 2
0AEA   00D3           03435             movwf prc
                      03436             
0AEB   118A           03437             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AEC   2226           03438             call clrout ;smaz port v prc
0AED   158A           03439             bsf PCLATH,3 ;Select page 1
0AEE   1329           03440             bcf o_a, 6 
0AEF   1D2A           03441 no4stop     btfss o_b, 2
0AF0   0008           03442             return
0AF1   300F           03443             movlw b'01111' ;port B7
0AF2   00D2           03444             movwf port
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AF3   3002           03445             movlw b'10' ;procesor 2
0AF4   00D3           03446             movwf prc
                      03447             
0AF5   118A           03448             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AF6   2226           03449             call clrout ;smaz port v prc
0AF7   158A           03450             bsf PCLATH,3 ;Select page 1
0AF8   112A           03451             bcf o_b, 2             
0AF9   0008           03452             return
                      03453             
                      03454             
                      03455             
                      03456             
                      03457 
                      03458 
                      03459 
                      03460 
0AFA   3032           03461 adconv      movlw .50 ; kolikrat se ma merit vstup
0AFB   00F7           03462             movwf ran2 ; decrementator pro cykl
0AFC   00FA           03463             movwf ran5 ; delitel pro vypocet prumeru
0AFD   0876           03464             movf ran1, W
0AFE   00F8           03465             movwf ran3 ; zachováni ANx vstupu
0AFF   01F2           03466             clrf CIS2_L
0B00   01F3           03467             clrf CIS2_H
                      03468             
0B01   0878           03469 adconv2     movf ran3, W
0B02   00F6           03470             movwf ran1 ; nasteni znova ANx vstupu
0B03   2322           03471             call adconv_one
                      03472             
                      03473             ; pripraveni cisla 1 k pricteni
0B04   01F1           03474             clrf CIS1_H
0B05   0876           03475             movf ran1, W
0B06   00F0           03476             movwf CIS1_L
                      03477             
                      03478             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03479             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03480         
0B07   0870           03481                 movf    CIS1_L,W        ; CIS1_L do W
0B08   0772           03482                 addwf   CIS2_L,W        ; W + CIS2_L do W
0B09   00F4           03483                 movwf   OUT_L           ; W do OUT_L
                      03484         
0B0A   0871           03485                 movf    CIS1_H,W        ; CIS1_H do W
0B0B   1803           03486                 btfsc   STATUS,C
0B0C   3E01           03487                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0B0D   0773           03488                 addwf   CIS2_H,W
0B0E   00F5           03489                 movwf   OUT_H           ; W do OUT_H
                      03490                 
                      03491                 ; ulozi OUT do CIS2
0B0F   0874           03492             movf OUT_L, W
0B10   00F2           03493             movwf CIS2_L
0B11   0875           03494             movf OUT_H, W
0B12   00F3           03495             movwf CIS2_H
                      03496             
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03497             
0B13   0BF7           03498             decfsz ran2, F
0B14   2B01           03499             goto adconv2
                      03500             
                      03501             ; vydeli poctem mereni
0B15   0872           03502             movf CIS2_L, W
0B16   00F0           03503             movwf A1
0B17   0873           03504             movf CIS2_H, W
0B18   00F1           03505             movwf A2
0B19   01F2           03506             clrf A3
                      03507             
0B1A   087A           03508             movf ran5, W
0B1B   00F3           03509             movwf B1
0B1C   01F4           03510             clrf B2
0B1D   01F5           03511             clrf B3
                      03512             
0B1E   2331           03513             call LOMENO24
0B1F   0876           03514             movf C1, W
0B20   00F6           03515             movwf ran1
                      03516             
0B21   0008           03517             return
                      03518         
0B22   1003           03519 adconv_one  bcf STATUS, C
0B23   0DF6           03520             rlf ran1, F
0B24   0DF6           03521             rlf ran1, F
0B25   0DF6           03522             rlf ran1, F
                      03523             
                      03524             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B26   13F6           03525             bcf ran1, 7
0B27   1776           03526             bsf ran1, 6
                      03527             ; 5
                      03528             ; 4
                      03529             ; 3
0B28   1576           03530             bsf ran1, 2
                      03531             ; 1
0B29   1476           03532             bsf ran1, 0
                      03533             
0B2A   0876           03534             movf ran1, W
0B2B   009F           03535             movwf ADCON0
                      03536             
0B2C   191F           03537             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B2D   2B2C           03538             goto $-1
0B2E   081E           03539             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B2F   00F6           03540             movwf ran1
0B30   0008           03541             return
                      03542         
                      03543         
                      03544         
                      03545         
                      03546         
                      03547 ;-------------------------------;
                      03548 ; A1,2,3 / B1,2,3 = C1,2,3
                      03549 ;24Bit, pouze kladna cisla
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03550 ;SZ=1=deleni nulou (B1,2,3=0)
                      03551 ;B se nezmeni, v A bude zbytek
                      03552 ;pouziva D1,2,3; X1
0B31                  03553 LOMENO24
                      03554 ;test B na nulu; sZ=1=ANO
0B31   08F3           03555         MOVF    B1,F
0B32   1903           03556         BTFSC   STATUS,Z        ;nenulove?
0B33   08F4           03557         MOVF    B2,F
0B34   1903           03558         BTFSC   STATUS,Z        ;nenulove?
0B35   08F5           03559         MOVF    B3,F
0B36   1903           03560         BTFSC   STATUS,Z        ;nenulove?
0B37   0008           03561         RETURN                  ;B1,2,3=0
                      03562 ;priprava pro deleni
0B38   0870           03563 LOM24   MOVF    A1,W            ;A do D
0B39   00F9           03564         MOVWF   D1              ;
0B3A   0871           03565         MOVF    A2,W            ;
0B3B   00FA           03566         MOVWF   D2              ;
0B3C   0872           03567         MOVF    A3,W            ;
0B3D   00FB           03568         MOVWF   D3              ;
0B3E   01F0           03569         CLRF    A1              ;nulovat
0B3F   01F1           03570         CLRF    A2              ;
0B40   01F2           03571         CLRF    A3              ;
0B41   3018           03572         MOVLW   24              ;pocet bitu
0B42   00FC           03573         MOVWF   X1              ;
0B43   1003           03574         BCF     STATUS,C        ;SC=0
                      03575 ;deleni
0B44   2356           03576 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B45   1C03           03577         BTFSS   STATUS,C        ;kladny vysledek?
0B46   2B4C           03578         GOTO    LZapor          ;NE
                      03579 ;LKlad
0B47   00F2           03580         MOVWF   A3              ;C do A
0B48   0877           03581         MOVF    C2,W            ;
0B49   00F1           03582         MOVWF   A2              ;
0B4A   0876           03583         MOVF    C1,W            ;
0B4B   00F0           03584         MOVWF   A1              ;
                      03585 
0B4C   0BFC           03586 LZapor  DECFSZ  X1,F            ;-1=0?
0B4D   2B44           03587         GOTO    LDalsi          ;jeste neni konec
                      03588 ;vysledek
0B4E   0D79           03589         RLF     D1,W            ;posledni x2
0B4F   00F6           03590         MOVWF   C1              ; a W do C
0B50   0D7A           03591         RLF     D2,W            ;
0B51   00F7           03592         MOVWF   C2              ;
0B52   0D7B           03593         RLF     D3,W            ;
0B53   00F8           03594         MOVWF   C3              ;
                      03595 
0B54   1103           03596         BCF     STATUS,Z        ;SZ=0
0B55   0008           03597         RETURN
                      03598 
                      03599 
                      03600 ;................................
                      03601 ; D1,2,3 A1,2,3 * 2 a Minus
0B56   0DF9           03602 x2M     RLF     D1,F            ;posuv vlevo
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B57   0DFA           03603         RLF     D2,F            ;
0B58   0DFB           03604         RLF     D3,F            ;
0B59   0DF0           03605         RLF     A1,F            ;
0B5A   0DF1           03606         RLF     A2,F            ;
0B5B   0DF2           03607         RLF     A3,F            ;
                      03608                                 ;pokracuje MINUS
                      03609 ;--------------------------------
                      03610 ; A1,2,3 - B1,2,3 = C1,2,3
                      03611 ;SC=0=zaporny vysledek
                      03612 ;A,B se nezmeni
0B5C   0873           03613 MINUS   MOVF    B1,W            ;W=B1
0B5D   0270           03614         SUBWF   A1,W            ;A1-B1=W
0B5E   00F6           03615         MOVWF   C1              ;C1=W=vysledek1
0B5F   0103           03616         CLRW                    ;W=0
0B60   1C03           03617         BTFSS   STATUS,C        ;SUB kladne?
0B61   3001           03618         MOVLW   1               ;W=1
0B62   0774           03619         ADDWF   B2,W            ;B2+W=W
0B63   01F8           03620         CLRF    C3              ;C3=0
0B64   1803           03621         BTFSC   STATUS,C        ;ADD nepreteklo?
0B65   1478           03622         BSF     C3,0            ;C3=1
0B66   0271           03623         SUBWF   A2,W            ;A2-W=W
0B67   00F7           03624         MOVWF   C2              ;C2=w=vysledek2
0B68   0878           03625         MOVF    C3,W            ;W=C3
0B69   1C03           03626         BTFSS   STATUS,C        ;SUB kladne?
0B6A   3001           03627         MOVLW   1               ;W=1
0B6B   0775           03628         ADDWF   B3,W            ;B3+W=W
0B6C   01F8           03629         CLRF    C3              ;C3=0
0B6D   1803           03630         BTFSC   STATUS,C        ;ADD nepreteklo?
0B6E   1478           03631         BSF     C3,0            ;C3=1
0B6F   0272           03632         SUBWF   A3,W            ;A3-W=W
0B70   1878           03633         BTFSC   C3,0            ;C3=0?
0B71   1003           03634         BCF     STATUS,C        ;SC=0
0B72   00F8           03635         MOVWF   C3              ;C3=W=vysledek3
0B73   0008           03636         RETURN
                      03637 
                      03638 
                      03639         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B44
LEDZAM                            00000002
LOM24                             00000B38
LOMENO24                          00000B31
LZapor                            00000B4C
MINUS                             00000B5C
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AFA
adconv2                           00000B01
adconv_one                        00000B22
alabli                            0000013C
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            00000226
conf                              00000059
dotaz                             00000146
dotazerr                          000001FB
if_127                            00000315
if_128                            00000317
if_49                             000002EF
if_50                             000002E7
if_51                             000002F3
if_52                             000002F5
if_53                             000002F7
if_54                             000002F9
if_55                             000002FB
if_56                             000002FD
if_57                             000002FF
if_58                             0000024D
if_59                             000002E9
if_60                             000002EB
if_61                             000002ED
if_62                             0000029A
if_80                             000002F1
if_84                             00000301
if_85                             00000303
if_86                             00000305
if_87                             00000307
if_88                             00000309
if_89                             0000030B
if_90                             0000030D
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             0000030F
if_92                             00000311
if_93                             00000313
if_x                              00000364
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           000006DD
ledPCRun                          00000078
ledzam                            000006EC
locked                            00000051
loop                              0000084A
lzabli                            000000EA
no1down                           00000A1D
no1stop                           00000A32
no1up                             00000A08
no2down                           00000A5C
no2stop                           00000A71
no2up                             00000A47
no3down                           00000A9B
no3stop                           00000AB0
no3up                             00000A86
no4down                           00000ADA
no4stop                           00000AEF
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

no4up                             00000AC5
o1down                            00000A13
o1stop                            00000A28
o1tar                             00000024
o1tmp                             00000020
o1up                              000009FE
o2down                            00000A52
o2stop                            00000A67
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A3D
o3down                            00000A91
o3stop                            00000AA6
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A7C
o4down                            00000AD0
o4stop                            00000AE5
o4tar                             00000027
o4tmp                             00000023
o4up                              00000ABB
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            00000107
okna                              000009B9
okno2                             000009CA
okno3                             000009DB
okno4                             000009EC
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

r5                                00000024
r6                                00000025
radio                             00000060
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000D9
s_temp                            00000027
setout                            000001FF
sirbeep                           000000A5
spinac                            00000064
spioff                            00000102
start                             00000827
t1_00                             000003AD
t1_01                             000003D0
t1_02                             000003F1
t1_03                             00000419
t1_04                             0000043F
t1_05                             0000046E
t1_06                             0000048E
t1_07                             000004CA
t1_08                             000004D8
t1_09                             000004E6
t1_10                             000004E8
t1_11                             000004F2
t1_12                             000004F9
t1_13                             00000502
t1_14                             0000050B
t1_15                             00000512
t1_16                             00000519
t1_17                             00000520
t1_18                             00000522
t1_19                             00000524
t1_20                             00000526
t1_21                             0000052D
t1_22                             00000534
t1_23                             0000053B
t1_24                             00000542
t1_25                             00000549
t1_26                             00000550
t1_27                             0000055F
t1_28                             00000561
t1_29                             00000563
t1_30                             00000565
t1_31                             0000056E
t1_32                             00000577
t1_33                             00000582
t1_34                             0000058D
t1_35                             00000596
t1_36                             0000059F
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

t1_37                             000005AA
t1_38                             000005BA
t1_39                             000005BC
t1_40                             000005BE
t1_41                             000005CD
t1_42                             000005DC
t1_43                             000005EB
t1_44                             000005FA
t1_45                             00000609
t1_46                             0000060D
t1_47                             00000611
t1_48                             00000620
t1_49                             00000622
t1_50                             00000624
t1_51                             0000062B
t1_52                             0000062F
t1_53                             00000633
t1_54                             00000642
t1_55                             00000651
t1_56                             00000655
t1_57                             0000066F
t1_58                             00000671
t1_59                             00000673
t1_60                             00000675
t1_61                             00000680
t1_62                             0000068F
t1_63                             0000069E
t1_64                             000006A8
t1_65                             000006B2
t1_66                             000006BC
t1_67                             000006C6
t1_68                             000006C8
t1_69                             000006CA
t1_stop                           00000366
t1_x                              000006CC
t2_02                             0000040C
t2_03                             00000432
t2_37                             000005B3
t2_stop                           00000368
t3_02                             00000415
t3_03                             0000043B
t3_stop                           0000036A
timala                            00000067
timer1                            00000062
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           0000036C
varoff                            000000AE
vterina                           0000006C
vterinka                          00000077
w100c                             000006D3
w20i                              000006CE
w40c                              000006D8
w_temp                            00000026
watchover                         00000057
watchstart                        00000059
watchwait                         0000005C
wtuoff                            000000F1
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B56


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-15-2012  17:33:59         PAGE 83


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXX-----
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXX------------

All other memory blocks unused.

Program Memory Words Used:  2668
Program Memory Words Free:  1428


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    99 reported,     0 suppressed

