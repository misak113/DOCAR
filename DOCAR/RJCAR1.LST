MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
                      00097       ; registr 79/96
                      00098       endc
                      00099 
                      00100 ; BANK 1
                      00101       cblock    0x20
                      00102 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000020            00103 o1tmp       
  00000021            00104 o2tmp       
  00000022            00105 o3tmp       
  00000023            00106 o4tmp       
  00000024            00107 o1tar       
  00000025            00108 o2tar       
  00000026            00109 o3tar       
  00000027            00110 o4tar       
                      00111       endc
                      00112 
                      00113 
                      00114 ;Lokální proměne (pracovni a parametry) od 6D
                      00115       cblock 0x70
  00000070            00116 pri0       
  00000071            00117 pri1       
  00000072            00118 pri2        
  00000073            00119 pri3      
  00000074            00120 pri4        
  00000075            00121 pri5       
  00000076            00122 pri6    
  00000077            00123 pri7        
  00000078            00124 cil       
                      00125       endc  
                      00126 
                      00127       cblock 0x70
  00000070            00128 CIS1_L      
  00000071            00129 CIS1_H      
  00000072            00130 CIS2_L 
  00000073            00131 CIS2_H 
  00000074            00132 OUT_L 
  00000075            00133 OUT_H       
  00000076            00134 ran1      
  00000077            00135 ran2      
  00000078            00136 ran3       
  00000079            00137 ran4    
  0000007A            00138 ran5  
                      00139       endc
                      00140   
                      00141       cblock 0x70
  00000070            00142 A1    
  00000071            00143 A2    
  00000072            00144 A3    
  00000073            00145 B1    
  00000074            00146 B2    
  00000075            00147 B3    
  00000076            00148 C1    
  00000077            00149 C2    
  00000078            00150 C3    
  00000079            00151 D1    
  0000007A            00152 D2    
  0000007B            00153 D3    
  0000007C            00154 X1    
  0000007D            00155 X2    
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007E            00156 FL    
                      00157       endc
                      00158 
                      00159 
                      00160 
                      00161 ;KONSTANTY
                      00162 ;conf constant
  00000000            00163 T0OF        equ .0
  00000001            00164 STARTED     equ .1
  00000002            00165 WATCHOVER   equ .2
  00000003            00166 PCON_POR    equ .3
  00000004            00167 T1OF        equ .4
                      00168 ;casov constant
                      00169 ;VAROV       equ .0
  00000001            00170 REDTUN      equ .1
  00000002            00171 LEDZAM      equ .2
  00000003            00172 WHITUN      equ .3
  00000004            00173 ODSKOK      equ .4
  00000005            00174 ALARM       equ .5
                      00175 
                      00176 ;system constants
  00000001            00177 POR         equ .1
                      00178 
                      00179 
                      00180 
0000                  00181             org 000h        ;vektor zacatku
0000   2816           00182             goto init
                      00183 
0004                  00184             org 004h        ;vektor preruseni
0004   00A6           00185             movwf w_temp ;copy w to temp register
0005   0803           00186             movf STATUS, W ;swap status to be saved into w
0006   00A7           00187             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00188             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00189             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00190             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00191             
000A   118A           00192             bcf PCLATH,3 ;Select page 0
000B   204E           00193             call inter
                      00194         
000C   0828           00195             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00196             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00197             movf s_temp, W ;swap status_temp register into w
000F   0083           00198             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00199             movf w_temp, W ;
0011   1D27           00200             btfss s_temp, Z
0012   1103           00201             bcf STATUS, Z
0013   1927           00202             btfsc s_temp, Z
0014   1503           00203             bsf STATUS, Z
0015   0008           00204             return
                      00205 
0016   118A           00206 init        bcf PCLATH,3 ;Select page 0
0017   120A           00207             bcf PCLATH,4 ;Select page 0
                      00208                 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0018   0185           00209             clrf PORTA      ;Init PORTS 
0019   0186           00210             clrf PORTB
001A   0187           00211             clrf PORTC
001B   0188           00212             clrf PORTD
001C   0189           00213             clrf PORTE
                      00214             
001D   1683           00215             bsf STATUS, RP0  ;Bank 1
                      00216             
001E   3049           00217             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00218             movwf ADCON1
                      00219     
0020   302F           00220             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00221             movwf TRISA
0022   3001           00222             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00223             movwf TRISB
0024   3000           00224             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00225             movwf TRISC
0026   3000           00226             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00227             movwf TRISD
0028   3001           00228             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00229             movwf TRISE
                      00230             
002A   0064           00231             clrwdt
002B   30CC           00232             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00233             movwf OPTION_REG
                      00234             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00235             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00236             bsf PCON, POR
                      00237 
002F   1283           00238             bcf STATUS, RP0 ;Bank 0
                      00239 
0030   00A0           00240             movwf r1
0031   11D9           00241             bcf conf, PCON_POR
0032   18A0           00242             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00243             bsf conf, PCON_POR
                      00244 
                      00245 
0034   3021           00246             movlw b'00100001' ; nastaví control register timer1
0035   0090           00247             movwf T1CON
0036   3046           00248             movlw b'01000110' ; nastaví control register timer2
0037   0092           00249             movwf T2CON
                      00250             
0038   203D           00251             call inton
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00252             
                      00253             
0039   158A           00254             bsf PCLATH,3 ;Select page 1
003A   19D9           00255             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00256             goto restart
                      00257 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2819           00258             goto start      ;zacni na startu
                      00259         
                      00260         
                      00261         
                      00262 
003D   108B           00263 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00264             bsf INTCON, INTE
                      00265             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00266             ;bsf INTCON, T0IE
003F   100C           00267             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00268             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00269             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00270             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00271             bsf PIE1, TMR2IE
0044   1283           00272             bcf STATUS, RP0 ;Bank 0
0045   170B           00273             bsf INTCON, PEIE
0046   178B           00274             bsf INTCON, GIE
0047   0008           00275             return
                      00276         
0048   120B           00277 intoff      bcf INTCON, INTE
                      00278             ;bcf INTCON, T0IE
0049   1683           00279             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00280             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00281             bcf PIE1, TMR2IE
004C   1283           00282             bcf STATUS, RP0 ;Bank 0
004D   0008           00283             return
                      00284 
                      00285 
                      00286 
004E   2048           00287 inter       call intoff
                      00288       
004F   188B           00289             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2062           00290             call radio
0051   190B           00291             btfsc INTCON, T0IF
0052   1459           00292             bsf conf, T0OF
0053   180C           00293             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0054   1659           00294             bsf conf, T1OF
0055   188C           00295             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0056   2059           00296             call watchover
                      00297             
0057   203D           00298             call inton
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0058   0008           00299             return
                      00300 
                      00301 ;pokud přetekl timer2 pro watch
0059   1559           00302 watchover   bsf conf, WATCHOVER
005A   0008           00303             return
                      00304             
                      00305 ;Zapnutí stopek pro kontrolu zacyklení - timer2
005B   1159           00306 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005C   0191           00307             clrf TMR2 ;vynuluje timer2
005D   0008           00308             return
                      00309             
005E   1D59           00310 watchwait   btfss conf, WATCHOVER
005F   285E           00311             goto $-1
                      00312             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
0060   26D8           00313             call w100c
0061   0008           00314             return
                      00315 
                      00316 ;při zachyceni signalu na radiovem přijímači        
0062   0000           00317 radio       nop
0063   0008           00318             return
                      00319 
0064   0000           00320 timer0      nop
                      00321             
0065   1059           00322             bcf conf, T0OF
0066   0008           00323             return
                      00324 
                      00325 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0067   1858           00326 timer1      btfsc cassir, 0
0068   2079           00327             call sirbeep
0069   186B           00328             btfsc casvar, 0
006A   2082           00329             call varoff
006B   18DA           00330             btfsc casov, REDTUN
006C   20AD           00331             call rtuoff
006D   195A           00332             btfsc casov, LEDZAM
006E   20BE           00333             call lzabli
006F   19DA           00334             btfsc casov, WHITUN
0070   20C5           00335             call wtuoff
0071   1A5A           00336             btfsc casov, ODSKOK
0072   20DB           00337             call odsoff
0073   1ADA           00338             btfsc casov, ALARM
0074   2110           00339             call alabli
0075   1964           00340             btfsc spinac, 2
0076   20D6           00341             call spioff
                      00342 
0077   1259           00343             bcf conf, T1OF
0078   0008           00344             return
                      00345             
                      00346 ;houkani sireny v intervalech cca 240ms        
0079   03D7           00347 sirbeep     decf timsir, F
007A   1D03           00348             btfss STATUS, Z
007B   0008           00349             return
007C   1003           00350             bcf STATUS, C
007D   0CD8           00351             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007E   2631           00352             call t1_53 ;neguje houkani sireny
007F   3003           00353             movlw .3 ;nastavy na dalsich 240ms
0080   00D7           00354             movwf timsir
0081   0008           00355             return
                      00356             
                      00357 ;blikani varovek
0082   03DB           00358 varoff      decf timvar, F
0083   1D03           00359             btfss STATUS, Z
0084   0008           00360             return
0085   0CEB           00361             rrf casvar, F
0086   1C03           00362             btfss STATUS, C
0087   13EB           00363             bcf casvar, 7
0088   1803           00364             btfsc STATUS, C
0089   17EB           00365             bsf casvar, 7
                      00366             
008A   01A1           00367             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
008B   01A2           00368             clrf r3
008C   1A2D           00369             btfsc o_e, 4
008D   1421           00370             bsf r2, 0
008E   1AAD           00371             btfsc o_e, 5
008F   1422           00372             bsf r3, 0
0090   0821           00373             movf r2, W
0091   05A2           00374             andwf r3, F
                      00375             
0092   1822           00376             btfsc r3, 0 ;pokud oba zaply oba vypne
0093   122D           00377             bcf o_e, 4
0094   1822           00378             btfsc r3, 0 ;pokud oba zaply oba vypne
0095   1361           00379             bcf PORTD_temp, 6
0096   1822           00380             btfsc r3, 0 ;pokud oba zaply oba vypne
0097   1308           00381             bcf PORTD, 6
0098   1822           00382             btfsc r3, 0 ;pokud oba zaply oba vypne
0099   12AD           00383             bcf o_e, 5
009A   1822           00384             btfsc r3, 0 ;pokud oba zaply oba vypne
009B   13E1           00385             bcf PORTD_temp, 7
009C   1822           00386             btfsc r3, 0 ;pokud oba zaply oba vypne
009D   1388           00387             bcf PORTD, 7
                      00388     
009E   1C22           00389             btfss r3, 0 ;pokud jeden vyply oba zapne
009F   162D           00390             bsf o_e, 4
00A0   1C22           00391             btfss r3, 0 ;pokud jeden vyply oba zapne
00A1   1761           00392             bsf PORTD_temp, 6
00A2   1C22           00393             btfss r3, 0 ;pokud jeden vyply oba zapne
00A3   1708           00394             bsf PORTD, 6
00A4   1C22           00395             btfss r3, 0 ;pokud jeden vyply oba zapne
00A5   16AD           00396             bsf o_e, 5
00A6   1C22           00397             btfss r3, 0 ;pokud jeden vyply oba zapne
00A7   17E1           00398             bsf PORTD_temp, 7
00A8   1C22           00399             btfss r3, 0 ;pokud jeden vyply oba zapne
00A9   1788           00400             bsf PORTD, 7
                      00401             
00AA   3008           00402             movlw .8 ;nastavy na dalsich 240ms
00AB   00DB           00403             movwf timvar
00AC   0008           00404             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00405 
                      00406 ;vypnuti red tuning
00AD   03DC           00407 rtuoff      decf timrtu, F
00AE   1D03           00408             btfss STATUS, Z
00AF   0008           00409             return
00B0   112B           00410             bcf o_c, 2 ;vypne red tunning
00B1   3016           00411             movlw b'10110' ;port C6
00B2   00D2           00412             movwf port
00B3   3002           00413             movlw b'10' ;procesor 2
00B4   00D3           00414             movwf prc
00B5   21FB           00415             call clrout ;smaz port v prc
00B6   11AE           00416             bcf o_f, 3 ;vypne red interier
00B7   301A           00417             movlw b'11010' ;port D2
00B8   00D2           00418             movwf port
00B9   3002           00419             movlw b'10' ;procesor 2
00BA   00D3           00420             movwf prc
00BB   21FB           00421             call clrout ;smaz port v prc
00BC   10DA           00422             bcf casov, REDTUN ;timer red tunningu nebude vniman
00BD   0008           00423             return
                      00424             
                      00425 ;blikani led zamknuto
00BE   03DD           00426 lzabli      decf timlza, F
00BF   1D03           00427             btfss STATUS, Z
00C0   0008           00428             return
00C1   26F1           00429             call ledzam ;neguje led zamknuto
00C2   300F           00430             movlw .15 ;nasavy na dalsich 240ms
00C3   00DD           00431             movwf timlza
00C4   0008           00432             return
                      00433             
                      00434 ;vypnuti white tuning
00C5   03E3           00435 wtuoff      decf timwtu, F
00C6   1D03           00436             btfss STATUS, Z
00C7   0008           00437             return
00C8   11AB           00438             bcf o_c, 3 ;vypne white tunning
00C9   3017           00439             movlw b'10111' ;port C7
00CA   00D2           00440             movwf port
00CB   3002           00441             movlw b'10' ;procesor 2
00CC   00D3           00442             movwf prc
00CD   21FB           00443             call clrout ;smaz port v prc
00CE   122E           00444             bcf o_f, 4 ;vypne white interier
00CF   301B           00445             movlw b'11011' ;port D3
00D0   00D2           00446             movwf port
00D1   3002           00447             movlw b'10' ;procesor 2
00D2   00D3           00448             movwf prc
00D3   21FB           00449             call clrout ;smaz port v prc
00D4   11DA           00450             bcf casov, WHITUN ;timer red tunningu nebude vniman
00D5   0008           00451             return
                      00452             
                      00453 ;vypnuti polohy 3 spinacky
00D6   03E5           00454 spioff      decf timspi, F
00D7   1D03           00455             btfss STATUS, Z
00D8   0008           00456             return
00D9   2410           00457             call t1_03
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00DA   0008           00458             return
                      00459             
                      00460 ;vypnuti odskoků
00DB   03E6           00461 odsoff      decf timods, F
00DC   1D03           00462             btfss STATUS, Z
00DD   0008           00463             return
00DE   122A           00464             bcf o_b, 4
00DF   301F           00465             movlw b'11111' ;port D7
00E0   00D2           00466             movwf port
00E1   3003           00467             movlw b'11' ;procesor 3
00E2   00D3           00468             movwf prc
00E3   21FB           00469             call clrout ;smaz port v prc
00E4   12AA           00470             bcf o_b, 5
00E5   13E0           00471             bcf PORTC_temp, 7
00E6   1387           00472             bcf PORTC, 7
00E7   132A           00473             bcf o_b, 6
00E8   115F           00474             bcf PORTB_temp, 2
00E9   1106           00475             bcf PORTB, 2
00EA   13AA           00476             bcf o_b, 7
00EB   11DF           00477             bcf PORTB_temp, 3
00EC   1186           00478             bcf PORTB, 3
00ED   11AA           00479             bcf o_b, 3
00EE   125F           00480             bcf PORTB_temp, 4
00EF   1206           00481             bcf PORTB, 4
00F0   102D           00482             bcf o_e, 0
00F1   12DF           00483             bcf PORTB_temp, 5
00F2   1286           00484             bcf PORTB, 5
00F3   102B           00485             bcf o_c, 0
00F4   135F           00486             bcf PORTB_temp, 6
00F5   1306           00487             bcf PORTB, 6
                      00488 
00F6   13AD           00489             bcf o_e, 7
00F7   301E           00490             movlw b'11110' ;port D6
00F8   00D2           00491             movwf port
00F9   3002           00492             movlw b'10' ;procesor 2
00FA   00D3           00493             movwf prc
00FB   21FB           00494             call clrout ;nastav port v prc
00FC   132D           00495             bcf o_e, 6
00FD   301C           00496             movlw b'11100' ;port D4
00FE   00D2           00497             movwf port
00FF   3002           00498             movlw b'10' ;procesor 2
0100   00D3           00499             movwf prc
0101   21FB           00500             call clrout ;nastav port v prc
0102   12AE           00501             bcf o_f, 5
0103   301D           00502             movlw b'11101' ;port D5
0104   00D2           00503             movwf port
0105   3002           00504             movlw b'10' ;procesor 2
0106   00D3           00505             movwf prc
0107   21FB           00506             call clrout ;nastav port v prc
0108   102E           00507             bcf o_f, 0
0109   301F           00508             movlw b'11111' ;port D7
010A   00D2           00509             movwf port
010B   3002           00510             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

010C   00D3           00511             movwf prc
010D   21FB           00512             call clrout ;nastav port v prc
                      00513 
010E   125A           00514             bcf casov, ODSKOK ;timer red tunningu nebude vniman
010F   0008           00515             return
                      00516             
                      00517 ;Problikavani alarmu
0110   03E7           00518 alabli      decf timala, F
0111   1D03           00519             btfss STATUS, Z
0112   0008           00520             return
                      00521 
0113   25BC           00522             call t1_40
0114   25CB           00523             call t1_41
0115   2685           00524             call t1_61
0116   2694           00525             call t1_62
0117   26E2           00526             call klakson
                      00527             
0118   3014           00528             movlw .20 ;nasavy na dalsich 240ms
0119   00E7           00529             movwf timala
011A   0008           00530             return
                      00531 
                      00532 
                      00533 
                      00534 
                      00535 
                      00536 
011B   1486           00537 dotaz       bsf PORTB, 1  ;start bity XX - 10
011C   26D8           00538             call w100c
011D   1086           00539             bcf PORTB, 1
011E   26D8           00540             call w100c
                      00541             
011F   0878           00542             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
0120   00A0           00543             movwf r1
0121   3004           00544             movlw .4
0122   00A1           00545             movwf r2
0123   19A0           00546             btfsc r1, 3
0124   1486           00547             bsf PORTB, 1
0125   1DA0           00548             btfss r1, 3
0126   1086           00549             bcf PORTB, 1
0127   26D8           00550             call w100c
0128   0DA0           00551             rlf r1, F
0129   0BA1           00552             decfsz r2, F
012A   2923           00553             goto $-7
                      00554             
012B   3000           00555             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
012C   00A0           00556             movwf r1
012D   3007           00557             movlw .7
012E   00A1           00558             movwf r2
012F   1B20           00559             btfsc r1, 6
0130   1486           00560             bsf PORTB, 1
0131   1F20           00561             btfss r1, 6
0132   1086           00562             bcf PORTB, 1
0133   26D8           00563             call w100c
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0134   0DA0           00564             rlf r1, F
0135   0BA1           00565             decfsz r2, F
0136   292F           00566             goto $-7
                      00567             
0137   1486           00568             bsf PORTB, 1  ;STOP bity XXX - 111
0138   26D8           00569             call w100c
0139   26D8           00570             call w100c
013A   26D8           00571             call w100c
013B   1086           00572             bcf PORTB, 1
013C   26DD           00573             call w40c
                      00574             
013D   1683           00575             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
013E   1486           00576             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
013F   1283           00577             bcf STATUS, RP0  ;Bank 0
                      00578             
0140   1959           00579             btfsc conf, WATCHOVER
0141   29D0           00580             goto dotazerr
0142   1C86           00581             btfss PORTB, 1  ;ceka az zacne vysilat signal
0143   2940           00582             goto $-3 ;ochrana proti zamrznuti
                      00583             
0144   1959           00584             btfsc conf, WATCHOVER
0145   29D0           00585             goto dotazerr
0146   1886           00586             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0147   2944           00587             goto $-3 ;ochrana proti zamrznuti
                      00588             
0148   26DD           00589             call w40c   ;posune do prostred signalu X - 0
0149   26D8           00590             call w100c
                      00591             
014A   01F0           00592             clrf pri0        ; ulozi priijate do pri XXXX XXXX
014B   3008           00593             movlw .8
014C   00A1           00594             movwf r2
014D   0DF0           00595             rlf pri0, F
014E   1886           00596             btfsc PORTB, 1
014F   1470           00597             bsf pri0, 0
0150   1C86           00598             btfss PORTB, 1
0151   1070           00599             bcf pri0, 0
0152   26D8           00600             call w100c
0153   0BA1           00601             decfsz r2, F
0154   294D           00602             goto $-7
                      00603             
0155   1959           00604             btfsc conf, WATCHOVER
0156   29D0           00605             goto dotazerr
0157   1886           00606             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0158   2955           00607             goto $-3 ;ochrana proti zamrznuti
0159   26DD           00608             call w40c
015A   26D8           00609             call w100c
                      00610             
                      00611             
015B   01F1           00612             clrf pri1        ; ulozi priijate do pri XXXX XXXX
015C   3008           00613             movlw .8
015D   00A1           00614             movwf r2
015E   0DF1           00615             rlf pri1, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015F   1886           00616             btfsc PORTB, 1
0160   1471           00617             bsf pri1, 0
0161   1C86           00618             btfss PORTB, 1
0162   1071           00619             bcf pri1, 0
0163   26D8           00620             call w100c
0164   0BA1           00621             decfsz r2, F
0165   295E           00622             goto $-7
                      00623             
0166   1959           00624             btfsc conf, WATCHOVER
0167   29D0           00625             goto dotazerr
0168   1886           00626             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0169   2966           00627             goto $-3 ;ochrana proti zamrznuti
016A   26DD           00628             call w40c
016B   26D8           00629             call w100c
                      00630             
                      00631             
016C   01F2           00632             clrf pri2        ; ulozi priijate do pri XXXX XXXX
016D   3008           00633             movlw .8
016E   00A1           00634             movwf r2
016F   0DF2           00635             rlf pri2, F
0170   1886           00636             btfsc PORTB, 1
0171   1472           00637             bsf pri2, 0
0172   1C86           00638             btfss PORTB, 1
0173   1072           00639             bcf pri2, 0
0174   26D8           00640             call w100c
0175   0BA1           00641             decfsz r2, F
0176   296F           00642             goto $-7
                      00643             
0177   1959           00644             btfsc conf, WATCHOVER
0178   29D0           00645             goto dotazerr
0179   1886           00646             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
017A   2977           00647             goto $-3 ;ochrana proti zamrznuti
017B   26DD           00648             call w40c
017C   26D8           00649             call w100c
                      00650             
                      00651             
017D   01F3           00652             clrf pri3        ; ulozi priijate do pri XXXX XXXX
017E   3008           00653             movlw .8
017F   00A1           00654             movwf r2
0180   0DF3           00655             rlf pri3, F
0181   1886           00656             btfsc PORTB, 1
0182   1473           00657             bsf pri3, 0
0183   1C86           00658             btfss PORTB, 1
0184   1073           00659             bcf pri3, 0
0185   26D8           00660             call w100c
0186   0BA1           00661             decfsz r2, F
0187   2980           00662             goto $-7
                      00663             
0188   1959           00664             btfsc conf, WATCHOVER
0189   29D0           00665             goto dotazerr
018A   1886           00666             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
018B   2988           00667             goto $-3 ;ochrana proti zamrznuti
018C   26DD           00668             call w40c
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

018D   26D8           00669             call w100c
                      00670             
                      00671             
018E   01F4           00672             clrf pri4        ; ulozi priijate do pri XXXX XXXX
018F   3008           00673             movlw .8
0190   00A1           00674             movwf r2
0191   0DF4           00675             rlf pri4, F
0192   1886           00676             btfsc PORTB, 1
0193   1474           00677             bsf pri4, 0
0194   1C86           00678             btfss PORTB, 1
0195   1074           00679             bcf pri4, 0
0196   26D8           00680             call w100c
0197   0BA1           00681             decfsz r2, F
0198   2991           00682             goto $-7
                      00683             
0199   1959           00684             btfsc conf, WATCHOVER
019A   29D0           00685             goto dotazerr
019B   1886           00686             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
019C   2999           00687             goto $-3 ;ochrana proti zamrznuti
019D   26DD           00688             call w40c
019E   26D8           00689             call w100c
                      00690             
                      00691             
019F   01F5           00692             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01A0   3008           00693             movlw .8
01A1   00A1           00694             movwf r2
01A2   0DF5           00695             rlf pri5, F
01A3   1886           00696             btfsc PORTB, 1
01A4   1475           00697             bsf pri5, 0
01A5   1C86           00698             btfss PORTB, 1
01A6   1075           00699             bcf pri5, 0
01A7   26D8           00700             call w100c
01A8   0BA1           00701             decfsz r2, F
01A9   29A2           00702             goto $-7
                      00703             
01AA   1959           00704             btfsc conf, WATCHOVER
01AB   29D0           00705             goto dotazerr
01AC   1886           00706             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01AD   29AA           00707             goto $-3 ;ochrana proti zamrznuti
01AE   26DD           00708             call w40c
01AF   26D8           00709             call w100c
                      00710             
                      00711             
01B0   01F6           00712             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01B1   3008           00713             movlw .8
01B2   00A1           00714             movwf r2
01B3   0DF6           00715             rlf pri6, F
01B4   1886           00716             btfsc PORTB, 1
01B5   1476           00717             bsf pri6, 0
01B6   1C86           00718             btfss PORTB, 1
01B7   1076           00719             bcf pri6, 0
01B8   26D8           00720             call w100c
01B9   0BA1           00721             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01BA   29B3           00722             goto $-7
                      00723             
01BB   1959           00724             btfsc conf, WATCHOVER
01BC   29D0           00725             goto dotazerr
01BD   1886           00726             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01BE   29BB           00727             goto $-3 ;ochrana proti zamrznuti
01BF   26DD           00728             call w40c
01C0   26D8           00729             call w100c
                      00730             
                      00731             
01C1   01F7           00732             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01C2   3008           00733             movlw .8
01C3   00A1           00734             movwf r2
01C4   0DF7           00735             rlf pri7, F
01C5   1886           00736             btfsc PORTB, 1
01C6   1477           00737             bsf pri7, 0
01C7   1C86           00738             btfss PORTB, 1
01C8   1077           00739             bcf pri7, 0
01C9   26D8           00740             call w100c
01CA   0BA1           00741             decfsz r2, F
01CB   29C4           00742             goto $-7
                      00743             
01CC   1959           00744             btfsc conf, WATCHOVER
01CD   29D0           00745             goto dotazerr
01CE   1886           00746             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01CF   29CC           00747             goto $-3 ;ochrana proti zamrznuti
                      00748             
                      00749             
01D0   1683           00750 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01D1   1086           00751             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01D2   1283           00752             bcf STATUS, RP0  ;Bank 0
01D3   0008           00753             return
                      00754         
                      00755         ; WATCH2 start
01D4   1486           00756 setout      bsf PORTB, 1  ;start bity XX - 10
01D5   26D8           00757             call w100c
01D6   1086           00758             bcf PORTB, 1
01D7   26D8           00759             call w100c
                      00760             
01D8   0853           00761             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01D9   00A0           00762             movwf r1
01DA   3004           00763             movlw .4
01DB   00A1           00764             movwf r2
01DC   19A0           00765             btfsc r1, 3
01DD   1486           00766             bsf PORTB, 1
01DE   1DA0           00767             btfss r1, 3
01DF   1086           00768             bcf PORTB, 1
01E0   26D8           00769             call w100c
01E1   0DA0           00770             rlf r1, F
01E2   0BA1           00771             decfsz r2, F
01E3   29DC           00772             goto $-7
                      00773             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01E4   1486           00774             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
01E5   26D8           00775             call w100c
                      00776             
01E6   0852           00777             movf port, W   ;vysila port ke zmene XXXXX
01E7   00A0           00778             movwf r1
01E8   3005           00779             movlw .5
01E9   00A1           00780             movwf r2
01EA   1A20           00781             btfsc r1, 4
01EB   1486           00782             bsf PORTB, 1
01EC   1E20           00783             btfss r1, 4
01ED   1086           00784             bcf PORTB, 1
01EE   26D8           00785             call w100c
01EF   0DA0           00786             rlf r1, F
01F0   0BA1           00787             decfsz r2, F
01F1   29EA           00788             goto $-7
                      00789             
01F2   1486           00790             bsf PORTB, 1  ;vysle hodnotu 1
01F3   26D8           00791             call w100c
                      00792             
01F4   1486           00793             bsf PORTB, 1  ;STOP bity XXX - 111
01F5   26D8           00794             call w100c
01F6   26D8           00795             call w100c
01F7   26D8           00796             call w100c
01F8   1086           00797             bcf PORTB, 1
01F9   26D8           00798             call w100c
                      00799             ; WATCH2 wait
01FA   0008           00800             return
                      00801 
                      00802       ; WATCH2 start
01FB   1486           00803 clrout      bsf PORTB, 1  ;start bity XX - 10
01FC   26D8           00804             call w100c
01FD   1086           00805             bcf PORTB, 1
01FE   26D8           00806             call w100c
                      00807             
01FF   0853           00808             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
0200   00A0           00809             movwf r1
0201   3004           00810             movlw .4
0202   00A1           00811             movwf r2
0203   19A0           00812             btfsc r1, 3
0204   1486           00813             bsf PORTB, 1
0205   1DA0           00814             btfss r1, 3
0206   1086           00815             bcf PORTB, 1
0207   26D8           00816             call w100c
0208   0DA0           00817             rlf r1, F
0209   0BA1           00818             decfsz r2, F
020A   2A03           00819             goto $-7
                      00820             
020B   1486           00821             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
020C   26D8           00822             call w100c
                      00823             
020D   0852           00824             movf port, W   ;vysila port ke zmene XXXXX
020E   00A0           00825             movwf r1
020F   3005           00826             movlw .5
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0210   00A1           00827             movwf r2
0211   1A20           00828             btfsc r1, 4
0212   1486           00829             bsf PORTB, 1
0213   1E20           00830             btfss r1, 4
0214   1086           00831             bcf PORTB, 1
0215   26D8           00832             call w100c
0216   0DA0           00833             rlf r1, F
0217   0BA1           00834             decfsz r2, F
0218   2A11           00835             goto $-7
                      00836             
0219   1086           00837             bcf PORTB, 1  ;vysle hodnotu 0
021A   26D8           00838             call w100c
                      00839             
021B   1486           00840             bsf PORTB, 1  ;STOP bity XXX - 111
021C   26D8           00841             call w100c
021D   26D8           00842             call w100c
021E   26D8           00843             call w100c
021F   1086           00844             bcf PORTB, 1
0220   26D8           00845             call w100c
                      00846             ; WATCH2 wait
0221   0008           00847             return
                      00848         
                      00849         
                      00850         
                      00851         
                      00852         
                      00853         
                      00854         
                      00855         
                      00856         
                      00857         
                      00858         
                      00859         ;podprogramy
                      00860 ;Tlačitka funkci 1
0222   1BAC           00861 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0223   0008           00862             return
                      00863             
0224   1003           00864             bcf STATUS, C
0225   0C3F           00865             rrf ir_58, W
0226   00A0           00866             movwf r1
0227   1003           00867             bcf STATUS, C
0228   0CA0           00868             rrf r1, F
0229   1003           00869             bcf STATUS, C
022A   0CA0           00870             rrf r1, F
022B   30E0           00871             movlw b'11100000'
022C   04A0           00872             iorwf r1, F
                      00873             
022D   0820           00874             movf r1, W    ;zkontroluje jestli nebylo uz minule
022E   00A3           00875             movwf r4
022F   0854           00876             movf tl1, W
0230   06A3           00877             xorwf r4, F
0231   1903           00878             btfsc STATUS, Z
0232   0008           00879             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0233   0820           00880             movf r1, W    ;ulozi aktualni tlacitko
0234   00D4           00881             movwf tl1
                      00882             
0235   0AA0           00883             incf r1, F
0236   1903           00884             btfsc STATUS, Z
0237   248C           00885             call t1_06
0238   0AA0           00886             incf r1, F
0239   1903           00887             btfsc STATUS, Z
023A   23E8           00888             call t1_02
023B   0AA0           00889             incf r1, F
023C   1903           00890             btfsc STATUS, Z
023D   2410           00891             call t1_03
023E   0AA0           00892             incf r1, F
023F   1903           00893             btfsc STATUS, Z
0240   246C           00894             call t1_05
0241   0AA0           00895             incf r1, F
0242   1903           00896             btfsc STATUS, Z
0243   25E9           00897             call t1_43
0244   0AA0           00898             incf r1, F
0245   1903           00899             btfsc STATUS, Z
0246   25DA           00900             call t1_42
0247   0AA0           00901             incf r1, F
0248   1903           00902             btfsc STATUS, Z
0249   24C8           00903             call t1_07
024A   0AA0           00904             incf r1, F
024B   1903           00905             btfsc STATUS, Z
024C   24D6           00906             call t1_08
024D   0AA0           00907             incf r1, F
024E   1903           00908             btfsc STATUS, Z
024F   2509           00909             call t1_14
0250   0AA0           00910             incf r1, F
0251   1903           00911             btfsc STATUS, Z
0252   2510           00912             call t1_15
0253   0AA0           00913             incf r1, F
0254   1903           00914             btfsc STATUS, Z
0255   25A8           00915             call t1_37
0256   0AA0           00916             incf r1, F
0257   1903           00917             btfsc STATUS, Z
0258   24E6           00918             call t1_10
0259   0AA0           00919             incf r1, F
025A   1903           00920             btfsc STATUS, Z
025B   24F7           00921             call t1_12
025C   0AA0           00922             incf r1, F
025D   1903           00923             btfsc STATUS, Z
025E   2563           00924             call t1_30
025F   0AA0           00925             incf r1, F
0260   1903           00926             btfsc STATUS, Z
0261   258B           00927             call t1_34
0262   0AA0           00928             incf r1, F
0263   1903           00929             btfsc STATUS, Z
0264   2575           00930             call t1_32
0265   0AA0           00931             incf r1, F
0266   1903           00932             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0267   259D           00933             call t1_36
                      00934             ;pokud je tlacitko prave pusteno
0268   1003           00935             bcf STATUS, C
0269   0C3F           00936             rrf ir_58, W
026A   00A0           00937             movwf r1
026B   0820           00938             movf r1, W
026C   1903           00939             btfsc STATUS, Z
026D   233B           00940             call t1_stop
026E   0008           00941             return
                      00942 
                      00943 ;Tlačitka funkci 2
026F   1BAC           00944 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0270   0008           00945             return
                      00946             
0271   1003           00947             bcf STATUS, C
0272   0C43           00948             rrf ir_62, W
0273   00A0           00949             movwf r1
0274   1003           00950             bcf STATUS, C
0275   0CA0           00951             rrf r1, F
0276   1003           00952             bcf STATUS, C
0277   0CA0           00953             rrf r1, F
0278   30E0           00954             movlw b'11100000'
0279   04A0           00955             iorwf r1, F
                      00956             
027A   0820           00957             movf r1, W    ;zkontroluje jestli nebylo uz minule
027B   00A3           00958             movwf r4
027C   0855           00959             movf tl2, W
027D   06A3           00960             xorwf r4, F
027E   1903           00961             btfsc STATUS, Z
027F   0008           00962             return
0280   0820           00963             movf r1, W    ;ulozi aktualni tlacitko
0281   00D5           00964             movwf tl2
                      00965     
0282   0AA0           00966             incf r1, F
0283   1903           00967             btfsc STATUS, Z
0284   2436           00968             call t1_04
0285   0AA0           00969             incf r1, F
0286   1903           00970             btfsc STATUS, Z
0287   2653           00971             call t1_56
0288   0AA0           00972             incf r1, F
0289   1903           00973             btfsc STATUS, Z
028A   2517           00974             call t1_16
028B   0AA0           00975             incf r1, F
028C   1903           00976             btfsc STATUS, Z
028D   254E           00977             call t1_26
028E   0AA0           00978             incf r1, F
028F   1903           00979             btfsc STATUS, Z
0290   25F8           00980             call t1_44
0291   0AA0           00981             incf r1, F
0292   1903           00982             btfsc STATUS, Z
0293   24F0           00983             call t1_11
0294   0AA0           00984             incf r1, F
0295   1903           00985             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0296   2500           00986             call t1_13
0297   0AA0           00987             incf r1, F
0298   1903           00988             btfsc STATUS, Z
0299   2640           00989             call t1_54
029A   0AA0           00990             incf r1, F
029B   1903           00991             btfsc STATUS, Z
029C   25CB           00992             call t1_41
029D   0AA0           00993             incf r1, F
029E   1903           00994             btfsc STATUS, Z
029F   2694           00995             call t1_62
02A0   0AA0           00996             incf r1, F
02A1   1903           00997             btfsc STATUS, Z
02A2   25BC           00998             call t1_40
02A3   0AA0           00999             incf r1, F
02A4   1903           01000             btfsc STATUS, Z
02A5   2685           01001             call t1_61
02A6   0AA0           01002             incf r1, F
02A7   1903           01003             btfsc STATUS, Z
02A8   256C           01004             call t1_31
02A9   0AA0           01005             incf r1, F
02AA   1903           01006             btfsc STATUS, Z
02AB   2594           01007             call t1_35
02AC   0AA0           01008             incf r1, F
02AD   1903           01009             btfsc STATUS, Z
02AE   2631           01010             call t1_53
02AF   0AA0           01011             incf r1, F
02B0   1903           01012             btfsc STATUS, Z
02B1   2580           01013             call t1_33
02B2   0AA0           01014             incf r1, F
02B3   1903           01015             btfsc STATUS, Z
02B4   267A           01016             call t1_60
                      01017             ;pokud je tlacitko prave pusteno
02B5   1003           01018             bcf STATUS, C
02B6   0C43           01019             rrf ir_62, W
02B7   00A0           01020             movwf r1
02B8   0820           01021             movf r1, W
02B9   1903           01022             btfsc STATUS, Z
02BA   233D           01023             call t2_stop
02BB   0008           01024             return
                      01025 ;Tlačitka imobilizeru
02BC   0000           01026 if_50       nop
02BD   0008           01027             return
                      01028              ;pasy
02BE   0000           01029 if_59       nop
02BF   0008           01030             return
                      01031              ;rychlost
02C0   0000           01032 if_60       nop
02C1   0008           01033             return
                      01034              ;otáčky
02C2   0000           01035 if_61       nop
02C3   0008           01036             return
                      01037              ;teplota in set
02C4   0000           01038 if_49       nop
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02C5   0008           01039             return
                      01040              ;alarm senzory
02C6   0000           01041 if_80       nop
02C7   0008           01042             return
                      01043              ;baterie
02C8   0000           01044 if_51       nop
02C9   0008           01045             return
                      01046              ;teplota in
02CA   0000           01047 if_52       nop
02CB   0008           01048             return
                      01049              ;teplota eng
02CC   0000           01050 if_53       nop
02CD   0008           01051             return
                      01052              ;palivo
02CE   0000           01053 if_54       nop
02CF   0008           01054             return
                      01055              ;dveře 1
02D0   0000           01056 if_55       nop
02D1   0008           01057             return
                      01058              ;ruční brzda
02D2   0000           01059 if_56       nop
02D3   0008           01060             return
                      01061              ;kvalt
02D4   0000           01062 if_57       nop
02D5   0008           01063             return
                      01064              ;dveře 2
02D6   0000           01065 if_84       nop
02D7   0008           01066             return
                      01067              ;dveře 3
02D8   0000           01068 if_85       nop
02D9   0008           01069             return
                      01070              ;dveře 4
02DA   0000           01071 if_86       nop
02DB   0008           01072             return
                      01073              ;kapota
02DC   0000           01074 if_87       nop
02DD   0008           01075             return
                      01076              ;kufr
02DE   0000           01077 if_88       nop
02DF   0008           01078             return
                      01079              ;nadrz
02E0   0000           01080 if_89       nop
02E1   0008           01081             return
                      01082              ;okno 1
02E2   0000           01083 if_90       nop
02E3   0008           01084             return
                      01085              ;okno 2
02E4   0000           01086 if_91       nop
02E5   0008           01087             return
                      01088              ;okno 3
02E6   0000           01089 if_92       nop
02E7   0008           01090             return
                      01091              ;okno 4
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E8   0000           01092 if_93       nop
02E9   0008           01093             return
                      01094              ;teplota OUT
02EA   0000           01095 if_127      nop
02EB   0008           01096             return
                      01097 
                      01098 ;Tlačítka funkcí 3
02EC   1BAC           01099 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
02ED   0000           01100             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01101             
02EE   1003           01102             bcf STATUS, C
02EF   0C50           01103             rrf ir_128, W
02F0   00A0           01104             movwf r1
02F1   1003           01105             bcf STATUS, C
02F2   0CA0           01106             rrf r1, F
02F3   1003           01107             bcf STATUS, C
02F4   0CA0           01108             rrf r1, F
02F5   30E0           01109             movlw b'11100000'
02F6   04A0           01110             iorwf r1, F
                      01111             
02F7   0820           01112             movf r1, W    ;zkontroluje jestli nebylo uz minule
02F8   00A3           01113             movwf r4
02F9   0856           01114             movf tl3, W
02FA   06A3           01115             xorwf r4, F
02FB   1903           01116             btfsc STATUS, Z
02FC   0008           01117             return
02FD   0820           01118             movf r1, W    ;ulozi aktualni tlacitko
02FE   00D6           01119             movwf tl3
                      01120     
02FF   0AA0           01121             incf r1, F
0300   1903           01122             btfsc STATUS, Z
0301   260F           01123             call t1_47
0302   0AA0           01124             incf r1, F
0303   1903           01125             btfsc STATUS, Z
0304   2382           01126             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0305   0AA0           01127             incf r1, F
0306   1903           01128             btfsc STATUS, Z
0307   23C0           01129             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0308   0AA0           01130             incf r1, F
0309   1903           01131             btfsc STATUS, Z
030A   26D1           01132             call t1_x
030B   0AA0           01133             incf r1, F
030C   1903           01134             btfsc STATUS, Z
030D   26D1           01135             call t1_x
030E   0AA0           01136             incf r1, F
030F   1903           01137             btfsc STATUS, Z
0310   26D1           01138             call t1_x
0311   0AA0           01139             incf r1, F
0312   1903           01140             btfsc STATUS, Z
0313   26D1           01141             call t1_x
0314   0AA0           01142             incf r1, F
0315   1903           01143             btfsc STATUS, Z
0316   26D1           01144             call t1_x
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0317   0AA0           01145             incf r1, F
0318   1903           01146             btfsc STATUS, Z
0319   26D1           01147             call t1_x
031A   0AA0           01148             incf r1, F
031B   1903           01149             btfsc STATUS, Z
031C   26D1           01150             call t1_x
031D   0AA0           01151             incf r1, F
031E   1903           01152             btfsc STATUS, Z
031F   26D1           01153             call t1_x
0320   0AA0           01154             incf r1, F
0321   1903           01155             btfsc STATUS, Z
0322   26D1           01156             call t1_x
0323   0AA0           01157             incf r1, F
0324   1903           01158             btfsc STATUS, Z
0325   26D1           01159             call t1_x
0326   0AA0           01160             incf r1, F
0327   1903           01161             btfsc STATUS, Z
0328   26D1           01162             call t1_x
0329   0AA0           01163             incf r1, F
032A   1903           01164             btfsc STATUS, Z
032B   26D1           01165             call t1_x
032C   0AA0           01166             incf r1, F
032D   1903           01167             btfsc STATUS, Z
032E   26D1           01168             call t1_x
032F   0AA0           01169             incf r1, F
0330   1903           01170             btfsc STATUS, Z
0331   26D1           01171             call t1_x
                      01172             ;pokud je tlacitko prave pusteno
0332   1003           01173             bcf STATUS, C
0333   0C50           01174             rrf ir_128, W
0334   00A0           01175             movwf r1
0335   0820           01176             movf r1, W
0336   1903           01177             btfsc STATUS, Z
0337   233F           01178             call t3_stop
0338   0008           01179             return
                      01180 
                      01181 ;předpřipravené pro rozšíření procesoru 5 a vice
0339   0000           01182 if_x        nop
033A   0008           01183             return
                      01184 
                      01185 ;vypina holdovaci vystupy
033B   0000           01186 t1_stop     nop
033C   0008           01187             return
033D   0000           01188 t2_stop     nop
033E   0008           01189             return
033F   0000           01190 t3_stop     nop
0340   0008           01191             return
                      01192             
0341   3010           01193 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0342   00D2           01194             movwf port
0343   3002           01195             movlw b'10' ;procesor 2
0344   00D3           01196             movwf prc
0345   18AC           01197             btfsc o_d, 1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0346   21FB           01198             call clrout ;nastav port v prc
0347   10AC           01199             bcf o_d, 1
0348   3011           01200             movlw b'10001' ;port C1
0349   00D2           01201             movwf port
034A   3002           01202             movlw b'10' ;procesor 2
034B   00D3           01203             movwf prc
034C   192C           01204             btfsc o_d, 2
034D   21FB           01205             call clrout ;nastav port v prc
034E   112C           01206             bcf o_d, 2
034F   3012           01207             movlw b'10010' ;port C2
0350   00D2           01208             movwf port
0351   3002           01209             movlw b'10' ;procesor 2
0352   00D3           01210             movwf prc
0353   19AC           01211             btfsc o_d, 3
0354   21FB           01212             call clrout ;nastav port v prc
0355   11AC           01213             bcf o_d, 3
0356   3013           01214             movlw b'10011' ;port C3
0357   00D2           01215             movwf port
0358   3002           01216             movlw b'10' ;procesor 2
0359   00D3           01217             movwf prc
035A   1A2C           01218             btfsc o_d, 4
035B   21FB           01219             call clrout ;nastav port v prc
035C   122C           01220             bcf o_d, 4
035D   3014           01221             movlw b'10100' ;port C4
035E   00D2           01222             movwf port
035F   3002           01223             movlw b'10' ;procesor 2
0360   00D3           01224             movwf prc
0361   1AAC           01225             btfsc o_d, 5
0362   21FB           01226             call clrout ;nastav port v prc
0363   12AC           01227             bcf o_d, 5
0364   3015           01228             movlw b'10101' ;port C5
0365   00D2           01229             movwf port
0366   3002           01230             movlw b'10' ;procesor 2
0367   00D3           01231             movwf prc
0368   1B2C           01232             btfsc o_d, 6
0369   21FB           01233             call clrout ;nastav port v prc
036A   132C           01234             bcf o_d, 6
                      01235                   ;blinkry
036B   122D           01236             bcf o_e, 4
036C   1361           01237             bcf PORTD_temp, 6
036D   1308           01238             bcf PORTD, 6
036E   12AD           01239             bcf o_e, 5
036F   13E1           01240             bcf PORTD_temp, 7
0370   1388           01241             bcf PORTD, 7
                      01242                   ;klakson
0371   3019           01243             movlw b'11001' ;port D1
0372   00D2           01244             movwf port
0373   3003           01245             movlw b'11' ;procesor 3
0374   00D3           01246             movwf prc
0375   1A2B           01247             btfsc o_c, 4
0376   21FB           01248             call clrout ;nastav port v prc
0377   122B           01249             bcf o_c, 4
                      01250                   ;stěrače, odstřikovače
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0378   13AB           01251             bcf o_c, 7
0379   11E1           01252             bcf PORTD_temp, 3
037A   1188           01253             bcf PORTD, 3
037B   132B           01254             bcf o_c, 6
037C   1161           01255             bcf PORTD_temp, 2
037D   1108           01256             bcf PORTD, 2
                      01257                   ;dálková světla
037E   102C           01258             bcf o_d, 0
037F   1261           01259             bcf PORTD_temp, 4
0380   1208           01260             bcf PORTD, 4
0381   0008           01261             return
                      01262         
                      01263         
                      01264         
                      01265 ;zamknuti alarm on
0382   1858           01266 t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
0383   0008           01267             return
0384   083C           01268             movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
0385   0445           01269             iorwf ir_84, W
0386   0446           01270             iorwf ir_85, W
0387   0447           01271             iorwf ir_86, W
0388   0448           01272             iorwf ir_87, W
0389   0449           01273             iorwf ir_88, W
038A   044A           01274             iorwf ir_89, W
038B   00A5           01275             movwf r6
038C   1BA5           01276             btfsc r6, 7
038D   0000           01277             nop ;MLUV "zkontrolujte vstupy do auta"
038E   1BA5           01278             btfsc r6, 7
038F   2631           01279             call t1_53 ;zapne sirenu
0390   1BA5           01280             btfsc r6, 7
0391   301F           01281             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
0392   1BA5           01282             btfsc r6, 7
0393   00D8           01283             movwf cassir
0394   1BA5           01284             btfsc r6, 7
0395   3003           01285             movlw .3
0396   1BA5           01286             btfsc r6, 7
0397   00D7           01287             movwf timsir
                      01288             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01289             ;return
                      01290 
0398   248C           01291             call t1_06 ;vypne vse 
0399   17AC           01292             bsf o_d, 7 ;zapne alarm cidla
039A   17DF           01293             bsf PORTB_temp, 7
039B   1786           01294             bsf PORTB, 7
                      01295                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01296                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01297             
                      01298             
039C   246C           01299             call t1_05 ;zapne varovky
039D   301F           01300             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
039E   00EB           01301             movwf casvar
039F   3008           01302             movlw .8
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03A0   00DB           01303             movwf timvar
                      01304             
                      01305             
03A1   3016           01306             movlw b'10110' ;port C6
03A2   00D2           01307             movwf port
03A3   3002           01308             movlw b'10' ;procesor 2
03A4   00D3           01309             movwf prc 
03A5   1D2B           01310             btfss o_c, 2
03A6   21D4           01311             call setout ;set port v prc
03A7   152B           01312             bsf o_c, 2 ;problikne red tunning na 1 sekundu
03A8   301A           01313             movlw b'11010' ;port D2
03A9   00D2           01314             movwf port
03AA   3002           01315             movlw b'10' ;procesor 2
03AB   00D3           01316             movwf prc 
03AC   1DAE           01317             btfss o_f, 3
03AD   21D4           01318             call setout ;set port v prc
03AE   15AE           01319             bsf o_f, 3 ;problikne red interier na 1 sekundu
03AF   14DA           01320             bsf casov, REDTUN ;do timeru ze po 1s vypne
03B0   301E           01321             movlw .30
03B1   00DC           01322             movwf timrtu
03B2   2631           01323             call t1_53 ;zahraje sirenou na 200ms
03B3   3001           01324             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03B4   00D8           01325             movwf cassir
03B5   3008           01326             movlw .8
03B6   00D7           01327             movwf timsir
03B7   13AE           01328             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03B8   10E2           01329             bcf PORTE_temp, 1
03B9   1089           01330             bcf PORTE, 1
03BA   0000           01331             nop ;MLUV "auto zamčeno"
03BB   24C8           01332             call t1_07 ;zamkne
03BC   155A           01333             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03BD   300F           01334             movlw .15
03BE   00DD           01335             movwf timlza
                      01336 
                      01337                   ;zatahnuti okenek
                      01338             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01339             ;movwf o1tmp
                      01340             ;movf ir_91, W
                      01341             ;movwf o2tmp
                      01342             ;movf ir_92, W
                      01343             ;movwf o3tmp
                      01344             ;movf ir_93, W
                      01345             ;movwf o4tmp
                      01346             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01347             ;movwf o1tar
                      01348             ;movwf o2tar
                      01349             ;movwf o3tar
                      01350             ;movwf o4tar
                      01351  
03BF   0008           01352             return
                      01353             
                      01354 ;odemknuti alarm off
03C0   1858           01355 t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03C1   0008           01356             return
                      01357             
03C2   13AC           01358             bcf o_d, 7 ;vypne alarm cidla
03C3   13DF           01359             bcf PORTB_temp, 7
03C4   1386           01360             bcf PORTB, 7
                      01361                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01362                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03C5   2436           01363             call t1_04
                      01364             
                      01365             
03C6   246C           01366             call t1_05 ;zapne varovky
03C7   3007           01367             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03C8   00EB           01368             movwf casvar
03C9   3008           01369             movlw .8
03CA   00DB           01370             movwf timvar
                      01371             
                      01372             
03CB   3017           01373             movlw b'10111' ;port C7
03CC   00D2           01374             movwf port
03CD   3002           01375             movlw b'10' ;procesor 2
03CE   00D3           01376             movwf prc 
03CF   1DAB           01377             btfss o_c, 3
03D0   21D4           01378             call setout ;set port v prc
03D1   15AB           01379             bsf o_c, 3 ;problikne white tunning na 1 sekundu
03D2   301B           01380             movlw b'11011' ;port D3
03D3   00D2           01381             movwf port
03D4   3002           01382             movlw b'10' ;procesor 2
03D5   00D3           01383             movwf prc 
03D6   1E2E           01384             btfss o_f, 4
03D7   21D4           01385             call setout ;set port v prc
03D8   162E           01386             bsf o_f, 4 ;problikne white interier na 1 sekundu
03D9   15DA           01387             bsf casov, WHITUN ;do timeru ze po 1s vypne
03DA   301E           01388             movlw .30
03DB   00E3           01389             movwf timwtu
03DC   2631           01390             call t1_53 ;zahraje sirenou na 200ms
03DD   3007           01391             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03DE   00D8           01392             movwf cassir
03DF   3008           01393             movlw .8
03E0   00D7           01394             movwf timsir
03E1   17AE           01395             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03E2   14E2           01396             bsf PORTE_temp, 1
03E3   1489           01397             bsf PORTE, 1
03E4   0000           01398             nop ;MLUV "auto odemčeno"
03E5   115A           01399             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03E6   24D6           01400             call t1_08 ;odemkne
                      01401 
                      01402                   ;stahnuti okenek
                      01403             ;movf o1tmp, W
                      01404             ;movwf o1tar
                      01405             ;movf o2tmp, W
                      01406             ;movwf o2tar
                      01407             ;movf o3tmp, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01408             ;movwf o3tar
                      01409             ;movf o4tmp, W
                      01410             ;movwf o4tar
                      01411  
03E7   0008           01412             return
                      01413             
                      01414 ;spinacka poloha up
03E8   1964           01415 t1_02       btfsc spinac, 2
03E9   0008           01416             return
03EA   1403           01417             bsf STATUS, C
03EB   0DE4           01418             rlf spinac, F
                      01419                   ;pokud poloha 3
03EC   1D64           01420             btfss spinac, 2
03ED   2C03           01421             goto t2_02
03EE   1029           01422             bcf o_a, 0
03EF   1060           01423             bcf PORTC_temp, 0
03F0   1007           01424             bcf PORTC, 0
03F1   10A9           01425             bcf o_a, 1
03F2   10E0           01426             bcf PORTC_temp, 1
03F3   1087           01427             bcf PORTC, 1
03F4   1531           01428             bsf o_i, 2
03F5   301A           01429             movlw b'11010' ;port D2
03F6   00D2           01430             movwf port
03F7   3003           01431             movlw b'11' ;procesor 3
03F8   00D3           01432             movwf prc 
03F9   21D4           01433             call setout ;set port v prc
03FA   15B1           01434             bsf o_i, 3
03FB   301B           01435             movlw b'11011' ;port D3
03FC   00D2           01436             movwf port
03FD   3003           01437             movlw b'11' ;procesor 3
03FE   00D3           01438             movwf prc 
03FF   21D4           01439             call setout ;set port v prc
0400   3014           01440             movlw .20 ;nastavi startovani pouze max na vterinu
0401   00E5           01441             movwf timspi
0402   0008           01442             return
                      01443             ;pokud poloha 2
0403   1CE4           01444 t2_02       btfss spinac, 1
0404   2C0C           01445             goto t3_02
0405   1429           01446             bsf o_a, 0
0406   1460           01447             bsf PORTC_temp, 0
0407   1407           01448             bsf PORTC, 0
0408   1529           01449             bsf o_a, 2
0409   1560           01450             bsf PORTC_temp, 2
040A   1507           01451             bsf PORTC, 2
040B   0008           01452             return
                      01453             ;pokud poloha 1
040C   14A9           01454 t3_02       bsf o_a, 1
040D   14E0           01455             bsf PORTC_temp, 1
040E   1487           01456             bsf PORTC, 1
040F   0008           01457             return
                      01458             
                      01459 ;spinacka poloha down
0410   1C64           01460 t1_03       btfss spinac, 0
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0411   0008           01461             return
0412   1003           01462             bcf STATUS, C
0413   0CE4           01463             rrf spinac, F
                      01464             ;pokud poloha 2
0414   1CE4           01465             btfss spinac, 1
0415   2C29           01466             goto t2_03
0416   1429           01467             bsf o_a, 0
0417   1460           01468             bsf PORTC_temp, 0
0418   1407           01469             bsf PORTC, 0
0419   14A9           01470             bsf o_a, 1
041A   14E0           01471             bsf PORTC_temp, 1
041B   1487           01472             bsf PORTC, 1
041C   1131           01473             bcf o_i, 2
041D   301A           01474             movlw b'11010' ;port D2
041E   00D2           01475             movwf port
041F   3003           01476             movlw b'11' ;procesor 3
0420   00D3           01477             movwf prc 
0421   21FB           01478             call clrout ;set port v prc
0422   11B1           01479             bcf o_i, 3
0423   301B           01480             movlw b'11011' ;port D3
0424   00D2           01481             movwf port
0425   3003           01482             movlw b'11' ;procesor 3
0426   00D3           01483             movwf prc 
0427   21FB           01484             call clrout ;set port v prc
0428   0008           01485             return
                      01486             ;pokud poloha 1
0429   1C64           01487 t2_03       btfss spinac, 0
042A   2C32           01488             goto t3_03
042B   1029           01489             bcf o_a, 0
042C   1060           01490             bcf PORTC_temp, 0
042D   1007           01491             bcf PORTC, 0
042E   1129           01492             bcf o_a, 2
042F   1160           01493             bcf PORTC_temp, 2
0430   1107           01494             bcf PORTC, 2
0431   0008           01495             return
                      01496             ;pokud poloha 0
0432   10A9           01497 t3_03       bcf o_a, 1
0433   10E0           01498             bcf PORTC_temp, 1
0434   1087           01499             bcf PORTC, 1
0435   0008           01500             return
                      01501             
                      01502 ;alarm stop
0436   1EDA           01503 t1_04       btfss casov, ALARM
0437   0008           01504             return
0438   3018           01505             movlw b'11000' ;port D0  ;sirena
0439   00D2           01506             movwf port
043A   3003           01507             movlw b'11' ;procesor 3
043B   00D3           01508             movwf prc 
043C   18AD           01509             btfsc o_e, 1
043D   21FB           01510             call clrout ;set port v prc
043E   10AD           01511             bcf o_e, 1
                      01512             ;varovky
043F   246C           01513             call t1_05
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01514             
                      01515             ;stroboskop
0440   3019           01516             movlw b'11001' ;port D1
0441   00D2           01517             movwf port
0442   3002           01518             movlw b'10' ;procesor 2
0443   00D3           01519             movwf prc 
0444   192D           01520             btfsc o_e, 2
0445   21FB           01521             call clrout ;set port v prc
0446   112D           01522             bcf o_e, 2
                      01523             
0447   3016           01524             movlw b'10110' ;port C6
0448   00D2           01525             movwf port
0449   3002           01526             movlw b'10' ;procesor 2
044A   00D3           01527             movwf prc 
044B   192B           01528             btfsc o_c, 2
044C   21FB           01529             call clrout ;set port v prc
044D   112B           01530             bcf o_c, 2
044E   3017           01531             movlw b'10111' ;port C7
044F   00D2           01532             movwf port
0450   3002           01533             movlw b'10' ;procesor 2
0451   00D3           01534             movwf prc 
0452   19AB           01535             btfsc o_c, 3
0453   21FB           01536             call clrout ;set port v prc
0454   11AB           01537             bcf o_c, 3
0455   301A           01538             movlw b'11010' ;port D2
0456   00D2           01539             movwf port
0457   3002           01540             movlw b'10' ;procesor 2
0458   00D3           01541             movwf prc 
0459   19AE           01542             btfsc o_f, 3
045A   21FB           01543             call clrout ;set port v prc
045B   11AE           01544             bcf o_f, 3
045C   301B           01545             movlw b'11011' ;port D3
045D   00D2           01546             movwf port
045E   3002           01547             movlw b'10' ;procesor 2
045F   00D3           01548             movwf prc 
0460   1A2E           01549             btfsc o_f, 4
0461   21FB           01550             call clrout ;set port v prc
0462   122E           01551             bcf o_f, 4
0463   3019           01552             movlw b'11001' ;port D1
0464   00D2           01553             movwf port
0465   3003           01554             movlw b'11' ;procesor 3
0466   00D3           01555             movwf prc 
0467   1A2B           01556             btfsc o_c, 4
0468   21FB           01557             call clrout ;set port v prc
0469   122B           01558             bcf o_c, 4
                      01559             
046A   12DA           01560             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
046B   0008           01561             return
                      01562             
                      01563 ;varovna svetla
046C   186B           01564 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
046D   122D           01565             bcf o_e, 4
046E   186B           01566             btfsc casvar, 0 ;pokud oba zaply oba vypne
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

046F   1361           01567             bcf PORTD_temp, 6
0470   186B           01568             btfsc casvar, 0 ;pokud oba zaply oba vypne
0471   1308           01569             bcf PORTD, 6
0472   186B           01570             btfsc casvar, 0 ;pokud oba zaply oba vypne
0473   12AD           01571             bcf o_e, 5
0474   186B           01572             btfsc casvar, 0 ;pokud oba zaply oba vypne
0475   13E1           01573             bcf PORTD_temp, 7
0476   186B           01574             btfsc casvar, 0 ;pokud oba zaply oba vypne
0477   1388           01575             bcf PORTD, 7
                      01576     
0478   1C6B           01577             btfss casvar, 0 ;pokud jeden vyply oba zapne
0479   162D           01578             bsf o_e, 4
047A   1C6B           01579             btfss casvar, 0 ;pokud jeden vyply oba zapne
047B   1761           01580             bsf PORTD_temp, 6
047C   1C6B           01581             btfss casvar, 0 ;pokud jeden vyply oba zapne
047D   1708           01582             bsf PORTD, 6
047E   1C6B           01583             btfss casvar, 0 ;pokud jeden vyply oba zapne
047F   16AD           01584             bsf o_e, 5
0480   1C6B           01585             btfss casvar, 0 ;pokud jeden vyply oba zapne
0481   17E1           01586             bsf PORTD_temp, 7
0482   1C6B           01587             btfss casvar, 0 ;pokud jeden vyply oba zapne
0483   1788           01588             bsf PORTD, 7
                      01589             
0484   186B           01590             btfsc casvar, 0
0485   3000           01591             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
0486   1C6B           01592             btfss casvar, 0
0487   30FF           01593             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
0488   00EB           01594             movwf casvar
0489   3008           01595             movlw .8
048A   00DB           01596             movwf timvar
                      01597             
048B   0008           01598             return
                      01599             
                      01600 ;vypnout vse
048C   18D9           01601 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
048D   0008           01602             return
                      01603             ;svetla 
048E   10AB           01604             bcf o_c, 1
048F   11E0           01605             bcf PORTC_temp, 3
0490   1187           01606             bcf PORTC, 3
                      01607             ;red tuning
                      01608             ;white tunning
                      01609             ;red interier
                      01610             ;white interier
0491   3017           01611             movlw b'10111' ;port C7
0492   00D2           01612             movwf port
0493   3002           01613             movlw b'10' ;procesor 2
0494   00D3           01614             movwf prc 
0495   19AB           01615             btfsc o_c, 3
0496   21FB           01616             call clrout ;set port v prc
0497   11AB           01617             bcf o_c, 3
0498   301B           01618             movlw b'11011' ;port D3
0499   00D2           01619             movwf port
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

049A   3002           01620             movlw b'10' ;procesor 2
049B   00D3           01621             movwf prc 
049C   1A2E           01622             btfsc o_f, 4
049D   21FB           01623             call clrout ;set port v prc
049E   122E           01624             bcf o_f, 4
049F   3016           01625             movlw b'10110' ;port C6
04A0   00D2           01626             movwf port
04A1   3002           01627             movlw b'10' ;procesor 2
04A2   00D3           01628             movwf prc 
04A3   192B           01629             btfsc o_c, 2
04A4   21FB           01630             call clrout ;set port v prc
04A5   112B           01631             bcf o_c, 2
04A6   301A           01632             movlw b'11010' ;port D2
04A7   00D2           01633             movwf port
04A8   3002           01634             movlw b'10' ;procesor 2
04A9   00D3           01635             movwf prc 
04AA   19AE           01636             btfsc o_f, 3
04AB   21FB           01637             call clrout ;set port v prc
04AC   11AE           01638             bcf o_f, 3
                      01639         
                      01640             ;stroboskop
04AD   3019           01641             movlw b'11001' ;port D1
04AE   00D2           01642             movwf port
04AF   3002           01643             movlw b'10' ;procesor 2
04B0   00D3           01644             movwf prc 
04B1   192D           01645             btfsc o_e, 2
04B2   21FB           01646             call clrout ;set port v prc
04B3   112D           01647             bcf o_e, 2
                      01648             ;sirena
04B4   3018           01649             movlw b'11000' ;port D0
04B5   00D2           01650             movwf port
04B6   3003           01651             movlw b'11' ;procesor 3
04B7   00D3           01652             movwf prc 
04B8   18AD           01653             btfsc o_e, 1
04B9   21FB           01654             call clrout ;set port v prc
04BA   10AD           01655             bcf o_e, 1
                      01656             ;parkovacky
04BB   11AD           01657             bcf o_e, 3
04BC   12E1           01658             bcf PORTD_temp, 5
04BD   1288           01659             bcf PORTD, 5
                      01660             ;mlhovky zadni
04BE   10AE           01661             bcf o_f, 1
04BF   1260           01662             bcf PORTC_temp, 4
04C0   1207           01663             bcf PORTC, 4
                      01664             ;mlhovky predni
04C1   12AB           01665             bcf o_c, 5
04C2   10E1           01666             bcf PORTD_temp, 1
04C3   1088           01667             bcf PORTD, 1
                      01668             ;rozehrivani okenka
04C4   112E           01669             bcf o_f, 2
04C5   12E0           01670             bcf PORTC_temp, 5
04C6   1287           01671             bcf PORTC, 5
04C7   0008           01672             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01673             
                      01674 ;zamknuti
04C8   1451           01675 t1_07       bsf locked, 0 ;nastavi registr locked
04C9   12B0           01676             bcf o_h, 5 ;vypne v regs led odemceno
04CA   3015           01677             movlw b'10101' ;port C5
04CB   00D2           01678             movwf port
04CC   3003           01679             movlw b'11' ;procesor 3
04CD   00D3           01680             movwf prc
04CE   21FB           01681             call clrout ;smaz port v prc
04CF   1730           01682             bsf o_h, 6 ;zapne v regs led zamceno
04D0   3016           01683             movlw b'10110' ;port C6
04D1   00D2           01684             movwf port
04D2   3003           01685             movlw b'0011' ;procesor 3
04D3   00D3           01686             movwf prc
04D4   21D4           01687             call setout ;nastav port v prc
04D5   0008           01688             return
                      01689 ;odemknuti
04D6   1051           01690 t1_08       bcf locked, 0 ;smaze registr locked
04D7   16B0           01691             bsf o_h, 5 ;zapne v regs led odemceno
04D8   3015           01692             movlw b'10101' ;port C5
04D9   00D2           01693             movwf port
04DA   3003           01694             movlw b'11' ;procesor 3
04DB   00D3           01695             movwf prc
04DC   21D4           01696             call setout ;nastav port v prc
04DD   1730           01697             bsf o_h, 6 ;vypne v regs led zamceno
04DE   3016           01698             movlw b'10110' ;port C6
04DF   00D2           01699             movwf port
04E0   3003           01700             movlw b'0011' ;procesor 3
04E1   00D3           01701             movwf prc
04E2   21FB           01702             call clrout ;smaz port v prc
04E3   0008           01703             return
                      01704             
                      01705 ;pripraveno
04E4   0000           01706 t1_09       nop
04E5   0008           01707             return
                      01708 
                      01709 ;odskok dvere 1
04E6   162A           01710 t1_10       bsf o_b, 4
04E7   301F           01711             movlw b'11111' ;port D7
04E8   00D2           01712             movwf port
04E9   3003           01713             movlw b'11' ;procesor 3
04EA   00D3           01714             movwf prc
04EB   21D4           01715             call setout ;smaz port v prc
04EC   165A           01716             bsf casov, ODSKOK
04ED   3008           01717             movlw .8
04EE   00E6           01718             movwf timods
04EF   0008           01719             return
                      01720             
                      01721 ;odskok dvere 2
04F0   16AA           01722 t1_11       bsf o_b, 5
04F1   17E0           01723             bsf PORTC_temp, 7
04F2   1787           01724             bsf PORTC, 7
04F3   165A           01725             bsf casov, ODSKOK
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04F4   3008           01726             movlw .8
04F5   00E6           01727             movwf timods
04F6   0008           01728             return
                      01729             
                      01730 ;odskok dvere 3
04F7   1A31           01731 t1_12       btfsc o_i, 4
04F8   0008           01732             return
04F9   172A           01733             bsf o_b, 6
04FA   155F           01734             bsf PORTB_temp, 2
04FB   1506           01735             bsf PORTB, 2
04FC   165A           01736             bsf casov, ODSKOK
04FD   3008           01737             movlw .8
04FE   00E6           01738             movwf timods
04FF   0008           01739             return
                      01740             
                      01741 ;odskok dvere 4
0500   1A31           01742 t1_13       btfsc o_i, 4
0501   0008           01743             return
0502   17AA           01744             bsf o_b, 7
0503   15DF           01745             bsf PORTB_temp, 3
0504   1586           01746             bsf PORTB, 3
0505   165A           01747             bsf casov, ODSKOK
0506   3008           01748             movlw .8
0507   00E6           01749             movwf timods
0508   0008           01750             return
                      01751             
                      01752 ;odskok kufr
0509   15AA           01753 t1_14       bsf o_b, 3
050A   165F           01754             bsf PORTB_temp, 4
050B   1606           01755             bsf PORTB, 4
050C   165A           01756             bsf casov, ODSKOK
050D   3008           01757             movlw .8
050E   00E6           01758             movwf timods
050F   0008           01759             return
                      01760             
                      01761 ;odskok nadrz
0510   142D           01762 t1_15       bsf o_e, 0
0511   16DF           01763             bsf PORTB_temp, 5
0512   1686           01764             bsf PORTB, 5
0513   165A           01765             bsf casov, ODSKOK
0514   3008           01766             movlw .8
0515   00E6           01767             movwf timods
0516   0008           01768             return
                      01769             
                      01770 ;odskok kapota
0517   142B           01771 t1_16       bsf o_c, 0
0518   175F           01772             bsf PORTB_temp, 6
0519   1706           01773             bsf PORTB, 6
051A   165A           01774             bsf casov, ODSKOK
051B   3008           01775             movlw .8
051C   00E6           01776             movwf timods
051D   0008           01777             return
                      01778             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01779 ;pripraveno
051E   0000           01780 t1_17       nop
051F   0008           01781             return
                      01782 ;pripraveno
0520   0000           01783 t1_18       nop
0521   0008           01784             return
                      01785 ;pripraveno
0522   0000           01786 t1_19       nop
0523   0008           01787             return
                      01788 
                      01789 ;play pause
0524   14AC           01790 t1_20       bsf o_d, 1
0525   3010           01791             movlw b'10000' ;port C0
0526   00D2           01792             movwf port
0527   3002           01793             movlw b'10' ;procesor 2
0528   00D3           01794             movwf prc
0529   21D4           01795             call setout ;nastav port v prc
052A   0008           01796             return
                      01797             
                      01798 ;stop
052B   152C           01799 t1_21       bsf o_d, 2
052C   3011           01800             movlw b'10001' ;port C1
052D   00D2           01801             movwf port
052E   3002           01802             movlw b'10' ;procesor 2
052F   00D3           01803             movwf prc
0530   21D4           01804             call setout ;nastav port v prc
0531   0008           01805             return
                      01806             
                      01807 ;forwind
0532   15AC           01808 t1_22       bsf o_d, 3
0533   3012           01809             movlw b'10010' ;port C2
0534   00D2           01810             movwf port
0535   3002           01811             movlw b'10' ;procesor 2
0536   00D3           01812             movwf prc
0537   21D4           01813             call setout ;nastav port v prc
0538   0008           01814             return
                      01815             
                      01816 ;rewind
0539   162C           01817 t1_23       bsf o_d, 4
053A   3013           01818             movlw b'10011' ;port C3
053B   00D2           01819             movwf port
053C   3002           01820             movlw b'10' ;procesor 2
053D   00D3           01821             movwf prc
053E   21D4           01822             call setout ;nastav port v prc
053F   0008           01823             return
                      01824             
                      01825 ;volume +
0540   16AC           01826 t1_24       bsf o_d, 5
0541   3014           01827             movlw b'10100' ;port C4
0542   00D2           01828             movwf port
0543   3002           01829             movlw b'10' ;procesor 2
0544   00D3           01830             movwf prc
0545   21D4           01831             call setout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0546   0008           01832             return
                      01833             
                      01834 ;volume -
0547   172C           01835 t1_25       bsf o_d, 6
0548   3015           01836             movlw b'10101' ;port C5
0549   00D2           01837             movwf port
054A   3002           01838             movlw b'10' ;procesor 2
054B   00D3           01839             movwf prc
054C   21D4           01840             call setout ;nastav port v prc
054D   0008           01841             return
                      01842             
                      01843 ;rozehrivani okenka
054E   082E           01844 t1_26       movf o_f, W
054F   00A4           01845             movwf r5
                      01846 
0550   1D24           01847             btfss r5, 2
0551   16E0           01848             bsf PORTC_temp, 5
0552   1D24           01849             btfss r5, 2
0553   1687           01850             bsf PORTC, 5
0554   1D24           01851             btfss r5, 2
0555   152E           01852             bsf o_f, 2 
                      01853         
0556   1924           01854             btfsc r5, 2
0557   12E0           01855             bcf PORTC_temp, 5
0558   1924           01856             btfsc r5, 2
0559   1287           01857             bcf PORTC, 5
055A   1924           01858             btfsc r5, 2
055B   112E           01859             bcf o_f, 2 
055C   0008           01860             return
                      01861             
                      01862 ;pripraveno
055D   0000           01863 t1_27       nop
055E   0008           01864             return
                      01865 ;pripraveno
055F   0000           01866 t1_28       nop
0560   0008           01867             return
                      01868 ;pripraveno
0561   0000           01869 t1_29       nop
0562   0008           01870             return
                      01871 
                      01872 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0563   0008           01873 t1_30       return;movf o1tar, W
0564   00A4           01874             movwf r5
0565   30F0           01875             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0566   07A4           01876             addwf r5, F
0567   1C03           01877             btfss STATUS, C
0568   0008           01878             return
0569   0824           01879             movf r5, W
056A   00A4           01880             movwf o1tar
056B   0008           01881             return
                      01882             
                      01883 ;okno 2 up
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

056C   0008           01884 t1_31       return;movf o2tar, W
056D   00A4           01885             movwf r5
056E   30F0           01886             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
056F   07A4           01887             addwf r5, F
0570   1C03           01888             btfss STATUS, C
0571   0008           01889             return
0572   0824           01890             movf r5, W
0573   00A5           01891             movwf o2tar
0574   0008           01892             return
                      01893             
                      01894 ;okno 3 up
0575   0008           01895 t1_32       return;btfsc o_i, 4
0576   0008           01896             return
0577   0826           01897             movf o3tar, W
0578   00A4           01898             movwf r5
0579   30F0           01899             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
057A   07A4           01900             addwf r5, F
057B   1C03           01901             btfss STATUS, C
057C   0008           01902             return
057D   0824           01903             movf r5, W
057E   00A6           01904             movwf o3tar
057F   0008           01905             return
                      01906             
                      01907 ;okno 4 up
0580   0008           01908 t1_33       return;btfsc o_i, 4
0581   0008           01909             return
0582   0827           01910             movf o4tar, W
0583   00A4           01911             movwf r5
0584   30F0           01912             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0585   07A4           01913             addwf r5, F
0586   1C03           01914             btfss STATUS, C
0587   0008           01915             return
0588   0824           01916             movf r5, W
0589   00A7           01917             movwf o4tar
058A   0008           01918             return
                      01919             
                      01920 ;okno 1 down
058B   0008           01921 t1_34       return;movf o1tar, W
058C   00A4           01922             movwf r5
058D   3010           01923             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
058E   07A4           01924             addwf r5, F
058F   1803           01925             btfsc STATUS, C
0590   0008           01926             return
0591   0824           01927             movf r5, W
0592   00A4           01928             movwf o1tar
0593   0008           01929             return
                      01930             
                      01931 ;okno 2 down
0594   0008           01932 t1_35       return;movf o2tar, W
0595   00A4           01933             movwf r5
0596   3010           01934             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0597   07A4           01935             addwf r5, F
0598   1803           01936             btfsc STATUS, C
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0599   0008           01937             return
059A   0824           01938             movf r5, W
059B   00A5           01939             movwf o2tar
059C   0008           01940             return
                      01941             
                      01942 ;okno 3 down
059D   0008           01943 t1_36       return;btfsc o_i, 4
059E   0008           01944             return
059F   0826           01945             movf o3tar, W
05A0   00A4           01946             movwf r5
05A1   3010           01947             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05A2   07A4           01948             addwf r5, F
05A3   1803           01949             btfsc STATUS, C
05A4   0008           01950             return
05A5   0824           01951             movf r5, W
05A6   00A6           01952             movwf o3tar
05A7   0008           01953             return
                      01954             
                      01955 ;detský zámek zadních oken a dveri
05A8   1E31           01956 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
05A9   2DB1           01957             goto t2_37
05AA   1231           01958             bcf o_i, 4
05AB   301C           01959             movlw b'11100' ;port D4
05AC   00D2           01960             movwf port
05AD   3003           01961             movlw b'11' ;procesor 3
05AE   00D3           01962             movwf prc
05AF   21FB           01963             call clrout ;nastav port v prc        
05B0   0008           01964             return
                      01965             
05B1   1631           01966 t2_37       bsf o_i, 4
05B2   301C           01967             movlw b'11100' ;port D4
05B3   00D2           01968             movwf port
05B4   3003           01969             movlw b'11' ;procesor 3
05B5   00D3           01970             movwf prc
05B6   21D4           01971             call setout ;nastav port v prc        
05B7   0008           01972             return
                      01973             
                      01974 ;pripraveno
05B8   0000           01975 t1_38       nop
05B9   0008           01976             return
                      01977 ;pripraveno
05BA   0000           01978 t1_39       nop
05BB   0008           01979             return
                      01980 
                      01981 ;RED tuning
05BC   3016           01982 t1_40       movlw b'10110' ;port C6
05BD   00D2           01983             movwf port
05BE   3002           01984             movlw b'10' ;procesor 2
05BF   00D3           01985             movwf prc
                      01986             
05C0   082B           01987             movf o_c, W
05C1   00A4           01988             movwf r5
                      01989 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05C2   1D24           01990             btfss r5, 2
05C3   21D4           01991             call setout ;nastav port v prc
05C4   1D24           01992             btfss r5, 2
05C5   152B           01993             bsf o_c, 2 
                      01994         
05C6   1924           01995             btfsc r5, 2
05C7   21FB           01996             call clrout ;smaz port v prc
05C8   1924           01997             btfsc r5, 2
05C9   112B           01998             bcf o_c, 2 
05CA   0008           01999             return
                      02000             
                      02001 ;WHITE tunning
05CB   3017           02002 t1_41       movlw b'10111' ;port C7
05CC   00D2           02003             movwf port
05CD   3002           02004             movlw b'10' ;procesor 2
05CE   00D3           02005             movwf prc
                      02006             
05CF   082B           02007             movf o_c, W
05D0   00A4           02008             movwf r5
                      02009 
05D1   1DA4           02010             btfss r5, 3
05D2   21D4           02011             call setout ;nastav port v prc
05D3   1DA4           02012             btfss r5, 3
05D4   15AB           02013             bsf o_c, 3 
                      02014         
05D5   19A4           02015             btfsc r5, 3
05D6   21FB           02016             call clrout ;smaz port v prc
05D7   19A4           02017             btfsc r5, 3
05D8   11AB           02018             bcf o_c, 3 
05D9   0008           02019             return
                      02020             
                      02021 ;Parkovačky
05DA   082D           02022 t1_42       movf o_e, W
05DB   00A4           02023             movwf r5
                      02024 
05DC   1DA4           02025             btfss r5, 3
05DD   16E1           02026             bsf PORTD_temp, 5
05DE   1DA4           02027             btfss r5, 3
05DF   1688           02028             bsf PORTD, 5
05E0   1DA4           02029             btfss r5, 3
05E1   15AD           02030             bsf o_e, 3 
                      02031         
05E2   19A4           02032             btfsc r5, 3
05E3   12E1           02033             bcf PORTD_temp, 5
05E4   19A4           02034             btfsc r5, 3
05E5   1288           02035             bcf PORTD, 5
05E6   19A4           02036             btfsc r5, 3
05E7   11AD           02037             bcf o_e, 3 
05E8   0008           02038             return
                      02039             
                      02040 ;Světla
05E9   082B           02041 t1_43       movf o_c, W
05EA   00A4           02042             movwf r5
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02043 
05EB   1CA4           02044             btfss r5, 1
05EC   15E0           02045             bsf PORTC_temp, 3
05ED   1CA4           02046             btfss r5, 1
05EE   1587           02047             bsf PORTC, 3
05EF   1CA4           02048             btfss r5, 1
05F0   14AB           02049             bsf o_c, 1 
                      02050         
05F1   18A4           02051             btfsc r5, 1
05F2   11E0           02052             bcf PORTC_temp, 3
05F3   18A4           02053             btfsc r5, 1
05F4   1187           02054             bcf PORTC, 3
05F5   18A4           02055             btfsc r5, 1
05F6   10AB           02056             bcf o_c, 1 
05F7   0008           02057             return
                      02058             
                      02059 ;Mlhovky zadní
05F8   082E           02060 t1_44       movf o_f, W
05F9   00A4           02061             movwf r5
                      02062 
05FA   1CA4           02063             btfss r5, 1
05FB   1660           02064             bsf PORTC_temp, 4
05FC   1CA4           02065             btfss r5, 1
05FD   1607           02066             bsf PORTC, 4
05FE   1CA4           02067             btfss r5, 1
05FF   14AE           02068             bsf o_f, 1 
                      02069         
0600   18A4           02070             btfsc r5, 1
0601   1260           02071             bcf PORTC_temp, 4
0602   18A4           02072             btfsc r5, 1
0603   1207           02073             bcf PORTC, 4
0604   18A4           02074             btfsc r5, 1
0605   10AE           02075             bcf o_f, 1 
0606   0008           02076             return
                      02077             
                      02078 ;Blinkr levý
0607   162D           02079 t1_45       bsf o_e, 4
0608   1761           02080             bsf PORTD_temp, 6
0609   1708           02081             bsf PORTD, 6
060A   0008           02082             return
                      02083             
                      02084 ;Blinkr pravý
060B   16AD           02085 t1_46       bsf o_e, 5
060C   17E1           02086             bsf PORTD_temp, 7
060D   1788           02087             bsf PORTD, 7
060E   0008           02088             return
                      02089             
                      02090 ;Mlhovky přední
060F   082B           02091 t1_47       movf o_c, W
0610   00A4           02092             movwf r5
                      02093 
0611   1EA4           02094             btfss r5, 5
0612   14E1           02095             bsf PORTD_temp, 1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0613   1EA4           02096             btfss r5, 5
0614   1488           02097             bsf PORTD, 1
0615   1EA4           02098             btfss r5, 5
0616   16AB           02099             bsf o_c, 5 
                      02100         
0617   1AA4           02101             btfsc r5, 5
0618   10E1           02102             bcf PORTD_temp, 1
0619   1AA4           02103             btfsc r5, 5
061A   1088           02104             bcf PORTD, 1
061B   1AA4           02105             btfsc r5, 5
061C   12AB           02106             bcf o_c, 5 
061D   0008           02107             return
                      02108             
                      02109 ;pripraveno
061E   0000           02110 t1_48       nop
061F   0008           02111             return
                      02112 ;pripraveno
0620   0000           02113 t1_49       nop
0621   0008           02114             return
                      02115 
                      02116 ;klakson
0622   162B           02117 t1_50       bsf o_c, 4
0623   3019           02118             movlw b'11001' ;port D1
0624   00D2           02119             movwf port
0625   3003           02120             movlw b'11' ;procesor 3
0626   00D3           02121             movwf prc
0627   21D4           02122             call setout ;nastav port v prc
0628   0008           02123             return
                      02124             
                      02125 ;stěrače
0629   17AB           02126 t1_51       bsf o_c, 7
062A   15E1           02127             bsf PORTD_temp, 3
062B   1588           02128             bsf PORTD, 3
062C   0008           02129             return
                      02130 ;odstřikovače
062D   172B           02131 t1_52       bsf o_c, 6
062E   1561           02132             bsf PORTD_temp, 2
062F   1508           02133             bsf PORTD, 2
0630   0008           02134             return
                      02135             
                      02136 ;Siréna
0631   3018           02137 t1_53       movlw b'11000' ;port D0
0632   00D2           02138             movwf port
0633   3003           02139             movlw b'11' ;procesor 3
0634   00D3           02140             movwf prc
                      02141             
0635   082D           02142             movf o_e, W
0636   00A4           02143             movwf r5
                      02144 
0637   1CA4           02145             btfss r5, 1
0638   21D4           02146             call setout ;nastav port v prc
0639   1CA4           02147             btfss r5, 1
063A   14AD           02148             bsf o_e, 1 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02149         
063B   18A4           02150             btfsc r5, 1
063C   21FB           02151             call clrout ;smaz port v prc
063D   18A4           02152             btfsc r5, 1
063E   10AD           02153             bcf o_e, 1 
                      02154         
063F   0008           02155             return
                      02156 
                      02157 ;stroboskop
0640   3019           02158 t1_54       movlw b'11001' ;port D1
0641   00D2           02159             movwf port
0642   3002           02160             movlw b'10' ;procesor 2
0643   00D3           02161             movwf prc
                      02162             
0644   082D           02163             movf o_e, W
0645   00A4           02164             movwf r5
                      02165 
0646   1D24           02166             btfss r5, 2
0647   21D4           02167             call setout ;nastav port v prc
0648   1D24           02168             btfss r5, 2
0649   152D           02169             bsf o_e, 2 
                      02170         
064A   1924           02171             btfsc r5, 2
064B   21FB           02172             call clrout ;smaz port v prc
064C   1924           02173             btfsc r5, 2
064D   112D           02174             bcf o_e, 2 
064E   0008           02175             return
                      02176             
                      02177 ;Dálkové světla
064F   142C           02178 t1_55       bsf o_d, 0
0650   1661           02179             bsf PORTD_temp, 4
0651   1608           02180             bsf PORTD, 4
0652   0008           02181             return
                      02182             
                      02183 ;alarm start
0653   3018           02184 t1_56       movlw b'11000' ;port D0  ;sirena
0654   00D2           02185             movwf port
0655   3003           02186             movlw b'11' ;procesor 3
0656   00D3           02187             movwf prc 
0657   1CAD           02188             btfss o_e, 1
0658   21D4           02189             call setout ;set port v prc
0659   14AD           02190             bsf o_e, 1
                      02191             ;varovky
065A   246C           02192             call t1_05
                      02193             
                      02194             ;stroboskop
065B   3019           02195             movlw b'11001' ;port D1
065C   00D2           02196             movwf port
065D   3002           02197             movlw b'10' ;procesor 2
065E   00D3           02198             movwf prc 
065F   1D2D           02199             btfss o_e, 2
0660   21D4           02200             call setout ;set port v prc
0661   152D           02201             bsf o_e, 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02202             ;red tunning
0662   3016           02203             movlw b'10110' ;port C6
0663   00D2           02204             movwf port
0664   3002           02205             movlw b'10' ;procesor 2
0665   00D3           02206             movwf prc 
0666   1D2B           02207             btfss o_c, 2
0667   21D4           02208             call setout ;set port v prc
0668   152B           02209             bsf o_c, 2
                      02210             ;white interier
0669   301B           02211             movlw b'11011' ;port D3
066A   00D2           02212             movwf port
066B   3002           02213             movlw b'10' ;procesor 2
066C   00D3           02214             movwf prc 
066D   1E2E           02215             btfss o_f, 4
066E   21D4           02216             call setout ;set port v prc
066F   162E           02217             bsf o_f, 4
                      02218             
0670   16DA           02219             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
0671   301E           02220             movlw .30
0672   00E7           02221             movwf timala
                      02222 
0673   0008           02223             return
                      02224             
                      02225 ;pripraveno
0674   0000           02226 t1_57       nop
0675   0008           02227             return
                      02228             
                      02229 ;pripraveno
0676   0000           02230 t1_58       nop
0677   0008           02231             return
                      02232             
                      02233 ;pripraveno
0678   0000           02234 t1_59       nop
0679   0008           02235             return
                      02236         
                      02237 ;okno 4 down
067A   0008           02238 t1_60       return;btfsc o_i, 4
067B   0008           02239             return
067C   0827           02240             movf o4tar, W
067D   00A4           02241             movwf r5
067E   3010           02242             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
067F   07A4           02243             addwf r5, F
0680   1803           02244             btfsc STATUS, C
0681   0008           02245             return
0682   0824           02246             movf r5, W
0683   00A7           02247             movwf o4tar
0684   0008           02248             return
                      02249             
                      02250 ;red interiér
0685   301A           02251 t1_61       movlw b'11010' ;port D2
0686   00D2           02252             movwf port
0687   3002           02253             movlw b'10' ;procesor 2
0688   00D3           02254             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02255             
0689   082E           02256             movf o_f, W
068A   00A4           02257             movwf r5
                      02258 
068B   1DA4           02259             btfss r5, 3
068C   21D4           02260             call setout ;nastav port v prc
068D   1DA4           02261             btfss r5, 3
068E   15AE           02262             bsf o_f, 3 
                      02263         
068F   19A4           02264             btfsc r5, 3
0690   21FB           02265             call clrout ;smaz port v prc
0691   19A4           02266             btfsc r5, 3
0692   11AE           02267             bcf o_f, 3 
0693   0008           02268             return
                      02269             
                      02270 ;white interier
0694   301B           02271 t1_62       movlw b'11011' ;port D3
0695   00D2           02272             movwf port
0696   3002           02273             movlw b'10' ;procesor 2
0697   00D3           02274             movwf prc
                      02275             
0698   082E           02276             movf o_f, W
0699   00A4           02277             movwf r5
                      02278 
069A   1E24           02279             btfss r5, 4
069B   21D4           02280             call setout ;nastav port v prc
069C   1E24           02281             btfss r5, 4
069D   162E           02282             bsf o_f, 4 
                      02283         
069E   1A24           02284             btfsc r5, 4
069F   21FB           02285             call clrout ;smaz port v prc
06A0   1A24           02286             btfsc r5, 4
06A1   122E           02287             bcf o_f, 4 
06A2   0008           02288             return
                      02289             
                      02290 ;klima on/off
06A3   17AD           02291 t1_63       bsf o_e, 7
06A4   301E           02292             movlw b'11110' ;port D6
06A5   00D2           02293             movwf port
06A6   3002           02294             movlw b'10' ;procesor 2
06A7   00D3           02295             movwf prc
06A8   21D4           02296             call setout ;nastav port v prc
06A9   165A           02297             bsf casov, ODSKOK
06AA   3008           02298             movlw .8
06AB   00E6           02299             movwf timods
06AC   0008           02300             return
                      02301             
                      02302 ;klima teplota up
06AD   172D           02303 t1_64       bsf o_e, 6
06AE   301C           02304             movlw b'11100' ;port D4
06AF   00D2           02305             movwf port
06B0   3002           02306             movlw b'10' ;procesor 2
06B1   00D3           02307             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06B2   21D4           02308             call setout ;nastav port v prc
06B3   165A           02309             bsf casov, ODSKOK
06B4   3008           02310             movlw .8
06B5   00E6           02311             movwf timods
06B6   0008           02312             return
                      02313             
                      02314 ;klima teplota down
06B7   16AE           02315 t1_65       bsf o_f, 5
06B8   301D           02316             movlw b'11101' ;port D5
06B9   00D2           02317             movwf port
06BA   3002           02318             movlw b'10' ;procesor 2
06BB   00D3           02319             movwf prc
06BC   21D4           02320             call setout ;nastav port v prc
06BD   165A           02321             bsf casov, ODSKOK
06BE   3008           02322             movlw .8
06BF   00E6           02323             movwf timods
06C0   0008           02324             return
                      02325             
                      02326 ;klima mista ventilace
06C1   142E           02327 t1_66       bsf o_f, 0
06C2   301F           02328             movlw b'11111' ;port D7
06C3   00D2           02329             movwf port
06C4   3002           02330             movlw b'10' ;procesor 2
06C5   00D3           02331             movwf prc
06C6   21D4           02332             call setout ;nastav port v prc
06C7   165A           02333             bsf casov, ODSKOK
06C8   3008           02334             movlw .8
06C9   00E6           02335             movwf timods
06CA   0008           02336             return
                      02337             
                      02338 ;pripraveno
06CB   0000           02339 t1_67       nop
06CC   0008           02340             return
                      02341 ;pripraveno
06CD   0000           02342 t1_68       nop
06CE   0008           02343             return
                      02344 ;pripraveno
06CF   0000           02345 t1_69       nop
06D0   0008           02346             return
                      02347 
06D1   0000           02348 t1_x        nop
06D2   0008           02349             return
                      02350             
                      02351 
                      02352 
                      02353 
                      02354 
                      02355 
06D3   3005           02356 w20i        movlw .5
06D4   00A3           02357             movwf r4
06D5   0BA3           02358             decfsz r4, F
06D6   2ED5           02359             goto $-1
06D7   0008           02360             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02361 
                      02362 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06D8   3050           02363 w100c       movlw .80
06D9   00A3           02364             movwf r4
06DA   0BA3           02365             decfsz r4, F
06DB   2EDA           02366             goto $-1
06DC   0008           02367             return
                      02368 
                      02369 ;cekej necelou polovinu w100c
06DD   301E           02370 w40c        movlw .30
06DE   00A3           02371             movwf r4
06DF   0BA3           02372             decfsz r4, F
06E0   2EDF           02373             goto $-1
06E1   0008           02374             return
                      02375             
                      02376 
                      02377 
                      02378 
                      02379 
                      02380 
06E2   3019           02381 klakson     movlw b'11001' ;port D1
06E3   00D2           02382             movwf port
06E4   3003           02383             movlw b'11' ;procesor 3
06E5   00D3           02384             movwf prc
                      02385             
06E6   082B           02386             movf o_c, W
06E7   00A4           02387             movwf r5
                      02388 
06E8   1E24           02389             btfss r5, 4
06E9   21D4           02390             call setout ;nastav port v prc
06EA   1E24           02391             btfss r5, 4
06EB   162B           02392             bsf o_c, 4 
                      02393         
06EC   1A24           02394             btfsc r5, 4
06ED   21FB           02395             call clrout ;smaz port v prc
06EE   1A24           02396             btfsc r5, 4
06EF   122B           02397             bcf o_c, 4 
06F0   0008           02398             return
                      02399 
                      02400 
                      02401 ;zmeni stav LED zamceno
06F1   3016           02402 ledzam      movlw b'10110' ;port C6
06F2   00D2           02403             movwf port
06F3   3003           02404             movlw b'11' ;procesor 3
06F4   00D3           02405             movwf prc
                      02406             
06F5   0830           02407             movf o_h, W
06F6   00A4           02408             movwf r5
                      02409 
06F7   1F24           02410             btfss r5, 6
06F8   21D4           02411             call setout ;nastav port v prc
06F9   1F24           02412             btfss r5, 6
06FA   1730           02413             bsf o_h, 6 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02414         
06FB   1B24           02415             btfsc r5, 6
06FC   21FB           02416             call clrout ;smaz port v prc
06FD   1B24           02417             btfsc r5, 6
06FE   1330           02418             bcf o_h, 6 
                      02419         
06FF   0008           02420             return
                      02421 
                      02422 
                      02423 
                      02424 
                      02425 
                      02426 
                      02427 
                      02428 
                      02429 
                      02430 
                      02431 
                      02432 
0800                  02433             org 800h ;zacina druha stranka programu
0800   118A           02434 restart     bcf PCLATH,3 ;Select page 0
                      02435             ;Po restartu se obnovi stare registry PORTU
                      02436 
0801   085E           02437             movf PORTA_temp, W
0802   0085           02438             movwf PORTA
0803   085F           02439             movf PORTB_temp, W
0804   0086           02440             movwf PORTB
0805   0860           02441             movf PORTC_temp, W
0806   0087           02442             movwf PORTC
0807   0861           02443             movf PORTD_temp, W
0808   0088           02444             movwf PORTD
0809   0862           02445             movf PORTE_temp, W
080A   0089           02446             movwf PORTE
                      02447 
                      02448             ;zapne zadni pasy po restartu
080B   300E           02449             movlw b'01110' ;port B6
080C   00D2           02450             movwf port
080D   3003           02451             movlw b'11' ;procesor 3
080E   00D3           02452             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   21D4           02453             call setout ;nastav port v prc
0810   172F           02454             bsf o_g, 6 
                      02455             
0811   300F           02456             movlw b'01111' ;port B7
0812   00D2           02457             movwf port
0813   3003           02458             movlw b'11' ;procesor 3
0814   00D3           02459             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   21D4           02460             call setout ;nastav port v prc
0816   17AF           02461             bsf o_g, 7 
                      02462 
                      02463 
0817   158A           02464             bsf PCLATH,3 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0818   282E           02465             goto loop
                      02466     
0819   118A           02467 start       bcf PCLATH,3 ;Select page 0
                      02468             
081A   01DE           02469             clrf PORTA_temp
081B   01DF           02470             clrf PORTB_temp
081C   01E0           02471             clrf PORTC_temp
081D   01E1           02472             clrf PORTD_temp
081E   01E2           02473             clrf PORTE_temp
                      02474             
Message[306]: Crossing page boundary -- ensure page bits are set.
081F   2382           02475             call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
                            arm
                      02476             
                      02477             ; zapne predni pasy po startu
0820   300C           02478             movlw b'01100' ;port B4
0821   00D2           02479             movwf port
0822   3003           02480             movlw b'11' ;procesor 3
0823   00D3           02481             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0824   21D4           02482             call setout ;nastav port v prc
0825   162F           02483             bsf o_g, 4 
                      02484             
0826   300D           02485             movlw b'01101' ;port B5
0827   00D2           02486             movwf port
0828   3003           02487             movlw b'11' ;procesor 3
0829   00D3           02488             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
082A   21D4           02489             call setout ;nastav port v prc
082B   16AF           02490             bsf o_g, 5 
                      02491         
                      02492 
082C   158A           02493             bsf PCLATH,3 ;Select page 0
082D   282E           02494             goto loop
                      02495 
082E   118A           02496 loop        bcf PCLATH,3 ;Select page 0
                      02497             
082F   0064           02498             clrwdt
                      02499    
                      02500             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02501             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0830   205B           02502             call watchstart
                      02503             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0831   205E           02504             call watchwait
                      02505             
                      02506             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0832   205B           02507             call watchstart
                      02508             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0833   205E           02509             call watchwait
                      02510             
                      02511             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0834   205B           02512             call watchstart
                      02513             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0835   205E           02514             call watchwait
                      02515             
                      02516             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0836   205B           02517             call watchstart
                      02518             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0837   205E           02519             call watchwait
                      02520       
                      02521       
                      02522       
0838   1A59           02523             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0839   2067           02524             call timer1
                      02525 
083A   158A           02526             bsf PCLATH,3 ;Select page 1
                      02527             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
083B   118A           02528             bcf PCLATH,3 ;Select page 0
                      02529 
                      02530 
                      02531             
                      02532             
083C   3000           02533             movlw .0 ;nastavime ANx kde x je zadane cislo
083D   00F6           02534             movwf ran1
083E   158A           02535             bsf PCLATH,3 ;Select page 1
083F   22DE           02536             call adconv
0840   118A           02537             bcf PCLATH,3 ;Select page 0
0841   0876           02538             movf ran1, W
0842   00A0           02539             movwf r1
                      02540             
0843   093F           02541             comf ir_58, W
0844   07A0           02542             addwf r1, F
0845   081E           02543             movf ADRESH, W
0846   0FA0           02544             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0847   00BF           02545             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0848   0820           02546             movf r1, W
0849   118A           02547             bcf PCLATH,3 ;Select page 0
084A   1D03           02548             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
084B   2222           02549             call if_58  ;pokud zmena odesle na sbernici
                      02550             
                      02551             
084C   3001           02552             movlw .1 ;nastavime ANx kde x je zadane cislo
084D   00F6           02553             movwf ran1
084E   158A           02554             bsf PCLATH,3 ;Select page 1
084F   22DE           02555             call adconv
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0850   118A           02556             bcf PCLATH,3 ;Select page 0
0851   0876           02557             movf ran1, W
0852   00A0           02558             movwf r1
                      02559             
0853   0943           02560             comf ir_62, W
0854   07A0           02561             addwf r1, F
0855   081E           02562             movf ADRESH, W
0856   0FA0           02563             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0857   00C3           02564             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0858   0820           02565             movf r1, W
0859   118A           02566             bcf PCLATH,3 ;Select page 0
085A   1D03           02567             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
085B   226F           02568             call if_62  ;pokud zmena odesle na sbernici
                      02569             
                      02570             
085C   3002           02571             movlw .2 ;nastavime ANx kde x je zadane cislo
085D   00F6           02572             movwf ran1
085E   158A           02573             bsf PCLATH,3 ;Select page 1
085F   22DE           02574             call adconv
0860   118A           02575             bcf PCLATH,3 ;Select page 0
0861   0876           02576             movf ran1, W
0862   00A0           02577             movwf r1
                      02578             
0863   0937           02579             comf ir_50, W
0864   07A0           02580             addwf r1, F
0865   081E           02581             movf ADRESH, W
0866   0FA0           02582             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0867   00B7           02583             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0868   0820           02584             movf r1, W
0869   118A           02585             bcf PCLATH,3 ;Select page 0
086A   1D03           02586             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
086B   22BC           02587             call if_50  ;pokud zmena odesle na sbernici
                      02588             
                      02589             
086C   3003           02590             movlw .3 ;nastavime ANx kde x je zadane cislo
086D   00F6           02591             movwf ran1
086E   158A           02592             bsf PCLATH,3 ;Select page 1
086F   22DE           02593             call adconv
0870   118A           02594             bcf PCLATH,3 ;Select page 0
0871   0876           02595             movf ran1, W
0872   00A0           02596             movwf r1
                      02597             
0873   0940           02598             comf ir_59, W
0874   07A0           02599             addwf r1, F
0875   081E           02600             movf ADRESH, W
0876   0FA0           02601             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0877   00C0           02602             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0878   0820           02603             movf r1, W
0879   118A           02604             bcf PCLATH,3 ;Select page 0
087A   1D03           02605             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

087B   22BE           02606             call if_59  ;pokud zmena odesle na sbernici
                      02607             
                      02608             
087C   3004           02609             movlw .4 ;nastavime ANx kde x je zadane cislo
087D   00F6           02610             movwf ran1
087E   158A           02611             bsf PCLATH,3 ;Select page 1
087F   22DE           02612             call adconv
0880   118A           02613             bcf PCLATH,3 ;Select page 0
0881   0876           02614             movf ran1, W
0882   00A0           02615             movwf r1
                      02616             
0883   0941           02617             comf ir_60, W
0884   07A0           02618             addwf r1, F
0885   081E           02619             movf ADRESH, W
0886   0FA0           02620             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0887   00C1           02621             movwf ir_60  ;prepise reg AN prevedenou hodnotou
0888   0820           02622             movf r1, W
0889   118A           02623             bcf PCLATH,3 ;Select page 0
088A   1D03           02624             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
088B   22C0           02625             call if_60  ;pokud zmena odesle na sbernici
                      02626             
                      02627             
088C   3005           02628             movlw .5 ;nastavime ANx kde x je zadane cislo
088D   00F6           02629             movwf ran1
088E   158A           02630             bsf PCLATH,3 ;Select page 1
088F   22DE           02631             call adconv
0890   118A           02632             bcf PCLATH,3 ;Select page 0
0891   0876           02633             movf ran1, W
0892   00A0           02634             movwf r1
                      02635             
0893   0942           02636             comf ir_61, W
0894   07A0           02637             addwf r1, F
0895   081E           02638             movf ADRESH, W
0896   0FA0           02639             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0897   00C2           02640             movwf ir_61  ;prepise reg AN prevedenou hodnotou
0898   0820           02641             movf r1, W
0899   118A           02642             bcf PCLATH,3 ;Select page 0
089A   1D03           02643             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
089B   22C2           02644             call if_61  ;pokud zmena odesle na sbernici
                      02645             
                      02646             
                      02647             
                      02648             
                      02649 
                      02650 
                      02651             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
089C   205B           02652             call watchstart
                      02653 
                      02654             ;dotaz na procesor 2
089D   3002           02655             movlw .2  ;oznaceni ciloveho procesoru
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

089E   00F8           02656             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
089F   211B           02657             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02658     
                      02659             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08A0   205E           02660             call watchwait
                      02661     
08A1   0870           02662             movf pri0, W    ;kontroluje zda je zmena od minule
08A2   00A0           02663             movwf r1
08A3   0938           02664             comf ir_51, W
08A4   07A0           02665             addwf r1, F
08A5   0870           02666             movf pri0, W
08A6   0FA0           02667             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A7   00B8           02668             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08A8   0820           02669             movf r1, W
08A9   1D03           02670             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08AA   22C8           02671             call if_51  ;pokud zmena spusti podprig
                      02672     
08AB   0871           02673             movf pri1, W    ;kontroluje zda je zmena od minule
08AC   00A0           02674             movwf r1
08AD   0939           02675             comf ir_52, W
08AE   07A0           02676             addwf r1, F
08AF   0871           02677             movf pri1, W
08B0   0FA0           02678             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B1   00B9           02679             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08B2   0820           02680             movf r1, W
08B3   1D03           02681             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B4   22CA           02682             call if_52  ;pokud zmena spusti podprig
                      02683     
                      02684     
08B5   0872           02685             movf pri2, W    ;kontroluje zda je zmena od minule
08B6   00A0           02686             movwf r1
08B7   093A           02687             comf ir_53, W
08B8   07A0           02688             addwf r1, F
08B9   0872           02689             movf pri2, W
08BA   0FA0           02690             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08BB   00BA           02691             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08BC   0820           02692             movf r1, W
08BD   1D03           02693             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08BE   22CC           02694             call if_53  ;pokud zmena spusti podprig
                      02695     
                      02696     
08BF   0873           02697             movf pri3, W    ;kontroluje zda je zmena od minule
08C0   00A0           02698             movwf r1
08C1   093B           02699             comf ir_54, W
08C2   07A0           02700             addwf r1, F
08C3   0873           02701             movf pri3, W
08C4   0FA0           02702             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C5   00BB           02703             movwf ir_54  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C6   0820           02704             movf r1, W
08C7   1D03           02705             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C8   22CE           02706             call if_54  ;pokud zmena spusti podprig
                      02707     
                      02708     
08C9   0874           02709             movf pri4, W    ;kontroluje zda je zmena od minule
08CA   00A0           02710             movwf r1
08CB   093C           02711             comf ir_55, W
08CC   07A0           02712             addwf r1, F
08CD   0874           02713             movf pri4, W
08CE   0FA0           02714             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CF   00BC           02715             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08D0   0820           02716             movf r1, W
08D1   1D03           02717             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D2   22D0           02718             call if_55  ;pokud zmena spusti podprig
                      02719     
                      02720     
08D3   0875           02721             movf pri5, W    ;kontroluje zda je zmena od minule
08D4   00A0           02722             movwf r1
08D5   093D           02723             comf ir_56, W
08D6   07A0           02724             addwf r1, F
08D7   0875           02725             movf pri5, W
08D8   0FA0           02726             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D9   00BD           02727             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08DA   0820           02728             movf r1, W
08DB   1D03           02729             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08DC   22D2           02730             call if_56  ;pokud zmena spusti podprig
                      02731     
                      02732     
08DD   0876           02733             movf pri6, W    ;kontroluje zda je zmena od minule
08DE   00A0           02734             movwf r1
08DF   093E           02735             comf ir_57, W
08E0   07A0           02736             addwf r1, F
08E1   0876           02737             movf pri6, W
08E2   0FA0           02738             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E3   00BE           02739             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08E4   0820           02740             movf r1, W
08E5   1D03           02741             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E6   22D4           02742             call if_57  ;pokud zmena spusti podprig
                      02743     
                      02744     
08E7   0877           02745             movf pri7, W    ;kontroluje zda je zmena od minule
08E8   00A0           02746             movwf r1
08E9   0936           02747             comf ir_49, W
08EA   07A0           02748             addwf r1, F
08EB   0877           02749             movf pri7, W
08EC   0FA0           02750             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08ED   00B6           02751             movwf ir_49  ;priepise reg AN prievedenou hodnotou
08EE   0820           02752             movf r1, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08EF   1D03           02753             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F0   22C4           02754             call if_49  ;pokud zmena spusti podprig
                      02755 
                      02756 
                      02757             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08F1   205B           02758             call watchstart
                      02759 
                      02760             ;dotaz na procesor 3
08F2   3003           02761             movlw .3  ;oznaceni ciloveho procesoru
08F3   00F8           02762             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08F4   211B           02763             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02764             
                      02765             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08F5   205E           02766             call watchwait
                      02767             
                      02768     
                      02769     
08F6   0870           02770             movf pri0, W    ;kontroluje zda je zmena od minule
08F7   00A0           02771             movwf r1
08F8   0944           02772             comf ir_80, W
08F9   07A0           02773             addwf r1, F
08FA   0870           02774             movf pri0, W
08FB   0FA0           02775             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FC   00C4           02776             movwf ir_80  ;priepise reg AN prievedenou hodnotou
08FD   0820           02777             movf r1, W
08FE   1D03           02778             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08FF   22C6           02779             call if_80  ;pokud zmena spusti podprig
                      02780     
                      02781     
0900   0871           02782             movf pri1, W    ;kontroluje zda je zmena od minule
0901   00A0           02783             movwf r1
0902   0945           02784             comf ir_84, W
0903   07A0           02785             addwf r1, F
0904   0871           02786             movf pri1, W
0905   0FA0           02787             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0906   00C5           02788             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0907   0820           02789             movf r1, W
0908   1D03           02790             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0909   22D6           02791             call if_84  ;pokud zmena spusti podprig
                      02792     
                      02793     
090A   0872           02794             movf pri2, W    ;kontroluje zda je zmena od minule
090B   00A0           02795             movwf r1
090C   0946           02796             comf ir_85, W
090D   07A0           02797             addwf r1, F
090E   0872           02798             movf pri2, W
090F   0FA0           02799             incfsz r1, F  ;pokud zadna zmena pokracuje dal
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0910   00C6           02800             movwf ir_85  ;priepise reg AN prievedenou hodnotou
0911   0820           02801             movf r1, W
0912   1D03           02802             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0913   22D8           02803             call if_85  ;pokud zmena spusti podprig
                      02804     
                      02805     
0914   0873           02806             movf pri3, W    ;kontroluje zda je zmena od minule
0915   00A0           02807             movwf r1
0916   0947           02808             comf ir_86, W
0917   07A0           02809             addwf r1, F
0918   0873           02810             movf pri3, W
0919   0FA0           02811             incfsz r1, F  ;pokud zadna zmena pokracuje dal
091A   00C7           02812             movwf ir_86  ;priepise reg AN prievedenou hodnotou
091B   0820           02813             movf r1, W
091C   1D03           02814             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
091D   22DA           02815             call if_86  ;pokud zmena spusti podprig
                      02816     
                      02817     
091E   0874           02818             movf pri4, W    ;kontroluje zda je zmena od minule
091F   00A0           02819             movwf r1
0920   0948           02820             comf ir_87, W
0921   07A0           02821             addwf r1, F
0922   0874           02822             movf pri4, W
0923   0FA0           02823             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0924   00C8           02824             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0925   0820           02825             movf r1, W
0926   1D03           02826             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0927   22DC           02827             call if_87  ;pokud zmena spusti podprig
                      02828     
                      02829     
0928   0875           02830             movf pri5, W    ;kontroluje zda je zmena od minule
0929   00A0           02831             movwf r1
092A   0949           02832             comf ir_88, W
092B   07A0           02833             addwf r1, F
092C   0875           02834             movf pri5, W
092D   0FA0           02835             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092E   00C9           02836             movwf ir_88  ;priepise reg AN prievedenou hodnotou
092F   0820           02837             movf r1, W
0930   1D03           02838             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0931   22DE           02839             call if_88  ;pokud zmena spusti podprig
                      02840     
                      02841     
0932   0876           02842             movf pri6, W    ;kontroluje zda je zmena od minule
0933   00A0           02843             movwf r1
0934   094A           02844             comf ir_89, W
0935   07A0           02845             addwf r1, F
0936   0876           02846             movf pri6, W
0937   0FA0           02847             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0938   00CA           02848             movwf ir_89  ;priepise reg AN prievedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0939   0820           02849             movf r1, W
093A   1D03           02850             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
093B   22E0           02851             call if_89  ;pokud zmena spusti podprig
                      02852     
                      02853     
093C   0877           02854             movf pri7, W    ;kontroluje zda je zmena od minule
093D   00A0           02855             movwf r1
093E   094B           02856             comf ir_90, W
093F   07A0           02857             addwf r1, F
0940   0877           02858             movf pri7, W
0941   0FA0           02859             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0942   00CB           02860             movwf ir_90  ;priepise reg AN prievedenou hodnotou
0943   0820           02861             movf r1, W
0944   1D03           02862             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0945   22E2           02863             call if_90  ;pokud zmena spusti podprig
                      02864 
                      02865 
                      02866 
                      02867             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0946   205B           02868             call watchstart
                      02869 
                      02870             ;dotaz na procesor 4
0947   3004           02871             movlw .4  ;oznaceni ciloveho procesoru
0948   00F8           02872             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0949   211B           02873             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02874             
                      02875             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
094A   205E           02876             call watchwait
                      02877             
                      02878     
                      02879     
094B   0870           02880             movf pri0, W    ;kontroluje zda je zmena od minule
094C   00A0           02881             movwf r1
094D   094C           02882             comf ir_91, W
094E   07A0           02883             addwf r1, F
094F   0870           02884             movf pri0, W
0950   0FA0           02885             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0951   00CC           02886             movwf ir_91  ;priepise reg AN prievedenou hodnotou
0952   0820           02887             movf r1, W
0953   1D03           02888             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0954   22E4           02889             call if_91  ;pokud zmena spusti podprig
                      02890     
                      02891     
0955   0871           02892             movf pri1, W    ;kontroluje zda je zmena od minule
0956   00A0           02893             movwf r1
0957   094D           02894             comf ir_92, W
0958   07A0           02895             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0959   0871           02896             movf pri1, W
095A   0FA0           02897             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095B   00CD           02898             movwf ir_92  ;priepise reg AN prievedenou hodnotou
095C   0820           02899             movf r1, W
095D   1D03           02900             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
095E   22E6           02901             call if_92  ;pokud zmena spusti podprig
                      02902     
                      02903     
095F   0872           02904             movf pri2, W    ;kontroluje zda je zmena od minule
0960   00A0           02905             movwf r1
0961   094E           02906             comf ir_93, W
0962   07A0           02907             addwf r1, F
0963   0872           02908             movf pri2, W
0964   0FA0           02909             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0965   00CE           02910             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0966   0820           02911             movf r1, W
0967   1D03           02912             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0968   22E8           02913             call if_93  ;pokud zmena spusti podprig
                      02914     
                      02915     
0969   0873           02916             movf pri3, W    ;kontroluje zda je zmena od minule
096A   00A0           02917             movwf r1
096B   094F           02918             comf ir_127, W
096C   07A0           02919             addwf r1, F
096D   0873           02920             movf pri3, W
096E   0FA0           02921             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096F   00CF           02922             movwf ir_127  ;priepise reg AN prievedenou hodnotou
0970   0820           02923             movf r1, W
0971   1D03           02924             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0972   22EA           02925             call if_127  ;pokud zmena spusti podprig
                      02926     
                      02927     
0973   0874           02928             movf pri4, W    ;kontroluje zda je zmena od minule
0974   00A0           02929             movwf r1
0975   0950           02930             comf ir_128, W
0976   07A0           02931             addwf r1, F
0977   0874           02932             movf pri4, W
0978   0FA0           02933             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0979   00D0           02934             movwf ir_128  ;priepise reg AN prievedenou hodnotou
097A   0820           02935             movf r1, W
097B   1D03           02936             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
097C   22EC           02937             call if_128  ;pokud zmena spusti podprig
                      02938     
                      02939     
097D   0875           02940             movf pri5, W    ;kontroluje zda je zmena od minule
097E   00A0           02941             movwf r1
097F   0935           02942             comf ir_x, W
0980   07A0           02943             addwf r1, F
0981   0875           02944             movf pri5, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0982   0FA0           02945             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0983   00B5           02946             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0984   0820           02947             movf r1, W
0985   1D03           02948             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0986   2339           02949             call if_x  ;pokud zmena spusti podprig
                      02950     
                      02951     
0987   0876           02952             movf pri6, W    ;kontroluje zda je zmena od minule
0988   00A0           02953             movwf r1
0989   0935           02954             comf ir_x, W
098A   07A0           02955             addwf r1, F
098B   0876           02956             movf pri6, W
098C   0FA0           02957             incfsz r1, F  ;pokud zadna zmena pokracuje dal
098D   00B5           02958             movwf ir_x  ;priepise reg AN prievedenou hodnotou
098E   0820           02959             movf r1, W
098F   1D03           02960             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0990   2339           02961             call if_x  ;pokud zmena spusti podprig
                      02962     
                      02963     
0991   0877           02964             movf pri7, W    ;kontroluje zda je zmena od minule
0992   00A0           02965             movwf r1
0993   0935           02966             comf ir_x, W
0994   07A0           02967             addwf r1, F
0995   0877           02968             movf pri7, W
0996   0FA0           02969             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0997   00B5           02970             movwf ir_x  ;priepise reg AN prievedenou hodnotou
0998   0820           02971             movf r1, W
0999   1D03           02972             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
099A   2339           02973             call if_x  ;pokud zmena spusti podprig
                      02974 
                      02975 
                      02976 
099B   158A           02977             bsf PCLATH,3 ;Select page 1
099C   282E           02978             goto loop      ;zpet v cyklu na zacatek
                      02979         
                      02980         
                      02981         
                      02982 
                      02983 
                      02984 
                      02985 
                      02986 
                      02987 
099D   084B           02988 okna        movf ir_90, W
099E   39F0           02989             andlw b'11110000' ;odseknu konecnou cast
099F   00A0           02990             movwf r1
09A0   09A0           02991             comf r1, F ;udelám dvojkový doplněk
09A1   0824           02992             movf o1tar, W
09A2   39F0           02993             andlw b'11110000' ;odseknu konecnou cast
09A3   07A0           02994             addwf r1, F ;sectu s dvojkovym doplnkem
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09A4   0803           02995             movf STATUS, W
09A5   00A2           02996             movwf r3
09A6   1922           02997             btfsc r3, Z
09A7   220C           02998             call o1stop
09A8   1922           02999             btfsc r3, Z
09A9   29AE           03000             goto okno2
09AA   1C22           03001             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09AB   21E2           03002             call o1up
09AC   1822           03003             btfsc r3, C ;pokud preteklo, sjed dolu
09AD   21F7           03004             call o1down
09AE   084C           03005 okno2       movf ir_91, W
09AF   39F0           03006             andlw b'11110000' ;odseknu konecnou cast
09B0   00A0           03007             movwf r1
09B1   09A0           03008             comf r1, F ;udelám dvojkový doplněk
09B2   0825           03009             movf o2tar, W
09B3   39F0           03010             andlw b'11110000' ;odseknu konecnou cast
09B4   07A0           03011             addwf r1, F ;sectu s dvojkovym doplnkem
09B5   0803           03012             movf STATUS, W
09B6   00A2           03013             movwf r3
09B7   1922           03014             btfsc r3, Z
09B8   224B           03015             call o2stop
09B9   1922           03016             btfsc r3, Z
09BA   29BF           03017             goto okno3
09BB   1C22           03018             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09BC   2221           03019             call o2up
09BD   1822           03020             btfsc r3, C ;pokud preteklo, sjed dolu
09BE   2236           03021             call o2down
09BF   084D           03022 okno3       movf ir_92, W
09C0   39F0           03023             andlw b'11110000' ;odseknu konecnou cast
09C1   00A0           03024             movwf r1
09C2   09A0           03025             comf r1, F ;udelám dvojkový doplněk
09C3   0826           03026             movf o3tar, W
09C4   39F0           03027             andlw b'11110000' ;odseknu konecnou cast
09C5   07A0           03028             addwf r1, F ;sectu s dvojkovym doplnkem
09C6   0803           03029             movf STATUS, W
09C7   00A2           03030             movwf r3
09C8   1922           03031             btfsc r3, Z
09C9   228A           03032             call o3stop
09CA   1922           03033             btfsc r3, Z
09CB   29D0           03034             goto okno4
09CC   1C22           03035             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09CD   2260           03036             call o3up
09CE   1822           03037             btfsc r3, C ;pokud preteklo, sjed dolu
09CF   2275           03038             call o3down
09D0   084E           03039 okno4       movf ir_93, W
09D1   39F0           03040             andlw b'11110000' ;odseknu konecnou cast
09D2   00A0           03041             movwf r1
09D3   09A0           03042             comf r1, F ;udelám dvojkový doplněk
09D4   0827           03043             movf o4tar, W
09D5   39F0           03044             andlw b'11110000' ;odseknu konecnou cast
09D6   07A0           03045             addwf r1, F ;sectu s dvojkovym doplnkem
09D7   0803           03046             movf STATUS, W
09D8   00A2           03047             movwf r3
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09D9   1922           03048             btfsc r3, Z
09DA   22C9           03049             call o4stop
09DB   1922           03050             btfsc r3, Z
09DC   0008           03051             return
09DD   1C22           03052             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09DE   229F           03053             call o4up
09DF   1822           03054             btfsc r3, C ;pokud preteklo, sjed dolu
09E0   22B4           03055             call o4down
09E1   0008           03056             return
                      03057 
                      03058 ;okno 1 nahoru, dolu, zastavit
09E2   19A9           03059 o1up        btfsc o_a, 3
09E3   29EC           03060             goto no1up
09E4   301D           03061             movlw b'11101' ;port D5
09E5   00D2           03062             movwf port
09E6   3003           03063             movlw b'11' ;procesor 3
09E7   00D3           03064             movwf prc
                      03065         
09E8   118A           03066             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09E9   21D4           03067             call setout ;smaz port v prc
09EA   158A           03068             bsf PCLATH,3 ;Select page 1
09EB   15A9           03069             bsf o_a, 3 
09EC   1FA9           03070 no1up       btfss o_a, 7
09ED   0008           03071             return
09EE   300C           03072             movlw b'01100' ;port B4
09EF   00D2           03073             movwf port
09F0   3002           03074             movlw b'10' ;procesor 2
09F1   00D3           03075             movwf prc
                      03076             
09F2   118A           03077             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09F3   21FB           03078             call clrout ;smaz port v prc
09F4   158A           03079             bsf PCLATH,3 ;Select page 1
09F5   13A9           03080             bcf o_a, 7             
09F6   0008           03081             return
09F7   1DA9           03082 o1down      btfss o_a, 3
09F8   2A01           03083             goto no1down
09F9   301D           03084             movlw b'11101' ;port D5
09FA   00D2           03085             movwf port
09FB   3003           03086             movlw b'11' ;procesor 3
09FC   00D3           03087             movwf prc
                      03088             
09FD   118A           03089             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
09FE   21FB           03090             call clrout ;smaz port v prc
09FF   158A           03091             bsf PCLATH,3 ;Select page 1
0A00   11A9           03092             bcf o_a, 3 
0A01   1BA9           03093 no1down     btfsc o_a, 7
0A02   0008           03094             return
0A03   300C           03095             movlw b'01100' ;port B4
0A04   00D2           03096             movwf port
0A05   3002           03097             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A06   00D3           03098             movwf prc
                      03099             
0A07   118A           03100             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A08   21D4           03101             call setout ;smaz port v prc
0A09   158A           03102             bsf PCLATH,3 ;Select page 1
0A0A   17A9           03103             bsf o_a, 7             
0A0B   0008           03104             return
0A0C   1DA9           03105 o1stop      btfss o_a, 3
0A0D   2A16           03106             goto no1stop
0A0E   301D           03107             movlw b'11101' ;port D5
0A0F   00D2           03108             movwf port
0A10   3003           03109             movlw b'11' ;procesor 3
0A11   00D3           03110             movwf prc
                      03111             
0A12   118A           03112             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A13   21FB           03113             call clrout ;smaz port v prc
0A14   158A           03114             bsf PCLATH,3 ;Select page 1
0A15   11A9           03115             bcf o_a, 3 
0A16   1FA9           03116 no1stop     btfss o_a, 7
0A17   0008           03117             return
0A18   300C           03118             movlw b'01100' ;port B4
0A19   00D2           03119             movwf port
0A1A   3002           03120             movlw b'10' ;procesor 2
0A1B   00D3           03121             movwf prc
                      03122             
0A1C   118A           03123             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A1D   21FB           03124             call clrout ;smaz port v prc
0A1E   158A           03125             bsf PCLATH,3 ;Select page 1
0A1F   13A9           03126             bcf o_a, 7             
0A20   0008           03127             return
                      03128 ;okno 2 nahoru, dolu, zastavit
0A21   1A29           03129 o2up        btfsc o_a, 4
0A22   2A2B           03130             goto no2up
0A23   3018           03131             movlw b'11000' ;port D0
0A24   00D2           03132             movwf port
0A25   3002           03133             movlw b'10' ;procesor 2
0A26   00D3           03134             movwf prc
                      03135             
0A27   118A           03136             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A28   21D4           03137             call setout ;smaz port v prc
0A29   158A           03138             bsf PCLATH,3 ;Select page 1
0A2A   1629           03139             bsf o_a, 4 
0A2B   1C2A           03140 no2up       btfss o_b, 0
0A2C   0008           03141             return
0A2D   300D           03142             movlw b'01101' ;port B5
0A2E   00D2           03143             movwf port
0A2F   3002           03144             movlw b'10' ;procesor 2
0A30   00D3           03145             movwf prc
                      03146             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A31   118A           03147             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A32   21FB           03148             call clrout ;smaz port v prc
0A33   158A           03149             bsf PCLATH,3 ;Select page 1
0A34   102A           03150             bcf o_b, 0             
0A35   0008           03151             return
0A36   1E29           03152 o2down      btfss o_a, 4
0A37   2A40           03153             goto no2down
0A38   3018           03154             movlw b'11000' ;port D0
0A39   00D2           03155             movwf port
0A3A   3002           03156             movlw b'10' ;procesor 2
0A3B   00D3           03157             movwf prc
                      03158             
0A3C   118A           03159             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A3D   21FB           03160             call clrout ;smaz port v prc
0A3E   158A           03161             bsf PCLATH,3 ;Select page 1
0A3F   1229           03162             bcf o_a, 4 
0A40   182A           03163 no2down     btfsc o_b, 0
0A41   0008           03164             return
0A42   300D           03165             movlw b'01101' ;port B5
0A43   00D2           03166             movwf port
0A44   3002           03167             movlw b'10' ;procesor 2
0A45   00D3           03168             movwf prc
                      03169             
0A46   118A           03170             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A47   21D4           03171             call setout ;smaz port v prc
0A48   158A           03172             bsf PCLATH,3 ;Select page 1
0A49   142A           03173             bsf o_b, 0             
0A4A   0008           03174             return
0A4B   1E29           03175 o2stop      btfss o_a, 4
0A4C   2A55           03176             goto no2stop
0A4D   3018           03177             movlw b'11000' ;port D0
0A4E   00D2           03178             movwf port
0A4F   3002           03179             movlw b'10' ;procesor 2
0A50   00D3           03180             movwf prc
                      03181             
0A51   118A           03182             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A52   21FB           03183             call clrout ;smaz port v prc
0A53   158A           03184             bsf PCLATH,3 ;Select page 1
0A54   1229           03185             bcf o_a, 4 
0A55   1C2A           03186 no2stop     btfss o_b, 0
0A56   0008           03187             return
0A57   300D           03188             movlw b'01101' ;port B5
0A58   00D2           03189             movwf port
0A59   3002           03190             movlw b'10' ;procesor 2
0A5A   00D3           03191             movwf prc
                      03192             
0A5B   118A           03193             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A5C   21FB           03194             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A5D   158A           03195             bsf PCLATH,3 ;Select page 1
0A5E   102A           03196             bcf o_b, 0             
0A5F   0008           03197             return
                      03198 ;okno 3 nahoru, dolu, zastavit
0A60   1AA9           03199 o3up        btfsc o_a, 5
0A61   2A6A           03200             goto no3up
0A62   300A           03201             movlw b'01010' ;port B2
0A63   00D2           03202             movwf port
0A64   3002           03203             movlw b'10' ;procesor 2
0A65   00D3           03204             movwf prc
                      03205             
0A66   118A           03206             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A67   21D4           03207             call setout ;smaz port v prc
0A68   158A           03208             bsf PCLATH,3 ;Select page 1
0A69   16A9           03209             bsf o_a, 5 
0A6A   1CAA           03210 no3up       btfss o_b, 1
0A6B   0008           03211             return
0A6C   300E           03212             movlw b'01110' ;port B6
0A6D   00D2           03213             movwf port
0A6E   3002           03214             movlw b'10' ;procesor 2
0A6F   00D3           03215             movwf prc
                      03216             
0A70   118A           03217             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A71   21FB           03218             call clrout ;smaz port v prc
0A72   158A           03219             bsf PCLATH,3 ;Select page 1
0A73   10AA           03220             bcf o_b, 1             
0A74   0008           03221             return
0A75   1EA9           03222 o3down      btfss o_a, 5
0A76   2A7F           03223             goto no3down
0A77   300A           03224             movlw b'01010' ;port B2
0A78   00D2           03225             movwf port
0A79   3002           03226             movlw b'10' ;procesor 2
0A7A   00D3           03227             movwf prc
                      03228             
0A7B   118A           03229             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A7C   21FB           03230             call clrout ;smaz port v prc
0A7D   158A           03231             bsf PCLATH,3 ;Select page 1
0A7E   12A9           03232             bcf o_a, 5 
0A7F   18AA           03233 no3down     btfsc o_b, 1
0A80   0008           03234             return
0A81   300E           03235             movlw b'01110' ;port B6
0A82   00D2           03236             movwf port
0A83   3002           03237             movlw b'10' ;procesor 2
0A84   00D3           03238             movwf prc
                      03239             
0A85   118A           03240             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A86   21D4           03241             call setout ;smaz port v prc
0A87   158A           03242             bsf PCLATH,3 ;Select page 1
0A88   14AA           03243             bsf o_b, 1             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A89   0008           03244             return
0A8A   1EA9           03245 o3stop      btfss o_a, 5
0A8B   2A94           03246             goto no3stop
0A8C   300A           03247             movlw b'01010' ;port B2
0A8D   00D2           03248             movwf port
0A8E   3002           03249             movlw b'10' ;procesor 2
0A8F   00D3           03250             movwf prc
                      03251             
0A90   118A           03252             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A91   21FB           03253             call clrout ;smaz port v prc
0A92   158A           03254             bsf PCLATH,3 ;Select page 1
0A93   12A9           03255             bcf o_a, 5 
0A94   1CAA           03256 no3stop     btfss o_b, 1
0A95   0008           03257             return
0A96   300E           03258             movlw b'01110' ;port B6
0A97   00D2           03259             movwf port
0A98   3002           03260             movlw b'10' ;procesor 2
0A99   00D3           03261             movwf prc
                      03262             
0A9A   118A           03263             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A9B   21FB           03264             call clrout ;smaz port v prc
0A9C   158A           03265             bsf PCLATH,3 ;Select page 1
0A9D   10AA           03266             bcf o_b, 1             
0A9E   0008           03267             return
                      03268 ;okno 4 nahoru, dolu, zastavit
0A9F   1B29           03269 o4up        btfsc o_a, 6
0AA0   2AA9           03270             goto no4up
0AA1   300B           03271             movlw b'01011' ;port B3
0AA2   00D2           03272             movwf port
0AA3   3002           03273             movlw b'10' ;procesor 2
0AA4   00D3           03274             movwf prc
                      03275             
0AA5   118A           03276             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA6   21D4           03277             call setout ;smaz port v prc
0AA7   158A           03278             bsf PCLATH,3 ;Select page 1
0AA8   1729           03279             bsf o_a, 6 
0AA9   1D2A           03280 no4up       btfss o_b, 2
0AAA   0008           03281             return
0AAB   300F           03282             movlw b'01111' ;port B7
0AAC   00D2           03283             movwf port
0AAD   3002           03284             movlw b'10' ;procesor 2
0AAE   00D3           03285             movwf prc
                      03286             
0AAF   118A           03287             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB0   21FB           03288             call clrout ;smaz port v prc
0AB1   158A           03289             bsf PCLATH,3 ;Select page 1
0AB2   112A           03290             bcf o_b, 2             
0AB3   0008           03291             return
0AB4   1F29           03292 o4down      btfss o_a, 6
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AB5   2ABE           03293             goto no4down
0AB6   300B           03294             movlw b'01011' ;port B3
0AB7   00D2           03295             movwf port
0AB8   3002           03296             movlw b'10' ;procesor 2
0AB9   00D3           03297             movwf prc
                      03298             
0ABA   118A           03299             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ABB   21FB           03300             call clrout ;smaz port v prc
0ABC   158A           03301             bsf PCLATH,3 ;Select page 1
0ABD   1329           03302             bcf o_a, 6 
0ABE   192A           03303 no4down     btfsc o_b, 2
0ABF   0008           03304             return
0AC0   300F           03305             movlw b'01111' ;port B7
0AC1   00D2           03306             movwf port
0AC2   3002           03307             movlw b'10' ;procesor 2
0AC3   00D3           03308             movwf prc
                      03309             
0AC4   118A           03310             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC5   21D4           03311             call setout ;smaz port v prc
0AC6   158A           03312             bsf PCLATH,3 ;Select page 1
0AC7   152A           03313             bsf o_b, 2             
0AC8   0008           03314             return
0AC9   1F29           03315 o4stop      btfss o_a, 6
0ACA   2AD3           03316             goto no4stop
0ACB   300B           03317             movlw b'01011' ;port B3
0ACC   00D2           03318             movwf port
0ACD   3002           03319             movlw b'10' ;procesor 2
0ACE   00D3           03320             movwf prc
                      03321             
0ACF   118A           03322             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD0   21FB           03323             call clrout ;smaz port v prc
0AD1   158A           03324             bsf PCLATH,3 ;Select page 1
0AD2   1329           03325             bcf o_a, 6 
0AD3   1D2A           03326 no4stop     btfss o_b, 2
0AD4   0008           03327             return
0AD5   300F           03328             movlw b'01111' ;port B7
0AD6   00D2           03329             movwf port
0AD7   3002           03330             movlw b'10' ;procesor 2
0AD8   00D3           03331             movwf prc
                      03332             
0AD9   118A           03333             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ADA   21FB           03334             call clrout ;smaz port v prc
0ADB   158A           03335             bsf PCLATH,3 ;Select page 1
0ADC   112A           03336             bcf o_b, 2             
0ADD   0008           03337             return
                      03338             
                      03339             
                      03340             
                      03341             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03342 
                      03343 
                      03344 
                      03345 
0ADE   3032           03346 adconv      movlw .50 ; kolikrat se ma merit vstup
0ADF   00F7           03347             movwf ran2 ; decrementator pro cykl
0AE0   00FA           03348             movwf ran5 ; delitel pro vypocet prumeru
0AE1   0876           03349             movf ran1, W
0AE2   00F8           03350             movwf ran3 ; zachováni ANx vstupu
0AE3   01F2           03351             clrf CIS2_L
0AE4   01F3           03352             clrf CIS2_H
                      03353             
0AE5   0878           03354 adconv2     movf ran3, W
0AE6   00F6           03355             movwf ran1 ; nasteni znova ANx vstupu
0AE7   2306           03356             call adconv_one
                      03357             
                      03358             ; pripraveni cisla 1 k pricteni
0AE8   01F1           03359             clrf CIS1_H
0AE9   0876           03360             movf ran1, W
0AEA   00F0           03361             movwf CIS1_L
                      03362             
                      03363             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03364             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03365         
0AEB   0870           03366                 movf    CIS1_L,W        ; CIS1_L do W
0AEC   0772           03367                 addwf   CIS2_L,W        ; W + CIS2_L do W
0AED   00F4           03368                 movwf   OUT_L           ; W do OUT_L
                      03369         
0AEE   0871           03370                 movf    CIS1_H,W        ; CIS1_H do W
0AEF   1803           03371                 btfsc   STATUS,C
0AF0   3E01           03372                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0AF1   0773           03373                 addwf   CIS2_H,W
0AF2   00F5           03374                 movwf   OUT_H           ; W do OUT_H
                      03375                 
                      03376                 ; ulozi OUT do CIS2
0AF3   0874           03377             movf OUT_L, W
0AF4   00F2           03378             movwf CIS2_L
0AF5   0875           03379             movf OUT_H, W
0AF6   00F3           03380             movwf CIS2_H
                      03381             
                      03382             
0AF7   0BF7           03383             decfsz ran2, F
0AF8   2AE5           03384             goto adconv2
                      03385             
                      03386             ; vydeli poctem mereni
0AF9   0872           03387             movf CIS2_L, W
0AFA   00F0           03388             movwf A1
0AFB   0873           03389             movf CIS2_H, W
0AFC   00F1           03390             movwf A2
0AFD   01F2           03391             clrf A3
                      03392             
0AFE   087A           03393             movf ran5, W
0AFF   00F3           03394             movwf B1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B00   01F4           03395             clrf B2
0B01   01F5           03396             clrf B3
                      03397             
0B02   2315           03398             call LOMENO24
0B03   0876           03399             movf C1, W
0B04   00F6           03400             movwf ran1
                      03401             
0B05   0008           03402             return
                      03403         
0B06   1003           03404 adconv_one  bcf STATUS, C
0B07   0DF6           03405             rlf ran1, F
0B08   0DF6           03406             rlf ran1, F
0B09   0DF6           03407             rlf ran1, F
                      03408             
                      03409             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B0A   13F6           03410             bcf ran1, 7
0B0B   1776           03411             bsf ran1, 6
                      03412             ; 5
                      03413             ; 4
                      03414             ; 3
0B0C   1576           03415             bsf ran1, 2
                      03416             ; 1
0B0D   1476           03417             bsf ran1, 0
                      03418             
0B0E   0876           03419             movf ran1, W
0B0F   009F           03420             movwf ADCON0
                      03421             
0B10   191F           03422             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B11   2B10           03423             goto $-1
0B12   081E           03424             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B13   00F6           03425             movwf ran1
0B14   0008           03426             return
                      03427         
                      03428         
                      03429         
                      03430         
                      03431         
                      03432 ;-------------------------------;
                      03433 ; A1,2,3 / B1,2,3 = C1,2,3
                      03434 ;24Bit, pouze kladna cisla
                      03435 ;SZ=1=deleni nulou (B1,2,3=0)
                      03436 ;B se nezmeni, v A bude zbytek
                      03437 ;pouziva D1,2,3; X1
0B15                  03438 LOMENO24
                      03439 ;test B na nulu; sZ=1=ANO
0B15   08F3           03440         MOVF    B1,F
0B16   1903           03441         BTFSC   STATUS,Z        ;nenulove?
0B17   08F4           03442         MOVF    B2,F
0B18   1903           03443         BTFSC   STATUS,Z        ;nenulove?
0B19   08F5           03444         MOVF    B3,F
0B1A   1903           03445         BTFSC   STATUS,Z        ;nenulove?
0B1B   0008           03446         RETURN                  ;B1,2,3=0
                      03447 ;priprava pro deleni
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B1C   0870           03448 LOM24   MOVF    A1,W            ;A do D
0B1D   00F9           03449         MOVWF   D1              ;
0B1E   0871           03450         MOVF    A2,W            ;
0B1F   00FA           03451         MOVWF   D2              ;
0B20   0872           03452         MOVF    A3,W            ;
0B21   00FB           03453         MOVWF   D3              ;
0B22   01F0           03454         CLRF    A1              ;nulovat
0B23   01F1           03455         CLRF    A2              ;
0B24   01F2           03456         CLRF    A3              ;
0B25   3018           03457         MOVLW   24              ;pocet bitu
0B26   00FC           03458         MOVWF   X1              ;
0B27   1003           03459         BCF     STATUS,C        ;SC=0
                      03460 ;deleni
0B28   233A           03461 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B29   1C03           03462         BTFSS   STATUS,C        ;kladny vysledek?
0B2A   2B30           03463         GOTO    LZapor          ;NE
                      03464 ;LKlad
0B2B   00F2           03465         MOVWF   A3              ;C do A
0B2C   0877           03466         MOVF    C2,W            ;
0B2D   00F1           03467         MOVWF   A2              ;
0B2E   0876           03468         MOVF    C1,W            ;
0B2F   00F0           03469         MOVWF   A1              ;
                      03470 
0B30   0BFC           03471 LZapor  DECFSZ  X1,F            ;-1=0?
0B31   2B28           03472         GOTO    LDalsi          ;jeste neni konec
                      03473 ;vysledek
0B32   0D79           03474         RLF     D1,W            ;posledni x2
0B33   00F6           03475         MOVWF   C1              ; a W do C
0B34   0D7A           03476         RLF     D2,W            ;
0B35   00F7           03477         MOVWF   C2              ;
0B36   0D7B           03478         RLF     D3,W            ;
0B37   00F8           03479         MOVWF   C3              ;
                      03480 
0B38   1103           03481         BCF     STATUS,Z        ;SZ=0
0B39   0008           03482         RETURN
                      03483 
                      03484 
                      03485 ;................................
                      03486 ; D1,2,3 A1,2,3 * 2 a Minus
0B3A   0DF9           03487 x2M     RLF     D1,F            ;posuv vlevo
0B3B   0DFA           03488         RLF     D2,F            ;
0B3C   0DFB           03489         RLF     D3,F            ;
0B3D   0DF0           03490         RLF     A1,F            ;
0B3E   0DF1           03491         RLF     A2,F            ;
0B3F   0DF2           03492         RLF     A3,F            ;
                      03493                                 ;pokracuje MINUS
                      03494 ;--------------------------------
                      03495 ; A1,2,3 - B1,2,3 = C1,2,3
                      03496 ;SC=0=zaporny vysledek
                      03497 ;A,B se nezmeni
0B40   0873           03498 MINUS   MOVF    B1,W            ;W=B1
0B41   0270           03499         SUBWF   A1,W            ;A1-B1=W
0B42   00F6           03500         MOVWF   C1              ;C1=W=vysledek1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B43   0103           03501         CLRW                    ;W=0
0B44   1C03           03502         BTFSS   STATUS,C        ;SUB kladne?
0B45   3001           03503         MOVLW   1               ;W=1
0B46   0774           03504         ADDWF   B2,W            ;B2+W=W
0B47   01F8           03505         CLRF    C3              ;C3=0
0B48   1803           03506         BTFSC   STATUS,C        ;ADD nepreteklo?
0B49   1478           03507         BSF     C3,0            ;C3=1
0B4A   0271           03508         SUBWF   A2,W            ;A2-W=W
0B4B   00F7           03509         MOVWF   C2              ;C2=w=vysledek2
0B4C   0878           03510         MOVF    C3,W            ;W=C3
0B4D   1C03           03511         BTFSS   STATUS,C        ;SUB kladne?
0B4E   3001           03512         MOVLW   1               ;W=1
0B4F   0775           03513         ADDWF   B3,W            ;B3+W=W
0B50   01F8           03514         CLRF    C3              ;C3=0
0B51   1803           03515         BTFSC   STATUS,C        ;ADD nepreteklo?
0B52   1478           03516         BSF     C3,0            ;C3=1
0B53   0272           03517         SUBWF   A3,W            ;A3-W=W
0B54   1878           03518         BTFSC   C3,0            ;C3=0?
0B55   1003           03519         BCF     STATUS,C        ;SC=0
0B56   00F8           03520         MOVWF   C3              ;C3=W=vysledek3
0B57   0008           03521         RETURN
                      03522 
                      03523 
                      03524         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B28
LEDZAM                            00000002
LOM24                             00000B1C
LOMENO24                          00000B15
LZapor                            00000B30
MINUS                             00000B40
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000ADE
adconv2                           00000AE5
adconv_one                        00000B06
alabli                            00000110
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            000001FB
conf                              00000059
dotaz                             0000011B
dotazerr                          000001D0
if_127                            000002EA
if_128                            000002EC
if_49                             000002C4
if_50                             000002BC
if_51                             000002C8
if_52                             000002CA
if_53                             000002CC
if_54                             000002CE
if_55                             000002D0
if_56                             000002D2
if_57                             000002D4
if_58                             00000222
if_59                             000002BE
if_60                             000002C0
if_61                             000002C2
if_62                             0000026F
if_80                             000002C6
if_84                             000002D6
if_85                             000002D8
if_86                             000002DA
if_87                             000002DC
if_88                             000002DE
if_89                             000002E0
if_90                             000002E2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             000002E4
if_92                             000002E6
if_93                             000002E8
if_x                              00000339
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           000006E2
ledzam                            000006F1
locked                            00000051
loop                              0000082E
lzabli                            000000BE
no1down                           00000A01
no1stop                           00000A16
no1up                             000009EC
no2down                           00000A40
no2stop                           00000A55
no2up                             00000A2B
no3down                           00000A7F
no3stop                           00000A94
no3up                             00000A6A
no4down                           00000ABE
no4stop                           00000AD3
no4up                             00000AA9
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

o1down                            000009F7
o1stop                            00000A0C
o1tar                             00000024
o1tmp                             00000020
o1up                              000009E2
o2down                            00000A36
o2stop                            00000A4B
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A21
o3down                            00000A75
o3stop                            00000A8A
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A60
o4down                            00000AB4
o4stop                            00000AC9
o4tar                             00000027
o4tmp                             00000023
o4up                              00000A9F
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000DB
okna                              0000099D
okno2                             000009AE
okno3                             000009BF
okno4                             000009D0
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
r5                                00000024
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

r6                                00000025
radio                             00000062
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000AD
s_temp                            00000027
setout                            000001D4
sirbeep                           00000079
spinac                            00000064
spioff                            000000D6
start                             00000819
t1_00                             00000382
t1_01                             000003C0
t1_02                             000003E8
t1_03                             00000410
t1_04                             00000436
t1_05                             0000046C
t1_06                             0000048C
t1_07                             000004C8
t1_08                             000004D6
t1_09                             000004E4
t1_10                             000004E6
t1_11                             000004F0
t1_12                             000004F7
t1_13                             00000500
t1_14                             00000509
t1_15                             00000510
t1_16                             00000517
t1_17                             0000051E
t1_18                             00000520
t1_19                             00000522
t1_20                             00000524
t1_21                             0000052B
t1_22                             00000532
t1_23                             00000539
t1_24                             00000540
t1_25                             00000547
t1_26                             0000054E
t1_27                             0000055D
t1_28                             0000055F
t1_29                             00000561
t1_30                             00000563
t1_31                             0000056C
t1_32                             00000575
t1_33                             00000580
t1_34                             0000058B
t1_35                             00000594
t1_36                             0000059D
t1_37                             000005A8
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

t1_38                             000005B8
t1_39                             000005BA
t1_40                             000005BC
t1_41                             000005CB
t1_42                             000005DA
t1_43                             000005E9
t1_44                             000005F8
t1_45                             00000607
t1_46                             0000060B
t1_47                             0000060F
t1_48                             0000061E
t1_49                             00000620
t1_50                             00000622
t1_51                             00000629
t1_52                             0000062D
t1_53                             00000631
t1_54                             00000640
t1_55                             0000064F
t1_56                             00000653
t1_57                             00000674
t1_58                             00000676
t1_59                             00000678
t1_60                             0000067A
t1_61                             00000685
t1_62                             00000694
t1_63                             000006A3
t1_64                             000006AD
t1_65                             000006B7
t1_66                             000006C1
t1_67                             000006CB
t1_68                             000006CD
t1_69                             000006CF
t1_stop                           0000033B
t1_x                              000006D1
t2_02                             00000403
t2_03                             00000429
t2_37                             000005B1
t2_stop                           0000033D
t3_02                             0000040C
t3_03                             00000432
t3_stop                           0000033F
timala                            00000067
timer0                            00000064
timer1                            00000067
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           00000341
varoff                            00000082
w100c                             000006D8
w20i                              000006D3
w40c                              000006DD
w_temp                            00000026
watchover                         00000059
watchstart                        0000005B
watchwait                         0000005E
wtuoff                            000000C5
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B3A


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-13-2012  19:22:48         PAGE 81


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXX-------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:  2645
Program Memory Words Free:  1451


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    95 reported,     0 suppressed

