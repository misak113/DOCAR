MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
  0000006C            00097 vterina
                      00098       ; registr 79/96
                      00099       endc
                      00100 
                      00101 ; BANK 1
                      00102       cblock    0x20
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 
  00000020            00104 o1tmp       
  00000021            00105 o2tmp       
  00000022            00106 o3tmp       
  00000023            00107 o4tmp       
  00000024            00108 o1tar       
  00000025            00109 o2tar       
  00000026            00110 o3tar       
  00000027            00111 o4tar       
                      00112       endc
                      00113 
                      00114 
                      00115 ;Lokální proměne (pracovni a parametry) od 6D
                      00116       cblock 0x70
  00000070            00117 pri0       
  00000071            00118 pri1       
  00000072            00119 pri2        
  00000073            00120 pri3      
  00000074            00121 pri4        
  00000075            00122 pri5       
  00000076            00123 pri6    
  00000077            00124 pri7        
  00000078            00125 cil       
                      00126       endc  
                      00127 
                      00128       cblock 0x70
  00000070            00129 CIS1_L      
  00000071            00130 CIS1_H      
  00000072            00131 CIS2_L 
  00000073            00132 CIS2_H 
  00000074            00133 OUT_L 
  00000075            00134 OUT_H       
  00000076            00135 ran1      
  00000077            00136 ran2      
  00000078            00137 ran3       
  00000079            00138 ran4    
  0000007A            00139 ran5  
                      00140       endc
                      00141   
                      00142       cblock 0x70
  00000070            00143 A1    
  00000071            00144 A2    
  00000072            00145 A3    
  00000073            00146 B1    
  00000074            00147 B2    
  00000075            00148 B3    
  00000076            00149 C1    
  00000077            00150 C2    
  00000078            00151 C3    
  00000079            00152 D1    
  0000007A            00153 D2    
  0000007B            00154 D3    
  0000007C            00155 X1    
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007D            00156 X2    
  0000007E            00157 FL    
                      00158       endc
                      00159 
                      00160 
                      00161 
                      00162 ;KONSTANTY
                      00163 ;conf constant
  00000000            00164 T0OF        equ .0
  00000001            00165 STARTED     equ .1
  00000002            00166 WATCHOVER   equ .2
  00000003            00167 PCON_POR    equ .3
  00000004            00168 T1OF        equ .4
                      00169 ;casov constant
                      00170 ;VAROV       equ .0
  00000001            00171 REDTUN      equ .1
  00000002            00172 LEDZAM      equ .2
  00000003            00173 WHITUN      equ .3
  00000004            00174 ODSKOK      equ .4
  00000005            00175 ALARM       equ .5
                      00176 
                      00177 ;system constants
  00000001            00178 POR         equ .1
                      00179 
                      00180 
                      00181 
0000                  00182             org 000h        ;vektor zacatku
0000   2816           00183             goto init
                      00184 
0004                  00185             org 004h        ;vektor preruseni
0004   00A6           00186             movwf w_temp ;copy w to temp register
0005   0803           00187             movf STATUS, W ;swap status to be saved into w
0006   00A7           00188             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00189             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00190             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00191             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00192             
000A   118A           00193             bcf PCLATH,3 ;Select page 0
000B   204E           00194             call inter
                      00195         
000C   0828           00196             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00197             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00198             movf s_temp, W ;swap status_temp register into w
000F   0083           00199             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00200             movf w_temp, W ;
0011   1D27           00201             btfss s_temp, Z
0012   1103           00202             bcf STATUS, Z
0013   1927           00203             btfsc s_temp, Z
0014   1503           00204             bsf STATUS, Z
0015   0008           00205             return
                      00206 
0016   118A           00207 init        bcf PCLATH,3 ;Select page 0
0017   120A           00208             bcf PCLATH,4 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00209                 
0018   0185           00210             clrf PORTA      ;Init PORTS 
0019   0186           00211             clrf PORTB
001A   0187           00212             clrf PORTC
001B   0188           00213             clrf PORTD
001C   0189           00214             clrf PORTE
                      00215             
001D   1683           00216             bsf STATUS, RP0  ;Bank 1
                      00217             
001E   3049           00218             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00219             movwf ADCON1
                      00220     
0020   302F           00221             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00222             movwf TRISA
0022   3001           00223             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00224             movwf TRISB
0024   3000           00225             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00226             movwf TRISC
0026   3000           00227             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00228             movwf TRISD
0028   3001           00229             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00230             movwf TRISE
                      00231             
002A   0064           00232             clrwdt
002B   30CC           00233             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00234             movwf OPTION_REG
                      00235             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00236             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00237             bsf PCON, POR
                      00238 
002F   1283           00239             bcf STATUS, RP0 ;Bank 0
                      00240 
0030   00A0           00241             movwf r1
0031   11D9           00242             bcf conf, PCON_POR
0032   18A0           00243             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00244             bsf conf, PCON_POR
                      00245 
                      00246 
0034   3021           00247             movlw b'00100001' ; nastaví control register timer1
0035   0090           00248             movwf T1CON
0036   3046           00249             movlw b'01000110' ; nastaví control register timer2
0037   0092           00250             movwf T2CON
                      00251             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   203D           00252             call inton
                      00253             
                      00254             
0039   158A           00255             bsf PCLATH,3 ;Select page 1
003A   19D9           00256             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00257             goto restart
                      00258 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2825           00259             goto start      ;zacni na startu
                      00260         
                      00261         
                      00262         
                      00263 
003D   108B           00264 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00265             bsf INTCON, INTE
                      00266             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00267             ;bsf INTCON, T0IE
003F   100C           00268             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00269             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00270             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00271             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00272             bsf PIE1, TMR2IE
0044   1283           00273             bcf STATUS, RP0 ;Bank 0
0045   170B           00274             bsf INTCON, PEIE
0046   178B           00275             bsf INTCON, GIE
0047   0008           00276             return
                      00277         
0048   120B           00278 intoff      bcf INTCON, INTE
                      00279             ;bcf INTCON, T0IE
0049   1683           00280             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00281             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00282             bcf PIE1, TMR2IE
004C   1283           00283             bcf STATUS, RP0 ;Bank 0
004D   0008           00284             return
                      00285 
                      00286 
                      00287 
004E   2048           00288 inter       call intoff
                      00289       
004F   188B           00290             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2060           00291             call radio
                      00292             ;btfsc INTCON, T0IF
                      00293             ;bsf conf, T0OF
0051   180C           00294             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0052   1659           00295             bsf conf, T1OF
0053   188C           00296             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0054   2057           00297             call watchover
                      00298             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0055   203D           00299             call inton
0056   0008           00300             return
                      00301 
                      00302 ;pokud přetekl timer2 pro watch
0057   1559           00303 watchover   bsf conf, WATCHOVER
0058   0008           00304             return
                      00305             
                      00306 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0059   1159           00307 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005A   0191           00308             clrf TMR2 ;vynuluje timer2
005B   0008           00309             return
                      00310             
005C   1D59           00311 watchwait   btfss conf, WATCHOVER
005D   285C           00312             goto $-1
                      00313             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
005E   26D2           00314             call w100c
005F   0008           00315             return
                      00316 
                      00317 ;při zachyceni signalu na radiovem přijímači        
0060   0000           00318 radio       nop
0061   0008           00319             return
                      00320 
                      00321 ;timer0     nop
                      00322             
                      00323             ;bcf conf, T0OF
                      00324             ;return
                      00325 
                      00326 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0062   1858           00327 timer1      btfsc cassir, 0
0063   2097           00328             call sirbeep
0064   186B           00329             btfsc casvar, 0
0065   20A0           00330             call varoff
0066   18DA           00331             btfsc casov, REDTUN
0067   20CB           00332             call rtuoff
0068   195A           00333             btfsc casov, LEDZAM
0069   20DC           00334             call lzabli
006A   19DA           00335             btfsc casov, WHITUN
006B   20E3           00336             call wtuoff
006C   1A5A           00337             btfsc casov, ODSKOK
006D   20F9           00338             call odsoff
006E   1ADA           00339             btfsc casov, ALARM
006F   212E           00340             call alabli
0070   1964           00341             btfsc spinac, 2
0071   20F4           00342             call spioff
                      00343 
0072   03EC           00344             decf vterina, F
0073   1903           00345             btfsc STATUS, Z
0074   2077           00346             call vterinka
                      00347 
0075   1259           00348             bcf conf, T1OF
0076   0008           00349             return
                      00350             
0077   0000           00351 vterinka    nop
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00352 
                      00353 ;Ledky blikajici kdyz je PC zaply
0078   082F           00354 ledPCRun    movf o_g, W
0079   00A4           00355             movwf r5
007A   300C           00356             movlw b'01100' ;port B4
007B   00D2           00357             movwf port
007C   3003           00358             movlw b'11' ;procesor 3
007D   00D3           00359             movwf prc
007E   1AA4           00360             btfsc r5, 5
007F   21F2           00361             call setout ;nastav port v prc
0080   1AA4           00362             btfsc r5, 5
0081   162F           00363             bsf o_g, 4 
0082   1EA4           00364             btfss r5, 5
0083   2219           00365             call clrout ;nastav port v prc
0084   1EA4           00366             btfss r5, 5
0085   122F           00367             bcf o_g, 4 
                      00368             
0086   082F           00369             movf o_g, W
0087   00A4           00370             movwf r5
0088   300D           00371             movlw b'01101' ;port B5
0089   00D2           00372             movwf port
008A   3003           00373             movlw b'11' ;procesor 3
008B   00D3           00374             movwf prc
008C   1E24           00375             btfss r5, 4
008D   21F2           00376             call setout ;nastav port v prc
008E   1E24           00377             btfss r5, 4
008F   16AF           00378             bsf o_g, 5 
0090   1A24           00379             btfsc r5, 4
0091   2219           00380             call clrout ;nastav port v prc
0092   1A24           00381             btfsc r5, 4
0093   12AF           00382             bcf o_g, 5 
                      00383 
                      00384 
                      00385             ; nastaveni nove vterinky
0094   3009           00386             movlw .9 ;nastavy na dalsich 240ms
0095   00EC           00387             movwf vterina
0096   0008           00388             return
                      00389 
                      00390 
                      00391 ;houkani sireny v intervalech cca 240ms        
0097   03D7           00392 sirbeep     decf timsir, F
0098   1D03           00393             btfss STATUS, Z
0099   0008           00394             return
009A   1003           00395             bcf STATUS, C
009B   0CD8           00396             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
009C   262B           00397             call t1_53 ;neguje houkani sireny
009D   3003           00398             movlw .3 ;nastavy na dalsich 240ms
009E   00D7           00399             movwf timsir
009F   0008           00400             return
                      00401             
                      00402 ;blikani varovek
00A0   03DB           00403 varoff      decf timvar, F
00A1   1D03           00404             btfss STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A2   0008           00405             return
00A3   0CEB           00406             rrf casvar, F
00A4   1C03           00407             btfss STATUS, C
00A5   13EB           00408             bcf casvar, 7
00A6   1803           00409             btfsc STATUS, C
00A7   17EB           00410             bsf casvar, 7
                      00411             
00A8   01A1           00412             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
00A9   01A2           00413             clrf r3
00AA   1A2D           00414             btfsc o_e, 4
00AB   1421           00415             bsf r2, 0
00AC   1AAD           00416             btfsc o_e, 5
00AD   1422           00417             bsf r3, 0
00AE   0821           00418             movf r2, W
00AF   05A2           00419             andwf r3, F
                      00420             
00B0   1822           00421             btfsc r3, 0 ;pokud oba zaply oba vypne
00B1   122D           00422             bcf o_e, 4
00B2   1822           00423             btfsc r3, 0 ;pokud oba zaply oba vypne
00B3   1361           00424             bcf PORTD_temp, 6
00B4   1822           00425             btfsc r3, 0 ;pokud oba zaply oba vypne
00B5   1308           00426             bcf PORTD, 6
00B6   1822           00427             btfsc r3, 0 ;pokud oba zaply oba vypne
00B7   12AD           00428             bcf o_e, 5
00B8   1822           00429             btfsc r3, 0 ;pokud oba zaply oba vypne
00B9   13E1           00430             bcf PORTD_temp, 7
00BA   1822           00431             btfsc r3, 0 ;pokud oba zaply oba vypne
00BB   1388           00432             bcf PORTD, 7
                      00433     
00BC   1C22           00434             btfss r3, 0 ;pokud jeden vyply oba zapne
00BD   162D           00435             bsf o_e, 4
00BE   1C22           00436             btfss r3, 0 ;pokud jeden vyply oba zapne
00BF   1761           00437             bsf PORTD_temp, 6
00C0   1C22           00438             btfss r3, 0 ;pokud jeden vyply oba zapne
00C1   1708           00439             bsf PORTD, 6
00C2   1C22           00440             btfss r3, 0 ;pokud jeden vyply oba zapne
00C3   16AD           00441             bsf o_e, 5
00C4   1C22           00442             btfss r3, 0 ;pokud jeden vyply oba zapne
00C5   17E1           00443             bsf PORTD_temp, 7
00C6   1C22           00444             btfss r3, 0 ;pokud jeden vyply oba zapne
00C7   1788           00445             bsf PORTD, 7
                      00446             
00C8   3008           00447             movlw .8 ;nastavy na dalsich 240ms
00C9   00DB           00448             movwf timvar
00CA   0008           00449             return
                      00450 
                      00451 ;vypnuti red tuning
00CB   03DC           00452 rtuoff      decf timrtu, F
00CC   1D03           00453             btfss STATUS, Z
00CD   0008           00454             return
00CE   112B           00455             bcf o_c, 2 ;vypne red tunning
00CF   3016           00456             movlw b'10110' ;port C6
00D0   00D2           00457             movwf port
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D1   3002           00458             movlw b'10' ;procesor 2
00D2   00D3           00459             movwf prc
00D3   2219           00460             call clrout ;smaz port v prc
00D4   11AE           00461             bcf o_f, 3 ;vypne red interier
00D5   301A           00462             movlw b'11010' ;port D2
00D6   00D2           00463             movwf port
00D7   3002           00464             movlw b'10' ;procesor 2
00D8   00D3           00465             movwf prc
00D9   2219           00466             call clrout ;smaz port v prc
00DA   10DA           00467             bcf casov, REDTUN ;timer red tunningu nebude vniman
00DB   0008           00468             return
                      00469             
                      00470 ;blikani led zamknuto
00DC   03DD           00471 lzabli      decf timlza, F
00DD   1D03           00472             btfss STATUS, Z
00DE   0008           00473             return
00DF   26EB           00474             call ledzam ;neguje led zamknuto
00E0   300F           00475             movlw .15 ;nasavy na dalsich 240ms
00E1   00DD           00476             movwf timlza
00E2   0008           00477             return
                      00478             
                      00479 ;vypnuti white tuning
00E3   03E3           00480 wtuoff      decf timwtu, F
00E4   1D03           00481             btfss STATUS, Z
00E5   0008           00482             return
00E6   11AB           00483             bcf o_c, 3 ;vypne white tunning
00E7   3017           00484             movlw b'10111' ;port C7
00E8   00D2           00485             movwf port
00E9   3002           00486             movlw b'10' ;procesor 2
00EA   00D3           00487             movwf prc
00EB   2219           00488             call clrout ;smaz port v prc
00EC   122E           00489             bcf o_f, 4 ;vypne white interier
00ED   301B           00490             movlw b'11011' ;port D3
00EE   00D2           00491             movwf port
00EF   3002           00492             movlw b'10' ;procesor 2
00F0   00D3           00493             movwf prc
00F1   2219           00494             call clrout ;smaz port v prc
00F2   11DA           00495             bcf casov, WHITUN ;timer red tunningu nebude vniman
00F3   0008           00496             return
                      00497             
                      00498 ;vypnuti polohy 3 spinacky
00F4   03E5           00499 spioff      decf timspi, F
00F5   1D03           00500             btfss STATUS, Z
00F6   0008           00501             return
00F7   240A           00502             call t1_03
00F8   0008           00503             return
                      00504             
                      00505 ;vypnuti odskoků
00F9   03E6           00506 odsoff      decf timods, F
00FA   1D03           00507             btfss STATUS, Z
00FB   0008           00508             return
00FC   122A           00509             bcf o_b, 4
00FD   301F           00510             movlw b'11111' ;port D7
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FE   00D2           00511             movwf port
00FF   3003           00512             movlw b'11' ;procesor 3
0100   00D3           00513             movwf prc
0101   2219           00514             call clrout ;smaz port v prc
0102   12AA           00515             bcf o_b, 5
0103   13E0           00516             bcf PORTC_temp, 7
0104   1387           00517             bcf PORTC, 7
0105   132A           00518             bcf o_b, 6
0106   115F           00519             bcf PORTB_temp, 2
0107   1106           00520             bcf PORTB, 2
0108   13AA           00521             bcf o_b, 7
0109   11DF           00522             bcf PORTB_temp, 3
010A   1186           00523             bcf PORTB, 3
010B   11AA           00524             bcf o_b, 3
010C   125F           00525             bcf PORTB_temp, 4
010D   1206           00526             bcf PORTB, 4
010E   102D           00527             bcf o_e, 0
010F   12DF           00528             bcf PORTB_temp, 5
0110   1286           00529             bcf PORTB, 5
0111   102B           00530             bcf o_c, 0
0112   135F           00531             bcf PORTB_temp, 6
0113   1306           00532             bcf PORTB, 6
                      00533 
0114   13AD           00534             bcf o_e, 7
0115   301E           00535             movlw b'11110' ;port D6
0116   00D2           00536             movwf port
0117   3002           00537             movlw b'10' ;procesor 2
0118   00D3           00538             movwf prc
0119   2219           00539             call clrout ;nastav port v prc
011A   132D           00540             bcf o_e, 6
011B   301C           00541             movlw b'11100' ;port D4
011C   00D2           00542             movwf port
011D   3002           00543             movlw b'10' ;procesor 2
011E   00D3           00544             movwf prc
011F   2219           00545             call clrout ;nastav port v prc
0120   12AE           00546             bcf o_f, 5
0121   301D           00547             movlw b'11101' ;port D5
0122   00D2           00548             movwf port
0123   3002           00549             movlw b'10' ;procesor 2
0124   00D3           00550             movwf prc
0125   2219           00551             call clrout ;nastav port v prc
0126   102E           00552             bcf o_f, 0
0127   301F           00553             movlw b'11111' ;port D7
0128   00D2           00554             movwf port
0129   3002           00555             movlw b'10' ;procesor 2
012A   00D3           00556             movwf prc
012B   2219           00557             call clrout ;nastav port v prc
                      00558 
012C   125A           00559             bcf casov, ODSKOK ;timer red tunningu nebude vniman
012D   0008           00560             return
                      00561             
                      00562 ;Problikavani alarmu
012E   03E7           00563 alabli      decf timala, F
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

012F   1D03           00564             btfss STATUS, Z
0130   0008           00565             return
                      00566 
0131   25B6           00567             call t1_40
0132   25C5           00568             call t1_41
0133   267F           00569             call t1_61
0134   268E           00570             call t1_62
0135   26DC           00571             call klakson
                      00572             
0136   3014           00573             movlw .20 ;nasavy na dalsich 240ms
0137   00E7           00574             movwf timala
0138   0008           00575             return
                      00576 
                      00577 
                      00578 
                      00579 
                      00580 
                      00581 
0139   1486           00582 dotaz       bsf PORTB, 1  ;start bity XX - 10
013A   26D2           00583             call w100c
013B   1086           00584             bcf PORTB, 1
013C   26D2           00585             call w100c
                      00586             
013D   0878           00587             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
013E   00A0           00588             movwf r1
013F   3004           00589             movlw .4
0140   00A1           00590             movwf r2
0141   19A0           00591             btfsc r1, 3
0142   1486           00592             bsf PORTB, 1
0143   1DA0           00593             btfss r1, 3
0144   1086           00594             bcf PORTB, 1
0145   26D2           00595             call w100c
0146   0DA0           00596             rlf r1, F
0147   0BA1           00597             decfsz r2, F
0148   2941           00598             goto $-7
                      00599             
0149   3000           00600             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
014A   00A0           00601             movwf r1
014B   3007           00602             movlw .7
014C   00A1           00603             movwf r2
014D   1B20           00604             btfsc r1, 6
014E   1486           00605             bsf PORTB, 1
014F   1F20           00606             btfss r1, 6
0150   1086           00607             bcf PORTB, 1
0151   26D2           00608             call w100c
0152   0DA0           00609             rlf r1, F
0153   0BA1           00610             decfsz r2, F
0154   294D           00611             goto $-7
                      00612             
0155   1486           00613             bsf PORTB, 1  ;STOP bity XXX - 111
0156   26D2           00614             call w100c
0157   26D2           00615             call w100c
0158   26D2           00616             call w100c
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0159   1086           00617             bcf PORTB, 1
015A   26D7           00618             call w40c
                      00619             
015B   1683           00620             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
015C   1486           00621             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
015D   1283           00622             bcf STATUS, RP0  ;Bank 0
                      00623             
015E   1959           00624             btfsc conf, WATCHOVER
015F   29EE           00625             goto dotazerr
0160   1C86           00626             btfss PORTB, 1  ;ceka az zacne vysilat signal
0161   295E           00627             goto $-3 ;ochrana proti zamrznuti
                      00628             
0162   1959           00629             btfsc conf, WATCHOVER
0163   29EE           00630             goto dotazerr
0164   1886           00631             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0165   2962           00632             goto $-3 ;ochrana proti zamrznuti
                      00633             
0166   26D7           00634             call w40c   ;posune do prostred signalu X - 0
0167   26D2           00635             call w100c
                      00636             
0168   01F0           00637             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0169   3008           00638             movlw .8
016A   00A1           00639             movwf r2
016B   0DF0           00640             rlf pri0, F
016C   1886           00641             btfsc PORTB, 1
016D   1470           00642             bsf pri0, 0
016E   1C86           00643             btfss PORTB, 1
016F   1070           00644             bcf pri0, 0
0170   26D2           00645             call w100c
0171   0BA1           00646             decfsz r2, F
0172   296B           00647             goto $-7
                      00648             
0173   1959           00649             btfsc conf, WATCHOVER
0174   29EE           00650             goto dotazerr
0175   1886           00651             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0176   2973           00652             goto $-3 ;ochrana proti zamrznuti
0177   26D7           00653             call w40c
0178   26D2           00654             call w100c
                      00655             
                      00656             
0179   01F1           00657             clrf pri1        ; ulozi priijate do pri XXXX XXXX
017A   3008           00658             movlw .8
017B   00A1           00659             movwf r2
017C   0DF1           00660             rlf pri1, F
017D   1886           00661             btfsc PORTB, 1
017E   1471           00662             bsf pri1, 0
017F   1C86           00663             btfss PORTB, 1
0180   1071           00664             bcf pri1, 0
0181   26D2           00665             call w100c
0182   0BA1           00666             decfsz r2, F
0183   297C           00667             goto $-7
                      00668             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0184   1959           00669             btfsc conf, WATCHOVER
0185   29EE           00670             goto dotazerr
0186   1886           00671             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0187   2984           00672             goto $-3 ;ochrana proti zamrznuti
0188   26D7           00673             call w40c
0189   26D2           00674             call w100c
                      00675             
                      00676             
018A   01F2           00677             clrf pri2        ; ulozi priijate do pri XXXX XXXX
018B   3008           00678             movlw .8
018C   00A1           00679             movwf r2
018D   0DF2           00680             rlf pri2, F
018E   1886           00681             btfsc PORTB, 1
018F   1472           00682             bsf pri2, 0
0190   1C86           00683             btfss PORTB, 1
0191   1072           00684             bcf pri2, 0
0192   26D2           00685             call w100c
0193   0BA1           00686             decfsz r2, F
0194   298D           00687             goto $-7
                      00688             
0195   1959           00689             btfsc conf, WATCHOVER
0196   29EE           00690             goto dotazerr
0197   1886           00691             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0198   2995           00692             goto $-3 ;ochrana proti zamrznuti
0199   26D7           00693             call w40c
019A   26D2           00694             call w100c
                      00695             
                      00696             
019B   01F3           00697             clrf pri3        ; ulozi priijate do pri XXXX XXXX
019C   3008           00698             movlw .8
019D   00A1           00699             movwf r2
019E   0DF3           00700             rlf pri3, F
019F   1886           00701             btfsc PORTB, 1
01A0   1473           00702             bsf pri3, 0
01A1   1C86           00703             btfss PORTB, 1
01A2   1073           00704             bcf pri3, 0
01A3   26D2           00705             call w100c
01A4   0BA1           00706             decfsz r2, F
01A5   299E           00707             goto $-7
                      00708             
01A6   1959           00709             btfsc conf, WATCHOVER
01A7   29EE           00710             goto dotazerr
01A8   1886           00711             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A9   29A6           00712             goto $-3 ;ochrana proti zamrznuti
01AA   26D7           00713             call w40c
01AB   26D2           00714             call w100c
                      00715             
                      00716             
01AC   01F4           00717             clrf pri4        ; ulozi priijate do pri XXXX XXXX
01AD   3008           00718             movlw .8
01AE   00A1           00719             movwf r2
01AF   0DF4           00720             rlf pri4, F
01B0   1886           00721             btfsc PORTB, 1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B1   1474           00722             bsf pri4, 0
01B2   1C86           00723             btfss PORTB, 1
01B3   1074           00724             bcf pri4, 0
01B4   26D2           00725             call w100c
01B5   0BA1           00726             decfsz r2, F
01B6   29AF           00727             goto $-7
                      00728             
01B7   1959           00729             btfsc conf, WATCHOVER
01B8   29EE           00730             goto dotazerr
01B9   1886           00731             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01BA   29B7           00732             goto $-3 ;ochrana proti zamrznuti
01BB   26D7           00733             call w40c
01BC   26D2           00734             call w100c
                      00735             
                      00736             
01BD   01F5           00737             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01BE   3008           00738             movlw .8
01BF   00A1           00739             movwf r2
01C0   0DF5           00740             rlf pri5, F
01C1   1886           00741             btfsc PORTB, 1
01C2   1475           00742             bsf pri5, 0
01C3   1C86           00743             btfss PORTB, 1
01C4   1075           00744             bcf pri5, 0
01C5   26D2           00745             call w100c
01C6   0BA1           00746             decfsz r2, F
01C7   29C0           00747             goto $-7
                      00748             
01C8   1959           00749             btfsc conf, WATCHOVER
01C9   29EE           00750             goto dotazerr
01CA   1886           00751             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01CB   29C8           00752             goto $-3 ;ochrana proti zamrznuti
01CC   26D7           00753             call w40c
01CD   26D2           00754             call w100c
                      00755             
                      00756             
01CE   01F6           00757             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01CF   3008           00758             movlw .8
01D0   00A1           00759             movwf r2
01D1   0DF6           00760             rlf pri6, F
01D2   1886           00761             btfsc PORTB, 1
01D3   1476           00762             bsf pri6, 0
01D4   1C86           00763             btfss PORTB, 1
01D5   1076           00764             bcf pri6, 0
01D6   26D2           00765             call w100c
01D7   0BA1           00766             decfsz r2, F
01D8   29D1           00767             goto $-7
                      00768             
01D9   1959           00769             btfsc conf, WATCHOVER
01DA   29EE           00770             goto dotazerr
01DB   1886           00771             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01DC   29D9           00772             goto $-3 ;ochrana proti zamrznuti
01DD   26D7           00773             call w40c
01DE   26D2           00774             call w100c
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00775             
                      00776             
01DF   01F7           00777             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01E0   3008           00778             movlw .8
01E1   00A1           00779             movwf r2
01E2   0DF7           00780             rlf pri7, F
01E3   1886           00781             btfsc PORTB, 1
01E4   1477           00782             bsf pri7, 0
01E5   1C86           00783             btfss PORTB, 1
01E6   1077           00784             bcf pri7, 0
01E7   26D2           00785             call w100c
01E8   0BA1           00786             decfsz r2, F
01E9   29E2           00787             goto $-7
                      00788             
01EA   1959           00789             btfsc conf, WATCHOVER
01EB   29EE           00790             goto dotazerr
01EC   1886           00791             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01ED   29EA           00792             goto $-3 ;ochrana proti zamrznuti
                      00793             
                      00794             
01EE   1683           00795 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01EF   1086           00796             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01F0   1283           00797             bcf STATUS, RP0  ;Bank 0
01F1   0008           00798             return
                      00799         
                      00800         ; WATCH2 start
01F2   1486           00801 setout      bsf PORTB, 1  ;start bity XX - 10
01F3   26D2           00802             call w100c
01F4   1086           00803             bcf PORTB, 1
01F5   26D2           00804             call w100c
                      00805             
01F6   0853           00806             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01F7   00A0           00807             movwf r1
01F8   3004           00808             movlw .4
01F9   00A1           00809             movwf r2
01FA   19A0           00810             btfsc r1, 3
01FB   1486           00811             bsf PORTB, 1
01FC   1DA0           00812             btfss r1, 3
01FD   1086           00813             bcf PORTB, 1
01FE   26D2           00814             call w100c
01FF   0DA0           00815             rlf r1, F
0200   0BA1           00816             decfsz r2, F
0201   29FA           00817             goto $-7
                      00818             
0202   1486           00819             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0203   26D2           00820             call w100c
                      00821             
0204   0852           00822             movf port, W   ;vysila port ke zmene XXXXX
0205   00A0           00823             movwf r1
0206   3005           00824             movlw .5
0207   00A1           00825             movwf r2
0208   1A20           00826             btfsc r1, 4
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0209   1486           00827             bsf PORTB, 1
020A   1E20           00828             btfss r1, 4
020B   1086           00829             bcf PORTB, 1
020C   26D2           00830             call w100c
020D   0DA0           00831             rlf r1, F
020E   0BA1           00832             decfsz r2, F
020F   2A08           00833             goto $-7
                      00834             
0210   1486           00835             bsf PORTB, 1  ;vysle hodnotu 1
0211   26D2           00836             call w100c
                      00837             
0212   1486           00838             bsf PORTB, 1  ;STOP bity XXX - 111
0213   26D2           00839             call w100c
0214   26D2           00840             call w100c
0215   26D2           00841             call w100c
0216   1086           00842             bcf PORTB, 1
0217   26D2           00843             call w100c
                      00844             ; WATCH2 wait
0218   0008           00845             return
                      00846 
                      00847       ; WATCH2 start
0219   1486           00848 clrout      bsf PORTB, 1  ;start bity XX - 10
021A   26D2           00849             call w100c
021B   1086           00850             bcf PORTB, 1
021C   26D2           00851             call w100c
                      00852             
021D   0853           00853             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
021E   00A0           00854             movwf r1
021F   3004           00855             movlw .4
0220   00A1           00856             movwf r2
0221   19A0           00857             btfsc r1, 3
0222   1486           00858             bsf PORTB, 1
0223   1DA0           00859             btfss r1, 3
0224   1086           00860             bcf PORTB, 1
0225   26D2           00861             call w100c
0226   0DA0           00862             rlf r1, F
0227   0BA1           00863             decfsz r2, F
0228   2A21           00864             goto $-7
                      00865             
0229   1486           00866             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
022A   26D2           00867             call w100c
                      00868             
022B   0852           00869             movf port, W   ;vysila port ke zmene XXXXX
022C   00A0           00870             movwf r1
022D   3005           00871             movlw .5
022E   00A1           00872             movwf r2
022F   1A20           00873             btfsc r1, 4
0230   1486           00874             bsf PORTB, 1
0231   1E20           00875             btfss r1, 4
0232   1086           00876             bcf PORTB, 1
0233   26D2           00877             call w100c
0234   0DA0           00878             rlf r1, F
0235   0BA1           00879             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0236   2A2F           00880             goto $-7
                      00881             
0237   1086           00882             bcf PORTB, 1  ;vysle hodnotu 0
0238   26D2           00883             call w100c
                      00884             
0239   1486           00885             bsf PORTB, 1  ;STOP bity XXX - 111
023A   26D2           00886             call w100c
023B   26D2           00887             call w100c
023C   26D2           00888             call w100c
023D   1086           00889             bcf PORTB, 1
023E   26D2           00890             call w100c
                      00891             ; WATCH2 wait
023F   0008           00892             return
                      00893         
                      00894         
                      00895         
                      00896         
                      00897         
                      00898         
                      00899         
                      00900         
                      00901         
                      00902         
                      00903         
                      00904         ;podprogramy
                      00905 ;Tlačitka funkci 1
0240   1BAC           00906 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0241   0008           00907             return
                      00908             
0242   1003           00909             bcf STATUS, C
0243   0C3F           00910             rrf ir_58, W
0244   00A0           00911             movwf r1
0245   1003           00912             bcf STATUS, C
0246   0CA0           00913             rrf r1, F
0247   1003           00914             bcf STATUS, C
0248   0CA0           00915             rrf r1, F
0249   30E0           00916             movlw b'11100000'
024A   04A0           00917             iorwf r1, F
                      00918             
024B   0820           00919             movf r1, W    ;zkontroluje jestli nebylo uz minule
024C   00A3           00920             movwf r4
024D   0854           00921             movf tl1, W
024E   06A3           00922             xorwf r4, F
024F   1903           00923             btfsc STATUS, Z
0250   0008           00924             return
0251   0820           00925             movf r1, W    ;ulozi aktualni tlacitko
0252   00D4           00926             movwf tl1
                      00927             
0253   0AA0           00928             incf r1, F
0254   1903           00929             btfsc STATUS, Z
0255   2486           00930             call t1_06
0256   0AA0           00931             incf r1, F
0257   1903           00932             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0258   23E2           00933             call t1_02
0259   0AA0           00934             incf r1, F
025A   1903           00935             btfsc STATUS, Z
025B   240A           00936             call t1_03
025C   0AA0           00937             incf r1, F
025D   1903           00938             btfsc STATUS, Z
025E   2466           00939             call t1_05
025F   0AA0           00940             incf r1, F
0260   1903           00941             btfsc STATUS, Z
0261   25E3           00942             call t1_43
0262   0AA0           00943             incf r1, F
0263   1903           00944             btfsc STATUS, Z
0264   25D4           00945             call t1_42
0265   0AA0           00946             incf r1, F
0266   1903           00947             btfsc STATUS, Z
0267   24C2           00948             call t1_07
0268   0AA0           00949             incf r1, F
0269   1903           00950             btfsc STATUS, Z
026A   24D0           00951             call t1_08
026B   0AA0           00952             incf r1, F
026C   1903           00953             btfsc STATUS, Z
026D   2503           00954             call t1_14
026E   0AA0           00955             incf r1, F
026F   1903           00956             btfsc STATUS, Z
0270   250A           00957             call t1_15
0271   0AA0           00958             incf r1, F
0272   1903           00959             btfsc STATUS, Z
0273   25A2           00960             call t1_37
0274   0AA0           00961             incf r1, F
0275   1903           00962             btfsc STATUS, Z
0276   24E0           00963             call t1_10
0277   0AA0           00964             incf r1, F
0278   1903           00965             btfsc STATUS, Z
0279   24F1           00966             call t1_12
027A   0AA0           00967             incf r1, F
027B   1903           00968             btfsc STATUS, Z
027C   255D           00969             call t1_30
027D   0AA0           00970             incf r1, F
027E   1903           00971             btfsc STATUS, Z
027F   2585           00972             call t1_34
0280   0AA0           00973             incf r1, F
0281   1903           00974             btfsc STATUS, Z
0282   256F           00975             call t1_32
0283   0AA0           00976             incf r1, F
0284   1903           00977             btfsc STATUS, Z
0285   2597           00978             call t1_36
                      00979             ;pokud je tlacitko prave pusteno
0286   1003           00980             bcf STATUS, C
0287   0C3F           00981             rrf ir_58, W
0288   00A0           00982             movwf r1
0289   0820           00983             movf r1, W
028A   1903           00984             btfsc STATUS, Z
028B   2359           00985             call t1_stop
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028C   0008           00986             return
                      00987 
                      00988 ;Tlačitka funkci 2
028D   1BAC           00989 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
028E   0008           00990             return
                      00991             
028F   1003           00992             bcf STATUS, C
0290   0C43           00993             rrf ir_62, W
0291   00A0           00994             movwf r1
0292   1003           00995             bcf STATUS, C
0293   0CA0           00996             rrf r1, F
0294   1003           00997             bcf STATUS, C
0295   0CA0           00998             rrf r1, F
0296   30E0           00999             movlw b'11100000'
0297   04A0           01000             iorwf r1, F
                      01001             
0298   0820           01002             movf r1, W    ;zkontroluje jestli nebylo uz minule
0299   00A3           01003             movwf r4
029A   0855           01004             movf tl2, W
029B   06A3           01005             xorwf r4, F
029C   1903           01006             btfsc STATUS, Z
029D   0008           01007             return
029E   0820           01008             movf r1, W    ;ulozi aktualni tlacitko
029F   00D5           01009             movwf tl2
                      01010     
02A0   0AA0           01011             incf r1, F
02A1   1903           01012             btfsc STATUS, Z
02A2   2430           01013             call t1_04
02A3   0AA0           01014             incf r1, F
02A4   1903           01015             btfsc STATUS, Z
02A5   264D           01016             call t1_56
02A6   0AA0           01017             incf r1, F
02A7   1903           01018             btfsc STATUS, Z
02A8   2511           01019             call t1_16
02A9   0AA0           01020             incf r1, F
02AA   1903           01021             btfsc STATUS, Z
02AB   2548           01022             call t1_26
02AC   0AA0           01023             incf r1, F
02AD   1903           01024             btfsc STATUS, Z
02AE   25F2           01025             call t1_44
02AF   0AA0           01026             incf r1, F
02B0   1903           01027             btfsc STATUS, Z
02B1   24EA           01028             call t1_11
02B2   0AA0           01029             incf r1, F
02B3   1903           01030             btfsc STATUS, Z
02B4   24FA           01031             call t1_13
02B5   0AA0           01032             incf r1, F
02B6   1903           01033             btfsc STATUS, Z
02B7   263A           01034             call t1_54
02B8   0AA0           01035             incf r1, F
02B9   1903           01036             btfsc STATUS, Z
02BA   25C5           01037             call t1_41
02BB   0AA0           01038             incf r1, F
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02BC   1903           01039             btfsc STATUS, Z
02BD   268E           01040             call t1_62
02BE   0AA0           01041             incf r1, F
02BF   1903           01042             btfsc STATUS, Z
02C0   25B6           01043             call t1_40
02C1   0AA0           01044             incf r1, F
02C2   1903           01045             btfsc STATUS, Z
02C3   267F           01046             call t1_61
02C4   0AA0           01047             incf r1, F
02C5   1903           01048             btfsc STATUS, Z
02C6   2566           01049             call t1_31
02C7   0AA0           01050             incf r1, F
02C8   1903           01051             btfsc STATUS, Z
02C9   258E           01052             call t1_35
02CA   0AA0           01053             incf r1, F
02CB   1903           01054             btfsc STATUS, Z
02CC   262B           01055             call t1_53
02CD   0AA0           01056             incf r1, F
02CE   1903           01057             btfsc STATUS, Z
02CF   257A           01058             call t1_33
02D0   0AA0           01059             incf r1, F
02D1   1903           01060             btfsc STATUS, Z
02D2   2674           01061             call t1_60
                      01062             ;pokud je tlacitko prave pusteno
02D3   1003           01063             bcf STATUS, C
02D4   0C43           01064             rrf ir_62, W
02D5   00A0           01065             movwf r1
02D6   0820           01066             movf r1, W
02D7   1903           01067             btfsc STATUS, Z
02D8   235B           01068             call t2_stop
02D9   0008           01069             return
                      01070 ;Tlačitka imobilizeru
02DA   0000           01071 if_50       nop
02DB   0008           01072             return
                      01073              ;pasy
02DC   0000           01074 if_59       nop
02DD   0008           01075             return
                      01076              ;rychlost
02DE   0000           01077 if_60       nop
02DF   0008           01078             return
                      01079              ;otáčky
02E0   0000           01080 if_61       nop
02E1   0008           01081             return
                      01082              ;teplota in set
02E2   0000           01083 if_49       nop
02E3   0008           01084             return
                      01085              ;alarm senzory
02E4   0000           01086 if_80       nop
02E5   0008           01087             return
                      01088              ;baterie
02E6   0000           01089 if_51       nop
02E7   0008           01090             return
                      01091              ;teplota in
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E8   0000           01092 if_52       nop
02E9   0008           01093             return
                      01094              ;teplota eng
02EA   0000           01095 if_53       nop
02EB   0008           01096             return
                      01097              ;palivo
02EC   0000           01098 if_54       nop
02ED   0008           01099             return
                      01100              ;dveře 1
02EE   0000           01101 if_55       nop
02EF   0008           01102             return
                      01103              ;ruční brzda
02F0   0000           01104 if_56       nop
02F1   0008           01105             return
                      01106              ;kvalt
02F2   0000           01107 if_57       nop
02F3   0008           01108             return
                      01109              ;dveře 2
02F4   0000           01110 if_84       nop
02F5   0008           01111             return
                      01112              ;dveře 3
02F6   0000           01113 if_85       nop
02F7   0008           01114             return
                      01115              ;dveře 4
02F8   0000           01116 if_86       nop
02F9   0008           01117             return
                      01118              ;kapota
02FA   0000           01119 if_87       nop
02FB   0008           01120             return
                      01121              ;kufr
02FC   0000           01122 if_88       nop
02FD   0008           01123             return
                      01124              ;nadrz
02FE   0000           01125 if_89       nop
02FF   0008           01126             return
                      01127              ;okno 1
0300   0000           01128 if_90       nop
0301   0008           01129             return
                      01130              ;okno 2
0302   0000           01131 if_91       nop
0303   0008           01132             return
                      01133              ;okno 3
0304   0000           01134 if_92       nop
0305   0008           01135             return
                      01136              ;okno 4
0306   0000           01137 if_93       nop
0307   0008           01138             return
                      01139              ;teplota OUT
0308   0000           01140 if_127      nop
0309   0008           01141             return
                      01142 
                      01143 ;Tlačítka funkcí 3
030A   1BAC           01144 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

030B   0000           01145             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01146             
030C   1003           01147             bcf STATUS, C
030D   0C50           01148             rrf ir_128, W
030E   00A0           01149             movwf r1
030F   1003           01150             bcf STATUS, C
0310   0CA0           01151             rrf r1, F
0311   1003           01152             bcf STATUS, C
0312   0CA0           01153             rrf r1, F
0313   30E0           01154             movlw b'11100000'
0314   04A0           01155             iorwf r1, F
                      01156             
0315   0820           01157             movf r1, W    ;zkontroluje jestli nebylo uz minule
0316   00A3           01158             movwf r4
0317   0856           01159             movf tl3, W
0318   06A3           01160             xorwf r4, F
0319   1903           01161             btfsc STATUS, Z
031A   0008           01162             return
031B   0820           01163             movf r1, W    ;ulozi aktualni tlacitko
031C   00D6           01164             movwf tl3
                      01165     
031D   0AA0           01166             incf r1, F
031E   1903           01167             btfsc STATUS, Z
031F   2609           01168             call t1_47
0320   0AA0           01169             incf r1, F
0321   1903           01170             btfsc STATUS, Z
0322   23A0           01171             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0323   0AA0           01172             incf r1, F
0324   1903           01173             btfsc STATUS, Z
0325   23C2           01174             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0326   0AA0           01175             incf r1, F
0327   1903           01176             btfsc STATUS, Z
0328   26CB           01177             call t1_x
0329   0AA0           01178             incf r1, F
032A   1903           01179             btfsc STATUS, Z
032B   26CB           01180             call t1_x
032C   0AA0           01181             incf r1, F
032D   1903           01182             btfsc STATUS, Z
032E   26CB           01183             call t1_x
032F   0AA0           01184             incf r1, F
0330   1903           01185             btfsc STATUS, Z
0331   26CB           01186             call t1_x
0332   0AA0           01187             incf r1, F
0333   1903           01188             btfsc STATUS, Z
0334   26CB           01189             call t1_x
0335   0AA0           01190             incf r1, F
0336   1903           01191             btfsc STATUS, Z
0337   26CB           01192             call t1_x
0338   0AA0           01193             incf r1, F
0339   1903           01194             btfsc STATUS, Z
033A   26CB           01195             call t1_x
033B   0AA0           01196             incf r1, F
033C   1903           01197             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033D   26CB           01198             call t1_x
033E   0AA0           01199             incf r1, F
033F   1903           01200             btfsc STATUS, Z
0340   26CB           01201             call t1_x
0341   0AA0           01202             incf r1, F
0342   1903           01203             btfsc STATUS, Z
0343   26CB           01204             call t1_x
0344   0AA0           01205             incf r1, F
0345   1903           01206             btfsc STATUS, Z
0346   26CB           01207             call t1_x
0347   0AA0           01208             incf r1, F
0348   1903           01209             btfsc STATUS, Z
0349   26CB           01210             call t1_x
034A   0AA0           01211             incf r1, F
034B   1903           01212             btfsc STATUS, Z
034C   26CB           01213             call t1_x
034D   0AA0           01214             incf r1, F
034E   1903           01215             btfsc STATUS, Z
034F   26CB           01216             call t1_x
                      01217             ;pokud je tlacitko prave pusteno
0350   1003           01218             bcf STATUS, C
0351   0C50           01219             rrf ir_128, W
0352   00A0           01220             movwf r1
0353   0820           01221             movf r1, W
0354   1903           01222             btfsc STATUS, Z
0355   235D           01223             call t3_stop
0356   0008           01224             return
                      01225 
                      01226 ;předpřipravené pro rozšíření procesoru 5 a vice
0357   0000           01227 if_x        nop
0358   0008           01228             return
                      01229 
                      01230 ;vypina holdovaci vystupy
0359   0000           01231 t1_stop     nop
035A   0008           01232             return
035B   0000           01233 t2_stop     nop
035C   0008           01234             return
035D   0000           01235 t3_stop     nop
035E   0008           01236             return
                      01237             
035F   3010           01238 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0360   00D2           01239             movwf port
0361   3002           01240             movlw b'10' ;procesor 2
0362   00D3           01241             movwf prc
0363   18AC           01242             btfsc o_d, 1
0364   2219           01243             call clrout ;nastav port v prc
0365   10AC           01244             bcf o_d, 1
0366   3011           01245             movlw b'10001' ;port C1
0367   00D2           01246             movwf port
0368   3002           01247             movlw b'10' ;procesor 2
0369   00D3           01248             movwf prc
036A   192C           01249             btfsc o_d, 2
036B   2219           01250             call clrout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

036C   112C           01251             bcf o_d, 2
036D   3012           01252             movlw b'10010' ;port C2
036E   00D2           01253             movwf port
036F   3002           01254             movlw b'10' ;procesor 2
0370   00D3           01255             movwf prc
0371   19AC           01256             btfsc o_d, 3
0372   2219           01257             call clrout ;nastav port v prc
0373   11AC           01258             bcf o_d, 3
0374   3013           01259             movlw b'10011' ;port C3
0375   00D2           01260             movwf port
0376   3002           01261             movlw b'10' ;procesor 2
0377   00D3           01262             movwf prc
0378   1A2C           01263             btfsc o_d, 4
0379   2219           01264             call clrout ;nastav port v prc
037A   122C           01265             bcf o_d, 4
037B   3014           01266             movlw b'10100' ;port C4
037C   00D2           01267             movwf port
037D   3002           01268             movlw b'10' ;procesor 2
037E   00D3           01269             movwf prc
037F   1AAC           01270             btfsc o_d, 5
0380   2219           01271             call clrout ;nastav port v prc
0381   12AC           01272             bcf o_d, 5
0382   3015           01273             movlw b'10101' ;port C5
0383   00D2           01274             movwf port
0384   3002           01275             movlw b'10' ;procesor 2
0385   00D3           01276             movwf prc
0386   1B2C           01277             btfsc o_d, 6
0387   2219           01278             call clrout ;nastav port v prc
0388   132C           01279             bcf o_d, 6
                      01280                   ;blinkry
0389   122D           01281             bcf o_e, 4
038A   1361           01282             bcf PORTD_temp, 6
038B   1308           01283             bcf PORTD, 6
038C   12AD           01284             bcf o_e, 5
038D   13E1           01285             bcf PORTD_temp, 7
038E   1388           01286             bcf PORTD, 7
                      01287                   ;klakson
038F   3019           01288             movlw b'11001' ;port D1
0390   00D2           01289             movwf port
0391   3003           01290             movlw b'11' ;procesor 3
0392   00D3           01291             movwf prc
0393   1A2B           01292             btfsc o_c, 4
0394   2219           01293             call clrout ;nastav port v prc
0395   122B           01294             bcf o_c, 4
                      01295                   ;stěrače, odstřikovače
0396   13AB           01296             bcf o_c, 7
0397   11E1           01297             bcf PORTD_temp, 3
0398   1188           01298             bcf PORTD, 3
0399   132B           01299             bcf o_c, 6
039A   1161           01300             bcf PORTD_temp, 2
039B   1108           01301             bcf PORTD, 2
                      01302                   ;dálková světla
039C   102C           01303             bcf o_d, 0
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

039D   1261           01304             bcf PORTD_temp, 4
039E   1208           01305             bcf PORTD, 4
039F   0008           01306             return
                      01307         
                      01308         
                      01309         
                      01310 ;zamknuti alarm on
03A0   0000           01311 t1_00       nop;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01312             ;return
                      01313             ;movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
                      01314             ;iorwf ir_84, W
                      01315             ;iorwf ir_85, W
                      01316             ;iorwf ir_86, W
                      01317             ;iorwf ir_87, W
                      01318             ;iorwf ir_88, W
                      01319             ;iorwf ir_89, W
                      01320             ;movwf r6
                      01321             ;btfsc r6, 7
                      01322             ;nop ;MLUV "zkontrolujte vstupy do auta"
                      01323             ;btfsc r6, 7
                      01324             ;call t1_53 ;zapne sirenu
                      01325             ;btfsc r6, 7
                      01326             ;movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
                      01327             ;btfsc r6, 7
                      01328             ;movwf cassir
                      01329             ;btfsc r6, 7
                      01330             ;movlw .3
                      01331             ;btfsc r6, 7
                      01332             ;movwf timsir
                      01333             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01334             ;return
                      01335 
03A1   2486           01336             call t1_06 ;vypne vse 
03A2   17AC           01337             bsf o_d, 7 ;zapne alarm cidla
03A3   17DF           01338             bsf PORTB_temp, 7
03A4   1786           01339             bsf PORTB, 7
                      01340                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01341                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01342             
                      01343             
03A5   2466           01344             call t1_05 ;zapne varovky
03A6   301F           01345             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03A7   00EB           01346             movwf casvar
03A8   3008           01347             movlw .8
03A9   00DB           01348             movwf timvar
                      01349             
                      01350             
03AA   3016           01351             movlw b'10110' ;port C6
03AB   00D2           01352             movwf port
03AC   3002           01353             movlw b'10' ;procesor 2
03AD   00D3           01354             movwf prc 
03AE   1D2B           01355             btfss o_c, 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03AF   21F2           01356             call setout ;set port v prc
03B0   152B           01357             bsf o_c, 2 ;problikne red tunning na 1 sekundu
                      01358 
                      01359             ;movlw b'11010' ;port D2
                      01360             ;movwf port
                      01361             ;movlw b'10' ;procesor 2
                      01362             ;movwf prc 
                      01363             ;btfss o_f, 3
                      01364             ;call setout ;set port v prc
                      01365             ;bsf o_f, 3 ;problikne red interier na 1 sekundu
                      01366 
03B1   14DA           01367             bsf casov, REDTUN ;do timeru ze po 1s vypne
03B2   3014           01368             movlw .20
03B3   00DC           01369             movwf timrtu
                      01370 
03B4   262B           01371             call t1_53 ;zahraje sirenou na 200ms
03B5   3001           01372             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03B6   00D8           01373             movwf cassir
03B7   3008           01374             movlw .8
03B8   00D7           01375             movwf timsir
                      01376 
03B9   13AE           01377             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03BA   10E2           01378             bcf PORTE_temp, 1
03BB   1089           01379             bcf PORTE, 1
                      01380 
03BC   0000           01381             nop ;MLUV "auto zamčeno"
03BD   24C2           01382             call t1_07 ;zamkne
                      01383 
03BE   155A           01384             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03BF   300F           01385             movlw .15
03C0   00DD           01386             movwf timlza
                      01387 
                      01388                   ;zatahnuti okenek
                      01389             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01390             ;movwf o1tmp
                      01391             ;movf ir_91, W
                      01392             ;movwf o2tmp
                      01393             ;movf ir_92, W
                      01394             ;movwf o3tmp
                      01395             ;movf ir_93, W
                      01396             ;movwf o4tmp
                      01397             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01398             ;movwf o1tar
                      01399             ;movwf o2tar
                      01400             ;movwf o3tar
                      01401             ;movwf o4tar
                      01402  
03C1   0008           01403             return
                      01404             
                      01405 ;odemknuti alarm off
03C2   0000           01406 t1_01       nop;btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
                      01407             ;return
                      01408             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03C3   13AC           01409             bcf o_d, 7 ;vypne alarm cidla
03C4   13DF           01410             bcf PORTB_temp, 7
03C5   1386           01411             bcf PORTB, 7
                      01412                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01413                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
03C6   2430           01414             call t1_04
                      01415             
                      01416             
03C7   2466           01417             call t1_05 ;zapne varovky
03C8   3007           01418             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03C9   00EB           01419             movwf casvar
03CA   3008           01420             movlw .8
03CB   00DB           01421             movwf timvar
                      01422             
                      01423             
03CC   3017           01424             movlw b'10111' ;port C7
03CD   00D2           01425             movwf port
03CE   3002           01426             movlw b'10' ;procesor 2
03CF   00D3           01427             movwf prc 
03D0   1DAB           01428             btfss o_c, 3
03D1   21F2           01429             call setout ;set port v prc
03D2   15AB           01430             bsf o_c, 3 ;problikne white tunning na 1 sekundu
                      01431 
                      01432             ;movlw b'11011' ;port D3
                      01433             ;movwf port
                      01434             ;movlw b'10' ;procesor 2
                      01435             ;movwf prc 
                      01436             ;btfss o_f, 4
                      01437             ;call setout ;set port v prc
                      01438             ;bsf o_f, 4 ;problikne white interier na 1 sekundu
                      01439 
03D3   15DA           01440             bsf casov, WHITUN ;do timeru ze po 1s vypne
03D4   3014           01441             movlw .20
03D5   00E3           01442             movwf timwtu
                      01443 
03D6   262B           01444             call t1_53 ;zahraje sirenou na 200ms
03D7   3007           01445             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03D8   00D8           01446             movwf cassir
03D9   3008           01447             movlw .8
03DA   00D7           01448             movwf timsir
                      01449 
03DB   17AE           01450             bsf o_f, 7 ;odklopi zrcatka neboli zapne
03DC   14E2           01451             bsf PORTE_temp, 1
03DD   1489           01452             bsf PORTE, 1
                      01453 
03DE   0000           01454             nop ;MLUV "auto odemčeno"
03DF   115A           01455             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
                      01456 
03E0   24D0           01457             call t1_08 ;odemkne
                      01458 
                      01459                   ;stahnuti okenek
                      01460             ;movf o1tmp, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01461             ;movwf o1tar
                      01462             ;movf o2tmp, W
                      01463             ;movwf o2tar
                      01464             ;movf o3tmp, W
                      01465             ;movwf o3tar
                      01466             ;movf o4tmp, W
                      01467             ;movwf o4tar
                      01468  
03E1   0008           01469             return
                      01470             
                      01471 ;spinacka poloha up
03E2   1964           01472 t1_02       btfsc spinac, 2
03E3   0008           01473             return
03E4   1403           01474             bsf STATUS, C
03E5   0DE4           01475             rlf spinac, F
                      01476                   ;pokud poloha 3
03E6   1D64           01477             btfss spinac, 2
03E7   2BFD           01478             goto t2_02
03E8   1029           01479             bcf o_a, 0
03E9   1060           01480             bcf PORTC_temp, 0
03EA   1007           01481             bcf PORTC, 0
03EB   10A9           01482             bcf o_a, 1
03EC   10E0           01483             bcf PORTC_temp, 1
03ED   1087           01484             bcf PORTC, 1
03EE   1531           01485             bsf o_i, 2
03EF   301A           01486             movlw b'11010' ;port D2
03F0   00D2           01487             movwf port
03F1   3003           01488             movlw b'11' ;procesor 3
03F2   00D3           01489             movwf prc 
03F3   21F2           01490             call setout ;set port v prc
03F4   15B1           01491             bsf o_i, 3
03F5   301B           01492             movlw b'11011' ;port D3
03F6   00D2           01493             movwf port
03F7   3003           01494             movlw b'11' ;procesor 3
03F8   00D3           01495             movwf prc 
03F9   21F2           01496             call setout ;set port v prc
03FA   300F           01497             movlw .15 ;nastavi startovani pouze max na vterinu
03FB   00E5           01498             movwf timspi
03FC   0008           01499             return
                      01500             ;pokud poloha 2
03FD   1CE4           01501 t2_02       btfss spinac, 1
03FE   2C06           01502             goto t3_02
03FF   1429           01503             bsf o_a, 0
0400   1460           01504             bsf PORTC_temp, 0
0401   1407           01505             bsf PORTC, 0
0402   1529           01506             bsf o_a, 2
0403   1560           01507             bsf PORTC_temp, 2
0404   1507           01508             bsf PORTC, 2
0405   0008           01509             return
                      01510             ;pokud poloha 1
0406   14A9           01511 t3_02       bsf o_a, 1
0407   14E0           01512             bsf PORTC_temp, 1
0408   1487           01513             bsf PORTC, 1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0409   0008           01514             return
                      01515             
                      01516 ;spinacka poloha down
040A   1C64           01517 t1_03       btfss spinac, 0
040B   0008           01518             return
040C   1003           01519             bcf STATUS, C
040D   0CE4           01520             rrf spinac, F
                      01521             ;pokud poloha 2
040E   1CE4           01522             btfss spinac, 1
040F   2C23           01523             goto t2_03
0410   1429           01524             bsf o_a, 0
0411   1460           01525             bsf PORTC_temp, 0
0412   1407           01526             bsf PORTC, 0
0413   14A9           01527             bsf o_a, 1
0414   14E0           01528             bsf PORTC_temp, 1
0415   1487           01529             bsf PORTC, 1
0416   1131           01530             bcf o_i, 2
0417   301A           01531             movlw b'11010' ;port D2
0418   00D2           01532             movwf port
0419   3003           01533             movlw b'11' ;procesor 3
041A   00D3           01534             movwf prc 
041B   2219           01535             call clrout ;set port v prc
041C   11B1           01536             bcf o_i, 3
041D   301B           01537             movlw b'11011' ;port D3
041E   00D2           01538             movwf port
041F   3003           01539             movlw b'11' ;procesor 3
0420   00D3           01540             movwf prc 
0421   2219           01541             call clrout ;set port v prc
0422   0008           01542             return
                      01543             ;pokud poloha 1
0423   1C64           01544 t2_03       btfss spinac, 0
0424   2C2C           01545             goto t3_03
0425   1029           01546             bcf o_a, 0
0426   1060           01547             bcf PORTC_temp, 0
0427   1007           01548             bcf PORTC, 0
0428   1129           01549             bcf o_a, 2
0429   1160           01550             bcf PORTC_temp, 2
042A   1107           01551             bcf PORTC, 2
042B   0008           01552             return
                      01553             ;pokud poloha 0
042C   10A9           01554 t3_03       bcf o_a, 1
042D   10E0           01555             bcf PORTC_temp, 1
042E   1087           01556             bcf PORTC, 1
042F   0008           01557             return
                      01558             
                      01559 ;alarm stop
0430   1EDA           01560 t1_04       btfss casov, ALARM
0431   0008           01561             return
0432   3018           01562             movlw b'11000' ;port D0  ;sirena
0433   00D2           01563             movwf port
0434   3003           01564             movlw b'11' ;procesor 3
0435   00D3           01565             movwf prc 
0436   18AD           01566             btfsc o_e, 1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0437   2219           01567             call clrout ;set port v prc
0438   10AD           01568             bcf o_e, 1
                      01569             ;varovky
0439   2466           01570             call t1_05
                      01571             
                      01572             ;stroboskop
043A   3019           01573             movlw b'11001' ;port D1
043B   00D2           01574             movwf port
043C   3002           01575             movlw b'10' ;procesor 2
043D   00D3           01576             movwf prc 
043E   192D           01577             btfsc o_e, 2
043F   2219           01578             call clrout ;set port v prc
0440   112D           01579             bcf o_e, 2
                      01580             
0441   3016           01581             movlw b'10110' ;port C6
0442   00D2           01582             movwf port
0443   3002           01583             movlw b'10' ;procesor 2
0444   00D3           01584             movwf prc 
0445   192B           01585             btfsc o_c, 2
0446   2219           01586             call clrout ;set port v prc
0447   112B           01587             bcf o_c, 2
0448   3017           01588             movlw b'10111' ;port C7
0449   00D2           01589             movwf port
044A   3002           01590             movlw b'10' ;procesor 2
044B   00D3           01591             movwf prc 
044C   19AB           01592             btfsc o_c, 3
044D   2219           01593             call clrout ;set port v prc
044E   11AB           01594             bcf o_c, 3
044F   301A           01595             movlw b'11010' ;port D2
0450   00D2           01596             movwf port
0451   3002           01597             movlw b'10' ;procesor 2
0452   00D3           01598             movwf prc 
0453   19AE           01599             btfsc o_f, 3
0454   2219           01600             call clrout ;set port v prc
0455   11AE           01601             bcf o_f, 3
0456   301B           01602             movlw b'11011' ;port D3
0457   00D2           01603             movwf port
0458   3002           01604             movlw b'10' ;procesor 2
0459   00D3           01605             movwf prc 
045A   1A2E           01606             btfsc o_f, 4
045B   2219           01607             call clrout ;set port v prc
045C   122E           01608             bcf o_f, 4
045D   3019           01609             movlw b'11001' ;port D1
045E   00D2           01610             movwf port
045F   3003           01611             movlw b'11' ;procesor 3
0460   00D3           01612             movwf prc 
0461   1A2B           01613             btfsc o_c, 4
0462   2219           01614             call clrout ;set port v prc
0463   122B           01615             bcf o_c, 4
                      01616             
0464   12DA           01617             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0465   0008           01618             return
                      01619             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01620 ;varovna svetla
0466   186B           01621 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
0467   122D           01622             bcf o_e, 4
0468   186B           01623             btfsc casvar, 0 ;pokud oba zaply oba vypne
0469   1361           01624             bcf PORTD_temp, 6
046A   186B           01625             btfsc casvar, 0 ;pokud oba zaply oba vypne
046B   1308           01626             bcf PORTD, 6
046C   186B           01627             btfsc casvar, 0 ;pokud oba zaply oba vypne
046D   12AD           01628             bcf o_e, 5
046E   186B           01629             btfsc casvar, 0 ;pokud oba zaply oba vypne
046F   13E1           01630             bcf PORTD_temp, 7
0470   186B           01631             btfsc casvar, 0 ;pokud oba zaply oba vypne
0471   1388           01632             bcf PORTD, 7
                      01633     
0472   1C6B           01634             btfss casvar, 0 ;pokud jeden vyply oba zapne
0473   162D           01635             bsf o_e, 4
0474   1C6B           01636             btfss casvar, 0 ;pokud jeden vyply oba zapne
0475   1761           01637             bsf PORTD_temp, 6
0476   1C6B           01638             btfss casvar, 0 ;pokud jeden vyply oba zapne
0477   1708           01639             bsf PORTD, 6
0478   1C6B           01640             btfss casvar, 0 ;pokud jeden vyply oba zapne
0479   16AD           01641             bsf o_e, 5
047A   1C6B           01642             btfss casvar, 0 ;pokud jeden vyply oba zapne
047B   17E1           01643             bsf PORTD_temp, 7
047C   1C6B           01644             btfss casvar, 0 ;pokud jeden vyply oba zapne
047D   1788           01645             bsf PORTD, 7
                      01646             
047E   186B           01647             btfsc casvar, 0
047F   3000           01648             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
0480   1C6B           01649             btfss casvar, 0
0481   30FF           01650             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
0482   00EB           01651             movwf casvar
0483   3008           01652             movlw .8
0484   00DB           01653             movwf timvar
                      01654             
0485   0008           01655             return
                      01656             
                      01657 ;vypnout vse
0486   18D9           01658 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
0487   0008           01659             return
                      01660             ;svetla 
0488   10AB           01661             bcf o_c, 1
0489   11E0           01662             bcf PORTC_temp, 3
048A   1187           01663             bcf PORTC, 3
                      01664             ;red tuning
                      01665             ;white tunning
                      01666             ;red interier
                      01667             ;white interier
048B   3017           01668             movlw b'10111' ;port C7
048C   00D2           01669             movwf port
048D   3002           01670             movlw b'10' ;procesor 2
048E   00D3           01671             movwf prc 
048F   19AB           01672             btfsc o_c, 3
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0490   2219           01673             call clrout ;set port v prc
0491   11AB           01674             bcf o_c, 3
0492   301B           01675             movlw b'11011' ;port D3
0493   00D2           01676             movwf port
0494   3002           01677             movlw b'10' ;procesor 2
0495   00D3           01678             movwf prc 
0496   1A2E           01679             btfsc o_f, 4
0497   2219           01680             call clrout ;set port v prc
0498   122E           01681             bcf o_f, 4
0499   3016           01682             movlw b'10110' ;port C6
049A   00D2           01683             movwf port
049B   3002           01684             movlw b'10' ;procesor 2
049C   00D3           01685             movwf prc 
049D   192B           01686             btfsc o_c, 2
049E   2219           01687             call clrout ;set port v prc
049F   112B           01688             bcf o_c, 2
04A0   301A           01689             movlw b'11010' ;port D2
04A1   00D2           01690             movwf port
04A2   3002           01691             movlw b'10' ;procesor 2
04A3   00D3           01692             movwf prc 
04A4   19AE           01693             btfsc o_f, 3
04A5   2219           01694             call clrout ;set port v prc
04A6   11AE           01695             bcf o_f, 3
                      01696         
                      01697             ;stroboskop
04A7   3019           01698             movlw b'11001' ;port D1
04A8   00D2           01699             movwf port
04A9   3002           01700             movlw b'10' ;procesor 2
04AA   00D3           01701             movwf prc 
04AB   192D           01702             btfsc o_e, 2
04AC   2219           01703             call clrout ;set port v prc
04AD   112D           01704             bcf o_e, 2
                      01705             ;sirena
04AE   3018           01706             movlw b'11000' ;port D0
04AF   00D2           01707             movwf port
04B0   3003           01708             movlw b'11' ;procesor 3
04B1   00D3           01709             movwf prc 
04B2   18AD           01710             btfsc o_e, 1
04B3   2219           01711             call clrout ;set port v prc
04B4   10AD           01712             bcf o_e, 1
                      01713             ;parkovacky
04B5   11AD           01714             bcf o_e, 3
04B6   12E1           01715             bcf PORTD_temp, 5
04B7   1288           01716             bcf PORTD, 5
                      01717             ;mlhovky zadni
04B8   10AE           01718             bcf o_f, 1
04B9   1260           01719             bcf PORTC_temp, 4
04BA   1207           01720             bcf PORTC, 4
                      01721             ;mlhovky predni
04BB   12AB           01722             bcf o_c, 5
04BC   10E1           01723             bcf PORTD_temp, 1
04BD   1088           01724             bcf PORTD, 1
                      01725             ;rozehrivani okenka
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04BE   112E           01726             bcf o_f, 2
04BF   12E0           01727             bcf PORTC_temp, 5
04C0   1287           01728             bcf PORTC, 5
04C1   0008           01729             return
                      01730             
                      01731 ;zamknuti
04C2   1451           01732 t1_07       bsf locked, 0 ;nastavi registr locked
04C3   12B0           01733             bcf o_h, 5 ;vypne v regs led odemceno
04C4   3015           01734             movlw b'10101' ;port C5
04C5   00D2           01735             movwf port
04C6   3003           01736             movlw b'11' ;procesor 3
04C7   00D3           01737             movwf prc
04C8   2219           01738             call clrout ;smaz port v prc
04C9   1730           01739             bsf o_h, 6 ;zapne v regs led zamceno
04CA   3016           01740             movlw b'10110' ;port C6
04CB   00D2           01741             movwf port
04CC   3003           01742             movlw b'0011' ;procesor 3
04CD   00D3           01743             movwf prc
04CE   21F2           01744             call setout ;nastav port v prc
04CF   0008           01745             return
                      01746 ;odemknuti
04D0   1051           01747 t1_08       bcf locked, 0 ;smaze registr locked
04D1   16B0           01748             bsf o_h, 5 ;zapne v regs led odemceno
04D2   3015           01749             movlw b'10101' ;port C5
04D3   00D2           01750             movwf port
04D4   3003           01751             movlw b'11' ;procesor 3
04D5   00D3           01752             movwf prc
04D6   21F2           01753             call setout ;nastav port v prc
04D7   1730           01754             bsf o_h, 6 ;vypne v regs led zamceno
04D8   3016           01755             movlw b'10110' ;port C6
04D9   00D2           01756             movwf port
04DA   3003           01757             movlw b'0011' ;procesor 3
04DB   00D3           01758             movwf prc
04DC   2219           01759             call clrout ;smaz port v prc
04DD   0008           01760             return
                      01761             
                      01762 ;pripraveno
04DE   0000           01763 t1_09       nop
04DF   0008           01764             return
                      01765 
                      01766 ;odskok dvere 1
04E0   162A           01767 t1_10       bsf o_b, 4
04E1   301F           01768             movlw b'11111' ;port D7
04E2   00D2           01769             movwf port
04E3   3003           01770             movlw b'11' ;procesor 3
04E4   00D3           01771             movwf prc
04E5   21F2           01772             call setout ;smaz port v prc
04E6   165A           01773             bsf casov, ODSKOK
04E7   3008           01774             movlw .8
04E8   00E6           01775             movwf timods
04E9   0008           01776             return
                      01777             
                      01778 ;odskok dvere 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04EA   16AA           01779 t1_11       bsf o_b, 5
04EB   17E0           01780             bsf PORTC_temp, 7
04EC   1787           01781             bsf PORTC, 7
04ED   165A           01782             bsf casov, ODSKOK
04EE   3008           01783             movlw .8
04EF   00E6           01784             movwf timods
04F0   0008           01785             return
                      01786             
                      01787 ;odskok dvere 3
04F1   1A31           01788 t1_12       btfsc o_i, 4
04F2   0008           01789             return
04F3   172A           01790             bsf o_b, 6
04F4   155F           01791             bsf PORTB_temp, 2
04F5   1506           01792             bsf PORTB, 2
04F6   165A           01793             bsf casov, ODSKOK
04F7   3008           01794             movlw .8
04F8   00E6           01795             movwf timods
04F9   0008           01796             return
                      01797             
                      01798 ;odskok dvere 4
04FA   1A31           01799 t1_13       btfsc o_i, 4
04FB   0008           01800             return
04FC   17AA           01801             bsf o_b, 7
04FD   15DF           01802             bsf PORTB_temp, 3
04FE   1586           01803             bsf PORTB, 3
04FF   165A           01804             bsf casov, ODSKOK
0500   3008           01805             movlw .8
0501   00E6           01806             movwf timods
0502   0008           01807             return
                      01808             
                      01809 ;odskok kufr
0503   15AA           01810 t1_14       bsf o_b, 3
0504   165F           01811             bsf PORTB_temp, 4
0505   1606           01812             bsf PORTB, 4
0506   165A           01813             bsf casov, ODSKOK
0507   3008           01814             movlw .8
0508   00E6           01815             movwf timods
0509   0008           01816             return
                      01817             
                      01818 ;odskok nadrz
050A   142D           01819 t1_15       bsf o_e, 0
050B   16DF           01820             bsf PORTB_temp, 5
050C   1686           01821             bsf PORTB, 5
050D   165A           01822             bsf casov, ODSKOK
050E   3008           01823             movlw .8
050F   00E6           01824             movwf timods
0510   0008           01825             return
                      01826             
                      01827 ;odskok kapota
0511   142B           01828 t1_16       bsf o_c, 0
0512   175F           01829             bsf PORTB_temp, 6
0513   1706           01830             bsf PORTB, 6
0514   165A           01831             bsf casov, ODSKOK
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0515   3008           01832             movlw .8
0516   00E6           01833             movwf timods
0517   0008           01834             return
                      01835             
                      01836 ;pripraveno
0518   0000           01837 t1_17       nop
0519   0008           01838             return
                      01839 ;pripraveno
051A   0000           01840 t1_18       nop
051B   0008           01841             return
                      01842 ;pripraveno
051C   0000           01843 t1_19       nop
051D   0008           01844             return
                      01845 
                      01846 ;play pause
051E   14AC           01847 t1_20       bsf o_d, 1
051F   3010           01848             movlw b'10000' ;port C0
0520   00D2           01849             movwf port
0521   3002           01850             movlw b'10' ;procesor 2
0522   00D3           01851             movwf prc
0523   21F2           01852             call setout ;nastav port v prc
0524   0008           01853             return
                      01854             
                      01855 ;stop
0525   152C           01856 t1_21       bsf o_d, 2
0526   3011           01857             movlw b'10001' ;port C1
0527   00D2           01858             movwf port
0528   3002           01859             movlw b'10' ;procesor 2
0529   00D3           01860             movwf prc
052A   21F2           01861             call setout ;nastav port v prc
052B   0008           01862             return
                      01863             
                      01864 ;forwind
052C   15AC           01865 t1_22       bsf o_d, 3
052D   3012           01866             movlw b'10010' ;port C2
052E   00D2           01867             movwf port
052F   3002           01868             movlw b'10' ;procesor 2
0530   00D3           01869             movwf prc
0531   21F2           01870             call setout ;nastav port v prc
0532   0008           01871             return
                      01872             
                      01873 ;rewind
0533   162C           01874 t1_23       bsf o_d, 4
0534   3013           01875             movlw b'10011' ;port C3
0535   00D2           01876             movwf port
0536   3002           01877             movlw b'10' ;procesor 2
0537   00D3           01878             movwf prc
0538   21F2           01879             call setout ;nastav port v prc
0539   0008           01880             return
                      01881             
                      01882 ;volume +
053A   16AC           01883 t1_24       bsf o_d, 5
053B   3014           01884             movlw b'10100' ;port C4
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

053C   00D2           01885             movwf port
053D   3002           01886             movlw b'10' ;procesor 2
053E   00D3           01887             movwf prc
053F   21F2           01888             call setout ;nastav port v prc
0540   0008           01889             return
                      01890             
                      01891 ;volume -
0541   172C           01892 t1_25       bsf o_d, 6
0542   3015           01893             movlw b'10101' ;port C5
0543   00D2           01894             movwf port
0544   3002           01895             movlw b'10' ;procesor 2
0545   00D3           01896             movwf prc
0546   21F2           01897             call setout ;nastav port v prc
0547   0008           01898             return
                      01899             
                      01900 ;rozehrivani okenka
0548   082E           01901 t1_26       movf o_f, W
0549   00A4           01902             movwf r5
                      01903 
054A   1D24           01904             btfss r5, 2
054B   16E0           01905             bsf PORTC_temp, 5
054C   1D24           01906             btfss r5, 2
054D   1687           01907             bsf PORTC, 5
054E   1D24           01908             btfss r5, 2
054F   152E           01909             bsf o_f, 2 
                      01910         
0550   1924           01911             btfsc r5, 2
0551   12E0           01912             bcf PORTC_temp, 5
0552   1924           01913             btfsc r5, 2
0553   1287           01914             bcf PORTC, 5
0554   1924           01915             btfsc r5, 2
0555   112E           01916             bcf o_f, 2 
0556   0008           01917             return
                      01918             
                      01919 ;pripraveno
0557   0000           01920 t1_27       nop
0558   0008           01921             return
                      01922 ;pripraveno
0559   0000           01923 t1_28       nop
055A   0008           01924             return
                      01925 ;pripraveno
055B   0000           01926 t1_29       nop
055C   0008           01927             return
                      01928 
                      01929 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
055D   0008           01930 t1_30       return;movf o1tar, W
055E   00A4           01931             movwf r5
055F   30F0           01932             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0560   07A4           01933             addwf r5, F
0561   1C03           01934             btfss STATUS, C
0562   0008           01935             return
0563   0824           01936             movf r5, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0564   00A4           01937             movwf o1tar
0565   0008           01938             return
                      01939             
                      01940 ;okno 2 up
0566   0008           01941 t1_31       return;movf o2tar, W
0567   00A4           01942             movwf r5
0568   30F0           01943             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0569   07A4           01944             addwf r5, F
056A   1C03           01945             btfss STATUS, C
056B   0008           01946             return
056C   0824           01947             movf r5, W
056D   00A5           01948             movwf o2tar
056E   0008           01949             return
                      01950             
                      01951 ;okno 3 up
056F   0008           01952 t1_32       return;btfsc o_i, 4
0570   0008           01953             return
0571   0826           01954             movf o3tar, W
0572   00A4           01955             movwf r5
0573   30F0           01956             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0574   07A4           01957             addwf r5, F
0575   1C03           01958             btfss STATUS, C
0576   0008           01959             return
0577   0824           01960             movf r5, W
0578   00A6           01961             movwf o3tar
0579   0008           01962             return
                      01963             
                      01964 ;okno 4 up
057A   0008           01965 t1_33       return;btfsc o_i, 4
057B   0008           01966             return
057C   0827           01967             movf o4tar, W
057D   00A4           01968             movwf r5
057E   30F0           01969             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
057F   07A4           01970             addwf r5, F
0580   1C03           01971             btfss STATUS, C
0581   0008           01972             return
0582   0824           01973             movf r5, W
0583   00A7           01974             movwf o4tar
0584   0008           01975             return
                      01976             
                      01977 ;okno 1 down
0585   0008           01978 t1_34       return;movf o1tar, W
0586   00A4           01979             movwf r5
0587   3010           01980             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0588   07A4           01981             addwf r5, F
0589   1803           01982             btfsc STATUS, C
058A   0008           01983             return
058B   0824           01984             movf r5, W
058C   00A4           01985             movwf o1tar
058D   0008           01986             return
                      01987             
                      01988 ;okno 2 down
058E   0008           01989 t1_35       return;movf o2tar, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

058F   00A4           01990             movwf r5
0590   3010           01991             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0591   07A4           01992             addwf r5, F
0592   1803           01993             btfsc STATUS, C
0593   0008           01994             return
0594   0824           01995             movf r5, W
0595   00A5           01996             movwf o2tar
0596   0008           01997             return
                      01998             
                      01999 ;okno 3 down
0597   0008           02000 t1_36       return;btfsc o_i, 4
0598   0008           02001             return
0599   0826           02002             movf o3tar, W
059A   00A4           02003             movwf r5
059B   3010           02004             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
059C   07A4           02005             addwf r5, F
059D   1803           02006             btfsc STATUS, C
059E   0008           02007             return
059F   0824           02008             movf r5, W
05A0   00A6           02009             movwf o3tar
05A1   0008           02010             return
                      02011             
                      02012 ;detský zámek zadních oken a dveri
05A2   1E31           02013 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
05A3   2DAB           02014             goto t2_37
05A4   1231           02015             bcf o_i, 4
05A5   301C           02016             movlw b'11100' ;port D4
05A6   00D2           02017             movwf port
05A7   3003           02018             movlw b'11' ;procesor 3
05A8   00D3           02019             movwf prc
05A9   2219           02020             call clrout ;nastav port v prc        
05AA   0008           02021             return
                      02022             
05AB   1631           02023 t2_37       bsf o_i, 4
05AC   301C           02024             movlw b'11100' ;port D4
05AD   00D2           02025             movwf port
05AE   3003           02026             movlw b'11' ;procesor 3
05AF   00D3           02027             movwf prc
05B0   21F2           02028             call setout ;nastav port v prc        
05B1   0008           02029             return
                      02030             
                      02031 ;pripraveno
05B2   0000           02032 t1_38       nop
05B3   0008           02033             return
                      02034 ;pripraveno
05B4   0000           02035 t1_39       nop
05B5   0008           02036             return
                      02037 
                      02038 ;RED tuning
05B6   3016           02039 t1_40       movlw b'10110' ;port C6
05B7   00D2           02040             movwf port
05B8   3002           02041             movlw b'10' ;procesor 2
05B9   00D3           02042             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02043             
05BA   082B           02044             movf o_c, W
05BB   00A4           02045             movwf r5
                      02046 
05BC   1D24           02047             btfss r5, 2
05BD   21F2           02048             call setout ;nastav port v prc
05BE   1D24           02049             btfss r5, 2
05BF   152B           02050             bsf o_c, 2 
                      02051         
05C0   1924           02052             btfsc r5, 2
05C1   2219           02053             call clrout ;smaz port v prc
05C2   1924           02054             btfsc r5, 2
05C3   112B           02055             bcf o_c, 2 
05C4   0008           02056             return
                      02057             
                      02058 ;WHITE tunning
05C5   3017           02059 t1_41       movlw b'10111' ;port C7
05C6   00D2           02060             movwf port
05C7   3002           02061             movlw b'10' ;procesor 2
05C8   00D3           02062             movwf prc
                      02063             
05C9   082B           02064             movf o_c, W
05CA   00A4           02065             movwf r5
                      02066 
05CB   1DA4           02067             btfss r5, 3
05CC   21F2           02068             call setout ;nastav port v prc
05CD   1DA4           02069             btfss r5, 3
05CE   15AB           02070             bsf o_c, 3 
                      02071         
05CF   19A4           02072             btfsc r5, 3
05D0   2219           02073             call clrout ;smaz port v prc
05D1   19A4           02074             btfsc r5, 3
05D2   11AB           02075             bcf o_c, 3 
05D3   0008           02076             return
                      02077             
                      02078 ;Parkovačky
05D4   082D           02079 t1_42       movf o_e, W
05D5   00A4           02080             movwf r5
                      02081 
05D6   1DA4           02082             btfss r5, 3
05D7   16E1           02083             bsf PORTD_temp, 5
05D8   1DA4           02084             btfss r5, 3
05D9   1688           02085             bsf PORTD, 5
05DA   1DA4           02086             btfss r5, 3
05DB   15AD           02087             bsf o_e, 3 
                      02088         
05DC   19A4           02089             btfsc r5, 3
05DD   12E1           02090             bcf PORTD_temp, 5
05DE   19A4           02091             btfsc r5, 3
05DF   1288           02092             bcf PORTD, 5
05E0   19A4           02093             btfsc r5, 3
05E1   11AD           02094             bcf o_e, 3 
05E2   0008           02095             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02096             
                      02097 ;Světla
05E3   082B           02098 t1_43       movf o_c, W
05E4   00A4           02099             movwf r5
                      02100 
05E5   1CA4           02101             btfss r5, 1
05E6   15E0           02102             bsf PORTC_temp, 3
05E7   1CA4           02103             btfss r5, 1
05E8   1587           02104             bsf PORTC, 3
05E9   1CA4           02105             btfss r5, 1
05EA   14AB           02106             bsf o_c, 1 
                      02107         
05EB   18A4           02108             btfsc r5, 1
05EC   11E0           02109             bcf PORTC_temp, 3
05ED   18A4           02110             btfsc r5, 1
05EE   1187           02111             bcf PORTC, 3
05EF   18A4           02112             btfsc r5, 1
05F0   10AB           02113             bcf o_c, 1 
05F1   0008           02114             return
                      02115             
                      02116 ;Mlhovky zadní
05F2   082E           02117 t1_44       movf o_f, W
05F3   00A4           02118             movwf r5
                      02119 
05F4   1CA4           02120             btfss r5, 1
05F5   1660           02121             bsf PORTC_temp, 4
05F6   1CA4           02122             btfss r5, 1
05F7   1607           02123             bsf PORTC, 4
05F8   1CA4           02124             btfss r5, 1
05F9   14AE           02125             bsf o_f, 1 
                      02126         
05FA   18A4           02127             btfsc r5, 1
05FB   1260           02128             bcf PORTC_temp, 4
05FC   18A4           02129             btfsc r5, 1
05FD   1207           02130             bcf PORTC, 4
05FE   18A4           02131             btfsc r5, 1
05FF   10AE           02132             bcf o_f, 1 
0600   0008           02133             return
                      02134             
                      02135 ;Blinkr levý
0601   162D           02136 t1_45       bsf o_e, 4
0602   1761           02137             bsf PORTD_temp, 6
0603   1708           02138             bsf PORTD, 6
0604   0008           02139             return
                      02140             
                      02141 ;Blinkr pravý
0605   16AD           02142 t1_46       bsf o_e, 5
0606   17E1           02143             bsf PORTD_temp, 7
0607   1788           02144             bsf PORTD, 7
0608   0008           02145             return
                      02146             
                      02147 ;Mlhovky přední
0609   082B           02148 t1_47       movf o_c, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

060A   00A4           02149             movwf r5
                      02150 
060B   1EA4           02151             btfss r5, 5
060C   14E1           02152             bsf PORTD_temp, 1
060D   1EA4           02153             btfss r5, 5
060E   1488           02154             bsf PORTD, 1
060F   1EA4           02155             btfss r5, 5
0610   16AB           02156             bsf o_c, 5 
                      02157         
0611   1AA4           02158             btfsc r5, 5
0612   10E1           02159             bcf PORTD_temp, 1
0613   1AA4           02160             btfsc r5, 5
0614   1088           02161             bcf PORTD, 1
0615   1AA4           02162             btfsc r5, 5
0616   12AB           02163             bcf o_c, 5 
0617   0008           02164             return
                      02165             
                      02166 ;pripraveno
0618   0000           02167 t1_48       nop
0619   0008           02168             return
                      02169 ;pripraveno
061A   0000           02170 t1_49       nop
061B   0008           02171             return
                      02172 
                      02173 ;klakson
061C   162B           02174 t1_50       bsf o_c, 4
061D   3019           02175             movlw b'11001' ;port D1
061E   00D2           02176             movwf port
061F   3003           02177             movlw b'11' ;procesor 3
0620   00D3           02178             movwf prc
0621   21F2           02179             call setout ;nastav port v prc
0622   0008           02180             return
                      02181             
                      02182 ;stěrače
0623   17AB           02183 t1_51       bsf o_c, 7
0624   15E1           02184             bsf PORTD_temp, 3
0625   1588           02185             bsf PORTD, 3
0626   0008           02186             return
                      02187 ;odstřikovače
0627   172B           02188 t1_52       bsf o_c, 6
0628   1561           02189             bsf PORTD_temp, 2
0629   1508           02190             bsf PORTD, 2
062A   0008           02191             return
                      02192             
                      02193 ;Siréna
062B   3018           02194 t1_53       movlw b'11000' ;port D0
062C   00D2           02195             movwf port
062D   3003           02196             movlw b'11' ;procesor 3
062E   00D3           02197             movwf prc
                      02198             
062F   082D           02199             movf o_e, W
0630   00A4           02200             movwf r5
                      02201 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0631   1CA4           02202             btfss r5, 1
0632   21F2           02203             call setout ;nastav port v prc
0633   1CA4           02204             btfss r5, 1
0634   14AD           02205             bsf o_e, 1 
                      02206         
0635   18A4           02207             btfsc r5, 1
0636   2219           02208             call clrout ;smaz port v prc
0637   18A4           02209             btfsc r5, 1
0638   10AD           02210             bcf o_e, 1 
                      02211         
0639   0008           02212             return
                      02213 
                      02214 ;stroboskop
063A   3019           02215 t1_54       movlw b'11001' ;port D1
063B   00D2           02216             movwf port
063C   3002           02217             movlw b'10' ;procesor 2
063D   00D3           02218             movwf prc
                      02219             
063E   082D           02220             movf o_e, W
063F   00A4           02221             movwf r5
                      02222 
0640   1D24           02223             btfss r5, 2
0641   21F2           02224             call setout ;nastav port v prc
0642   1D24           02225             btfss r5, 2
0643   152D           02226             bsf o_e, 2 
                      02227         
0644   1924           02228             btfsc r5, 2
0645   2219           02229             call clrout ;smaz port v prc
0646   1924           02230             btfsc r5, 2
0647   112D           02231             bcf o_e, 2 
0648   0008           02232             return
                      02233             
                      02234 ;Dálkové světla
0649   142C           02235 t1_55       bsf o_d, 0
064A   1661           02236             bsf PORTD_temp, 4
064B   1608           02237             bsf PORTD, 4
064C   0008           02238             return
                      02239             
                      02240 ;alarm start
064D   3018           02241 t1_56       movlw b'11000' ;port D0  ;sirena
064E   00D2           02242             movwf port
064F   3003           02243             movlw b'11' ;procesor 3
0650   00D3           02244             movwf prc 
0651   1CAD           02245             btfss o_e, 1
0652   21F2           02246             call setout ;set port v prc
0653   14AD           02247             bsf o_e, 1
                      02248             ;varovky
0654   2466           02249             call t1_05
                      02250             
                      02251             ;stroboskop
0655   3019           02252             movlw b'11001' ;port D1
0656   00D2           02253             movwf port
0657   3002           02254             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0658   00D3           02255             movwf prc 
0659   1D2D           02256             btfss o_e, 2
065A   21F2           02257             call setout ;set port v prc
065B   152D           02258             bsf o_e, 2
                      02259             ;red tunning
065C   3016           02260             movlw b'10110' ;port C6
065D   00D2           02261             movwf port
065E   3002           02262             movlw b'10' ;procesor 2
065F   00D3           02263             movwf prc 
0660   1D2B           02264             btfss o_c, 2
0661   21F2           02265             call setout ;set port v prc
0662   152B           02266             bsf o_c, 2
                      02267             ;white interier
0663   301B           02268             movlw b'11011' ;port D3
0664   00D2           02269             movwf port
0665   3002           02270             movlw b'10' ;procesor 2
0666   00D3           02271             movwf prc 
0667   1E2E           02272             btfss o_f, 4
0668   21F2           02273             call setout ;set port v prc
0669   162E           02274             bsf o_f, 4
                      02275             
066A   16DA           02276             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
066B   301E           02277             movlw .30
066C   00E7           02278             movwf timala
                      02279 
066D   0008           02280             return
                      02281             
                      02282 ;pripraveno
066E   0000           02283 t1_57       nop
066F   0008           02284             return
                      02285             
                      02286 ;pripraveno
0670   0000           02287 t1_58       nop
0671   0008           02288             return
                      02289             
                      02290 ;pripraveno
0672   0000           02291 t1_59       nop
0673   0008           02292             return
                      02293         
                      02294 ;okno 4 down
0674   0008           02295 t1_60       return;btfsc o_i, 4
0675   0008           02296             return
0676   0827           02297             movf o4tar, W
0677   00A4           02298             movwf r5
0678   3010           02299             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
0679   07A4           02300             addwf r5, F
067A   1803           02301             btfsc STATUS, C
067B   0008           02302             return
067C   0824           02303             movf r5, W
067D   00A7           02304             movwf o4tar
067E   0008           02305             return
                      02306             
                      02307 ;red interiér
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

067F   301A           02308 t1_61       movlw b'11010' ;port D2
0680   00D2           02309             movwf port
0681   3002           02310             movlw b'10' ;procesor 2
0682   00D3           02311             movwf prc
                      02312             
0683   082E           02313             movf o_f, W
0684   00A4           02314             movwf r5
                      02315 
0685   1DA4           02316             btfss r5, 3
0686   21F2           02317             call setout ;nastav port v prc
0687   1DA4           02318             btfss r5, 3
0688   15AE           02319             bsf o_f, 3 
                      02320         
0689   19A4           02321             btfsc r5, 3
068A   2219           02322             call clrout ;smaz port v prc
068B   19A4           02323             btfsc r5, 3
068C   11AE           02324             bcf o_f, 3 
068D   0008           02325             return
                      02326             
                      02327 ;white interier
068E   301B           02328 t1_62       movlw b'11011' ;port D3
068F   00D2           02329             movwf port
0690   3002           02330             movlw b'10' ;procesor 2
0691   00D3           02331             movwf prc
                      02332             
0692   082E           02333             movf o_f, W
0693   00A4           02334             movwf r5
                      02335 
0694   1E24           02336             btfss r5, 4
0695   21F2           02337             call setout ;nastav port v prc
0696   1E24           02338             btfss r5, 4
0697   162E           02339             bsf o_f, 4 
                      02340         
0698   1A24           02341             btfsc r5, 4
0699   2219           02342             call clrout ;smaz port v prc
069A   1A24           02343             btfsc r5, 4
069B   122E           02344             bcf o_f, 4 
069C   0008           02345             return
                      02346             
                      02347 ;klima on/off
069D   17AD           02348 t1_63       bsf o_e, 7
069E   301E           02349             movlw b'11110' ;port D6
069F   00D2           02350             movwf port
06A0   3002           02351             movlw b'10' ;procesor 2
06A1   00D3           02352             movwf prc
06A2   21F2           02353             call setout ;nastav port v prc
06A3   165A           02354             bsf casov, ODSKOK
06A4   3008           02355             movlw .8
06A5   00E6           02356             movwf timods
06A6   0008           02357             return
                      02358             
                      02359 ;klima teplota up
06A7   172D           02360 t1_64       bsf o_e, 6
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06A8   301C           02361             movlw b'11100' ;port D4
06A9   00D2           02362             movwf port
06AA   3002           02363             movlw b'10' ;procesor 2
06AB   00D3           02364             movwf prc
06AC   21F2           02365             call setout ;nastav port v prc
06AD   165A           02366             bsf casov, ODSKOK
06AE   3008           02367             movlw .8
06AF   00E6           02368             movwf timods
06B0   0008           02369             return
                      02370             
                      02371 ;klima teplota down
06B1   16AE           02372 t1_65       bsf o_f, 5
06B2   301D           02373             movlw b'11101' ;port D5
06B3   00D2           02374             movwf port
06B4   3002           02375             movlw b'10' ;procesor 2
06B5   00D3           02376             movwf prc
06B6   21F2           02377             call setout ;nastav port v prc
06B7   165A           02378             bsf casov, ODSKOK
06B8   3008           02379             movlw .8
06B9   00E6           02380             movwf timods
06BA   0008           02381             return
                      02382             
                      02383 ;klima mista ventilace
06BB   142E           02384 t1_66       bsf o_f, 0
06BC   301F           02385             movlw b'11111' ;port D7
06BD   00D2           02386             movwf port
06BE   3002           02387             movlw b'10' ;procesor 2
06BF   00D3           02388             movwf prc
06C0   21F2           02389             call setout ;nastav port v prc
06C1   165A           02390             bsf casov, ODSKOK
06C2   3008           02391             movlw .8
06C3   00E6           02392             movwf timods
06C4   0008           02393             return
                      02394             
                      02395 ;pripraveno
06C5   0000           02396 t1_67       nop
06C6   0008           02397             return
                      02398 ;pripraveno
06C7   0000           02399 t1_68       nop
06C8   0008           02400             return
                      02401 ;pripraveno
06C9   0000           02402 t1_69       nop
06CA   0008           02403             return
                      02404 
06CB   0000           02405 t1_x        nop
06CC   0008           02406             return
                      02407             
                      02408 
                      02409 
                      02410 
                      02411 
                      02412 
06CD   3005           02413 w20i        movlw .5
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06CE   00A3           02414             movwf r4
06CF   0BA3           02415             decfsz r4, F
06D0   2ECF           02416             goto $-1
06D1   0008           02417             return
                      02418 
                      02419 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06D2   3050           02420 w100c       movlw .80
06D3   00A3           02421             movwf r4
06D4   0BA3           02422             decfsz r4, F
06D5   2ED4           02423             goto $-1
06D6   0008           02424             return
                      02425 
                      02426 ;cekej necelou polovinu w100c
06D7   301E           02427 w40c        movlw .30
06D8   00A3           02428             movwf r4
06D9   0BA3           02429             decfsz r4, F
06DA   2ED9           02430             goto $-1
06DB   0008           02431             return
                      02432             
                      02433 
                      02434 
                      02435 
                      02436 
                      02437 
06DC   3019           02438 klakson     movlw b'11001' ;port D1
06DD   00D2           02439             movwf port
06DE   3003           02440             movlw b'11' ;procesor 3
06DF   00D3           02441             movwf prc
                      02442             
06E0   082B           02443             movf o_c, W
06E1   00A4           02444             movwf r5
                      02445 
06E2   1E24           02446             btfss r5, 4
06E3   21F2           02447             call setout ;nastav port v prc
06E4   1E24           02448             btfss r5, 4
06E5   162B           02449             bsf o_c, 4 
                      02450         
06E6   1A24           02451             btfsc r5, 4
06E7   2219           02452             call clrout ;smaz port v prc
06E8   1A24           02453             btfsc r5, 4
06E9   122B           02454             bcf o_c, 4 
06EA   0008           02455             return
                      02456 
                      02457 
                      02458 ;zmeni stav LED zamceno
06EB   3016           02459 ledzam      movlw b'10110' ;port C6
06EC   00D2           02460             movwf port
06ED   3003           02461             movlw b'11' ;procesor 3
06EE   00D3           02462             movwf prc
                      02463             
06EF   0830           02464             movf o_h, W
06F0   00A4           02465             movwf r5
                      02466 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06F1   1F24           02467             btfss r5, 6
06F2   21F2           02468             call setout ;nastav port v prc
06F3   1F24           02469             btfss r5, 6
06F4   1730           02470             bsf o_h, 6 
                      02471         
06F5   1B24           02472             btfsc r5, 6
06F6   2219           02473             call clrout ;smaz port v prc
06F7   1B24           02474             btfsc r5, 6
06F8   1330           02475             bcf o_h, 6 
                      02476         
06F9   0008           02477             return
                      02478 
                      02479 
                      02480 
                      02481 
                      02482 
                      02483 
                      02484 
                      02485 
                      02486 
                      02487 
                      02488 
                      02489 
0800                  02490             org 800h ;zacina druha stranka programu
0800   118A           02491 restart     bcf PCLATH,3 ;Select page 0
                      02492             ;Po restartu se obnovi stare registry PORTU
                      02493 
0801   085E           02494             movf PORTA_temp, W
0802   0085           02495             movwf PORTA
0803   085F           02496             movf PORTB_temp, W
0804   0086           02497             movwf PORTB
0805   0860           02498             movf PORTC_temp, W
0806   0087           02499             movwf PORTC
0807   0861           02500             movf PORTD_temp, W
0808   0088           02501             movwf PORTD
0809   0862           02502             movf PORTE_temp, W
080A   0089           02503             movwf PORTE
                      02504 
                      02505             ;zapne zadni pasy po restartu
080B   300E           02506             movlw b'01110' ;port B6
080C   00D2           02507             movwf port
080D   3003           02508             movlw b'11' ;procesor 3
080E   00D3           02509             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   21F2           02510             call setout ;nastav port v prc
0810   172F           02511             bsf o_g, 6 
                      02512             
0811   300F           02513             movlw b'01111' ;port B7
0812   00D2           02514             movwf port
0813   3003           02515             movlw b'11' ;procesor 3
0814   00D3           02516             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   21F2           02517             call setout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0816   17AF           02518             bsf o_g, 7 
                      02519 
                      02520             ; zapne predni pasy po startu
0817   300C           02521             movlw b'01100' ;port B4
0818   00D2           02522             movwf port
0819   3003           02523             movlw b'11' ;procesor 3
081A   00D3           02524             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081B   2219           02525             call clrout ;nastav port v prc
081C   122F           02526             bcf o_g, 4 
                      02527             
081D   300D           02528             movlw b'01101' ;port B5
081E   00D2           02529             movwf port
081F   3003           02530             movlw b'11' ;procesor 3
0820   00D3           02531             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   2219           02532             call clrout ;nastav port v prc
0822   12AF           02533             bcf o_g, 5 
                      02534 
                      02535 
0823   158A           02536             bsf PCLATH,3 ;Select page 0
0824   2849           02537             goto loop
                      02538     
0825   118A           02539 start       bcf PCLATH,3 ;Select page 0
                      02540             
0826   01DE           02541             clrf PORTA_temp
0827   01DF           02542             clrf PORTB_temp
0828   01E0           02543             clrf PORTC_temp
0829   01E1           02544             clrf PORTD_temp
082A   01E2           02545             clrf PORTE_temp
                      02546 
Message[306]: Crossing page boundary -- ensure page bits are set.
082B   26D2           02547             call w100c
                      02548             
Message[306]: Crossing page boundary -- ensure page bits are set.
082C   23A0           02549             call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
                            arm
                      02550             
                      02551             ; zapne predni pasy po startu
082D   300C           02552             movlw b'01100' ;port B4
082E   00D2           02553             movwf port
082F   3003           02554             movlw b'11' ;procesor 3
0830   00D3           02555             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0831   21F2           02556             call setout ;nastav port v prc
0832   162F           02557             bsf o_g, 4 
                      02558             
0833   300D           02559             movlw b'01101' ;port B5
0834   00D2           02560             movwf port
0835   3003           02561             movlw b'11' ;procesor 3
0836   00D3           02562             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0837   21F2           02563             call setout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0838   16AF           02564             bsf o_g, 5 
                      02565 
                      02566             ;zapne zadni pasy po restartu
0839   300E           02567             movlw b'01110' ;port B6
083A   00D2           02568             movwf port
083B   3003           02569             movlw b'11' ;procesor 3
083C   00D3           02570             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
083D   2219           02571             call clrout ;nastav port v prc
083E   132F           02572             bcf o_g, 6 
                      02573             
083F   300F           02574             movlw b'01111' ;port B7
0840   00D2           02575             movwf port
0841   3003           02576             movlw b'11' ;procesor 3
0842   00D3           02577             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0843   2219           02578             call clrout ;nastav port v prc
0844   13AF           02579             bcf o_g, 7 
                      02580 
0845   3019           02581             movlw .25
0846   00EC           02582             movwf vterina
                      02583         
                      02584 
0847   158A           02585             bsf PCLATH,3 ;Select page 0
0848   2849           02586             goto loop
                      02587 
0849   118A           02588 loop        bcf PCLATH,3 ;Select page 0
                      02589             
084A   0064           02590             clrwdt
                      02591    
                      02592             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02593             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084B   2059           02594             call watchstart
                      02595             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   205C           02596             call watchwait
                      02597             
                      02598             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084D   2059           02599             call watchstart
                      02600             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084E   205C           02601             call watchwait
                      02602             
                      02603             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084F   2059           02604             call watchstart
                      02605             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0850   205C           02606             call watchwait
                      02607             
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02608             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0851   2059           02609             call watchstart
                      02610             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0852   205C           02611             call watchwait
                      02612       
                      02613       
                      02614       
0853   1A59           02615             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0854   2062           02616             call timer1
                      02617 
0855   158A           02618             bsf PCLATH,3 ;Select page 1
                      02619             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
0856   118A           02620             bcf PCLATH,3 ;Select page 0
                      02621 
                      02622 
                      02623             
                      02624             
0857   3000           02625             movlw .0 ;nastavime ANx kde x je zadane cislo
0858   00F6           02626             movwf ran1
0859   158A           02627             bsf PCLATH,3 ;Select page 1
085A   22F9           02628             call adconv
085B   118A           02629             bcf PCLATH,3 ;Select page 0
085C   0876           02630             movf ran1, W
085D   00A0           02631             movwf r1
                      02632             
085E   093F           02633             comf ir_58, W
085F   07A0           02634             addwf r1, F
0860   081E           02635             movf ADRESH, W
0861   0FA0           02636             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0862   00BF           02637             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0863   0820           02638             movf r1, W
0864   118A           02639             bcf PCLATH,3 ;Select page 0
0865   1D03           02640             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0866   2240           02641             call if_58  ;pokud zmena odesle na sbernici
                      02642             
                      02643             
0867   3001           02644             movlw .1 ;nastavime ANx kde x je zadane cislo
0868   00F6           02645             movwf ran1
0869   158A           02646             bsf PCLATH,3 ;Select page 1
086A   22F9           02647             call adconv
086B   118A           02648             bcf PCLATH,3 ;Select page 0
086C   0876           02649             movf ran1, W
086D   00A0           02650             movwf r1
                      02651             
086E   0943           02652             comf ir_62, W
086F   07A0           02653             addwf r1, F
0870   081E           02654             movf ADRESH, W
0871   0FA0           02655             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0872   00C3           02656             movwf ir_62  ;prepise reg AN prevedenou hodnotou
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0873   0820           02657             movf r1, W
0874   118A           02658             bcf PCLATH,3 ;Select page 0
0875   1D03           02659             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0876   228D           02660             call if_62  ;pokud zmena odesle na sbernici
                      02661             
                      02662             
0877   3002           02663             movlw .2 ;nastavime ANx kde x je zadane cislo
0878   00F6           02664             movwf ran1
0879   158A           02665             bsf PCLATH,3 ;Select page 1
087A   22F9           02666             call adconv
087B   118A           02667             bcf PCLATH,3 ;Select page 0
087C   0876           02668             movf ran1, W
087D   00A0           02669             movwf r1
                      02670             
087E   0937           02671             comf ir_50, W
087F   07A0           02672             addwf r1, F
0880   081E           02673             movf ADRESH, W
0881   0FA0           02674             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0882   00B7           02675             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0883   0820           02676             movf r1, W
0884   118A           02677             bcf PCLATH,3 ;Select page 0
0885   1D03           02678             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0886   22DA           02679             call if_50  ;pokud zmena odesle na sbernici
                      02680             
                      02681             
0887   3003           02682             movlw .3 ;nastavime ANx kde x je zadane cislo
0888   00F6           02683             movwf ran1
0889   158A           02684             bsf PCLATH,3 ;Select page 1
088A   22F9           02685             call adconv
088B   118A           02686             bcf PCLATH,3 ;Select page 0
088C   0876           02687             movf ran1, W
088D   00A0           02688             movwf r1
                      02689             
088E   0940           02690             comf ir_59, W
088F   07A0           02691             addwf r1, F
0890   081E           02692             movf ADRESH, W
0891   0FA0           02693             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0892   00C0           02694             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0893   0820           02695             movf r1, W
0894   118A           02696             bcf PCLATH,3 ;Select page 0
0895   1D03           02697             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0896   22DC           02698             call if_59  ;pokud zmena odesle na sbernici
                      02699             
                      02700             
0897   3004           02701             movlw .4 ;nastavime ANx kde x je zadane cislo
0898   00F6           02702             movwf ran1
0899   158A           02703             bsf PCLATH,3 ;Select page 1
089A   22F9           02704             call adconv
089B   118A           02705             bcf PCLATH,3 ;Select page 0
089C   0876           02706             movf ran1, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

089D   00A0           02707             movwf r1
                      02708             
089E   0941           02709             comf ir_60, W
089F   07A0           02710             addwf r1, F
08A0   081E           02711             movf ADRESH, W
08A1   0FA0           02712             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A2   00C1           02713             movwf ir_60  ;prepise reg AN prevedenou hodnotou
08A3   0820           02714             movf r1, W
08A4   118A           02715             bcf PCLATH,3 ;Select page 0
08A5   1D03           02716             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A6   22DE           02717             call if_60  ;pokud zmena odesle na sbernici
                      02718             
                      02719             
08A7   3005           02720             movlw .5 ;nastavime ANx kde x je zadane cislo
08A8   00F6           02721             movwf ran1
08A9   158A           02722             bsf PCLATH,3 ;Select page 1
08AA   22F9           02723             call adconv
08AB   118A           02724             bcf PCLATH,3 ;Select page 0
08AC   0876           02725             movf ran1, W
08AD   00A0           02726             movwf r1
                      02727             
08AE   0942           02728             comf ir_61, W
08AF   07A0           02729             addwf r1, F
08B0   081E           02730             movf ADRESH, W
08B1   0FA0           02731             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B2   00C2           02732             movwf ir_61  ;prepise reg AN prevedenou hodnotou
08B3   0820           02733             movf r1, W
08B4   118A           02734             bcf PCLATH,3 ;Select page 0
08B5   1D03           02735             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B6   22E0           02736             call if_61  ;pokud zmena odesle na sbernici
                      02737             
                      02738             
                      02739             
                      02740             
                      02741 
                      02742 
                      02743             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08B7   2059           02744             call watchstart
                      02745 
                      02746             ;dotaz na procesor 2
08B8   3002           02747             movlw .2  ;oznaceni ciloveho procesoru
08B9   00F8           02748             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08BA   2139           02749             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02750     
                      02751             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08BB   205C           02752             call watchwait
                      02753     
08BC   0870           02754             movf pri0, W    ;kontroluje zda je zmena od minule
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08BD   00A0           02755             movwf r1
08BE   0938           02756             comf ir_51, W
08BF   07A0           02757             addwf r1, F
08C0   0870           02758             movf pri0, W
08C1   0FA0           02759             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C2   00B8           02760             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08C3   0820           02761             movf r1, W
08C4   1D03           02762             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C5   22E6           02763             call if_51  ;pokud zmena spusti podprig
                      02764     
08C6   0871           02765             movf pri1, W    ;kontroluje zda je zmena od minule
08C7   00A0           02766             movwf r1
08C8   0939           02767             comf ir_52, W
08C9   07A0           02768             addwf r1, F
08CA   0871           02769             movf pri1, W
08CB   0FA0           02770             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CC   00B9           02771             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08CD   0820           02772             movf r1, W
08CE   1D03           02773             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08CF   22E8           02774             call if_52  ;pokud zmena spusti podprig
                      02775     
                      02776     
08D0   0872           02777             movf pri2, W    ;kontroluje zda je zmena od minule
08D1   00A0           02778             movwf r1
08D2   093A           02779             comf ir_53, W
08D3   07A0           02780             addwf r1, F
08D4   0872           02781             movf pri2, W
08D5   0FA0           02782             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D6   00BA           02783             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08D7   0820           02784             movf r1, W
08D8   1D03           02785             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D9   22EA           02786             call if_53  ;pokud zmena spusti podprig
                      02787     
                      02788     
08DA   0873           02789             movf pri3, W    ;kontroluje zda je zmena od minule
08DB   00A0           02790             movwf r1
08DC   093B           02791             comf ir_54, W
08DD   07A0           02792             addwf r1, F
08DE   0873           02793             movf pri3, W
08DF   0FA0           02794             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E0   00BB           02795             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08E1   0820           02796             movf r1, W
08E2   1D03           02797             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E3   22EC           02798             call if_54  ;pokud zmena spusti podprig
                      02799     
                      02800     
08E4   0874           02801             movf pri4, W    ;kontroluje zda je zmena od minule
08E5   00A0           02802             movwf r1
08E6   093C           02803             comf ir_55, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08E7   07A0           02804             addwf r1, F
08E8   0874           02805             movf pri4, W
08E9   0FA0           02806             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08EA   00BC           02807             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08EB   0820           02808             movf r1, W
08EC   1D03           02809             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08ED   22EE           02810             call if_55  ;pokud zmena spusti podprig
                      02811     
                      02812     
08EE   0875           02813             movf pri5, W    ;kontroluje zda je zmena od minule
08EF   00A0           02814             movwf r1
08F0   093D           02815             comf ir_56, W
08F1   07A0           02816             addwf r1, F
08F2   0875           02817             movf pri5, W
08F3   0FA0           02818             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F4   00BD           02819             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08F5   0820           02820             movf r1, W
08F6   1D03           02821             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F7   22F0           02822             call if_56  ;pokud zmena spusti podprig
                      02823     
                      02824     
08F8   0876           02825             movf pri6, W    ;kontroluje zda je zmena od minule
08F9   00A0           02826             movwf r1
08FA   093E           02827             comf ir_57, W
08FB   07A0           02828             addwf r1, F
08FC   0876           02829             movf pri6, W
08FD   0FA0           02830             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FE   00BE           02831             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08FF   0820           02832             movf r1, W
0900   1D03           02833             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0901   22F2           02834             call if_57  ;pokud zmena spusti podprig
                      02835     
                      02836     
0902   0877           02837             movf pri7, W    ;kontroluje zda je zmena od minule
0903   00A0           02838             movwf r1
0904   0936           02839             comf ir_49, W
0905   07A0           02840             addwf r1, F
0906   0877           02841             movf pri7, W
0907   0FA0           02842             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0908   00B6           02843             movwf ir_49  ;priepise reg AN prievedenou hodnotou
0909   0820           02844             movf r1, W
090A   1D03           02845             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090B   22E2           02846             call if_49  ;pokud zmena spusti podprig
                      02847 
                      02848 
                      02849             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090C   2059           02850             call watchstart
                      02851 
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02852             ;dotaz na procesor 3
090D   3003           02853             movlw .3  ;oznaceni ciloveho procesoru
090E   00F8           02854             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
090F   2139           02855             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02856             
                      02857             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0910   205C           02858             call watchwait
                      02859             
                      02860     
                      02861     
0911   0870           02862             movf pri0, W    ;kontroluje zda je zmena od minule
0912   00A0           02863             movwf r1
0913   0944           02864             comf ir_80, W
0914   07A0           02865             addwf r1, F
0915   0870           02866             movf pri0, W
0916   0FA0           02867             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0917   00C4           02868             movwf ir_80  ;priepise reg AN prievedenou hodnotou
0918   0820           02869             movf r1, W
0919   1D03           02870             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
091A   22E4           02871             call if_80  ;pokud zmena spusti podprig
                      02872     
                      02873     
091B   0871           02874             movf pri1, W    ;kontroluje zda je zmena od minule
091C   00A0           02875             movwf r1
091D   0945           02876             comf ir_84, W
091E   07A0           02877             addwf r1, F
091F   0871           02878             movf pri1, W
0920   0FA0           02879             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0921   00C5           02880             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0922   0820           02881             movf r1, W
0923   1D03           02882             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0924   22F4           02883             call if_84  ;pokud zmena spusti podprig
                      02884     
                      02885     
0925   0872           02886             movf pri2, W    ;kontroluje zda je zmena od minule
0926   00A0           02887             movwf r1
0927   0946           02888             comf ir_85, W
0928   07A0           02889             addwf r1, F
0929   0872           02890             movf pri2, W
092A   0FA0           02891             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092B   00C6           02892             movwf ir_85  ;priepise reg AN prievedenou hodnotou
092C   0820           02893             movf r1, W
092D   1D03           02894             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092E   22F6           02895             call if_85  ;pokud zmena spusti podprig
                      02896     
                      02897     
092F   0873           02898             movf pri3, W    ;kontroluje zda je zmena od minule
0930   00A0           02899             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0931   0947           02900             comf ir_86, W
0932   07A0           02901             addwf r1, F
0933   0873           02902             movf pri3, W
0934   0FA0           02903             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0935   00C7           02904             movwf ir_86  ;priepise reg AN prievedenou hodnotou
0936   0820           02905             movf r1, W
0937   1D03           02906             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0938   22F8           02907             call if_86  ;pokud zmena spusti podprig
                      02908     
                      02909     
0939   0874           02910             movf pri4, W    ;kontroluje zda je zmena od minule
093A   00A0           02911             movwf r1
093B   0948           02912             comf ir_87, W
093C   07A0           02913             addwf r1, F
093D   0874           02914             movf pri4, W
093E   0FA0           02915             incfsz r1, F  ;pokud zadna zmena pokracuje dal
093F   00C8           02916             movwf ir_87  ;priepise reg AN prievedenou hodnotou
0940   0820           02917             movf r1, W
0941   1D03           02918             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0942   22FA           02919             call if_87  ;pokud zmena spusti podprig
                      02920     
                      02921     
0943   0875           02922             movf pri5, W    ;kontroluje zda je zmena od minule
0944   00A0           02923             movwf r1
0945   0949           02924             comf ir_88, W
0946   07A0           02925             addwf r1, F
0947   0875           02926             movf pri5, W
0948   0FA0           02927             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0949   00C9           02928             movwf ir_88  ;priepise reg AN prievedenou hodnotou
094A   0820           02929             movf r1, W
094B   1D03           02930             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094C   22FC           02931             call if_88  ;pokud zmena spusti podprig
                      02932     
                      02933     
094D   0876           02934             movf pri6, W    ;kontroluje zda je zmena od minule
094E   00A0           02935             movwf r1
094F   094A           02936             comf ir_89, W
0950   07A0           02937             addwf r1, F
0951   0876           02938             movf pri6, W
0952   0FA0           02939             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0953   00CA           02940             movwf ir_89  ;priepise reg AN prievedenou hodnotou
0954   0820           02941             movf r1, W
0955   1D03           02942             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0956   22FE           02943             call if_89  ;pokud zmena spusti podprig
                      02944     
                      02945     
0957   0877           02946             movf pri7, W    ;kontroluje zda je zmena od minule
0958   00A0           02947             movwf r1
0959   094B           02948             comf ir_90, W
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

095A   07A0           02949             addwf r1, F
095B   0877           02950             movf pri7, W
095C   0FA0           02951             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095D   00CB           02952             movwf ir_90  ;priepise reg AN prievedenou hodnotou
095E   0820           02953             movf r1, W
095F   1D03           02954             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0960   2300           02955             call if_90  ;pokud zmena spusti podprig
                      02956 
                      02957 
                      02958 
                      02959             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0961   2059           02960             call watchstart
                      02961 
                      02962             ;dotaz na procesor 4
0962   3004           02963             movlw .4  ;oznaceni ciloveho procesoru
0963   00F8           02964             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0964   2139           02965             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02966             
                      02967             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0965   205C           02968             call watchwait
                      02969             
                      02970     
                      02971     
0966   0870           02972             movf pri0, W    ;kontroluje zda je zmena od minule
0967   00A0           02973             movwf r1
0968   094C           02974             comf ir_91, W
0969   07A0           02975             addwf r1, F
096A   0870           02976             movf pri0, W
096B   0FA0           02977             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096C   00CC           02978             movwf ir_91  ;priepise reg AN prievedenou hodnotou
096D   0820           02979             movf r1, W
096E   1D03           02980             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
096F   2302           02981             call if_91  ;pokud zmena spusti podprig
                      02982     
                      02983     
0970   0871           02984             movf pri1, W    ;kontroluje zda je zmena od minule
0971   00A0           02985             movwf r1
0972   094D           02986             comf ir_92, W
0973   07A0           02987             addwf r1, F
0974   0871           02988             movf pri1, W
0975   0FA0           02989             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0976   00CD           02990             movwf ir_92  ;priepise reg AN prievedenou hodnotou
0977   0820           02991             movf r1, W
0978   1D03           02992             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0979   2304           02993             call if_92  ;pokud zmena spusti podprig
                      02994     
                      02995     
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

097A   0872           02996             movf pri2, W    ;kontroluje zda je zmena od minule
097B   00A0           02997             movwf r1
097C   094E           02998             comf ir_93, W
097D   07A0           02999             addwf r1, F
097E   0872           03000             movf pri2, W
097F   0FA0           03001             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0980   00CE           03002             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0981   0820           03003             movf r1, W
0982   1D03           03004             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0983   2306           03005             call if_93  ;pokud zmena spusti podprig
                      03006     
                      03007     
0984   0873           03008             movf pri3, W    ;kontroluje zda je zmena od minule
0985   00A0           03009             movwf r1
0986   094F           03010             comf ir_127, W
0987   07A0           03011             addwf r1, F
0988   0873           03012             movf pri3, W
0989   0FA0           03013             incfsz r1, F  ;pokud zadna zmena pokracuje dal
098A   00CF           03014             movwf ir_127  ;priepise reg AN prievedenou hodnotou
098B   0820           03015             movf r1, W
098C   1D03           03016             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
098D   2308           03017             call if_127  ;pokud zmena spusti podprig
                      03018     
                      03019     
098E   0874           03020             movf pri4, W    ;kontroluje zda je zmena od minule
098F   00A0           03021             movwf r1
0990   0950           03022             comf ir_128, W
0991   07A0           03023             addwf r1, F
0992   0874           03024             movf pri4, W
0993   0FA0           03025             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0994   00D0           03026             movwf ir_128  ;priepise reg AN prievedenou hodnotou
0995   0820           03027             movf r1, W
0996   1D03           03028             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0997   230A           03029             call if_128  ;pokud zmena spusti podprig
                      03030     
                      03031     
0998   0875           03032             movf pri5, W    ;kontroluje zda je zmena od minule
0999   00A0           03033             movwf r1
099A   0935           03034             comf ir_x, W
099B   07A0           03035             addwf r1, F
099C   0875           03036             movf pri5, W
099D   0FA0           03037             incfsz r1, F  ;pokud zadna zmena pokracuje dal
099E   00B5           03038             movwf ir_x  ;priepise reg AN prievedenou hodnotou
099F   0820           03039             movf r1, W
09A0   1D03           03040             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09A1   2357           03041             call if_x  ;pokud zmena spusti podprig
                      03042     
                      03043     
09A2   0876           03044             movf pri6, W    ;kontroluje zda je zmena od minule
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09A3   00A0           03045             movwf r1
09A4   0935           03046             comf ir_x, W
09A5   07A0           03047             addwf r1, F
09A6   0876           03048             movf pri6, W
09A7   0FA0           03049             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09A8   00B5           03050             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09A9   0820           03051             movf r1, W
09AA   1D03           03052             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09AB   2357           03053             call if_x  ;pokud zmena spusti podprig
                      03054     
                      03055     
09AC   0877           03056             movf pri7, W    ;kontroluje zda je zmena od minule
09AD   00A0           03057             movwf r1
09AE   0935           03058             comf ir_x, W
09AF   07A0           03059             addwf r1, F
09B0   0877           03060             movf pri7, W
09B1   0FA0           03061             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09B2   00B5           03062             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09B3   0820           03063             movf r1, W
09B4   1D03           03064             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09B5   2357           03065             call if_x  ;pokud zmena spusti podprig
                      03066 
                      03067 
                      03068 
09B6   158A           03069             bsf PCLATH,3 ;Select page 1
09B7   2849           03070             goto loop      ;zpet v cyklu na zacatek
                      03071         
                      03072         
                      03073         
                      03074 
                      03075 
                      03076 
                      03077 
                      03078 
                      03079 
09B8   084B           03080 okna        movf ir_90, W
09B9   39F0           03081             andlw b'11110000' ;odseknu konecnou cast
09BA   00A0           03082             movwf r1
09BB   09A0           03083             comf r1, F ;udelám dvojkový doplněk
09BC   0824           03084             movf o1tar, W
09BD   39F0           03085             andlw b'11110000' ;odseknu konecnou cast
09BE   07A0           03086             addwf r1, F ;sectu s dvojkovym doplnkem
09BF   0803           03087             movf STATUS, W
09C0   00A2           03088             movwf r3
09C1   1922           03089             btfsc r3, Z
09C2   2227           03090             call o1stop
09C3   1922           03091             btfsc r3, Z
09C4   29C9           03092             goto okno2
09C5   1C22           03093             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09C6   21FD           03094             call o1up
09C7   1822           03095             btfsc r3, C ;pokud preteklo, sjed dolu
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09C8   2212           03096             call o1down
09C9   084C           03097 okno2       movf ir_91, W
09CA   39F0           03098             andlw b'11110000' ;odseknu konecnou cast
09CB   00A0           03099             movwf r1
09CC   09A0           03100             comf r1, F ;udelám dvojkový doplněk
09CD   0825           03101             movf o2tar, W
09CE   39F0           03102             andlw b'11110000' ;odseknu konecnou cast
09CF   07A0           03103             addwf r1, F ;sectu s dvojkovym doplnkem
09D0   0803           03104             movf STATUS, W
09D1   00A2           03105             movwf r3
09D2   1922           03106             btfsc r3, Z
09D3   2266           03107             call o2stop
09D4   1922           03108             btfsc r3, Z
09D5   29DA           03109             goto okno3
09D6   1C22           03110             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09D7   223C           03111             call o2up
09D8   1822           03112             btfsc r3, C ;pokud preteklo, sjed dolu
09D9   2251           03113             call o2down
09DA   084D           03114 okno3       movf ir_92, W
09DB   39F0           03115             andlw b'11110000' ;odseknu konecnou cast
09DC   00A0           03116             movwf r1
09DD   09A0           03117             comf r1, F ;udelám dvojkový doplněk
09DE   0826           03118             movf o3tar, W
09DF   39F0           03119             andlw b'11110000' ;odseknu konecnou cast
09E0   07A0           03120             addwf r1, F ;sectu s dvojkovym doplnkem
09E1   0803           03121             movf STATUS, W
09E2   00A2           03122             movwf r3
09E3   1922           03123             btfsc r3, Z
09E4   22A5           03124             call o3stop
09E5   1922           03125             btfsc r3, Z
09E6   29EB           03126             goto okno4
09E7   1C22           03127             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09E8   227B           03128             call o3up
09E9   1822           03129             btfsc r3, C ;pokud preteklo, sjed dolu
09EA   2290           03130             call o3down
09EB   084E           03131 okno4       movf ir_93, W
09EC   39F0           03132             andlw b'11110000' ;odseknu konecnou cast
09ED   00A0           03133             movwf r1
09EE   09A0           03134             comf r1, F ;udelám dvojkový doplněk
09EF   0827           03135             movf o4tar, W
09F0   39F0           03136             andlw b'11110000' ;odseknu konecnou cast
09F1   07A0           03137             addwf r1, F ;sectu s dvojkovym doplnkem
09F2   0803           03138             movf STATUS, W
09F3   00A2           03139             movwf r3
09F4   1922           03140             btfsc r3, Z
09F5   22E4           03141             call o4stop
09F6   1922           03142             btfsc r3, Z
09F7   0008           03143             return
09F8   1C22           03144             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09F9   22BA           03145             call o4up
09FA   1822           03146             btfsc r3, C ;pokud preteklo, sjed dolu
09FB   22CF           03147             call o4down
09FC   0008           03148             return
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03149 
                      03150 ;okno 1 nahoru, dolu, zastavit
09FD   19A9           03151 o1up        btfsc o_a, 3
09FE   2A07           03152             goto no1up
09FF   301D           03153             movlw b'11101' ;port D5
0A00   00D2           03154             movwf port
0A01   3003           03155             movlw b'11' ;procesor 3
0A02   00D3           03156             movwf prc
                      03157         
0A03   118A           03158             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A04   21F2           03159             call setout ;smaz port v prc
0A05   158A           03160             bsf PCLATH,3 ;Select page 1
0A06   15A9           03161             bsf o_a, 3 
0A07   1FA9           03162 no1up       btfss o_a, 7
0A08   0008           03163             return
0A09   300C           03164             movlw b'01100' ;port B4
0A0A   00D2           03165             movwf port
0A0B   3002           03166             movlw b'10' ;procesor 2
0A0C   00D3           03167             movwf prc
                      03168             
0A0D   118A           03169             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0E   2219           03170             call clrout ;smaz port v prc
0A0F   158A           03171             bsf PCLATH,3 ;Select page 1
0A10   13A9           03172             bcf o_a, 7             
0A11   0008           03173             return
0A12   1DA9           03174 o1down      btfss o_a, 3
0A13   2A1C           03175             goto no1down
0A14   301D           03176             movlw b'11101' ;port D5
0A15   00D2           03177             movwf port
0A16   3003           03178             movlw b'11' ;procesor 3
0A17   00D3           03179             movwf prc
                      03180             
0A18   118A           03181             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A19   2219           03182             call clrout ;smaz port v prc
0A1A   158A           03183             bsf PCLATH,3 ;Select page 1
0A1B   11A9           03184             bcf o_a, 3 
0A1C   1BA9           03185 no1down     btfsc o_a, 7
0A1D   0008           03186             return
0A1E   300C           03187             movlw b'01100' ;port B4
0A1F   00D2           03188             movwf port
0A20   3002           03189             movlw b'10' ;procesor 2
0A21   00D3           03190             movwf prc
                      03191             
0A22   118A           03192             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A23   21F2           03193             call setout ;smaz port v prc
0A24   158A           03194             bsf PCLATH,3 ;Select page 1
0A25   17A9           03195             bsf o_a, 7             
0A26   0008           03196             return
0A27   1DA9           03197 o1stop      btfss o_a, 3
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A28   2A31           03198             goto no1stop
0A29   301D           03199             movlw b'11101' ;port D5
0A2A   00D2           03200             movwf port
0A2B   3003           03201             movlw b'11' ;procesor 3
0A2C   00D3           03202             movwf prc
                      03203             
0A2D   118A           03204             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2E   2219           03205             call clrout ;smaz port v prc
0A2F   158A           03206             bsf PCLATH,3 ;Select page 1
0A30   11A9           03207             bcf o_a, 3 
0A31   1FA9           03208 no1stop     btfss o_a, 7
0A32   0008           03209             return
0A33   300C           03210             movlw b'01100' ;port B4
0A34   00D2           03211             movwf port
0A35   3002           03212             movlw b'10' ;procesor 2
0A36   00D3           03213             movwf prc
                      03214             
0A37   118A           03215             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A38   2219           03216             call clrout ;smaz port v prc
0A39   158A           03217             bsf PCLATH,3 ;Select page 1
0A3A   13A9           03218             bcf o_a, 7             
0A3B   0008           03219             return
                      03220 ;okno 2 nahoru, dolu, zastavit
0A3C   1A29           03221 o2up        btfsc o_a, 4
0A3D   2A46           03222             goto no2up
0A3E   3018           03223             movlw b'11000' ;port D0
0A3F   00D2           03224             movwf port
0A40   3002           03225             movlw b'10' ;procesor 2
0A41   00D3           03226             movwf prc
                      03227             
0A42   118A           03228             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A43   21F2           03229             call setout ;smaz port v prc
0A44   158A           03230             bsf PCLATH,3 ;Select page 1
0A45   1629           03231             bsf o_a, 4 
0A46   1C2A           03232 no2up       btfss o_b, 0
0A47   0008           03233             return
0A48   300D           03234             movlw b'01101' ;port B5
0A49   00D2           03235             movwf port
0A4A   3002           03236             movlw b'10' ;procesor 2
0A4B   00D3           03237             movwf prc
                      03238             
0A4C   118A           03239             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4D   2219           03240             call clrout ;smaz port v prc
0A4E   158A           03241             bsf PCLATH,3 ;Select page 1
0A4F   102A           03242             bcf o_b, 0             
0A50   0008           03243             return
0A51   1E29           03244 o2down      btfss o_a, 4
0A52   2A5B           03245             goto no2down
0A53   3018           03246             movlw b'11000' ;port D0
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A54   00D2           03247             movwf port
0A55   3002           03248             movlw b'10' ;procesor 2
0A56   00D3           03249             movwf prc
                      03250             
0A57   118A           03251             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A58   2219           03252             call clrout ;smaz port v prc
0A59   158A           03253             bsf PCLATH,3 ;Select page 1
0A5A   1229           03254             bcf o_a, 4 
0A5B   182A           03255 no2down     btfsc o_b, 0
0A5C   0008           03256             return
0A5D   300D           03257             movlw b'01101' ;port B5
0A5E   00D2           03258             movwf port
0A5F   3002           03259             movlw b'10' ;procesor 2
0A60   00D3           03260             movwf prc
                      03261             
0A61   118A           03262             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A62   21F2           03263             call setout ;smaz port v prc
0A63   158A           03264             bsf PCLATH,3 ;Select page 1
0A64   142A           03265             bsf o_b, 0             
0A65   0008           03266             return
0A66   1E29           03267 o2stop      btfss o_a, 4
0A67   2A70           03268             goto no2stop
0A68   3018           03269             movlw b'11000' ;port D0
0A69   00D2           03270             movwf port
0A6A   3002           03271             movlw b'10' ;procesor 2
0A6B   00D3           03272             movwf prc
                      03273             
0A6C   118A           03274             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6D   2219           03275             call clrout ;smaz port v prc
0A6E   158A           03276             bsf PCLATH,3 ;Select page 1
0A6F   1229           03277             bcf o_a, 4 
0A70   1C2A           03278 no2stop     btfss o_b, 0
0A71   0008           03279             return
0A72   300D           03280             movlw b'01101' ;port B5
0A73   00D2           03281             movwf port
0A74   3002           03282             movlw b'10' ;procesor 2
0A75   00D3           03283             movwf prc
                      03284             
0A76   118A           03285             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A77   2219           03286             call clrout ;smaz port v prc
0A78   158A           03287             bsf PCLATH,3 ;Select page 1
0A79   102A           03288             bcf o_b, 0             
0A7A   0008           03289             return
                      03290 ;okno 3 nahoru, dolu, zastavit
0A7B   1AA9           03291 o3up        btfsc o_a, 5
0A7C   2A85           03292             goto no3up
0A7D   300A           03293             movlw b'01010' ;port B2
0A7E   00D2           03294             movwf port
0A7F   3002           03295             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A80   00D3           03296             movwf prc
                      03297             
0A81   118A           03298             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A82   21F2           03299             call setout ;smaz port v prc
0A83   158A           03300             bsf PCLATH,3 ;Select page 1
0A84   16A9           03301             bsf o_a, 5 
0A85   1CAA           03302 no3up       btfss o_b, 1
0A86   0008           03303             return
0A87   300E           03304             movlw b'01110' ;port B6
0A88   00D2           03305             movwf port
0A89   3002           03306             movlw b'10' ;procesor 2
0A8A   00D3           03307             movwf prc
                      03308             
0A8B   118A           03309             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A8C   2219           03310             call clrout ;smaz port v prc
0A8D   158A           03311             bsf PCLATH,3 ;Select page 1
0A8E   10AA           03312             bcf o_b, 1             
0A8F   0008           03313             return
0A90   1EA9           03314 o3down      btfss o_a, 5
0A91   2A9A           03315             goto no3down
0A92   300A           03316             movlw b'01010' ;port B2
0A93   00D2           03317             movwf port
0A94   3002           03318             movlw b'10' ;procesor 2
0A95   00D3           03319             movwf prc
                      03320             
0A96   118A           03321             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A97   2219           03322             call clrout ;smaz port v prc
0A98   158A           03323             bsf PCLATH,3 ;Select page 1
0A99   12A9           03324             bcf o_a, 5 
0A9A   18AA           03325 no3down     btfsc o_b, 1
0A9B   0008           03326             return
0A9C   300E           03327             movlw b'01110' ;port B6
0A9D   00D2           03328             movwf port
0A9E   3002           03329             movlw b'10' ;procesor 2
0A9F   00D3           03330             movwf prc
                      03331             
0AA0   118A           03332             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA1   21F2           03333             call setout ;smaz port v prc
0AA2   158A           03334             bsf PCLATH,3 ;Select page 1
0AA3   14AA           03335             bsf o_b, 1             
0AA4   0008           03336             return
0AA5   1EA9           03337 o3stop      btfss o_a, 5
0AA6   2AAF           03338             goto no3stop
0AA7   300A           03339             movlw b'01010' ;port B2
0AA8   00D2           03340             movwf port
0AA9   3002           03341             movlw b'10' ;procesor 2
0AAA   00D3           03342             movwf prc
                      03343             
0AAB   118A           03344             bcf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0AAC   2219           03345             call clrout ;smaz port v prc
0AAD   158A           03346             bsf PCLATH,3 ;Select page 1
0AAE   12A9           03347             bcf o_a, 5 
0AAF   1CAA           03348 no3stop     btfss o_b, 1
0AB0   0008           03349             return
0AB1   300E           03350             movlw b'01110' ;port B6
0AB2   00D2           03351             movwf port
0AB3   3002           03352             movlw b'10' ;procesor 2
0AB4   00D3           03353             movwf prc
                      03354             
0AB5   118A           03355             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB6   2219           03356             call clrout ;smaz port v prc
0AB7   158A           03357             bsf PCLATH,3 ;Select page 1
0AB8   10AA           03358             bcf o_b, 1             
0AB9   0008           03359             return
                      03360 ;okno 4 nahoru, dolu, zastavit
0ABA   1B29           03361 o4up        btfsc o_a, 6
0ABB   2AC4           03362             goto no4up
0ABC   300B           03363             movlw b'01011' ;port B3
0ABD   00D2           03364             movwf port
0ABE   3002           03365             movlw b'10' ;procesor 2
0ABF   00D3           03366             movwf prc
                      03367             
0AC0   118A           03368             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC1   21F2           03369             call setout ;smaz port v prc
0AC2   158A           03370             bsf PCLATH,3 ;Select page 1
0AC3   1729           03371             bsf o_a, 6 
0AC4   1D2A           03372 no4up       btfss o_b, 2
0AC5   0008           03373             return
0AC6   300F           03374             movlw b'01111' ;port B7
0AC7   00D2           03375             movwf port
0AC8   3002           03376             movlw b'10' ;procesor 2
0AC9   00D3           03377             movwf prc
                      03378             
0ACA   118A           03379             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACB   2219           03380             call clrout ;smaz port v prc
0ACC   158A           03381             bsf PCLATH,3 ;Select page 1
0ACD   112A           03382             bcf o_b, 2             
0ACE   0008           03383             return
0ACF   1F29           03384 o4down      btfss o_a, 6
0AD0   2AD9           03385             goto no4down
0AD1   300B           03386             movlw b'01011' ;port B3
0AD2   00D2           03387             movwf port
0AD3   3002           03388             movlw b'10' ;procesor 2
0AD4   00D3           03389             movwf prc
                      03390             
0AD5   118A           03391             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD6   2219           03392             call clrout ;smaz port v prc
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AD7   158A           03393             bsf PCLATH,3 ;Select page 1
0AD8   1329           03394             bcf o_a, 6 
0AD9   192A           03395 no4down     btfsc o_b, 2
0ADA   0008           03396             return
0ADB   300F           03397             movlw b'01111' ;port B7
0ADC   00D2           03398             movwf port
0ADD   3002           03399             movlw b'10' ;procesor 2
0ADE   00D3           03400             movwf prc
                      03401             
0ADF   118A           03402             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AE0   21F2           03403             call setout ;smaz port v prc
0AE1   158A           03404             bsf PCLATH,3 ;Select page 1
0AE2   152A           03405             bsf o_b, 2             
0AE3   0008           03406             return
0AE4   1F29           03407 o4stop      btfss o_a, 6
0AE5   2AEE           03408             goto no4stop
0AE6   300B           03409             movlw b'01011' ;port B3
0AE7   00D2           03410             movwf port
0AE8   3002           03411             movlw b'10' ;procesor 2
0AE9   00D3           03412             movwf prc
                      03413             
0AEA   118A           03414             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AEB   2219           03415             call clrout ;smaz port v prc
0AEC   158A           03416             bsf PCLATH,3 ;Select page 1
0AED   1329           03417             bcf o_a, 6 
0AEE   1D2A           03418 no4stop     btfss o_b, 2
0AEF   0008           03419             return
0AF0   300F           03420             movlw b'01111' ;port B7
0AF1   00D2           03421             movwf port
0AF2   3002           03422             movlw b'10' ;procesor 2
0AF3   00D3           03423             movwf prc
                      03424             
0AF4   118A           03425             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AF5   2219           03426             call clrout ;smaz port v prc
0AF6   158A           03427             bsf PCLATH,3 ;Select page 1
0AF7   112A           03428             bcf o_b, 2             
0AF8   0008           03429             return
                      03430             
                      03431             
                      03432             
                      03433             
                      03434 
                      03435 
                      03436 
                      03437 
0AF9   3032           03438 adconv      movlw .50 ; kolikrat se ma merit vstup
0AFA   00F7           03439             movwf ran2 ; decrementator pro cykl
0AFB   00FA           03440             movwf ran5 ; delitel pro vypocet prumeru
0AFC   0876           03441             movf ran1, W
0AFD   00F8           03442             movwf ran3 ; zachováni ANx vstupu
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AFE   01F2           03443             clrf CIS2_L
0AFF   01F3           03444             clrf CIS2_H
                      03445             
0B00   0878           03446 adconv2     movf ran3, W
0B01   00F6           03447             movwf ran1 ; nasteni znova ANx vstupu
0B02   2321           03448             call adconv_one
                      03449             
                      03450             ; pripraveni cisla 1 k pricteni
0B03   01F1           03451             clrf CIS1_H
0B04   0876           03452             movf ran1, W
0B05   00F0           03453             movwf CIS1_L
                      03454             
                      03455             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03456             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03457         
0B06   0870           03458                 movf    CIS1_L,W        ; CIS1_L do W
0B07   0772           03459                 addwf   CIS2_L,W        ; W + CIS2_L do W
0B08   00F4           03460                 movwf   OUT_L           ; W do OUT_L
                      03461         
0B09   0871           03462                 movf    CIS1_H,W        ; CIS1_H do W
0B0A   1803           03463                 btfsc   STATUS,C
0B0B   3E01           03464                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0B0C   0773           03465                 addwf   CIS2_H,W
0B0D   00F5           03466                 movwf   OUT_H           ; W do OUT_H
                      03467                 
                      03468                 ; ulozi OUT do CIS2
0B0E   0874           03469             movf OUT_L, W
0B0F   00F2           03470             movwf CIS2_L
0B10   0875           03471             movf OUT_H, W
0B11   00F3           03472             movwf CIS2_H
                      03473             
                      03474             
0B12   0BF7           03475             decfsz ran2, F
0B13   2B00           03476             goto adconv2
                      03477             
                      03478             ; vydeli poctem mereni
0B14   0872           03479             movf CIS2_L, W
0B15   00F0           03480             movwf A1
0B16   0873           03481             movf CIS2_H, W
0B17   00F1           03482             movwf A2
0B18   01F2           03483             clrf A3
                      03484             
0B19   087A           03485             movf ran5, W
0B1A   00F3           03486             movwf B1
0B1B   01F4           03487             clrf B2
0B1C   01F5           03488             clrf B3
                      03489             
0B1D   2330           03490             call LOMENO24
0B1E   0876           03491             movf C1, W
0B1F   00F6           03492             movwf ran1
                      03493             
0B20   0008           03494             return
                      03495         
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B21   1003           03496 adconv_one  bcf STATUS, C
0B22   0DF6           03497             rlf ran1, F
0B23   0DF6           03498             rlf ran1, F
0B24   0DF6           03499             rlf ran1, F
                      03500             
                      03501             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B25   13F6           03502             bcf ran1, 7
0B26   1776           03503             bsf ran1, 6
                      03504             ; 5
                      03505             ; 4
                      03506             ; 3
0B27   1576           03507             bsf ran1, 2
                      03508             ; 1
0B28   1476           03509             bsf ran1, 0
                      03510             
0B29   0876           03511             movf ran1, W
0B2A   009F           03512             movwf ADCON0
                      03513             
0B2B   191F           03514             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B2C   2B2B           03515             goto $-1
0B2D   081E           03516             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B2E   00F6           03517             movwf ran1
0B2F   0008           03518             return
                      03519         
                      03520         
                      03521         
                      03522         
                      03523         
                      03524 ;-------------------------------;
                      03525 ; A1,2,3 / B1,2,3 = C1,2,3
                      03526 ;24Bit, pouze kladna cisla
                      03527 ;SZ=1=deleni nulou (B1,2,3=0)
                      03528 ;B se nezmeni, v A bude zbytek
                      03529 ;pouziva D1,2,3; X1
0B30                  03530 LOMENO24
                      03531 ;test B na nulu; sZ=1=ANO
0B30   08F3           03532         MOVF    B1,F
0B31   1903           03533         BTFSC   STATUS,Z        ;nenulove?
0B32   08F4           03534         MOVF    B2,F
0B33   1903           03535         BTFSC   STATUS,Z        ;nenulove?
0B34   08F5           03536         MOVF    B3,F
0B35   1903           03537         BTFSC   STATUS,Z        ;nenulove?
0B36   0008           03538         RETURN                  ;B1,2,3=0
                      03539 ;priprava pro deleni
0B37   0870           03540 LOM24   MOVF    A1,W            ;A do D
0B38   00F9           03541         MOVWF   D1              ;
0B39   0871           03542         MOVF    A2,W            ;
0B3A   00FA           03543         MOVWF   D2              ;
0B3B   0872           03544         MOVF    A3,W            ;
0B3C   00FB           03545         MOVWF   D3              ;
0B3D   01F0           03546         CLRF    A1              ;nulovat
0B3E   01F1           03547         CLRF    A2              ;
0B3F   01F2           03548         CLRF    A3              ;
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B40   3018           03549         MOVLW   24              ;pocet bitu
0B41   00FC           03550         MOVWF   X1              ;
0B42   1003           03551         BCF     STATUS,C        ;SC=0
                      03552 ;deleni
0B43   2355           03553 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B44   1C03           03554         BTFSS   STATUS,C        ;kladny vysledek?
0B45   2B4B           03555         GOTO    LZapor          ;NE
                      03556 ;LKlad
0B46   00F2           03557         MOVWF   A3              ;C do A
0B47   0877           03558         MOVF    C2,W            ;
0B48   00F1           03559         MOVWF   A2              ;
0B49   0876           03560         MOVF    C1,W            ;
0B4A   00F0           03561         MOVWF   A1              ;
                      03562 
0B4B   0BFC           03563 LZapor  DECFSZ  X1,F            ;-1=0?
0B4C   2B43           03564         GOTO    LDalsi          ;jeste neni konec
                      03565 ;vysledek
0B4D   0D79           03566         RLF     D1,W            ;posledni x2
0B4E   00F6           03567         MOVWF   C1              ; a W do C
0B4F   0D7A           03568         RLF     D2,W            ;
0B50   00F7           03569         MOVWF   C2              ;
0B51   0D7B           03570         RLF     D3,W            ;
0B52   00F8           03571         MOVWF   C3              ;
                      03572 
0B53   1103           03573         BCF     STATUS,Z        ;SZ=0
0B54   0008           03574         RETURN
                      03575 
                      03576 
                      03577 ;................................
                      03578 ; D1,2,3 A1,2,3 * 2 a Minus
0B55   0DF9           03579 x2M     RLF     D1,F            ;posuv vlevo
0B56   0DFA           03580         RLF     D2,F            ;
0B57   0DFB           03581         RLF     D3,F            ;
0B58   0DF0           03582         RLF     A1,F            ;
0B59   0DF1           03583         RLF     A2,F            ;
0B5A   0DF2           03584         RLF     A3,F            ;
                      03585                                 ;pokracuje MINUS
                      03586 ;--------------------------------
                      03587 ; A1,2,3 - B1,2,3 = C1,2,3
                      03588 ;SC=0=zaporny vysledek
                      03589 ;A,B se nezmeni
0B5B   0873           03590 MINUS   MOVF    B1,W            ;W=B1
0B5C   0270           03591         SUBWF   A1,W            ;A1-B1=W
0B5D   00F6           03592         MOVWF   C1              ;C1=W=vysledek1
0B5E   0103           03593         CLRW                    ;W=0
0B5F   1C03           03594         BTFSS   STATUS,C        ;SUB kladne?
0B60   3001           03595         MOVLW   1               ;W=1
0B61   0774           03596         ADDWF   B2,W            ;B2+W=W
0B62   01F8           03597         CLRF    C3              ;C3=0
0B63   1803           03598         BTFSC   STATUS,C        ;ADD nepreteklo?
0B64   1478           03599         BSF     C3,0            ;C3=1
0B65   0271           03600         SUBWF   A2,W            ;A2-W=W
0B66   00F7           03601         MOVWF   C2              ;C2=w=vysledek2
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B67   0878           03602         MOVF    C3,W            ;W=C3
0B68   1C03           03603         BTFSS   STATUS,C        ;SUB kladne?
0B69   3001           03604         MOVLW   1               ;W=1
0B6A   0775           03605         ADDWF   B3,W            ;B3+W=W
0B6B   01F8           03606         CLRF    C3              ;C3=0
0B6C   1803           03607         BTFSC   STATUS,C        ;ADD nepreteklo?
0B6D   1478           03608         BSF     C3,0            ;C3=1
0B6E   0272           03609         SUBWF   A3,W            ;A3-W=W
0B6F   1878           03610         BTFSC   C3,0            ;C3=0?
0B70   1003           03611         BCF     STATUS,C        ;SC=0
0B71   00F8           03612         MOVWF   C3              ;C3=W=vysledek3
0B72   0008           03613         RETURN
                      03614 
                      03615 
                      03616         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B43
LEDZAM                            00000002
LOM24                             00000B37
LOMENO24                          00000B30
LZapor                            00000B4B
MINUS                             00000B5B
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AF9
adconv2                           00000B00
adconv_one                        00000B21
alabli                            0000012E
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            00000219
conf                              00000059
dotaz                             00000139
dotazerr                          000001EE
if_127                            00000308
if_128                            0000030A
if_49                             000002E2
if_50                             000002DA
if_51                             000002E6
if_52                             000002E8
if_53                             000002EA
if_54                             000002EC
if_55                             000002EE
if_56                             000002F0
if_57                             000002F2
if_58                             00000240
if_59                             000002DC
if_60                             000002DE
if_61                             000002E0
if_62                             0000028D
if_80                             000002E4
if_84                             000002F4
if_85                             000002F6
if_86                             000002F8
if_87                             000002FA
if_88                             000002FC
if_89                             000002FE
if_90                             00000300
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             00000302
if_92                             00000304
if_93                             00000306
if_x                              00000357
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           000006DC
ledPCRun                          00000078
ledzam                            000006EB
locked                            00000051
loop                              00000849
lzabli                            000000DC
no1down                           00000A1C
no1stop                           00000A31
no1up                             00000A07
no2down                           00000A5B
no2stop                           00000A70
no2up                             00000A46
no3down                           00000A9A
no3stop                           00000AAF
no3up                             00000A85
no4down                           00000AD9
no4stop                           00000AEE
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

no4up                             00000AC4
o1down                            00000A12
o1stop                            00000A27
o1tar                             00000024
o1tmp                             00000020
o1up                              000009FD
o2down                            00000A51
o2stop                            00000A66
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A3C
o3down                            00000A90
o3stop                            00000AA5
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A7B
o4down                            00000ACF
o4stop                            00000AE4
o4tar                             00000027
o4tmp                             00000023
o4up                              00000ABA
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000F9
okna                              000009B8
okno2                             000009C9
okno3                             000009DA
okno4                             000009EB
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

r5                                00000024
r6                                00000025
radio                             00000060
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000CB
s_temp                            00000027
setout                            000001F2
sirbeep                           00000097
spinac                            00000064
spioff                            000000F4
start                             00000825
t1_00                             000003A0
t1_01                             000003C2
t1_02                             000003E2
t1_03                             0000040A
t1_04                             00000430
t1_05                             00000466
t1_06                             00000486
t1_07                             000004C2
t1_08                             000004D0
t1_09                             000004DE
t1_10                             000004E0
t1_11                             000004EA
t1_12                             000004F1
t1_13                             000004FA
t1_14                             00000503
t1_15                             0000050A
t1_16                             00000511
t1_17                             00000518
t1_18                             0000051A
t1_19                             0000051C
t1_20                             0000051E
t1_21                             00000525
t1_22                             0000052C
t1_23                             00000533
t1_24                             0000053A
t1_25                             00000541
t1_26                             00000548
t1_27                             00000557
t1_28                             00000559
t1_29                             0000055B
t1_30                             0000055D
t1_31                             00000566
t1_32                             0000056F
t1_33                             0000057A
t1_34                             00000585
t1_35                             0000058E
t1_36                             00000597
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

t1_37                             000005A2
t1_38                             000005B2
t1_39                             000005B4
t1_40                             000005B6
t1_41                             000005C5
t1_42                             000005D4
t1_43                             000005E3
t1_44                             000005F2
t1_45                             00000601
t1_46                             00000605
t1_47                             00000609
t1_48                             00000618
t1_49                             0000061A
t1_50                             0000061C
t1_51                             00000623
t1_52                             00000627
t1_53                             0000062B
t1_54                             0000063A
t1_55                             00000649
t1_56                             0000064D
t1_57                             0000066E
t1_58                             00000670
t1_59                             00000672
t1_60                             00000674
t1_61                             0000067F
t1_62                             0000068E
t1_63                             0000069D
t1_64                             000006A7
t1_65                             000006B1
t1_66                             000006BB
t1_67                             000006C5
t1_68                             000006C7
t1_69                             000006C9
t1_stop                           00000359
t1_x                              000006CB
t2_02                             000003FD
t2_03                             00000423
t2_37                             000005AB
t2_stop                           0000035B
t3_02                             00000406
t3_03                             0000042C
t3_stop                           0000035D
timala                            00000067
timer1                            00000062
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           0000035F
varoff                            000000A0
vterina                           0000006C
vterinka                          00000077
w100c                             000006D2
w20i                              000006CD
w40c                              000006D7
w_temp                            00000026
watchover                         00000057
watchstart                        00000059
watchwait                         0000005C
wtuoff                            000000E3
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B55


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-14-2012  0:02:53         PAGE 83


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXX------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXX-------------

All other memory blocks unused.

Program Memory Words Used:  2666
Program Memory Words Free:  1430


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :   100 reported,     0 suppressed

