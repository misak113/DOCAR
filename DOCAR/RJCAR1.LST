MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ; CONFIG BITS: 0x3F3E
                      00003 
                      00004       LIST        P=16F874A, R=DEC
                      00005       INCLUDE     <P16F874.INC>
                      00001         LIST
                      00002 ; P16F874.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00374         LIST
                      00006       
                      00007       
                      00008 ;GLOBALNI deklarace registru
                      00009       cblock    0x20
  00000020            00010 r1          
  00000021            00011 r2          
  00000022            00012 r3          
  00000023            00013 r4          
  00000024            00014 r5          
  00000025            00015 r6         
                      00016 
  00000026            00017 w_temp     
  00000027            00018 s_temp      
  00000028            00019 pcl_temp   
                      00020 
                      00021 
                      00022 
                      00023 ;registry stavu
  00000029            00024 o_a         
  0000002A            00025 o_b         
  0000002B            00026 o_c         
  0000002C            00027 o_d         
  0000002D            00028 o_e         
  0000002E            00029 o_f         
  0000002F            00030 o_g         
  00000030            00031 o_h         
  00000031            00032 o_i         
  00000032            00033 o_j         
  00000033            00034 o_k         
  00000034            00035 o_l         
                      00036 
  00000035            00037 ir_x        
  00000036            00038 ir_49       
  00000037            00039 ir_50       
  00000038            00040 ir_51       
  00000039            00041 ir_52       
  0000003A            00042 ir_53       
  0000003B            00043 ir_54       
  0000003C            00044 ir_55       
  0000003D            00045 ir_56       
  0000003E            00046 ir_57       
  0000003F            00047 ir_58       
  00000040            00048 ir_59       
  00000041            00049 ir_60       
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000042            00050 ir_61       
  00000043            00051 ir_62       
  00000044            00052 ir_80       
  00000045            00053 ir_84       
  00000046            00054 ir_85       
  00000047            00055 ir_86       
  00000048            00056 ir_87       
  00000049            00057 ir_88       
  0000004A            00058 ir_89       
  0000004B            00059 ir_90       
  0000004C            00060 ir_91       
  0000004D            00061 ir_92       
  0000004E            00062 ir_93       
  0000004F            00063 ir_127      
  00000050            00064 ir_128      
                      00065 
  00000051            00066 locked      
  00000052            00067 port        
  00000053            00068 prc         
  00000054            00069 tl1         
  00000055            00070 tl2         
  00000056            00071 tl3         
  00000057            00072 timsir      
  00000058            00073 cassir      
  00000059            00074 conf        
  0000005A            00075 casov       
  0000005B            00076 timvar      
  0000005C            00077 timrtu      
  0000005D            00078 timlza      
                      00079 
  0000005E            00080 PORTA_temp
  0000005F            00081 PORTB_temp
  00000060            00082 PORTC_temp
  00000061            00083 PORTD_temp
  00000062            00084 PORTE_temp
                      00085 
                      00086 
  00000063            00087 timwtu      
  00000064            00088 spinac      
  00000065            00089 timspi      
  00000066            00090 timods      
  00000067            00091 timala      
  00000068            00092 x0          
                      00093 
  00000069            00094 x1          
  0000006A            00095 x2          
  0000006B            00096 casvar
  0000006C            00097 vterina
                      00098       ; registr 79/96
                      00099       endc
                      00100 
                      00101 ; BANK 1
                      00102       cblock    0x20
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00103 
  00000020            00104 o1tmp       
  00000021            00105 o2tmp       
  00000022            00106 o3tmp       
  00000023            00107 o4tmp       
  00000024            00108 o1tar       
  00000025            00109 o2tar       
  00000026            00110 o3tar       
  00000027            00111 o4tar       
                      00112       endc
                      00113 
                      00114 
                      00115 ;Lokální proměne (pracovni a parametry) od 6D
                      00116       cblock 0x70
  00000070            00117 pri0       
  00000071            00118 pri1       
  00000072            00119 pri2        
  00000073            00120 pri3      
  00000074            00121 pri4        
  00000075            00122 pri5       
  00000076            00123 pri6    
  00000077            00124 pri7        
  00000078            00125 cil       
                      00126       endc  
                      00127 
                      00128       cblock 0x70
  00000070            00129 CIS1_L      
  00000071            00130 CIS1_H      
  00000072            00131 CIS2_L 
  00000073            00132 CIS2_H 
  00000074            00133 OUT_L 
  00000075            00134 OUT_H       
  00000076            00135 ran1      
  00000077            00136 ran2      
  00000078            00137 ran3       
  00000079            00138 ran4    
  0000007A            00139 ran5  
                      00140       endc
                      00141   
                      00142       cblock 0x70
  00000070            00143 A1    
  00000071            00144 A2    
  00000072            00145 A3    
  00000073            00146 B1    
  00000074            00147 B2    
  00000075            00148 B3    
  00000076            00149 C1    
  00000077            00150 C2    
  00000078            00151 C3    
  00000079            00152 D1    
  0000007A            00153 D2    
  0000007B            00154 D3    
  0000007C            00155 X1    
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000007D            00156 X2    
  0000007E            00157 FL    
                      00158       endc
                      00159 
                      00160 
                      00161 
                      00162 ;KONSTANTY
                      00163 ;conf constant
  00000000            00164 T0OF        equ .0
  00000001            00165 STARTED     equ .1
  00000002            00166 WATCHOVER   equ .2
  00000003            00167 PCON_POR    equ .3
  00000004            00168 T1OF        equ .4
                      00169 ;casov constant
                      00170 ;VAROV       equ .0
  00000001            00171 REDTUN      equ .1
  00000002            00172 LEDZAM      equ .2
  00000003            00173 WHITUN      equ .3
  00000004            00174 ODSKOK      equ .4
  00000005            00175 ALARM       equ .5
                      00176 
                      00177 ;system constants
  00000001            00178 POR         equ .1
                      00179 
                      00180 
                      00181 
0000                  00182             org 000h        ;vektor zacatku
0000   2816           00183             goto init
                      00184 
0004                  00185             org 004h        ;vektor preruseni
0004   00A6           00186             movwf w_temp ;copy w to temp register
0005   0803           00187             movf STATUS, W ;swap status to be saved into w
0006   00A7           00188             movwf s_temp ;save status to bank zero s_temp register
0007   080A           00189             movf PCLATH, W ;swap pclath to be saved into w
0008   00A8           00190             movwf pcl_temp ;save status to bank zero pclath_temp register
0009   0183           00191             clrf STATUS ;bank 0, regardless of current bank, clears irp,rp1,rp0
                      00192             
000A   118A           00193             bcf PCLATH,3 ;Select page 0
000B   204E           00194             call inter
                      00195         
000C   0828           00196             movf pcl_temp, W ;swap pcl_temp register into w
000D   008A           00197             movwf PCLATH ;move w into PCLATH register;(sets bank to original state)
000E   0827           00198             movf s_temp, W ;swap status_temp register into w
000F   0083           00199             movwf STATUS ;move w into status register;(sets bank to original state)
0010   0826           00200             movf w_temp, W ;
0011   1D27           00201             btfss s_temp, Z
0012   1103           00202             bcf STATUS, Z
0013   1927           00203             btfsc s_temp, Z
0014   1503           00204             bsf STATUS, Z
0015   0008           00205             return
                      00206 
0016   118A           00207 init        bcf PCLATH,3 ;Select page 0
0017   120A           00208             bcf PCLATH,4 ;Select page 0
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00209                 
0018   0185           00210             clrf PORTA      ;Init PORTS 
0019   0186           00211             clrf PORTB
001A   0187           00212             clrf PORTC
001B   0188           00213             clrf PORTD
001C   0189           00214             clrf PORTE
                      00215             
001D   1683           00216             bsf STATUS, RP0  ;Bank 1
                      00217             
001E   3049           00218             movlw b'01001001' ;0 left justifed, FOSC/2 na rychlost prevodu 0, 00, nastaveni analogových
                             vstupu a hodnotu k porovnání 0000
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   009F           00219             movwf ADCON1
                      00220     
0020   302F           00221             movlw b'00101111'; 1 znamená vstup, 0 výstup
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00222             movwf TRISA
0022   3001           00223             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   0086           00224             movwf TRISB
0024   3000           00225             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0087           00226             movwf TRISC
0026   3000           00227             movlw b'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0088           00228             movwf TRISD
0028   3001           00229             movlw b'00000001'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   0089           00230             movwf TRISE
                      00231             
002A   0064           00232             clrwdt
002B   30CC           00233             movlw b'11001100' ; timer0 control, WDT prescaler '100' -> 288ms
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0081           00234             movwf OPTION_REG
                      00235             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   080E           00236             movf PCON, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   148E           00237             bsf PCON, POR
                      00238 
002F   1283           00239             bcf STATUS, RP0 ;Bank 0
                      00240 
0030   00A0           00241             movwf r1
0031   11D9           00242             bcf conf, PCON_POR
0032   18A0           00243             btfsc r1, POR ;pokud neni zapnuto, obnovi stare registry
0033   15D9           00244             bsf conf, PCON_POR
                      00245 
                      00246 
0034   3021           00247             movlw b'00100001' ; nastaví control register timer1
0035   0090           00248             movwf T1CON
0036   3046           00249             movlw b'01000110' ; nastaví control register timer2
0037   0092           00250             movwf T2CON
                      00251             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   203D           00252             call inton
                      00253             
                      00254             
0039   158A           00255             bsf PCLATH,3 ;Select page 1
003A   19D9           00256             btfsc conf, PCON_POR ;pokud neni zapnuto, obnovi stare registry
Message[306]: Crossing page boundary -- ensure page bits are set.
003B   2800           00257             goto restart
                      00258 
Message[306]: Crossing page boundary -- ensure page bits are set.
003C   2825           00259             goto start      ;zacni na startu
                      00260         
                      00261         
                      00262         
                      00263 
003D   108B           00264 inton       bcf INTCON, INTF ; nastavení přerušení od RB0        
003E   160B           00265             bsf INTCON, INTE
                      00266             ;bcf INTCON, T0IF ;nastavení přerušení od Timer0
                      00267             ;bsf INTCON, T0IE
003F   100C           00268             bcf PIR1, TMR1IF ;nastavení přerušení od Timer1
0040   108C           00269             bcf PIR1, TMR2IF ;nastavení přerušení od Timer2
0041   1683           00270             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   140C           00271             bsf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   148C           00272             bsf PIE1, TMR2IE
0044   1283           00273             bcf STATUS, RP0 ;Bank 0
0045   170B           00274             bsf INTCON, PEIE
0046   178B           00275             bsf INTCON, GIE
0047   0008           00276             return
                      00277         
0048   120B           00278 intoff      bcf INTCON, INTE
                      00279             ;bcf INTCON, T0IE
0049   1683           00280             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   100C           00281             bcf PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004B   108C           00282             bcf PIE1, TMR2IE
004C   1283           00283             bcf STATUS, RP0 ;Bank 0
004D   0008           00284             return
                      00285 
                      00286 
                      00287 
004E   2048           00288 inter       call intoff
                      00289       
004F   188B           00290             btfsc INTCON, INTF      ;preruseni od RX B0 prijem radio signalu
0050   2060           00291             call radio
                      00292             ;btfsc INTCON, T0IF
                      00293             ;bsf conf, T0OF
0051   180C           00294             btfsc PIR1, TMR1IF      ;preruseni od timer1 watch
0052   1659           00295             bsf conf, T1OF
0053   188C           00296             btfsc PIR1, TMR2IF      ;preruseni od timer2 watch
0054   2057           00297             call watchover
                      00298             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0055   203D           00299             call inton
0056   0008           00300             return
                      00301 
                      00302 ;pokud přetekl timer2 pro watch
0057   1559           00303 watchover   bsf conf, WATCHOVER
0058   0008           00304             return
                      00305             
                      00306 ;Zapnutí stopek pro kontrolu zacyklení - timer2
0059   1159           00307 watchstart  bcf conf, WATCHOVER ;nastavi jako nepreteceny
005A   0191           00308             clrf TMR2 ;vynuluje timer2
005B   0008           00309             return
                      00310             
005C   1D59           00311 watchwait   btfss conf, WATCHOVER
005D   285C           00312             goto $-1
                      00313             ; pro jistotu jeste pocka aby dobehly hodiny v ostatnich PRCS
005E   26F6           00314             call w100c
005F   0008           00315             return
                      00316 
                      00317 ;při zachyceni signalu na radiovem přijímači        
0060   0000           00318 radio       nop
0061   0008           00319             return
                      00320 
                      00321 ;timer0     nop
                      00322             
                      00323             ;bcf conf, T0OF
                      00324             ;return
                      00325 
                      00326 ;při přetečení timeru 1, až po fázi synchronizace procesorů   
0062   1858           00327 timer1      btfsc cassir, 0
0063   2097           00328             call sirbeep
0064   186B           00329             btfsc casvar, 0
0065   20A0           00330             call varoff
0066   18DA           00331             btfsc casov, REDTUN
0067   20CB           00332             call rtuoff
0068   195A           00333             btfsc casov, LEDZAM
0069   20DC           00334             call lzabli
006A   19DA           00335             btfsc casov, WHITUN
006B   20E3           00336             call wtuoff
006C   1A5A           00337             btfsc casov, ODSKOK
006D   20F9           00338             call odsoff
006E   1ADA           00339             btfsc casov, ALARM
006F   212E           00340             call alabli
0070   1964           00341             btfsc spinac, 2
0071   20F4           00342             call spioff
                      00343 
0072   03EC           00344             decf vterina, F
0073   1903           00345             btfsc STATUS, Z
0074   2077           00346             call vterinka
                      00347 
0075   1259           00348             bcf conf, T1OF
0076   0008           00349             return
                      00350             
0077   0000           00351 vterinka    nop
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00352 
                      00353 ;Ledky blikajici kdyz je PC zaply
0078   082F           00354 ledPCRun    movf o_g, W
0079   00A4           00355             movwf r5
007A   300C           00356             movlw b'01100' ;port B4
007B   00D2           00357             movwf port
007C   3003           00358             movlw b'11' ;procesor 3
007D   00D3           00359             movwf prc
007E   1AA4           00360             btfsc r5, 5
007F   21F2           00361             call setout ;nastav port v prc
0080   1AA4           00362             btfsc r5, 5
0081   162F           00363             bsf o_g, 4 
0082   1EA4           00364             btfss r5, 5
0083   2219           00365             call clrout ;nastav port v prc
0084   1EA4           00366             btfss r5, 5
0085   122F           00367             bcf o_g, 4 
                      00368             
0086   082F           00369             movf o_g, W
0087   00A4           00370             movwf r5
0088   300D           00371             movlw b'01101' ;port B5
0089   00D2           00372             movwf port
008A   3003           00373             movlw b'11' ;procesor 3
008B   00D3           00374             movwf prc
008C   1E24           00375             btfss r5, 4
008D   21F2           00376             call setout ;nastav port v prc
008E   1E24           00377             btfss r5, 4
008F   16AF           00378             bsf o_g, 5 
0090   1A24           00379             btfsc r5, 4
0091   2219           00380             call clrout ;nastav port v prc
0092   1A24           00381             btfsc r5, 4
0093   12AF           00382             bcf o_g, 5 
                      00383 
                      00384 
                      00385             ; nastaveni nove vterinky
0094   3009           00386             movlw .9 ;nastavy na dalsich 240ms
0095   00EC           00387             movwf vterina
0096   0008           00388             return
                      00389 
                      00390 
                      00391 ;houkani sireny v intervalech cca 240ms        
0097   03D7           00392 sirbeep     decf timsir, F
0098   1D03           00393             btfss STATUS, Z
0099   0008           00394             return
009A   1003           00395             bcf STATUS, C
009B   0CD8           00396             rrf cassir, F ;otaci az v 0 bude 1, pak timer sireny nevnima
009C   264F           00397             call t1_53 ;neguje houkani sireny
009D   3003           00398             movlw .3 ;nastavy na dalsich 240ms
009E   00D7           00399             movwf timsir
009F   0008           00400             return
                      00401             
                      00402 ;blikani varovek
00A0   03DB           00403 varoff      decf timvar, F
00A1   1D03           00404             btfss STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A2   0008           00405             return
00A3   0CEB           00406             rrf casvar, F
00A4   1C03           00407             btfss STATUS, C
00A5   13EB           00408             bcf casvar, 7
00A6   1803           00409             btfsc STATUS, C
00A7   17EB           00410             bsf casvar, 7
                      00411             
00A8   01A1           00412             clrf r2   ;pokud jeden nebo oba blinkry vyply - zapne varovky, opacne je vypne
00A9   01A2           00413             clrf r3
00AA   1A2D           00414             btfsc o_e, 4
00AB   1421           00415             bsf r2, 0
00AC   1AAD           00416             btfsc o_e, 5
00AD   1422           00417             bsf r3, 0
00AE   0821           00418             movf r2, W
00AF   05A2           00419             andwf r3, F
                      00420             
00B0   1822           00421             btfsc r3, 0 ;pokud oba zaply oba vypne
00B1   122D           00422             bcf o_e, 4
00B2   1822           00423             btfsc r3, 0 ;pokud oba zaply oba vypne
00B3   1361           00424             bcf PORTD_temp, 6
00B4   1822           00425             btfsc r3, 0 ;pokud oba zaply oba vypne
00B5   1308           00426             bcf PORTD, 6
00B6   1822           00427             btfsc r3, 0 ;pokud oba zaply oba vypne
00B7   12AD           00428             bcf o_e, 5
00B8   1822           00429             btfsc r3, 0 ;pokud oba zaply oba vypne
00B9   13E1           00430             bcf PORTD_temp, 7
00BA   1822           00431             btfsc r3, 0 ;pokud oba zaply oba vypne
00BB   1388           00432             bcf PORTD, 7
                      00433     
00BC   1C22           00434             btfss r3, 0 ;pokud jeden vyply oba zapne
00BD   162D           00435             bsf o_e, 4
00BE   1C22           00436             btfss r3, 0 ;pokud jeden vyply oba zapne
00BF   1761           00437             bsf PORTD_temp, 6
00C0   1C22           00438             btfss r3, 0 ;pokud jeden vyply oba zapne
00C1   1708           00439             bsf PORTD, 6
00C2   1C22           00440             btfss r3, 0 ;pokud jeden vyply oba zapne
00C3   16AD           00441             bsf o_e, 5
00C4   1C22           00442             btfss r3, 0 ;pokud jeden vyply oba zapne
00C5   17E1           00443             bsf PORTD_temp, 7
00C6   1C22           00444             btfss r3, 0 ;pokud jeden vyply oba zapne
00C7   1788           00445             bsf PORTD, 7
                      00446             
00C8   3008           00447             movlw .8 ;nastavy na dalsich 240ms
00C9   00DB           00448             movwf timvar
00CA   0008           00449             return
                      00450 
                      00451 ;vypnuti red tuning
00CB   03DC           00452 rtuoff      decf timrtu, F
00CC   1D03           00453             btfss STATUS, Z
00CD   0008           00454             return
00CE   112B           00455             bcf o_c, 2 ;vypne red tunning
00CF   3016           00456             movlw b'10110' ;port C6
00D0   00D2           00457             movwf port
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D1   3002           00458             movlw b'10' ;procesor 2
00D2   00D3           00459             movwf prc
00D3   2219           00460             call clrout ;smaz port v prc
00D4   11AE           00461             bcf o_f, 3 ;vypne red interier
00D5   301A           00462             movlw b'11010' ;port D2
00D6   00D2           00463             movwf port
00D7   3002           00464             movlw b'10' ;procesor 2
00D8   00D3           00465             movwf prc
00D9   2219           00466             call clrout ;smaz port v prc
00DA   10DA           00467             bcf casov, REDTUN ;timer red tunningu nebude vniman
00DB   0008           00468             return
                      00469             
                      00470 ;blikani led zamknuto
00DC   03DD           00471 lzabli      decf timlza, F
00DD   1D03           00472             btfss STATUS, Z
00DE   0008           00473             return
00DF   270F           00474             call ledzam ;neguje led zamknuto
00E0   300F           00475             movlw .15 ;nasavy na dalsich 240ms
00E1   00DD           00476             movwf timlza
00E2   0008           00477             return
                      00478             
                      00479 ;vypnuti white tuning
00E3   03E3           00480 wtuoff      decf timwtu, F
00E4   1D03           00481             btfss STATUS, Z
00E5   0008           00482             return
00E6   11AB           00483             bcf o_c, 3 ;vypne white tunning
00E7   3017           00484             movlw b'10111' ;port C7
00E8   00D2           00485             movwf port
00E9   3002           00486             movlw b'10' ;procesor 2
00EA   00D3           00487             movwf prc
00EB   2219           00488             call clrout ;smaz port v prc
00EC   122E           00489             bcf o_f, 4 ;vypne white interier
00ED   301B           00490             movlw b'11011' ;port D3
00EE   00D2           00491             movwf port
00EF   3002           00492             movlw b'10' ;procesor 2
00F0   00D3           00493             movwf prc
00F1   2219           00494             call clrout ;smaz port v prc
00F2   11DA           00495             bcf casov, WHITUN ;timer red tunningu nebude vniman
00F3   0008           00496             return
                      00497             
                      00498 ;vypnuti polohy 3 spinacky
00F4   03E5           00499 spioff      decf timspi, F
00F5   1D03           00500             btfss STATUS, Z
00F6   0008           00501             return
00F7   242E           00502             call t1_03
00F8   0008           00503             return
                      00504             
                      00505 ;vypnuti odskoků
00F9   03E6           00506 odsoff      decf timods, F
00FA   1D03           00507             btfss STATUS, Z
00FB   0008           00508             return
00FC   122A           00509             bcf o_b, 4
00FD   301F           00510             movlw b'11111' ;port D7
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FE   00D2           00511             movwf port
00FF   3003           00512             movlw b'11' ;procesor 3
0100   00D3           00513             movwf prc
0101   2219           00514             call clrout ;smaz port v prc
0102   12AA           00515             bcf o_b, 5
0103   13E0           00516             bcf PORTC_temp, 7
0104   1387           00517             bcf PORTC, 7
0105   132A           00518             bcf o_b, 6
0106   115F           00519             bcf PORTB_temp, 2
0107   1106           00520             bcf PORTB, 2
0108   13AA           00521             bcf o_b, 7
0109   11DF           00522             bcf PORTB_temp, 3
010A   1186           00523             bcf PORTB, 3
010B   11AA           00524             bcf o_b, 3
010C   125F           00525             bcf PORTB_temp, 4
010D   1206           00526             bcf PORTB, 4
010E   102D           00527             bcf o_e, 0
010F   12DF           00528             bcf PORTB_temp, 5
0110   1286           00529             bcf PORTB, 5
0111   102B           00530             bcf o_c, 0
0112   135F           00531             bcf PORTB_temp, 6
0113   1306           00532             bcf PORTB, 6
                      00533 
0114   13AD           00534             bcf o_e, 7
0115   301E           00535             movlw b'11110' ;port D6
0116   00D2           00536             movwf port
0117   3002           00537             movlw b'10' ;procesor 2
0118   00D3           00538             movwf prc
0119   2219           00539             call clrout ;nastav port v prc
011A   132D           00540             bcf o_e, 6
011B   301C           00541             movlw b'11100' ;port D4
011C   00D2           00542             movwf port
011D   3002           00543             movlw b'10' ;procesor 2
011E   00D3           00544             movwf prc
011F   2219           00545             call clrout ;nastav port v prc
0120   12AE           00546             bcf o_f, 5
0121   301D           00547             movlw b'11101' ;port D5
0122   00D2           00548             movwf port
0123   3002           00549             movlw b'10' ;procesor 2
0124   00D3           00550             movwf prc
0125   2219           00551             call clrout ;nastav port v prc
0126   102E           00552             bcf o_f, 0
0127   301F           00553             movlw b'11111' ;port D7
0128   00D2           00554             movwf port
0129   3002           00555             movlw b'10' ;procesor 2
012A   00D3           00556             movwf prc
012B   2219           00557             call clrout ;nastav port v prc
                      00558 
012C   125A           00559             bcf casov, ODSKOK ;timer red tunningu nebude vniman
012D   0008           00560             return
                      00561             
                      00562 ;Problikavani alarmu
012E   03E7           00563 alabli      decf timala, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

012F   1D03           00564             btfss STATUS, Z
0130   0008           00565             return
                      00566 
0131   25DA           00567             call t1_40
0132   25E9           00568             call t1_41
0133   26A3           00569             call t1_61
0134   26B2           00570             call t1_62
0135   2700           00571             call klakson
                      00572             
0136   3014           00573             movlw .20 ;nasavy na dalsich 240ms
0137   00E7           00574             movwf timala
0138   0008           00575             return
                      00576 
                      00577 
                      00578 
                      00579 
                      00580 
                      00581 
0139   1486           00582 dotaz       bsf PORTB, 1  ;start bity XX - 10
013A   26F6           00583             call w100c
013B   1086           00584             bcf PORTB, 1
013C   26F6           00585             call w100c
                      00586             
013D   0878           00587             movf cil, W   ;vysila oznaceni cilového procesoru XXXX
013E   00A0           00588             movwf r1
013F   3004           00589             movlw .4
0140   00A1           00590             movwf r2
0141   19A0           00591             btfsc r1, 3
0142   1486           00592             bsf PORTB, 1
0143   1DA0           00593             btfss r1, 3
0144   1086           00594             bcf PORTB, 1
0145   26F6           00595             call w100c
0146   0DA0           00596             rlf r1, F
0147   0BA1           00597             decfsz r2, F
0148   2941           00598             goto $-7
                      00599             
0149   3000           00600             movlw b'00000000'   ;vysila nuly aby dostal odpoved XXXXXXX - 0000000
014A   00A0           00601             movwf r1
014B   3007           00602             movlw .7
014C   00A1           00603             movwf r2
014D   1B20           00604             btfsc r1, 6
014E   1486           00605             bsf PORTB, 1
014F   1F20           00606             btfss r1, 6
0150   1086           00607             bcf PORTB, 1
0151   26F6           00608             call w100c
0152   0DA0           00609             rlf r1, F
0153   0BA1           00610             decfsz r2, F
0154   294D           00611             goto $-7
                      00612             
0155   1486           00613             bsf PORTB, 1  ;STOP bity XXX - 111
0156   26F6           00614             call w100c
0157   26F6           00615             call w100c
0158   26F6           00616             call w100c
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0159   1086           00617             bcf PORTB, 1
015A   26FB           00618             call w40c
                      00619             
015B   1683           00620             bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
015C   1486           00621             bsf TRISB, 1  ;nastavim sbernici na vstup do procesoru
015D   1283           00622             bcf STATUS, RP0  ;Bank 0
                      00623             
015E   1959           00624             btfsc conf, WATCHOVER
015F   29EE           00625             goto dotazerr
0160   1C86           00626             btfss PORTB, 1  ;ceka az zacne vysilat signal
0161   295E           00627             goto $-3 ;ochrana proti zamrznuti
                      00628             
0162   1959           00629             btfsc conf, WATCHOVER
0163   29EE           00630             goto dotazerr
0164   1886           00631             btfsc PORTB, 1  ;ceka az skonci prvni start bit X - 1
0165   2962           00632             goto $-3 ;ochrana proti zamrznuti
                      00633             
0166   26FB           00634             call w40c   ;posune do prostred signalu X - 0
0167   26F6           00635             call w100c
                      00636             
0168   01F0           00637             clrf pri0        ; ulozi priijate do pri XXXX XXXX
0169   3008           00638             movlw .8
016A   00A1           00639             movwf r2
016B   0DF0           00640             rlf pri0, F
016C   1886           00641             btfsc PORTB, 1
016D   1470           00642             bsf pri0, 0
016E   1C86           00643             btfss PORTB, 1
016F   1070           00644             bcf pri0, 0
0170   26F6           00645             call w100c
0171   0BA1           00646             decfsz r2, F
0172   296B           00647             goto $-7
                      00648             
0173   1959           00649             btfsc conf, WATCHOVER
0174   29EE           00650             goto dotazerr
0175   1886           00651             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0176   2973           00652             goto $-3 ;ochrana proti zamrznuti
0177   26FB           00653             call w40c
0178   26F6           00654             call w100c
                      00655             
                      00656             
0179   01F1           00657             clrf pri1        ; ulozi priijate do pri XXXX XXXX
017A   3008           00658             movlw .8
017B   00A1           00659             movwf r2
017C   0DF1           00660             rlf pri1, F
017D   1886           00661             btfsc PORTB, 1
017E   1471           00662             bsf pri1, 0
017F   1C86           00663             btfss PORTB, 1
0180   1071           00664             bcf pri1, 0
0181   26F6           00665             call w100c
0182   0BA1           00666             decfsz r2, F
0183   297C           00667             goto $-7
                      00668             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0184   1959           00669             btfsc conf, WATCHOVER
0185   29EE           00670             goto dotazerr
0186   1886           00671             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0187   2984           00672             goto $-3 ;ochrana proti zamrznuti
0188   26FB           00673             call w40c
0189   26F6           00674             call w100c
                      00675             
                      00676             
018A   01F2           00677             clrf pri2        ; ulozi priijate do pri XXXX XXXX
018B   3008           00678             movlw .8
018C   00A1           00679             movwf r2
018D   0DF2           00680             rlf pri2, F
018E   1886           00681             btfsc PORTB, 1
018F   1472           00682             bsf pri2, 0
0190   1C86           00683             btfss PORTB, 1
0191   1072           00684             bcf pri2, 0
0192   26F6           00685             call w100c
0193   0BA1           00686             decfsz r2, F
0194   298D           00687             goto $-7
                      00688             
0195   1959           00689             btfsc conf, WATCHOVER
0196   29EE           00690             goto dotazerr
0197   1886           00691             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
0198   2995           00692             goto $-3 ;ochrana proti zamrznuti
0199   26FB           00693             call w40c
019A   26F6           00694             call w100c
                      00695             
                      00696             
019B   01F3           00697             clrf pri3        ; ulozi priijate do pri XXXX XXXX
019C   3008           00698             movlw .8
019D   00A1           00699             movwf r2
019E   0DF3           00700             rlf pri3, F
019F   1886           00701             btfsc PORTB, 1
01A0   1473           00702             bsf pri3, 0
01A1   1C86           00703             btfss PORTB, 1
01A2   1073           00704             bcf pri3, 0
01A3   26F6           00705             call w100c
01A4   0BA1           00706             decfsz r2, F
01A5   299E           00707             goto $-7
                      00708             
01A6   1959           00709             btfsc conf, WATCHOVER
01A7   29EE           00710             goto dotazerr
01A8   1886           00711             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01A9   29A6           00712             goto $-3 ;ochrana proti zamrznuti
01AA   26FB           00713             call w40c
01AB   26F6           00714             call w100c
                      00715             
                      00716             
01AC   01F4           00717             clrf pri4        ; ulozi priijate do pri XXXX XXXX
01AD   3008           00718             movlw .8
01AE   00A1           00719             movwf r2
01AF   0DF4           00720             rlf pri4, F
01B0   1886           00721             btfsc PORTB, 1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B1   1474           00722             bsf pri4, 0
01B2   1C86           00723             btfss PORTB, 1
01B3   1074           00724             bcf pri4, 0
01B4   26F6           00725             call w100c
01B5   0BA1           00726             decfsz r2, F
01B6   29AF           00727             goto $-7
                      00728             
01B7   1959           00729             btfsc conf, WATCHOVER
01B8   29EE           00730             goto dotazerr
01B9   1886           00731             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01BA   29B7           00732             goto $-3 ;ochrana proti zamrznuti
01BB   26FB           00733             call w40c
01BC   26F6           00734             call w100c
                      00735             
                      00736             
01BD   01F5           00737             clrf pri5        ; ulozi priijate do pri XXXX XXXX
01BE   3008           00738             movlw .8
01BF   00A1           00739             movwf r2
01C0   0DF5           00740             rlf pri5, F
01C1   1886           00741             btfsc PORTB, 1
01C2   1475           00742             bsf pri5, 0
01C3   1C86           00743             btfss PORTB, 1
01C4   1075           00744             bcf pri5, 0
01C5   26F6           00745             call w100c
01C6   0BA1           00746             decfsz r2, F
01C7   29C0           00747             goto $-7
                      00748             
01C8   1959           00749             btfsc conf, WATCHOVER
01C9   29EE           00750             goto dotazerr
01CA   1886           00751             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01CB   29C8           00752             goto $-3 ;ochrana proti zamrznuti
01CC   26FB           00753             call w40c
01CD   26F6           00754             call w100c
                      00755             
                      00756             
01CE   01F6           00757             clrf pri6        ; ulozi priijate do pri XXXX XXXX
01CF   3008           00758             movlw .8
01D0   00A1           00759             movwf r2
01D1   0DF6           00760             rlf pri6, F
01D2   1886           00761             btfsc PORTB, 1
01D3   1476           00762             bsf pri6, 0
01D4   1C86           00763             btfss PORTB, 1
01D5   1076           00764             bcf pri6, 0
01D6   26F6           00765             call w100c
01D7   0BA1           00766             decfsz r2, F
01D8   29D1           00767             goto $-7
                      00768             
01D9   1959           00769             btfsc conf, WATCHOVER
01DA   29EE           00770             goto dotazerr
01DB   1886           00771             btfsc PORTB, 1  ;ceka az skonci privni synchronizacni bit X - 1
01DC   29D9           00772             goto $-3 ;ochrana proti zamrznuti
01DD   26FB           00773             call w40c
01DE   26F6           00774             call w100c
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00775             
                      00776             
01DF   01F7           00777             clrf pri7        ; ulozi priijate do pri XXXX XXXX
01E0   3008           00778             movlw .8
01E1   00A1           00779             movwf r2
01E2   0DF7           00780             rlf pri7, F
01E3   1886           00781             btfsc PORTB, 1
01E4   1477           00782             bsf pri7, 0
01E5   1C86           00783             btfss PORTB, 1
01E6   1077           00784             bcf pri7, 0
01E7   26F6           00785             call w100c
01E8   0BA1           00786             decfsz r2, F
01E9   29E2           00787             goto $-7
                      00788             
01EA   1959           00789             btfsc conf, WATCHOVER
01EB   29EE           00790             goto dotazerr
01EC   1886           00791             btfsc PORTB, 1  ;ceka az skonci STOP bity XXX - 111
01ED   29EA           00792             goto $-3 ;ochrana proti zamrznuti
                      00793             
                      00794             
01EE   1683           00795 dotazerr    bsf STATUS, RP0  ;Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01EF   1086           00796             bcf TRISB, 1  ;nastavim sbernici na vystup z procesoru
01F0   1283           00797             bcf STATUS, RP0  ;Bank 0
01F1   0008           00798             return
                      00799         
                      00800         ; WATCH2 start
01F2   1486           00801 setout      bsf PORTB, 1  ;start bity XX - 10
01F3   26F6           00802             call w100c
01F4   1086           00803             bcf PORTB, 1
01F5   26F6           00804             call w100c
                      00805             
01F6   0853           00806             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
01F7   00A0           00807             movwf r1
01F8   3004           00808             movlw .4
01F9   00A1           00809             movwf r2
01FA   19A0           00810             btfsc r1, 3
01FB   1486           00811             bsf PORTB, 1
01FC   1DA0           00812             btfss r1, 3
01FD   1086           00813             bcf PORTB, 1
01FE   26F6           00814             call w100c
01FF   0DA0           00815             rlf r1, F
0200   0BA1           00816             decfsz r2, F
0201   29FA           00817             goto $-7
                      00818             
0202   1486           00819             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
0203   26F6           00820             call w100c
                      00821             
0204   0852           00822             movf port, W   ;vysila port ke zmene XXXXX
0205   00A0           00823             movwf r1
0206   3005           00824             movlw .5
0207   00A1           00825             movwf r2
0208   1A20           00826             btfsc r1, 4
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0209   1486           00827             bsf PORTB, 1
020A   1E20           00828             btfss r1, 4
020B   1086           00829             bcf PORTB, 1
020C   26F6           00830             call w100c
020D   0DA0           00831             rlf r1, F
020E   0BA1           00832             decfsz r2, F
020F   2A08           00833             goto $-7
                      00834             
0210   1486           00835             bsf PORTB, 1  ;vysle hodnotu 1
0211   26F6           00836             call w100c
                      00837             
0212   1486           00838             bsf PORTB, 1  ;STOP bity XXX - 111
0213   26F6           00839             call w100c
0214   26F6           00840             call w100c
0215   26F6           00841             call w100c
0216   1086           00842             bcf PORTB, 1
0217   26F6           00843             call w100c
                      00844             ; WATCH2 wait
0218   0008           00845             return
                      00846 
                      00847       ; WATCH2 start
0219   1486           00848 clrout      bsf PORTB, 1  ;start bity XX - 10
021A   26F6           00849             call w100c
021B   1086           00850             bcf PORTB, 1
021C   26F6           00851             call w100c
                      00852             
021D   0853           00853             movf prc, W   ;vysila oznaceni cilového procesoru XXXX
021E   00A0           00854             movwf r1
021F   3004           00855             movlw .4
0220   00A1           00856             movwf r2
0221   19A0           00857             btfsc r1, 3
0222   1486           00858             bsf PORTB, 1
0223   1DA0           00859             btfss r1, 3
0224   1086           00860             bcf PORTB, 1
0225   26F6           00861             call w100c
0226   0DA0           00862             rlf r1, F
0227   0BA1           00863             decfsz r2, F
0228   2A21           00864             goto $-7
                      00865             
0229   1486           00866             bsf PORTB, 1    ;vysle 1 jako ze vysila pozadavek na zmenu portu
022A   26F6           00867             call w100c
                      00868             
022B   0852           00869             movf port, W   ;vysila port ke zmene XXXXX
022C   00A0           00870             movwf r1
022D   3005           00871             movlw .5
022E   00A1           00872             movwf r2
022F   1A20           00873             btfsc r1, 4
0230   1486           00874             bsf PORTB, 1
0231   1E20           00875             btfss r1, 4
0232   1086           00876             bcf PORTB, 1
0233   26F6           00877             call w100c
0234   0DA0           00878             rlf r1, F
0235   0BA1           00879             decfsz r2, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0236   2A2F           00880             goto $-7
                      00881             
0237   1086           00882             bcf PORTB, 1  ;vysle hodnotu 0
0238   26F6           00883             call w100c
                      00884             
0239   1486           00885             bsf PORTB, 1  ;STOP bity XXX - 111
023A   26F6           00886             call w100c
023B   26F6           00887             call w100c
023C   26F6           00888             call w100c
023D   1086           00889             bcf PORTB, 1
023E   26F6           00890             call w100c
                      00891             ; WATCH2 wait
023F   0008           00892             return
                      00893         
                      00894         
                      00895         
                      00896         
                      00897         
                      00898         
                      00899         
                      00900         
                      00901         
                      00902         
                      00903         
                      00904         ;podprogramy
                      00905 ;Tlačitka funkci 1
0240   1BAC           00906 if_58       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
0241   0008           00907             return
                      00908             
0242   1003           00909             bcf STATUS, C
0243   0C3F           00910             rrf ir_58, W
0244   00A0           00911             movwf r1
0245   1003           00912             bcf STATUS, C
0246   0CA0           00913             rrf r1, F
0247   1003           00914             bcf STATUS, C
0248   0CA0           00915             rrf r1, F
0249   30E0           00916             movlw b'11100000'
024A   04A0           00917             iorwf r1, F
                      00918             
024B   0820           00919             movf r1, W    ;zkontroluje jestli nebylo uz minule
024C   00A3           00920             movwf r4
024D   0854           00921             movf tl1, W
024E   06A3           00922             xorwf r4, F
024F   1903           00923             btfsc STATUS, Z
0250   0008           00924             return
0251   0820           00925             movf r1, W    ;ulozi aktualni tlacitko
0252   00D4           00926             movwf tl1
                      00927             
0253   0AA0           00928             incf r1, F
0254   1903           00929             btfsc STATUS, Z
0255   24AA           00930             call t1_06
0256   0AA0           00931             incf r1, F
0257   1903           00932             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0258   2406           00933             call t1_02
0259   0AA0           00934             incf r1, F
025A   1903           00935             btfsc STATUS, Z
025B   242E           00936             call t1_03
025C   0AA0           00937             incf r1, F
025D   1903           00938             btfsc STATUS, Z
025E   248A           00939             call t1_05
025F   0AA0           00940             incf r1, F
0260   1903           00941             btfsc STATUS, Z
0261   2607           00942             call t1_43
0262   0AA0           00943             incf r1, F
0263   1903           00944             btfsc STATUS, Z
0264   25F8           00945             call t1_42
0265   0AA0           00946             incf r1, F
0266   1903           00947             btfsc STATUS, Z
0267   24E6           00948             call t1_07
0268   0AA0           00949             incf r1, F
0269   1903           00950             btfsc STATUS, Z
026A   24F4           00951             call t1_08
026B   0AA0           00952             incf r1, F
026C   1903           00953             btfsc STATUS, Z
026D   2527           00954             call t1_14
026E   0AA0           00955             incf r1, F
026F   1903           00956             btfsc STATUS, Z
0270   252E           00957             call t1_15
0271   0AA0           00958             incf r1, F
0272   1903           00959             btfsc STATUS, Z
0273   25C6           00960             call t1_37
0274   0AA0           00961             incf r1, F
0275   1903           00962             btfsc STATUS, Z
0276   2504           00963             call t1_10
0277   0AA0           00964             incf r1, F
0278   1903           00965             btfsc STATUS, Z
0279   2515           00966             call t1_12
027A   0AA0           00967             incf r1, F
027B   1903           00968             btfsc STATUS, Z
027C   2581           00969             call t1_30
027D   0AA0           00970             incf r1, F
027E   1903           00971             btfsc STATUS, Z
027F   25A9           00972             call t1_34
0280   0AA0           00973             incf r1, F
0281   1903           00974             btfsc STATUS, Z
0282   2593           00975             call t1_32
0283   0AA0           00976             incf r1, F
0284   1903           00977             btfsc STATUS, Z
0285   25BB           00978             call t1_36
                      00979             ;pokud je tlacitko prave pusteno
0286   1003           00980             bcf STATUS, C
0287   0C3F           00981             rrf ir_58, W
0288   00A0           00982             movwf r1
0289   0820           00983             movf r1, W
028A   1903           00984             btfsc STATUS, Z
028B   2359           00985             call t1_stop
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028C   0008           00986             return
                      00987 
                      00988 ;Tlačitka funkci 2
028D   1BAC           00989 if_62       btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
028E   0008           00990             return
                      00991             
028F   1003           00992             bcf STATUS, C
0290   0C43           00993             rrf ir_62, W
0291   00A0           00994             movwf r1
0292   1003           00995             bcf STATUS, C
0293   0CA0           00996             rrf r1, F
0294   1003           00997             bcf STATUS, C
0295   0CA0           00998             rrf r1, F
0296   30E0           00999             movlw b'11100000'
0297   04A0           01000             iorwf r1, F
                      01001             
0298   0820           01002             movf r1, W    ;zkontroluje jestli nebylo uz minule
0299   00A3           01003             movwf r4
029A   0855           01004             movf tl2, W
029B   06A3           01005             xorwf r4, F
029C   1903           01006             btfsc STATUS, Z
029D   0008           01007             return
029E   0820           01008             movf r1, W    ;ulozi aktualni tlacitko
029F   00D5           01009             movwf tl2
                      01010     
02A0   0AA0           01011             incf r1, F
02A1   1903           01012             btfsc STATUS, Z
02A2   2454           01013             call t1_04
02A3   0AA0           01014             incf r1, F
02A4   1903           01015             btfsc STATUS, Z
02A5   2671           01016             call t1_56
02A6   0AA0           01017             incf r1, F
02A7   1903           01018             btfsc STATUS, Z
02A8   2535           01019             call t1_16
02A9   0AA0           01020             incf r1, F
02AA   1903           01021             btfsc STATUS, Z
02AB   256C           01022             call t1_26
02AC   0AA0           01023             incf r1, F
02AD   1903           01024             btfsc STATUS, Z
02AE   2616           01025             call t1_44
02AF   0AA0           01026             incf r1, F
02B0   1903           01027             btfsc STATUS, Z
02B1   250E           01028             call t1_11
02B2   0AA0           01029             incf r1, F
02B3   1903           01030             btfsc STATUS, Z
02B4   251E           01031             call t1_13
02B5   0AA0           01032             incf r1, F
02B6   1903           01033             btfsc STATUS, Z
02B7   265E           01034             call t1_54
02B8   0AA0           01035             incf r1, F
02B9   1903           01036             btfsc STATUS, Z
02BA   25E9           01037             call t1_41
02BB   0AA0           01038             incf r1, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02BC   1903           01039             btfsc STATUS, Z
02BD   26B2           01040             call t1_62
02BE   0AA0           01041             incf r1, F
02BF   1903           01042             btfsc STATUS, Z
02C0   25DA           01043             call t1_40
02C1   0AA0           01044             incf r1, F
02C2   1903           01045             btfsc STATUS, Z
02C3   26A3           01046             call t1_61
02C4   0AA0           01047             incf r1, F
02C5   1903           01048             btfsc STATUS, Z
02C6   258A           01049             call t1_31
02C7   0AA0           01050             incf r1, F
02C8   1903           01051             btfsc STATUS, Z
02C9   25B2           01052             call t1_35
02CA   0AA0           01053             incf r1, F
02CB   1903           01054             btfsc STATUS, Z
02CC   264F           01055             call t1_53
02CD   0AA0           01056             incf r1, F
02CE   1903           01057             btfsc STATUS, Z
02CF   259E           01058             call t1_33
02D0   0AA0           01059             incf r1, F
02D1   1903           01060             btfsc STATUS, Z
02D2   2698           01061             call t1_60
                      01062             ;pokud je tlacitko prave pusteno
02D3   1003           01063             bcf STATUS, C
02D4   0C43           01064             rrf ir_62, W
02D5   00A0           01065             movwf r1
02D6   0820           01066             movf r1, W
02D7   1903           01067             btfsc STATUS, Z
02D8   235B           01068             call t2_stop
02D9   0008           01069             return
                      01070 ;Tlačitka imobilizeru
02DA   0000           01071 if_50       nop
02DB   0008           01072             return
                      01073              ;pasy
02DC   0000           01074 if_59       nop
02DD   0008           01075             return
                      01076              ;rychlost
02DE   0000           01077 if_60       nop
02DF   0008           01078             return
                      01079              ;otáčky
02E0   0000           01080 if_61       nop
02E1   0008           01081             return
                      01082              ;teplota in set
02E2   0000           01083 if_49       nop
02E3   0008           01084             return
                      01085              ;alarm senzory
02E4   0000           01086 if_80       nop
02E5   0008           01087             return
                      01088              ;baterie
02E6   0000           01089 if_51       nop
02E7   0008           01090             return
                      01091              ;teplota in
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E8   0000           01092 if_52       nop
02E9   0008           01093             return
                      01094              ;teplota eng
02EA   0000           01095 if_53       nop
02EB   0008           01096             return
                      01097              ;palivo
02EC   0000           01098 if_54       nop
02ED   0008           01099             return
                      01100              ;dveře 1
02EE   0000           01101 if_55       nop
02EF   0008           01102             return
                      01103              ;ruční brzda
02F0   0000           01104 if_56       nop
02F1   0008           01105             return
                      01106              ;kvalt
02F2   0000           01107 if_57       nop
02F3   0008           01108             return
                      01109              ;dveře 2
02F4   0000           01110 if_84       nop
02F5   0008           01111             return
                      01112              ;dveře 3
02F6   0000           01113 if_85       nop
02F7   0008           01114             return
                      01115              ;dveře 4
02F8   0000           01116 if_86       nop
02F9   0008           01117             return
                      01118              ;kapota
02FA   0000           01119 if_87       nop
02FB   0008           01120             return
                      01121              ;kufr
02FC   0000           01122 if_88       nop
02FD   0008           01123             return
                      01124              ;nadrz
02FE   0000           01125 if_89       nop
02FF   0008           01126             return
                      01127              ;okno 1
0300   0000           01128 if_90       nop
0301   0008           01129             return
                      01130              ;okno 2
0302   0000           01131 if_91       nop
0303   0008           01132             return
                      01133              ;okno 3
0304   0000           01134 if_92       nop
0305   0008           01135             return
                      01136              ;okno 4
0306   0000           01137 if_93       nop
0307   0008           01138             return
                      01139              ;teplota OUT
0308   0000           01140 if_127      nop
0309   0008           01141             return
                      01142 
                      01143 ;Tlačítka funkcí 3
030A   1BAC           01144 if_128      btfsc o_d, 7 ;pokud alarm zapnut nefungujou tlacitka
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

030B   0000           01145             nop;return ;po dokonceni vyvoje vratit return z duvodu bezpecnosti a je to důležité !!!!!
                      01146             
030C   1003           01147             bcf STATUS, C
030D   0C50           01148             rrf ir_128, W
030E   00A0           01149             movwf r1
030F   1003           01150             bcf STATUS, C
0310   0CA0           01151             rrf r1, F
0311   1003           01152             bcf STATUS, C
0312   0CA0           01153             rrf r1, F
0313   30E0           01154             movlw b'11100000'
0314   04A0           01155             iorwf r1, F
                      01156             
0315   0820           01157             movf r1, W    ;zkontroluje jestli nebylo uz minule
0316   00A3           01158             movwf r4
0317   0856           01159             movf tl3, W
0318   06A3           01160             xorwf r4, F
0319   1903           01161             btfsc STATUS, Z
031A   0008           01162             return
031B   0820           01163             movf r1, W    ;ulozi aktualni tlacitko
031C   00D6           01164             movwf tl3
                      01165     
031D   0AA0           01166             incf r1, F
031E   1903           01167             btfsc STATUS, Z
031F   262D           01168             call t1_47
0320   0AA0           01169             incf r1, F
0321   1903           01170             btfsc STATUS, Z
0322   23A0           01171             call t1_00 ;prozatimne, je nutno odstranit po konci vyvoje
0323   0AA0           01172             incf r1, F
0324   1903           01173             btfsc STATUS, Z
0325   23DE           01174             call t1_01 ;prozatimne, je nutno odstranit po konci vyvoje
0326   0AA0           01175             incf r1, F
0327   1903           01176             btfsc STATUS, Z
0328   26EF           01177             call t1_x
0329   0AA0           01178             incf r1, F
032A   1903           01179             btfsc STATUS, Z
032B   26EF           01180             call t1_x
032C   0AA0           01181             incf r1, F
032D   1903           01182             btfsc STATUS, Z
032E   26EF           01183             call t1_x
032F   0AA0           01184             incf r1, F
0330   1903           01185             btfsc STATUS, Z
0331   26EF           01186             call t1_x
0332   0AA0           01187             incf r1, F
0333   1903           01188             btfsc STATUS, Z
0334   26EF           01189             call t1_x
0335   0AA0           01190             incf r1, F
0336   1903           01191             btfsc STATUS, Z
0337   26EF           01192             call t1_x
0338   0AA0           01193             incf r1, F
0339   1903           01194             btfsc STATUS, Z
033A   26EF           01195             call t1_x
033B   0AA0           01196             incf r1, F
033C   1903           01197             btfsc STATUS, Z
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033D   26EF           01198             call t1_x
033E   0AA0           01199             incf r1, F
033F   1903           01200             btfsc STATUS, Z
0340   26EF           01201             call t1_x
0341   0AA0           01202             incf r1, F
0342   1903           01203             btfsc STATUS, Z
0343   26EF           01204             call t1_x
0344   0AA0           01205             incf r1, F
0345   1903           01206             btfsc STATUS, Z
0346   26EF           01207             call t1_x
0347   0AA0           01208             incf r1, F
0348   1903           01209             btfsc STATUS, Z
0349   26EF           01210             call t1_x
034A   0AA0           01211             incf r1, F
034B   1903           01212             btfsc STATUS, Z
034C   26EF           01213             call t1_x
034D   0AA0           01214             incf r1, F
034E   1903           01215             btfsc STATUS, Z
034F   26EF           01216             call t1_x
                      01217             ;pokud je tlacitko prave pusteno
0350   1003           01218             bcf STATUS, C
0351   0C50           01219             rrf ir_128, W
0352   00A0           01220             movwf r1
0353   0820           01221             movf r1, W
0354   1903           01222             btfsc STATUS, Z
0355   235D           01223             call t3_stop
0356   0008           01224             return
                      01225 
                      01226 ;předpřipravené pro rozšíření procesoru 5 a vice
0357   0000           01227 if_x        nop
0358   0008           01228             return
                      01229 
                      01230 ;vypina holdovaci vystupy
0359   0000           01231 t1_stop     nop
035A   0008           01232             return
035B   0000           01233 t2_stop     nop
035C   0008           01234             return
035D   0000           01235 t3_stop     nop
035E   0008           01236             return
                      01237             
035F   3010           01238 tx_stop     movlw b'10000' ;port C0    ;6 tlačítek ovládání rádia PLAY, STOP, FWD, RWD, VOL+, VOL-
0360   00D2           01239             movwf port
0361   3002           01240             movlw b'10' ;procesor 2
0362   00D3           01241             movwf prc
0363   18AC           01242             btfsc o_d, 1
0364   2219           01243             call clrout ;nastav port v prc
0365   10AC           01244             bcf o_d, 1
0366   3011           01245             movlw b'10001' ;port C1
0367   00D2           01246             movwf port
0368   3002           01247             movlw b'10' ;procesor 2
0369   00D3           01248             movwf prc
036A   192C           01249             btfsc o_d, 2
036B   2219           01250             call clrout ;nastav port v prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

036C   112C           01251             bcf o_d, 2
036D   3012           01252             movlw b'10010' ;port C2
036E   00D2           01253             movwf port
036F   3002           01254             movlw b'10' ;procesor 2
0370   00D3           01255             movwf prc
0371   19AC           01256             btfsc o_d, 3
0372   2219           01257             call clrout ;nastav port v prc
0373   11AC           01258             bcf o_d, 3
0374   3013           01259             movlw b'10011' ;port C3
0375   00D2           01260             movwf port
0376   3002           01261             movlw b'10' ;procesor 2
0377   00D3           01262             movwf prc
0378   1A2C           01263             btfsc o_d, 4
0379   2219           01264             call clrout ;nastav port v prc
037A   122C           01265             bcf o_d, 4
037B   3014           01266             movlw b'10100' ;port C4
037C   00D2           01267             movwf port
037D   3002           01268             movlw b'10' ;procesor 2
037E   00D3           01269             movwf prc
037F   1AAC           01270             btfsc o_d, 5
0380   2219           01271             call clrout ;nastav port v prc
0381   12AC           01272             bcf o_d, 5
0382   3015           01273             movlw b'10101' ;port C5
0383   00D2           01274             movwf port
0384   3002           01275             movlw b'10' ;procesor 2
0385   00D3           01276             movwf prc
0386   1B2C           01277             btfsc o_d, 6
0387   2219           01278             call clrout ;nastav port v prc
0388   132C           01279             bcf o_d, 6
                      01280                   ;blinkry
0389   122D           01281             bcf o_e, 4
038A   1361           01282             bcf PORTD_temp, 6
038B   1308           01283             bcf PORTD, 6
038C   12AD           01284             bcf o_e, 5
038D   13E1           01285             bcf PORTD_temp, 7
038E   1388           01286             bcf PORTD, 7
                      01287                   ;klakson
038F   3019           01288             movlw b'11001' ;port D1
0390   00D2           01289             movwf port
0391   3003           01290             movlw b'11' ;procesor 3
0392   00D3           01291             movwf prc
0393   1A2B           01292             btfsc o_c, 4
0394   2219           01293             call clrout ;nastav port v prc
0395   122B           01294             bcf o_c, 4
                      01295                   ;stěrače, odstřikovače
0396   13AB           01296             bcf o_c, 7
0397   11E1           01297             bcf PORTD_temp, 3
0398   1188           01298             bcf PORTD, 3
0399   132B           01299             bcf o_c, 6
039A   1161           01300             bcf PORTD_temp, 2
039B   1108           01301             bcf PORTD, 2
                      01302                   ;dálková světla
039C   102C           01303             bcf o_d, 0
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

039D   1261           01304             bcf PORTD_temp, 4
039E   1208           01305             bcf PORTD, 4
039F   0008           01306             return
                      01307         
                      01308         
                      01309         
                      01310 ;zamknuti alarm on
03A0   1858           01311 t1_00       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
03A1   0008           01312             return
03A2   083C           01313             movf ir_55, W ;zkontroluje dvere, pokud jsou otevrene promluvy a 3x rychle zahraje sirenu
03A3   0445           01314             iorwf ir_84, W
03A4   0446           01315             iorwf ir_85, W
03A5   0447           01316             iorwf ir_86, W
03A6   0448           01317             iorwf ir_87, W
03A7   0449           01318             iorwf ir_88, W
03A8   044A           01319             iorwf ir_89, W
03A9   00A5           01320             movwf r6
03AA   1BA5           01321             btfsc r6, 7
03AB   0000           01322             nop ;MLUV "zkontrolujte vstupy do auta"
03AC   1BA5           01323             btfsc r6, 7
03AD   264F           01324             call t1_53 ;zapne sirenu
03AE   1BA5           01325             btfsc r6, 7
03AF   301F           01326             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03B0   1BA5           01327             btfsc r6, 7
03B1   00D8           01328             movwf cassir
03B2   1BA5           01329             btfsc r6, 7
03B3   3003           01330             movlw .3
03B4   1BA5           01331             btfsc r6, 7
03B5   00D7           01332             movwf timsir
                      01333             ;btfsc r6, 7  ;AŽ budou indikace otevřených dveří, tohle odkomentovat
                      01334             ;return
                      01335 
03B6   24AA           01336             call t1_06 ;vypne vse 
03B7   17AC           01337             bsf o_d, 7 ;zapne alarm cidla
03B8   17DF           01338             bsf PORTB_temp, 7
03B9   1786           01339             bsf PORTB, 7
                      01340                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, 
                      01341                   ;zatahne okna a pamatuje si polohu, zacne problikavat LED zamceno, promluvi ze je zamc
                            eno
                      01342             
                      01343             
03BA   248A           01344             call t1_05 ;zapne varovky
03BB   301F           01345             movlw b'00011111' ;nastavi do timeru ze houkne 3x po 200ms
03BC   00EB           01346             movwf casvar
03BD   3008           01347             movlw .8
03BE   00DB           01348             movwf timvar
                      01349             
                      01350             
03BF   3016           01351             movlw b'10110' ;port C6
03C0   00D2           01352             movwf port
03C1   3002           01353             movlw b'10' ;procesor 2
03C2   00D3           01354             movwf prc 
03C3   1D2B           01355             btfss o_c, 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03C4   21F2           01356             call setout ;set port v prc
03C5   152B           01357             bsf o_c, 2 ;problikne red tunning na 1 sekundu
03C6   301A           01358             movlw b'11010' ;port D2
03C7   00D2           01359             movwf port
03C8   3002           01360             movlw b'10' ;procesor 2
03C9   00D3           01361             movwf prc 
03CA   1DAE           01362             btfss o_f, 3
03CB   21F2           01363             call setout ;set port v prc
03CC   15AE           01364             bsf o_f, 3 ;problikne red interier na 1 sekundu
03CD   14DA           01365             bsf casov, REDTUN ;do timeru ze po 1s vypne
03CE   301E           01366             movlw .30
03CF   00DC           01367             movwf timrtu
03D0   264F           01368             call t1_53 ;zahraje sirenou na 200ms
03D1   3001           01369             movlw b'00000001' ;nastavi do timeru ze houkne 1x po 200ms
03D2   00D8           01370             movwf cassir
03D3   3008           01371             movlw .8
03D4   00D7           01372             movwf timsir
03D5   13AE           01373             bcf o_f, 7 ;sklopi zrcatka neboli vypne
03D6   10E2           01374             bcf PORTE_temp, 1
03D7   1089           01375             bcf PORTE, 1
03D8   0000           01376             nop ;MLUV "auto zamčeno"
03D9   24E6           01377             call t1_07 ;zamkne
03DA   155A           01378             bsf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
03DB   300F           01379             movlw .15
03DC   00DD           01380             movwf timlza
                      01381 
                      01382                   ;zatahnuti okenek
                      01383             ;movf ir_90, W ;ulozi si aktualni polohy okenek pro stazeni pri odemknuti
                      01384             ;movwf o1tmp
                      01385             ;movf ir_91, W
                      01386             ;movwf o2tmp
                      01387             ;movf ir_92, W
                      01388             ;movwf o3tmp
                      01389             ;movf ir_93, W
                      01390             ;movwf o4tmp
                      01391             ;movlw b'00000000' ;nastavy vyslednou polohu vsech okenek na same nuly (vytazene)
                      01392             ;movwf o1tar
                      01393             ;movwf o2tar
                      01394             ;movwf o3tar
                      01395             ;movwf o4tar
                      01396  
03DD   0008           01397             return
                      01398             
                      01399 ;odemknuti alarm off
03DE   1858           01400 t1_01       btfsc cassir, 0 ;pokud nyni pulsne houka sirena tak nelze provadet operaci
03DF   0008           01401             return
                      01402             
03E0   13AC           01403             bcf o_d, 7 ;vypne alarm cidla
03E1   13DF           01404             bcf PORTB_temp, 7
03E2   1386           01405             bcf PORTB, 7
                      01406                   ;zapne probliknuti nejakych svetel a sirenu a po urcitem case vypne, STOP alarm
                      01407                   ;stahne okna do pamatovane polohy, prestane problikavat LED zamceno, promluvi ze je od
                            emceno
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03E3   2454           01408             call t1_04
                      01409             
                      01410             
03E4   248A           01411             call t1_05 ;zapne varovky
03E5   3007           01412             movlw b'00000111' ;nastavi do timeru ze houkne 3x po 200ms
03E6   00EB           01413             movwf casvar
03E7   3008           01414             movlw .8
03E8   00DB           01415             movwf timvar
                      01416             
                      01417             
03E9   3017           01418             movlw b'10111' ;port C7
03EA   00D2           01419             movwf port
03EB   3002           01420             movlw b'10' ;procesor 2
03EC   00D3           01421             movwf prc 
03ED   1DAB           01422             btfss o_c, 3
03EE   21F2           01423             call setout ;set port v prc
03EF   15AB           01424             bsf o_c, 3 ;problikne white tunning na 1 sekundu
03F0   301B           01425             movlw b'11011' ;port D3
03F1   00D2           01426             movwf port
03F2   3002           01427             movlw b'10' ;procesor 2
03F3   00D3           01428             movwf prc 
03F4   1E2E           01429             btfss o_f, 4
03F5   21F2           01430             call setout ;set port v prc
03F6   162E           01431             bsf o_f, 4 ;problikne white interier na 1 sekundu
03F7   15DA           01432             bsf casov, WHITUN ;do timeru ze po 1s vypne
03F8   301E           01433             movlw .30
03F9   00E3           01434             movwf timwtu
03FA   264F           01435             call t1_53 ;zahraje sirenou na 200ms
03FB   3007           01436             movlw b'00000111' ;nastavi do timeru ze houkne 2x po 200ms
03FC   00D8           01437             movwf cassir
03FD   3008           01438             movlw .8
03FE   00D7           01439             movwf timsir
03FF   17AE           01440             bsf o_f, 7 ;odklopi zrcatka neboli zapne
0400   14E2           01441             bsf PORTE_temp, 1
0401   1489           01442             bsf PORTE, 1
0402   0000           01443             nop ;MLUV "auto odemčeno"
0403   115A           01444             bcf casov, LEDZAM ;zapne problikavani LED zamceno po 500ms
0404   24F4           01445             call t1_08 ;odemkne
                      01446 
                      01447                   ;stahnuti okenek
                      01448             ;movf o1tmp, W
                      01449             ;movwf o1tar
                      01450             ;movf o2tmp, W
                      01451             ;movwf o2tar
                      01452             ;movf o3tmp, W
                      01453             ;movwf o3tar
                      01454             ;movf o4tmp, W
                      01455             ;movwf o4tar
                      01456  
0405   0008           01457             return
                      01458             
                      01459 ;spinacka poloha up
0406   1964           01460 t1_02       btfsc spinac, 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0407   0008           01461             return
0408   1403           01462             bsf STATUS, C
0409   0DE4           01463             rlf spinac, F
                      01464                   ;pokud poloha 3
040A   1D64           01465             btfss spinac, 2
040B   2C21           01466             goto t2_02
040C   1029           01467             bcf o_a, 0
040D   1060           01468             bcf PORTC_temp, 0
040E   1007           01469             bcf PORTC, 0
040F   10A9           01470             bcf o_a, 1
0410   10E0           01471             bcf PORTC_temp, 1
0411   1087           01472             bcf PORTC, 1
0412   1531           01473             bsf o_i, 2
0413   301A           01474             movlw b'11010' ;port D2
0414   00D2           01475             movwf port
0415   3003           01476             movlw b'11' ;procesor 3
0416   00D3           01477             movwf prc 
0417   21F2           01478             call setout ;set port v prc
0418   15B1           01479             bsf o_i, 3
0419   301B           01480             movlw b'11011' ;port D3
041A   00D2           01481             movwf port
041B   3003           01482             movlw b'11' ;procesor 3
041C   00D3           01483             movwf prc 
041D   21F2           01484             call setout ;set port v prc
041E   3014           01485             movlw .20 ;nastavi startovani pouze max na vterinu
041F   00E5           01486             movwf timspi
0420   0008           01487             return
                      01488             ;pokud poloha 2
0421   1CE4           01489 t2_02       btfss spinac, 1
0422   2C2A           01490             goto t3_02
0423   1429           01491             bsf o_a, 0
0424   1460           01492             bsf PORTC_temp, 0
0425   1407           01493             bsf PORTC, 0
0426   1529           01494             bsf o_a, 2
0427   1560           01495             bsf PORTC_temp, 2
0428   1507           01496             bsf PORTC, 2
0429   0008           01497             return
                      01498             ;pokud poloha 1
042A   14A9           01499 t3_02       bsf o_a, 1
042B   14E0           01500             bsf PORTC_temp, 1
042C   1487           01501             bsf PORTC, 1
042D   0008           01502             return
                      01503             
                      01504 ;spinacka poloha down
042E   1C64           01505 t1_03       btfss spinac, 0
042F   0008           01506             return
0430   1003           01507             bcf STATUS, C
0431   0CE4           01508             rrf spinac, F
                      01509             ;pokud poloha 2
0432   1CE4           01510             btfss spinac, 1
0433   2C47           01511             goto t2_03
0434   1429           01512             bsf o_a, 0
0435   1460           01513             bsf PORTC_temp, 0
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0436   1407           01514             bsf PORTC, 0
0437   14A9           01515             bsf o_a, 1
0438   14E0           01516             bsf PORTC_temp, 1
0439   1487           01517             bsf PORTC, 1
043A   1131           01518             bcf o_i, 2
043B   301A           01519             movlw b'11010' ;port D2
043C   00D2           01520             movwf port
043D   3003           01521             movlw b'11' ;procesor 3
043E   00D3           01522             movwf prc 
043F   2219           01523             call clrout ;set port v prc
0440   11B1           01524             bcf o_i, 3
0441   301B           01525             movlw b'11011' ;port D3
0442   00D2           01526             movwf port
0443   3003           01527             movlw b'11' ;procesor 3
0444   00D3           01528             movwf prc 
0445   2219           01529             call clrout ;set port v prc
0446   0008           01530             return
                      01531             ;pokud poloha 1
0447   1C64           01532 t2_03       btfss spinac, 0
0448   2C50           01533             goto t3_03
0449   1029           01534             bcf o_a, 0
044A   1060           01535             bcf PORTC_temp, 0
044B   1007           01536             bcf PORTC, 0
044C   1129           01537             bcf o_a, 2
044D   1160           01538             bcf PORTC_temp, 2
044E   1107           01539             bcf PORTC, 2
044F   0008           01540             return
                      01541             ;pokud poloha 0
0450   10A9           01542 t3_03       bcf o_a, 1
0451   10E0           01543             bcf PORTC_temp, 1
0452   1087           01544             bcf PORTC, 1
0453   0008           01545             return
                      01546             
                      01547 ;alarm stop
0454   1EDA           01548 t1_04       btfss casov, ALARM
0455   0008           01549             return
0456   3018           01550             movlw b'11000' ;port D0  ;sirena
0457   00D2           01551             movwf port
0458   3003           01552             movlw b'11' ;procesor 3
0459   00D3           01553             movwf prc 
045A   18AD           01554             btfsc o_e, 1
045B   2219           01555             call clrout ;set port v prc
045C   10AD           01556             bcf o_e, 1
                      01557             ;varovky
045D   248A           01558             call t1_05
                      01559             
                      01560             ;stroboskop
045E   3019           01561             movlw b'11001' ;port D1
045F   00D2           01562             movwf port
0460   3002           01563             movlw b'10' ;procesor 2
0461   00D3           01564             movwf prc 
0462   192D           01565             btfsc o_e, 2
0463   2219           01566             call clrout ;set port v prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0464   112D           01567             bcf o_e, 2
                      01568             
0465   3016           01569             movlw b'10110' ;port C6
0466   00D2           01570             movwf port
0467   3002           01571             movlw b'10' ;procesor 2
0468   00D3           01572             movwf prc 
0469   192B           01573             btfsc o_c, 2
046A   2219           01574             call clrout ;set port v prc
046B   112B           01575             bcf o_c, 2
046C   3017           01576             movlw b'10111' ;port C7
046D   00D2           01577             movwf port
046E   3002           01578             movlw b'10' ;procesor 2
046F   00D3           01579             movwf prc 
0470   19AB           01580             btfsc o_c, 3
0471   2219           01581             call clrout ;set port v prc
0472   11AB           01582             bcf o_c, 3
0473   301A           01583             movlw b'11010' ;port D2
0474   00D2           01584             movwf port
0475   3002           01585             movlw b'10' ;procesor 2
0476   00D3           01586             movwf prc 
0477   19AE           01587             btfsc o_f, 3
0478   2219           01588             call clrout ;set port v prc
0479   11AE           01589             bcf o_f, 3
047A   301B           01590             movlw b'11011' ;port D3
047B   00D2           01591             movwf port
047C   3002           01592             movlw b'10' ;procesor 2
047D   00D3           01593             movwf prc 
047E   1A2E           01594             btfsc o_f, 4
047F   2219           01595             call clrout ;set port v prc
0480   122E           01596             bcf o_f, 4
0481   3019           01597             movlw b'11001' ;port D1
0482   00D2           01598             movwf port
0483   3003           01599             movlw b'11' ;procesor 3
0484   00D3           01600             movwf prc 
0485   1A2B           01601             btfsc o_c, 4
0486   2219           01602             call clrout ;set port v prc
0487   122B           01603             bcf o_c, 4
                      01604             
0488   12DA           01605             bcf casov, ALARM ;zacne problikavat tuning, interier a klakson
0489   0008           01606             return
                      01607             
                      01608 ;varovna svetla
048A   186B           01609 t1_05       btfsc casvar, 0 ;pokud oba zaply oba vypne
048B   122D           01610             bcf o_e, 4
048C   186B           01611             btfsc casvar, 0 ;pokud oba zaply oba vypne
048D   1361           01612             bcf PORTD_temp, 6
048E   186B           01613             btfsc casvar, 0 ;pokud oba zaply oba vypne
048F   1308           01614             bcf PORTD, 6
0490   186B           01615             btfsc casvar, 0 ;pokud oba zaply oba vypne
0491   12AD           01616             bcf o_e, 5
0492   186B           01617             btfsc casvar, 0 ;pokud oba zaply oba vypne
0493   13E1           01618             bcf PORTD_temp, 7
0494   186B           01619             btfsc casvar, 0 ;pokud oba zaply oba vypne
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0495   1388           01620             bcf PORTD, 7
                      01621     
0496   1C6B           01622             btfss casvar, 0 ;pokud jeden vyply oba zapne
0497   162D           01623             bsf o_e, 4
0498   1C6B           01624             btfss casvar, 0 ;pokud jeden vyply oba zapne
0499   1761           01625             bsf PORTD_temp, 6
049A   1C6B           01626             btfss casvar, 0 ;pokud jeden vyply oba zapne
049B   1708           01627             bsf PORTD, 6
049C   1C6B           01628             btfss casvar, 0 ;pokud jeden vyply oba zapne
049D   16AD           01629             bsf o_e, 5
049E   1C6B           01630             btfss casvar, 0 ;pokud jeden vyply oba zapne
049F   17E1           01631             bsf PORTD_temp, 7
04A0   1C6B           01632             btfss casvar, 0 ;pokud jeden vyply oba zapne
04A1   1788           01633             bsf PORTD, 7
                      01634             
04A2   186B           01635             btfsc casvar, 0
04A3   3000           01636             movlw b'00000000' ;nastavi do timeru ze houkne 3x po 200ms
04A4   1C6B           01637             btfss casvar, 0
04A5   30FF           01638             movlw b'11111111' ;nastavi do timeru ze houkne 3x po 200ms
04A6   00EB           01639             movwf casvar
04A7   3008           01640             movlw .8
04A8   00DB           01641             movwf timvar
                      01642             
04A9   0008           01643             return
                      01644             
                      01645 ;vypnout vse
04AA   18D9           01646 t1_06       btfsc conf, STARTED ;kdyz neni nastartovano vypni vse
04AB   0008           01647             return
                      01648             ;svetla 
04AC   10AB           01649             bcf o_c, 1
04AD   11E0           01650             bcf PORTC_temp, 3
04AE   1187           01651             bcf PORTC, 3
                      01652             ;red tuning
                      01653             ;white tunning
                      01654             ;red interier
                      01655             ;white interier
04AF   3017           01656             movlw b'10111' ;port C7
04B0   00D2           01657             movwf port
04B1   3002           01658             movlw b'10' ;procesor 2
04B2   00D3           01659             movwf prc 
04B3   19AB           01660             btfsc o_c, 3
04B4   2219           01661             call clrout ;set port v prc
04B5   11AB           01662             bcf o_c, 3
04B6   301B           01663             movlw b'11011' ;port D3
04B7   00D2           01664             movwf port
04B8   3002           01665             movlw b'10' ;procesor 2
04B9   00D3           01666             movwf prc 
04BA   1A2E           01667             btfsc o_f, 4
04BB   2219           01668             call clrout ;set port v prc
04BC   122E           01669             bcf o_f, 4
04BD   3016           01670             movlw b'10110' ;port C6
04BE   00D2           01671             movwf port
04BF   3002           01672             movlw b'10' ;procesor 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04C0   00D3           01673             movwf prc 
04C1   192B           01674             btfsc o_c, 2
04C2   2219           01675             call clrout ;set port v prc
04C3   112B           01676             bcf o_c, 2
04C4   301A           01677             movlw b'11010' ;port D2
04C5   00D2           01678             movwf port
04C6   3002           01679             movlw b'10' ;procesor 2
04C7   00D3           01680             movwf prc 
04C8   19AE           01681             btfsc o_f, 3
04C9   2219           01682             call clrout ;set port v prc
04CA   11AE           01683             bcf o_f, 3
                      01684         
                      01685             ;stroboskop
04CB   3019           01686             movlw b'11001' ;port D1
04CC   00D2           01687             movwf port
04CD   3002           01688             movlw b'10' ;procesor 2
04CE   00D3           01689             movwf prc 
04CF   192D           01690             btfsc o_e, 2
04D0   2219           01691             call clrout ;set port v prc
04D1   112D           01692             bcf o_e, 2
                      01693             ;sirena
04D2   3018           01694             movlw b'11000' ;port D0
04D3   00D2           01695             movwf port
04D4   3003           01696             movlw b'11' ;procesor 3
04D5   00D3           01697             movwf prc 
04D6   18AD           01698             btfsc o_e, 1
04D7   2219           01699             call clrout ;set port v prc
04D8   10AD           01700             bcf o_e, 1
                      01701             ;parkovacky
04D9   11AD           01702             bcf o_e, 3
04DA   12E1           01703             bcf PORTD_temp, 5
04DB   1288           01704             bcf PORTD, 5
                      01705             ;mlhovky zadni
04DC   10AE           01706             bcf o_f, 1
04DD   1260           01707             bcf PORTC_temp, 4
04DE   1207           01708             bcf PORTC, 4
                      01709             ;mlhovky predni
04DF   12AB           01710             bcf o_c, 5
04E0   10E1           01711             bcf PORTD_temp, 1
04E1   1088           01712             bcf PORTD, 1
                      01713             ;rozehrivani okenka
04E2   112E           01714             bcf o_f, 2
04E3   12E0           01715             bcf PORTC_temp, 5
04E4   1287           01716             bcf PORTC, 5
04E5   0008           01717             return
                      01718             
                      01719 ;zamknuti
04E6   1451           01720 t1_07       bsf locked, 0 ;nastavi registr locked
04E7   12B0           01721             bcf o_h, 5 ;vypne v regs led odemceno
04E8   3015           01722             movlw b'10101' ;port C5
04E9   00D2           01723             movwf port
04EA   3003           01724             movlw b'11' ;procesor 3
04EB   00D3           01725             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04EC   2219           01726             call clrout ;smaz port v prc
04ED   1730           01727             bsf o_h, 6 ;zapne v regs led zamceno
04EE   3016           01728             movlw b'10110' ;port C6
04EF   00D2           01729             movwf port
04F0   3003           01730             movlw b'0011' ;procesor 3
04F1   00D3           01731             movwf prc
04F2   21F2           01732             call setout ;nastav port v prc
04F3   0008           01733             return
                      01734 ;odemknuti
04F4   1051           01735 t1_08       bcf locked, 0 ;smaze registr locked
04F5   16B0           01736             bsf o_h, 5 ;zapne v regs led odemceno
04F6   3015           01737             movlw b'10101' ;port C5
04F7   00D2           01738             movwf port
04F8   3003           01739             movlw b'11' ;procesor 3
04F9   00D3           01740             movwf prc
04FA   21F2           01741             call setout ;nastav port v prc
04FB   1730           01742             bsf o_h, 6 ;vypne v regs led zamceno
04FC   3016           01743             movlw b'10110' ;port C6
04FD   00D2           01744             movwf port
04FE   3003           01745             movlw b'0011' ;procesor 3
04FF   00D3           01746             movwf prc
0500   2219           01747             call clrout ;smaz port v prc
0501   0008           01748             return
                      01749             
                      01750 ;pripraveno
0502   0000           01751 t1_09       nop
0503   0008           01752             return
                      01753 
                      01754 ;odskok dvere 1
0504   162A           01755 t1_10       bsf o_b, 4
0505   301F           01756             movlw b'11111' ;port D7
0506   00D2           01757             movwf port
0507   3003           01758             movlw b'11' ;procesor 3
0508   00D3           01759             movwf prc
0509   21F2           01760             call setout ;smaz port v prc
050A   165A           01761             bsf casov, ODSKOK
050B   3008           01762             movlw .8
050C   00E6           01763             movwf timods
050D   0008           01764             return
                      01765             
                      01766 ;odskok dvere 2
050E   16AA           01767 t1_11       bsf o_b, 5
050F   17E0           01768             bsf PORTC_temp, 7
0510   1787           01769             bsf PORTC, 7
0511   165A           01770             bsf casov, ODSKOK
0512   3008           01771             movlw .8
0513   00E6           01772             movwf timods
0514   0008           01773             return
                      01774             
                      01775 ;odskok dvere 3
0515   1A31           01776 t1_12       btfsc o_i, 4
0516   0008           01777             return
0517   172A           01778             bsf o_b, 6
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0518   155F           01779             bsf PORTB_temp, 2
0519   1506           01780             bsf PORTB, 2
051A   165A           01781             bsf casov, ODSKOK
051B   3008           01782             movlw .8
051C   00E6           01783             movwf timods
051D   0008           01784             return
                      01785             
                      01786 ;odskok dvere 4
051E   1A31           01787 t1_13       btfsc o_i, 4
051F   0008           01788             return
0520   17AA           01789             bsf o_b, 7
0521   15DF           01790             bsf PORTB_temp, 3
0522   1586           01791             bsf PORTB, 3
0523   165A           01792             bsf casov, ODSKOK
0524   3008           01793             movlw .8
0525   00E6           01794             movwf timods
0526   0008           01795             return
                      01796             
                      01797 ;odskok kufr
0527   15AA           01798 t1_14       bsf o_b, 3
0528   165F           01799             bsf PORTB_temp, 4
0529   1606           01800             bsf PORTB, 4
052A   165A           01801             bsf casov, ODSKOK
052B   3008           01802             movlw .8
052C   00E6           01803             movwf timods
052D   0008           01804             return
                      01805             
                      01806 ;odskok nadrz
052E   142D           01807 t1_15       bsf o_e, 0
052F   16DF           01808             bsf PORTB_temp, 5
0530   1686           01809             bsf PORTB, 5
0531   165A           01810             bsf casov, ODSKOK
0532   3008           01811             movlw .8
0533   00E6           01812             movwf timods
0534   0008           01813             return
                      01814             
                      01815 ;odskok kapota
0535   142B           01816 t1_16       bsf o_c, 0
0536   175F           01817             bsf PORTB_temp, 6
0537   1706           01818             bsf PORTB, 6
0538   165A           01819             bsf casov, ODSKOK
0539   3008           01820             movlw .8
053A   00E6           01821             movwf timods
053B   0008           01822             return
                      01823             
                      01824 ;pripraveno
053C   0000           01825 t1_17       nop
053D   0008           01826             return
                      01827 ;pripraveno
053E   0000           01828 t1_18       nop
053F   0008           01829             return
                      01830 ;pripraveno
0540   0000           01831 t1_19       nop
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0541   0008           01832             return
                      01833 
                      01834 ;play pause
0542   14AC           01835 t1_20       bsf o_d, 1
0543   3010           01836             movlw b'10000' ;port C0
0544   00D2           01837             movwf port
0545   3002           01838             movlw b'10' ;procesor 2
0546   00D3           01839             movwf prc
0547   21F2           01840             call setout ;nastav port v prc
0548   0008           01841             return
                      01842             
                      01843 ;stop
0549   152C           01844 t1_21       bsf o_d, 2
054A   3011           01845             movlw b'10001' ;port C1
054B   00D2           01846             movwf port
054C   3002           01847             movlw b'10' ;procesor 2
054D   00D3           01848             movwf prc
054E   21F2           01849             call setout ;nastav port v prc
054F   0008           01850             return
                      01851             
                      01852 ;forwind
0550   15AC           01853 t1_22       bsf o_d, 3
0551   3012           01854             movlw b'10010' ;port C2
0552   00D2           01855             movwf port
0553   3002           01856             movlw b'10' ;procesor 2
0554   00D3           01857             movwf prc
0555   21F2           01858             call setout ;nastav port v prc
0556   0008           01859             return
                      01860             
                      01861 ;rewind
0557   162C           01862 t1_23       bsf o_d, 4
0558   3013           01863             movlw b'10011' ;port C3
0559   00D2           01864             movwf port
055A   3002           01865             movlw b'10' ;procesor 2
055B   00D3           01866             movwf prc
055C   21F2           01867             call setout ;nastav port v prc
055D   0008           01868             return
                      01869             
                      01870 ;volume +
055E   16AC           01871 t1_24       bsf o_d, 5
055F   3014           01872             movlw b'10100' ;port C4
0560   00D2           01873             movwf port
0561   3002           01874             movlw b'10' ;procesor 2
0562   00D3           01875             movwf prc
0563   21F2           01876             call setout ;nastav port v prc
0564   0008           01877             return
                      01878             
                      01879 ;volume -
0565   172C           01880 t1_25       bsf o_d, 6
0566   3015           01881             movlw b'10101' ;port C5
0567   00D2           01882             movwf port
0568   3002           01883             movlw b'10' ;procesor 2
0569   00D3           01884             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

056A   21F2           01885             call setout ;nastav port v prc
056B   0008           01886             return
                      01887             
                      01888 ;rozehrivani okenka
056C   082E           01889 t1_26       movf o_f, W
056D   00A4           01890             movwf r5
                      01891 
056E   1D24           01892             btfss r5, 2
056F   16E0           01893             bsf PORTC_temp, 5
0570   1D24           01894             btfss r5, 2
0571   1687           01895             bsf PORTC, 5
0572   1D24           01896             btfss r5, 2
0573   152E           01897             bsf o_f, 2 
                      01898         
0574   1924           01899             btfsc r5, 2
0575   12E0           01900             bcf PORTC_temp, 5
0576   1924           01901             btfsc r5, 2
0577   1287           01902             bcf PORTC, 5
0578   1924           01903             btfsc r5, 2
0579   112E           01904             bcf o_f, 2 
057A   0008           01905             return
                      01906             
                      01907 ;pripraveno
057B   0000           01908 t1_27       nop
057C   0008           01909             return
                      01910 ;pripraveno
057D   0000           01911 t1_28       nop
057E   0008           01912             return
                      01913 ;pripraveno
057F   0000           01914 t1_29       nop
0580   0008           01915             return
                      01916 
                      01917 ;okno 1 up        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ve vsech oknech dodelat drobne v
                            eci typu pokud je uplne nahore, tak se prepne dolu
0581   0008           01918 t1_30       return;movf o1tar, W
0582   00A4           01919             movwf r5
0583   30F0           01920             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0584   07A4           01921             addwf r5, F
0585   1C03           01922             btfss STATUS, C
0586   0008           01923             return
0587   0824           01924             movf r5, W
0588   00A4           01925             movwf o1tar
0589   0008           01926             return
                      01927             
                      01928 ;okno 2 up
058A   0008           01929 t1_31       return;movf o2tar, W
058B   00A4           01930             movwf r5
058C   30F0           01931             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
058D   07A4           01932             addwf r5, F
058E   1C03           01933             btfss STATUS, C
058F   0008           01934             return
0590   0824           01935             movf r5, W
0591   00A5           01936             movwf o2tar
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0592   0008           01937             return
                      01938             
                      01939 ;okno 3 up
0593   0008           01940 t1_32       return;btfsc o_i, 4
0594   0008           01941             return
0595   0826           01942             movf o3tar, W
0596   00A4           01943             movwf r5
0597   30F0           01944             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
0598   07A4           01945             addwf r5, F
0599   1C03           01946             btfss STATUS, C
059A   0008           01947             return
059B   0824           01948             movf r5, W
059C   00A6           01949             movwf o3tar
059D   0008           01950             return
                      01951             
                      01952 ;okno 4 up
059E   0008           01953 t1_33       return;btfsc o_i, 4
059F   0008           01954             return
05A0   0827           01955             movf o4tar, W
05A1   00A4           01956             movwf r5
05A2   30F0           01957             movlw b'11110000' ;odecte od cilove polohy 1/16tinu celeho okna
05A3   07A4           01958             addwf r5, F
05A4   1C03           01959             btfss STATUS, C
05A5   0008           01960             return
05A6   0824           01961             movf r5, W
05A7   00A7           01962             movwf o4tar
05A8   0008           01963             return
                      01964             
                      01965 ;okno 1 down
05A9   0008           01966 t1_34       return;movf o1tar, W
05AA   00A4           01967             movwf r5
05AB   3010           01968             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05AC   07A4           01969             addwf r5, F
05AD   1803           01970             btfsc STATUS, C
05AE   0008           01971             return
05AF   0824           01972             movf r5, W
05B0   00A4           01973             movwf o1tar
05B1   0008           01974             return
                      01975             
                      01976 ;okno 2 down
05B2   0008           01977 t1_35       return;movf o2tar, W
05B3   00A4           01978             movwf r5
05B4   3010           01979             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05B5   07A4           01980             addwf r5, F
05B6   1803           01981             btfsc STATUS, C
05B7   0008           01982             return
05B8   0824           01983             movf r5, W
05B9   00A5           01984             movwf o2tar
05BA   0008           01985             return
                      01986             
                      01987 ;okno 3 down
05BB   0008           01988 t1_36       return;btfsc o_i, 4
05BC   0008           01989             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05BD   0826           01990             movf o3tar, W
05BE   00A4           01991             movwf r5
05BF   3010           01992             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
05C0   07A4           01993             addwf r5, F
05C1   1803           01994             btfsc STATUS, C
05C2   0008           01995             return
05C3   0824           01996             movf r5, W
05C4   00A6           01997             movwf o3tar
05C5   0008           01998             return
                      01999             
                      02000 ;detský zámek zadních oken a dveri
05C6   1E31           02001 t1_37       btfss o_i, 4 ;zmeni stav indikace detskeho zamku
05C7   2DCF           02002             goto t2_37
05C8   1231           02003             bcf o_i, 4
05C9   301C           02004             movlw b'11100' ;port D4
05CA   00D2           02005             movwf port
05CB   3003           02006             movlw b'11' ;procesor 3
05CC   00D3           02007             movwf prc
05CD   2219           02008             call clrout ;nastav port v prc        
05CE   0008           02009             return
                      02010             
05CF   1631           02011 t2_37       bsf o_i, 4
05D0   301C           02012             movlw b'11100' ;port D4
05D1   00D2           02013             movwf port
05D2   3003           02014             movlw b'11' ;procesor 3
05D3   00D3           02015             movwf prc
05D4   21F2           02016             call setout ;nastav port v prc        
05D5   0008           02017             return
                      02018             
                      02019 ;pripraveno
05D6   0000           02020 t1_38       nop
05D7   0008           02021             return
                      02022 ;pripraveno
05D8   0000           02023 t1_39       nop
05D9   0008           02024             return
                      02025 
                      02026 ;RED tuning
05DA   3016           02027 t1_40       movlw b'10110' ;port C6
05DB   00D2           02028             movwf port
05DC   3002           02029             movlw b'10' ;procesor 2
05DD   00D3           02030             movwf prc
                      02031             
05DE   082B           02032             movf o_c, W
05DF   00A4           02033             movwf r5
                      02034 
05E0   1D24           02035             btfss r5, 2
05E1   21F2           02036             call setout ;nastav port v prc
05E2   1D24           02037             btfss r5, 2
05E3   152B           02038             bsf o_c, 2 
                      02039         
05E4   1924           02040             btfsc r5, 2
05E5   2219           02041             call clrout ;smaz port v prc
05E6   1924           02042             btfsc r5, 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05E7   112B           02043             bcf o_c, 2 
05E8   0008           02044             return
                      02045             
                      02046 ;WHITE tunning
05E9   3017           02047 t1_41       movlw b'10111' ;port C7
05EA   00D2           02048             movwf port
05EB   3002           02049             movlw b'10' ;procesor 2
05EC   00D3           02050             movwf prc
                      02051             
05ED   082B           02052             movf o_c, W
05EE   00A4           02053             movwf r5
                      02054 
05EF   1DA4           02055             btfss r5, 3
05F0   21F2           02056             call setout ;nastav port v prc
05F1   1DA4           02057             btfss r5, 3
05F2   15AB           02058             bsf o_c, 3 
                      02059         
05F3   19A4           02060             btfsc r5, 3
05F4   2219           02061             call clrout ;smaz port v prc
05F5   19A4           02062             btfsc r5, 3
05F6   11AB           02063             bcf o_c, 3 
05F7   0008           02064             return
                      02065             
                      02066 ;Parkovačky
05F8   082D           02067 t1_42       movf o_e, W
05F9   00A4           02068             movwf r5
                      02069 
05FA   1DA4           02070             btfss r5, 3
05FB   16E1           02071             bsf PORTD_temp, 5
05FC   1DA4           02072             btfss r5, 3
05FD   1688           02073             bsf PORTD, 5
05FE   1DA4           02074             btfss r5, 3
05FF   15AD           02075             bsf o_e, 3 
                      02076         
0600   19A4           02077             btfsc r5, 3
0601   12E1           02078             bcf PORTD_temp, 5
0602   19A4           02079             btfsc r5, 3
0603   1288           02080             bcf PORTD, 5
0604   19A4           02081             btfsc r5, 3
0605   11AD           02082             bcf o_e, 3 
0606   0008           02083             return
                      02084             
                      02085 ;Světla
0607   082B           02086 t1_43       movf o_c, W
0608   00A4           02087             movwf r5
                      02088 
0609   1CA4           02089             btfss r5, 1
060A   15E0           02090             bsf PORTC_temp, 3
060B   1CA4           02091             btfss r5, 1
060C   1587           02092             bsf PORTC, 3
060D   1CA4           02093             btfss r5, 1
060E   14AB           02094             bsf o_c, 1 
                      02095         
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

060F   18A4           02096             btfsc r5, 1
0610   11E0           02097             bcf PORTC_temp, 3
0611   18A4           02098             btfsc r5, 1
0612   1187           02099             bcf PORTC, 3
0613   18A4           02100             btfsc r5, 1
0614   10AB           02101             bcf o_c, 1 
0615   0008           02102             return
                      02103             
                      02104 ;Mlhovky zadní
0616   082E           02105 t1_44       movf o_f, W
0617   00A4           02106             movwf r5
                      02107 
0618   1CA4           02108             btfss r5, 1
0619   1660           02109             bsf PORTC_temp, 4
061A   1CA4           02110             btfss r5, 1
061B   1607           02111             bsf PORTC, 4
061C   1CA4           02112             btfss r5, 1
061D   14AE           02113             bsf o_f, 1 
                      02114         
061E   18A4           02115             btfsc r5, 1
061F   1260           02116             bcf PORTC_temp, 4
0620   18A4           02117             btfsc r5, 1
0621   1207           02118             bcf PORTC, 4
0622   18A4           02119             btfsc r5, 1
0623   10AE           02120             bcf o_f, 1 
0624   0008           02121             return
                      02122             
                      02123 ;Blinkr levý
0625   162D           02124 t1_45       bsf o_e, 4
0626   1761           02125             bsf PORTD_temp, 6
0627   1708           02126             bsf PORTD, 6
0628   0008           02127             return
                      02128             
                      02129 ;Blinkr pravý
0629   16AD           02130 t1_46       bsf o_e, 5
062A   17E1           02131             bsf PORTD_temp, 7
062B   1788           02132             bsf PORTD, 7
062C   0008           02133             return
                      02134             
                      02135 ;Mlhovky přední
062D   082B           02136 t1_47       movf o_c, W
062E   00A4           02137             movwf r5
                      02138 
062F   1EA4           02139             btfss r5, 5
0630   14E1           02140             bsf PORTD_temp, 1
0631   1EA4           02141             btfss r5, 5
0632   1488           02142             bsf PORTD, 1
0633   1EA4           02143             btfss r5, 5
0634   16AB           02144             bsf o_c, 5 
                      02145         
0635   1AA4           02146             btfsc r5, 5
0636   10E1           02147             bcf PORTD_temp, 1
0637   1AA4           02148             btfsc r5, 5
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0638   1088           02149             bcf PORTD, 1
0639   1AA4           02150             btfsc r5, 5
063A   12AB           02151             bcf o_c, 5 
063B   0008           02152             return
                      02153             
                      02154 ;pripraveno
063C   0000           02155 t1_48       nop
063D   0008           02156             return
                      02157 ;pripraveno
063E   0000           02158 t1_49       nop
063F   0008           02159             return
                      02160 
                      02161 ;klakson
0640   162B           02162 t1_50       bsf o_c, 4
0641   3019           02163             movlw b'11001' ;port D1
0642   00D2           02164             movwf port
0643   3003           02165             movlw b'11' ;procesor 3
0644   00D3           02166             movwf prc
0645   21F2           02167             call setout ;nastav port v prc
0646   0008           02168             return
                      02169             
                      02170 ;stěrače
0647   17AB           02171 t1_51       bsf o_c, 7
0648   15E1           02172             bsf PORTD_temp, 3
0649   1588           02173             bsf PORTD, 3
064A   0008           02174             return
                      02175 ;odstřikovače
064B   172B           02176 t1_52       bsf o_c, 6
064C   1561           02177             bsf PORTD_temp, 2
064D   1508           02178             bsf PORTD, 2
064E   0008           02179             return
                      02180             
                      02181 ;Siréna
064F   3018           02182 t1_53       movlw b'11000' ;port D0
0650   00D2           02183             movwf port
0651   3003           02184             movlw b'11' ;procesor 3
0652   00D3           02185             movwf prc
                      02186             
0653   082D           02187             movf o_e, W
0654   00A4           02188             movwf r5
                      02189 
0655   1CA4           02190             btfss r5, 1
0656   21F2           02191             call setout ;nastav port v prc
0657   1CA4           02192             btfss r5, 1
0658   14AD           02193             bsf o_e, 1 
                      02194         
0659   18A4           02195             btfsc r5, 1
065A   2219           02196             call clrout ;smaz port v prc
065B   18A4           02197             btfsc r5, 1
065C   10AD           02198             bcf o_e, 1 
                      02199         
065D   0008           02200             return
                      02201 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02202 ;stroboskop
065E   3019           02203 t1_54       movlw b'11001' ;port D1
065F   00D2           02204             movwf port
0660   3002           02205             movlw b'10' ;procesor 2
0661   00D3           02206             movwf prc
                      02207             
0662   082D           02208             movf o_e, W
0663   00A4           02209             movwf r5
                      02210 
0664   1D24           02211             btfss r5, 2
0665   21F2           02212             call setout ;nastav port v prc
0666   1D24           02213             btfss r5, 2
0667   152D           02214             bsf o_e, 2 
                      02215         
0668   1924           02216             btfsc r5, 2
0669   2219           02217             call clrout ;smaz port v prc
066A   1924           02218             btfsc r5, 2
066B   112D           02219             bcf o_e, 2 
066C   0008           02220             return
                      02221             
                      02222 ;Dálkové světla
066D   142C           02223 t1_55       bsf o_d, 0
066E   1661           02224             bsf PORTD_temp, 4
066F   1608           02225             bsf PORTD, 4
0670   0008           02226             return
                      02227             
                      02228 ;alarm start
0671   3018           02229 t1_56       movlw b'11000' ;port D0  ;sirena
0672   00D2           02230             movwf port
0673   3003           02231             movlw b'11' ;procesor 3
0674   00D3           02232             movwf prc 
0675   1CAD           02233             btfss o_e, 1
0676   21F2           02234             call setout ;set port v prc
0677   14AD           02235             bsf o_e, 1
                      02236             ;varovky
0678   248A           02237             call t1_05
                      02238             
                      02239             ;stroboskop
0679   3019           02240             movlw b'11001' ;port D1
067A   00D2           02241             movwf port
067B   3002           02242             movlw b'10' ;procesor 2
067C   00D3           02243             movwf prc 
067D   1D2D           02244             btfss o_e, 2
067E   21F2           02245             call setout ;set port v prc
067F   152D           02246             bsf o_e, 2
                      02247             ;red tunning
0680   3016           02248             movlw b'10110' ;port C6
0681   00D2           02249             movwf port
0682   3002           02250             movlw b'10' ;procesor 2
0683   00D3           02251             movwf prc 
0684   1D2B           02252             btfss o_c, 2
0685   21F2           02253             call setout ;set port v prc
0686   152B           02254             bsf o_c, 2
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02255             ;white interier
0687   301B           02256             movlw b'11011' ;port D3
0688   00D2           02257             movwf port
0689   3002           02258             movlw b'10' ;procesor 2
068A   00D3           02259             movwf prc 
068B   1E2E           02260             btfss o_f, 4
068C   21F2           02261             call setout ;set port v prc
068D   162E           02262             bsf o_f, 4
                      02263             
068E   16DA           02264             bsf casov, ALARM ;zacne problikavat tuning, interier a klakson
068F   301E           02265             movlw .30
0690   00E7           02266             movwf timala
                      02267 
0691   0008           02268             return
                      02269             
                      02270 ;pripraveno
0692   0000           02271 t1_57       nop
0693   0008           02272             return
                      02273             
                      02274 ;pripraveno
0694   0000           02275 t1_58       nop
0695   0008           02276             return
                      02277             
                      02278 ;pripraveno
0696   0000           02279 t1_59       nop
0697   0008           02280             return
                      02281         
                      02282 ;okno 4 down
0698   0008           02283 t1_60       return;btfsc o_i, 4
0699   0008           02284             return
069A   0827           02285             movf o4tar, W
069B   00A4           02286             movwf r5
069C   3010           02287             movlw b'00010000' ;pricte k cilove polohy 1/16tinu celeho okna
069D   07A4           02288             addwf r5, F
069E   1803           02289             btfsc STATUS, C
069F   0008           02290             return
06A0   0824           02291             movf r5, W
06A1   00A7           02292             movwf o4tar
06A2   0008           02293             return
                      02294             
                      02295 ;red interiér
06A3   301A           02296 t1_61       movlw b'11010' ;port D2
06A4   00D2           02297             movwf port
06A5   3002           02298             movlw b'10' ;procesor 2
06A6   00D3           02299             movwf prc
                      02300             
06A7   082E           02301             movf o_f, W
06A8   00A4           02302             movwf r5
                      02303 
06A9   1DA4           02304             btfss r5, 3
06AA   21F2           02305             call setout ;nastav port v prc
06AB   1DA4           02306             btfss r5, 3
06AC   15AE           02307             bsf o_f, 3 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02308         
06AD   19A4           02309             btfsc r5, 3
06AE   2219           02310             call clrout ;smaz port v prc
06AF   19A4           02311             btfsc r5, 3
06B0   11AE           02312             bcf o_f, 3 
06B1   0008           02313             return
                      02314             
                      02315 ;white interier
06B2   301B           02316 t1_62       movlw b'11011' ;port D3
06B3   00D2           02317             movwf port
06B4   3002           02318             movlw b'10' ;procesor 2
06B5   00D3           02319             movwf prc
                      02320             
06B6   082E           02321             movf o_f, W
06B7   00A4           02322             movwf r5
                      02323 
06B8   1E24           02324             btfss r5, 4
06B9   21F2           02325             call setout ;nastav port v prc
06BA   1E24           02326             btfss r5, 4
06BB   162E           02327             bsf o_f, 4 
                      02328         
06BC   1A24           02329             btfsc r5, 4
06BD   2219           02330             call clrout ;smaz port v prc
06BE   1A24           02331             btfsc r5, 4
06BF   122E           02332             bcf o_f, 4 
06C0   0008           02333             return
                      02334             
                      02335 ;klima on/off
06C1   17AD           02336 t1_63       bsf o_e, 7
06C2   301E           02337             movlw b'11110' ;port D6
06C3   00D2           02338             movwf port
06C4   3002           02339             movlw b'10' ;procesor 2
06C5   00D3           02340             movwf prc
06C6   21F2           02341             call setout ;nastav port v prc
06C7   165A           02342             bsf casov, ODSKOK
06C8   3008           02343             movlw .8
06C9   00E6           02344             movwf timods
06CA   0008           02345             return
                      02346             
                      02347 ;klima teplota up
06CB   172D           02348 t1_64       bsf o_e, 6
06CC   301C           02349             movlw b'11100' ;port D4
06CD   00D2           02350             movwf port
06CE   3002           02351             movlw b'10' ;procesor 2
06CF   00D3           02352             movwf prc
06D0   21F2           02353             call setout ;nastav port v prc
06D1   165A           02354             bsf casov, ODSKOK
06D2   3008           02355             movlw .8
06D3   00E6           02356             movwf timods
06D4   0008           02357             return
                      02358             
                      02359 ;klima teplota down
06D5   16AE           02360 t1_65       bsf o_f, 5
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06D6   301D           02361             movlw b'11101' ;port D5
06D7   00D2           02362             movwf port
06D8   3002           02363             movlw b'10' ;procesor 2
06D9   00D3           02364             movwf prc
06DA   21F2           02365             call setout ;nastav port v prc
06DB   165A           02366             bsf casov, ODSKOK
06DC   3008           02367             movlw .8
06DD   00E6           02368             movwf timods
06DE   0008           02369             return
                      02370             
                      02371 ;klima mista ventilace
06DF   142E           02372 t1_66       bsf o_f, 0
06E0   301F           02373             movlw b'11111' ;port D7
06E1   00D2           02374             movwf port
06E2   3002           02375             movlw b'10' ;procesor 2
06E3   00D3           02376             movwf prc
06E4   21F2           02377             call setout ;nastav port v prc
06E5   165A           02378             bsf casov, ODSKOK
06E6   3008           02379             movlw .8
06E7   00E6           02380             movwf timods
06E8   0008           02381             return
                      02382             
                      02383 ;pripraveno
06E9   0000           02384 t1_67       nop
06EA   0008           02385             return
                      02386 ;pripraveno
06EB   0000           02387 t1_68       nop
06EC   0008           02388             return
                      02389 ;pripraveno
06ED   0000           02390 t1_69       nop
06EE   0008           02391             return
                      02392 
06EF   0000           02393 t1_x        nop
06F0   0008           02394             return
                      02395             
                      02396 
                      02397 
                      02398 
                      02399 
                      02400 
06F1   3005           02401 w20i        movlw .5
06F2   00A3           02402             movwf r4
06F3   0BA3           02403             decfsz r4, F
06F4   2EF3           02404             goto $-1
06F5   0008           02405             return
                      02406 
                      02407 ;cekej cca 100 cyklu 40us  + u kazdeho cekani je 7 cyklu povinych
06F6   3050           02408 w100c       movlw .80
06F7   00A3           02409             movwf r4
06F8   0BA3           02410             decfsz r4, F
06F9   2EF8           02411             goto $-1
06FA   0008           02412             return
                      02413 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02414 ;cekej necelou polovinu w100c
06FB   301E           02415 w40c        movlw .30
06FC   00A3           02416             movwf r4
06FD   0BA3           02417             decfsz r4, F
06FE   2EFD           02418             goto $-1
06FF   0008           02419             return
                      02420             
                      02421 
                      02422 
                      02423 
                      02424 
                      02425 
0700   3019           02426 klakson     movlw b'11001' ;port D1
0701   00D2           02427             movwf port
0702   3003           02428             movlw b'11' ;procesor 3
0703   00D3           02429             movwf prc
                      02430             
0704   082B           02431             movf o_c, W
0705   00A4           02432             movwf r5
                      02433 
0706   1E24           02434             btfss r5, 4
0707   21F2           02435             call setout ;nastav port v prc
0708   1E24           02436             btfss r5, 4
0709   162B           02437             bsf o_c, 4 
                      02438         
070A   1A24           02439             btfsc r5, 4
070B   2219           02440             call clrout ;smaz port v prc
070C   1A24           02441             btfsc r5, 4
070D   122B           02442             bcf o_c, 4 
070E   0008           02443             return
                      02444 
                      02445 
                      02446 ;zmeni stav LED zamceno
070F   3016           02447 ledzam      movlw b'10110' ;port C6
0710   00D2           02448             movwf port
0711   3003           02449             movlw b'11' ;procesor 3
0712   00D3           02450             movwf prc
                      02451             
0713   0830           02452             movf o_h, W
0714   00A4           02453             movwf r5
                      02454 
0715   1F24           02455             btfss r5, 6
0716   21F2           02456             call setout ;nastav port v prc
0717   1F24           02457             btfss r5, 6
0718   1730           02458             bsf o_h, 6 
                      02459         
0719   1B24           02460             btfsc r5, 6
071A   2219           02461             call clrout ;smaz port v prc
071B   1B24           02462             btfsc r5, 6
071C   1330           02463             bcf o_h, 6 
                      02464         
071D   0008           02465             return
                      02466 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02467 
                      02468 
                      02469 
                      02470 
                      02471 
                      02472 
                      02473 
                      02474 
                      02475 
                      02476 
                      02477 
0800                  02478             org 800h ;zacina druha stranka programu
0800   118A           02479 restart     bcf PCLATH,3 ;Select page 0
                      02480             ;Po restartu se obnovi stare registry PORTU
                      02481 
0801   085E           02482             movf PORTA_temp, W
0802   0085           02483             movwf PORTA
0803   085F           02484             movf PORTB_temp, W
0804   0086           02485             movwf PORTB
0805   0860           02486             movf PORTC_temp, W
0806   0087           02487             movwf PORTC
0807   0861           02488             movf PORTD_temp, W
0808   0088           02489             movwf PORTD
0809   0862           02490             movf PORTE_temp, W
080A   0089           02491             movwf PORTE
                      02492 
                      02493             ;zapne zadni pasy po restartu
080B   300E           02494             movlw b'01110' ;port B6
080C   00D2           02495             movwf port
080D   3003           02496             movlw b'11' ;procesor 3
080E   00D3           02497             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
080F   21F2           02498             call setout ;nastav port v prc
0810   172F           02499             bsf o_g, 6 
                      02500             
0811   300F           02501             movlw b'01111' ;port B7
0812   00D2           02502             movwf port
0813   3003           02503             movlw b'11' ;procesor 3
0814   00D3           02504             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0815   21F2           02505             call setout ;nastav port v prc
0816   17AF           02506             bsf o_g, 7 
                      02507 
                      02508             ; zapne predni pasy po startu
0817   300C           02509             movlw b'01100' ;port B4
0818   00D2           02510             movwf port
0819   3003           02511             movlw b'11' ;procesor 3
081A   00D3           02512             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
081B   2219           02513             call clrout ;nastav port v prc
081C   122F           02514             bcf o_g, 4 
                      02515             
081D   300D           02516             movlw b'01101' ;port B5
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

081E   00D2           02517             movwf port
081F   3003           02518             movlw b'11' ;procesor 3
0820   00D3           02519             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0821   2219           02520             call clrout ;nastav port v prc
0822   12AF           02521             bcf o_g, 5 
                      02522 
                      02523 
0823   158A           02524             bsf PCLATH,3 ;Select page 0
0824   2848           02525             goto loop
                      02526     
0825   118A           02527 start       bcf PCLATH,3 ;Select page 0
                      02528             
0826   01DE           02529             clrf PORTA_temp
0827   01DF           02530             clrf PORTB_temp
0828   01E0           02531             clrf PORTC_temp
0829   01E1           02532             clrf PORTD_temp
082A   01E2           02533             clrf PORTE_temp
                      02534             
Message[306]: Crossing page boundary -- ensure page bits are set.
082B   23A0           02535             call t1_00  ;@todo: Zkouška, aby se po startu vše nevypínalo ;po startu zamkne a zapne al
                            arm
                      02536             
                      02537             ; zapne predni pasy po startu
082C   300C           02538             movlw b'01100' ;port B4
082D   00D2           02539             movwf port
082E   3003           02540             movlw b'11' ;procesor 3
082F   00D3           02541             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0830   21F2           02542             call setout ;nastav port v prc
0831   162F           02543             bsf o_g, 4 
                      02544             
0832   300D           02545             movlw b'01101' ;port B5
0833   00D2           02546             movwf port
0834   3003           02547             movlw b'11' ;procesor 3
0835   00D3           02548             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
0836   21F2           02549             call setout ;nastav port v prc
0837   16AF           02550             bsf o_g, 5 
                      02551 
                      02552             ;zapne zadni pasy po restartu
0838   300E           02553             movlw b'01110' ;port B6
0839   00D2           02554             movwf port
083A   3003           02555             movlw b'11' ;procesor 3
083B   00D3           02556             movwf prc
Message[306]: Crossing page boundary -- ensure page bits are set.
083C   2219           02557             call clrout ;nastav port v prc
083D   132F           02558             bcf o_g, 6 
                      02559             
083E   300F           02560             movlw b'01111' ;port B7
083F   00D2           02561             movwf port
0840   3003           02562             movlw b'11' ;procesor 3
0841   00D3           02563             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0842   2219           02564             call clrout ;nastav port v prc
0843   13AF           02565             bcf o_g, 7 
                      02566 
0844   3019           02567             movlw .25
0845   00EC           02568             movwf vterina
                      02569         
                      02570 
0846   158A           02571             bsf PCLATH,3 ;Select page 0
0847   2848           02572             goto loop
                      02573 
0848   118A           02574 loop        bcf PCLATH,3 ;Select page 0
                      02575             
0849   0064           02576             clrwdt
                      02577    
                      02578             ;#### Čeká několik cyklů aby se stihly ostatní procesory vzpamatovat z případnejch pr
                            oblémů
                      02579             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084A   2059           02580             call watchstart
                      02581             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084B   205C           02582             call watchwait
                      02583             
                      02584             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084C   2059           02585             call watchstart
                      02586             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084D   205C           02587             call watchwait
                      02588             
                      02589             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084E   2059           02590             call watchstart
                      02591             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
084F   205C           02592             call watchwait
                      02593             
                      02594             ; Začne počítat čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0850   2059           02595             call watchstart
                      02596             ; Čeká až skončí čas odpočinku procesorů WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0851   205C           02597             call watchwait
                      02598       
                      02599       
                      02600       
0852   1A59           02601             btfsc conf, T1OF ;pokud timer 1 přetekl, spustí jeho obsluhu
Message[306]: Crossing page boundary -- ensure page bits are set.
0853   2062           02602             call timer1
                      02603 
0854   158A           02604             bsf PCLATH,3 ;Select page 1
                      02605             ;call okna ;spouští obsluhu jednotlivých okének DEBUG
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0855   118A           02606             bcf PCLATH,3 ;Select page 0
                      02607 
                      02608 
                      02609             
                      02610             
0856   3000           02611             movlw .0 ;nastavime ANx kde x je zadane cislo
0857   00F6           02612             movwf ran1
0858   158A           02613             bsf PCLATH,3 ;Select page 1
0859   22F8           02614             call adconv
085A   118A           02615             bcf PCLATH,3 ;Select page 0
085B   0876           02616             movf ran1, W
085C   00A0           02617             movwf r1
                      02618             
085D   093F           02619             comf ir_58, W
085E   07A0           02620             addwf r1, F
085F   081E           02621             movf ADRESH, W
0860   0FA0           02622             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0861   00BF           02623             movwf ir_58  ;prepise reg AN prevedenou hodnotou
0862   0820           02624             movf r1, W
0863   118A           02625             bcf PCLATH,3 ;Select page 0
0864   1D03           02626             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0865   2240           02627             call if_58  ;pokud zmena odesle na sbernici
                      02628             
                      02629             
0866   3001           02630             movlw .1 ;nastavime ANx kde x je zadane cislo
0867   00F6           02631             movwf ran1
0868   158A           02632             bsf PCLATH,3 ;Select page 1
0869   22F8           02633             call adconv
086A   118A           02634             bcf PCLATH,3 ;Select page 0
086B   0876           02635             movf ran1, W
086C   00A0           02636             movwf r1
                      02637             
086D   0943           02638             comf ir_62, W
086E   07A0           02639             addwf r1, F
086F   081E           02640             movf ADRESH, W
0870   0FA0           02641             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0871   00C3           02642             movwf ir_62  ;prepise reg AN prevedenou hodnotou
0872   0820           02643             movf r1, W
0873   118A           02644             bcf PCLATH,3 ;Select page 0
0874   1D03           02645             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0875   228D           02646             call if_62  ;pokud zmena odesle na sbernici
                      02647             
                      02648             
0876   3002           02649             movlw .2 ;nastavime ANx kde x je zadane cislo
0877   00F6           02650             movwf ran1
0878   158A           02651             bsf PCLATH,3 ;Select page 1
0879   22F8           02652             call adconv
087A   118A           02653             bcf PCLATH,3 ;Select page 0
087B   0876           02654             movf ran1, W
087C   00A0           02655             movwf r1
                      02656             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

087D   0937           02657             comf ir_50, W
087E   07A0           02658             addwf r1, F
087F   081E           02659             movf ADRESH, W
0880   0FA0           02660             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0881   00B7           02661             movwf ir_50  ;prepise reg AN prevedenou hodnotou
0882   0820           02662             movf r1, W
0883   118A           02663             bcf PCLATH,3 ;Select page 0
0884   1D03           02664             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0885   22DA           02665             call if_50  ;pokud zmena odesle na sbernici
                      02666             
                      02667             
0886   3003           02668             movlw .3 ;nastavime ANx kde x je zadane cislo
0887   00F6           02669             movwf ran1
0888   158A           02670             bsf PCLATH,3 ;Select page 1
0889   22F8           02671             call adconv
088A   118A           02672             bcf PCLATH,3 ;Select page 0
088B   0876           02673             movf ran1, W
088C   00A0           02674             movwf r1
                      02675             
088D   0940           02676             comf ir_59, W
088E   07A0           02677             addwf r1, F
088F   081E           02678             movf ADRESH, W
0890   0FA0           02679             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0891   00C0           02680             movwf ir_59  ;prepise reg AN prevedenou hodnotou
0892   0820           02681             movf r1, W
0893   118A           02682             bcf PCLATH,3 ;Select page 0
0894   1D03           02683             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0895   22DC           02684             call if_59  ;pokud zmena odesle na sbernici
                      02685             
                      02686             
0896   3004           02687             movlw .4 ;nastavime ANx kde x je zadane cislo
0897   00F6           02688             movwf ran1
0898   158A           02689             bsf PCLATH,3 ;Select page 1
0899   22F8           02690             call adconv
089A   118A           02691             bcf PCLATH,3 ;Select page 0
089B   0876           02692             movf ran1, W
089C   00A0           02693             movwf r1
                      02694             
089D   0941           02695             comf ir_60, W
089E   07A0           02696             addwf r1, F
089F   081E           02697             movf ADRESH, W
08A0   0FA0           02698             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08A1   00C1           02699             movwf ir_60  ;prepise reg AN prevedenou hodnotou
08A2   0820           02700             movf r1, W
08A3   118A           02701             bcf PCLATH,3 ;Select page 0
08A4   1D03           02702             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08A5   22DE           02703             call if_60  ;pokud zmena odesle na sbernici
                      02704             
                      02705             
08A6   3005           02706             movlw .5 ;nastavime ANx kde x je zadane cislo
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08A7   00F6           02707             movwf ran1
08A8   158A           02708             bsf PCLATH,3 ;Select page 1
08A9   22F8           02709             call adconv
08AA   118A           02710             bcf PCLATH,3 ;Select page 0
08AB   0876           02711             movf ran1, W
08AC   00A0           02712             movwf r1
                      02713             
08AD   0942           02714             comf ir_61, W
08AE   07A0           02715             addwf r1, F
08AF   081E           02716             movf ADRESH, W
08B0   0FA0           02717             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08B1   00C2           02718             movwf ir_61  ;prepise reg AN prevedenou hodnotou
08B2   0820           02719             movf r1, W
08B3   118A           02720             bcf PCLATH,3 ;Select page 0
08B4   1D03           02721             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08B5   22E0           02722             call if_61  ;pokud zmena odesle na sbernici
                      02723             
                      02724             
                      02725             
                      02726             
                      02727 
                      02728 
                      02729             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08B6   2059           02730             call watchstart
                      02731 
                      02732             ;dotaz na procesor 2
08B7   3002           02733             movlw .2  ;oznaceni ciloveho procesoru
08B8   00F8           02734             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
08B9   2139           02735             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02736     
                      02737             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
08BA   205C           02738             call watchwait
                      02739     
08BB   0870           02740             movf pri0, W    ;kontroluje zda je zmena od minule
08BC   00A0           02741             movwf r1
08BD   0938           02742             comf ir_51, W
08BE   07A0           02743             addwf r1, F
08BF   0870           02744             movf pri0, W
08C0   0FA0           02745             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08C1   00B8           02746             movwf ir_51  ;priepise reg AN prievedenou hodnotou
08C2   0820           02747             movf r1, W
08C3   1D03           02748             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08C4   22E6           02749             call if_51  ;pokud zmena spusti podprig
                      02750     
08C5   0871           02751             movf pri1, W    ;kontroluje zda je zmena od minule
08C6   00A0           02752             movwf r1
08C7   0939           02753             comf ir_52, W
08C8   07A0           02754             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C9   0871           02755             movf pri1, W
08CA   0FA0           02756             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08CB   00B9           02757             movwf ir_52  ;priepise reg AN prievedenou hodnotou
08CC   0820           02758             movf r1, W
08CD   1D03           02759             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08CE   22E8           02760             call if_52  ;pokud zmena spusti podprig
                      02761     
                      02762     
08CF   0872           02763             movf pri2, W    ;kontroluje zda je zmena od minule
08D0   00A0           02764             movwf r1
08D1   093A           02765             comf ir_53, W
08D2   07A0           02766             addwf r1, F
08D3   0872           02767             movf pri2, W
08D4   0FA0           02768             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08D5   00BA           02769             movwf ir_53  ;priepise reg AN prievedenou hodnotou
08D6   0820           02770             movf r1, W
08D7   1D03           02771             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08D8   22EA           02772             call if_53  ;pokud zmena spusti podprig
                      02773     
                      02774     
08D9   0873           02775             movf pri3, W    ;kontroluje zda je zmena od minule
08DA   00A0           02776             movwf r1
08DB   093B           02777             comf ir_54, W
08DC   07A0           02778             addwf r1, F
08DD   0873           02779             movf pri3, W
08DE   0FA0           02780             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08DF   00BB           02781             movwf ir_54  ;priepise reg AN prievedenou hodnotou
08E0   0820           02782             movf r1, W
08E1   1D03           02783             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08E2   22EC           02784             call if_54  ;pokud zmena spusti podprig
                      02785     
                      02786     
08E3   0874           02787             movf pri4, W    ;kontroluje zda je zmena od minule
08E4   00A0           02788             movwf r1
08E5   093C           02789             comf ir_55, W
08E6   07A0           02790             addwf r1, F
08E7   0874           02791             movf pri4, W
08E8   0FA0           02792             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08E9   00BC           02793             movwf ir_55  ;priepise reg AN prievedenou hodnotou
08EA   0820           02794             movf r1, W
08EB   1D03           02795             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08EC   22EE           02796             call if_55  ;pokud zmena spusti podprig
                      02797     
                      02798     
08ED   0875           02799             movf pri5, W    ;kontroluje zda je zmena od minule
08EE   00A0           02800             movwf r1
08EF   093D           02801             comf ir_56, W
08F0   07A0           02802             addwf r1, F
08F1   0875           02803             movf pri5, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08F2   0FA0           02804             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08F3   00BD           02805             movwf ir_56  ;priepise reg AN prievedenou hodnotou
08F4   0820           02806             movf r1, W
08F5   1D03           02807             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
08F6   22F0           02808             call if_56  ;pokud zmena spusti podprig
                      02809     
                      02810     
08F7   0876           02811             movf pri6, W    ;kontroluje zda je zmena od minule
08F8   00A0           02812             movwf r1
08F9   093E           02813             comf ir_57, W
08FA   07A0           02814             addwf r1, F
08FB   0876           02815             movf pri6, W
08FC   0FA0           02816             incfsz r1, F  ;pokud zadna zmena pokracuje dal
08FD   00BE           02817             movwf ir_57  ;priepise reg AN prievedenou hodnotou
08FE   0820           02818             movf r1, W
08FF   1D03           02819             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0900   22F2           02820             call if_57  ;pokud zmena spusti podprig
                      02821     
                      02822     
0901   0877           02823             movf pri7, W    ;kontroluje zda je zmena od minule
0902   00A0           02824             movwf r1
0903   0936           02825             comf ir_49, W
0904   07A0           02826             addwf r1, F
0905   0877           02827             movf pri7, W
0906   0FA0           02828             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0907   00B6           02829             movwf ir_49  ;priepise reg AN prievedenou hodnotou
0908   0820           02830             movf r1, W
0909   1D03           02831             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
090A   22E2           02832             call if_49  ;pokud zmena spusti podprig
                      02833 
                      02834 
                      02835             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090B   2059           02836             call watchstart
                      02837 
                      02838             ;dotaz na procesor 3
090C   3003           02839             movlw .3  ;oznaceni ciloveho procesoru
090D   00F8           02840             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
090E   2139           02841             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02842             
                      02843             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
090F   205C           02844             call watchwait
                      02845             
                      02846     
                      02847     
0910   0870           02848             movf pri0, W    ;kontroluje zda je zmena od minule
0911   00A0           02849             movwf r1
0912   0944           02850             comf ir_80, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0913   07A0           02851             addwf r1, F
0914   0870           02852             movf pri0, W
0915   0FA0           02853             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0916   00C4           02854             movwf ir_80  ;priepise reg AN prievedenou hodnotou
0917   0820           02855             movf r1, W
0918   1D03           02856             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0919   22E4           02857             call if_80  ;pokud zmena spusti podprig
                      02858     
                      02859     
091A   0871           02860             movf pri1, W    ;kontroluje zda je zmena od minule
091B   00A0           02861             movwf r1
091C   0945           02862             comf ir_84, W
091D   07A0           02863             addwf r1, F
091E   0871           02864             movf pri1, W
091F   0FA0           02865             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0920   00C5           02866             movwf ir_84  ;priepise reg AN prievedenou hodnotou
0921   0820           02867             movf r1, W
0922   1D03           02868             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0923   22F4           02869             call if_84  ;pokud zmena spusti podprig
                      02870     
                      02871     
0924   0872           02872             movf pri2, W    ;kontroluje zda je zmena od minule
0925   00A0           02873             movwf r1
0926   0946           02874             comf ir_85, W
0927   07A0           02875             addwf r1, F
0928   0872           02876             movf pri2, W
0929   0FA0           02877             incfsz r1, F  ;pokud zadna zmena pokracuje dal
092A   00C6           02878             movwf ir_85  ;priepise reg AN prievedenou hodnotou
092B   0820           02879             movf r1, W
092C   1D03           02880             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
092D   22F6           02881             call if_85  ;pokud zmena spusti podprig
                      02882     
                      02883     
092E   0873           02884             movf pri3, W    ;kontroluje zda je zmena od minule
092F   00A0           02885             movwf r1
0930   0947           02886             comf ir_86, W
0931   07A0           02887             addwf r1, F
0932   0873           02888             movf pri3, W
0933   0FA0           02889             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0934   00C7           02890             movwf ir_86  ;priepise reg AN prievedenou hodnotou
0935   0820           02891             movf r1, W
0936   1D03           02892             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0937   22F8           02893             call if_86  ;pokud zmena spusti podprig
                      02894     
                      02895     
0938   0874           02896             movf pri4, W    ;kontroluje zda je zmena od minule
0939   00A0           02897             movwf r1
093A   0948           02898             comf ir_87, W
093B   07A0           02899             addwf r1, F
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

093C   0874           02900             movf pri4, W
093D   0FA0           02901             incfsz r1, F  ;pokud zadna zmena pokracuje dal
093E   00C8           02902             movwf ir_87  ;priepise reg AN prievedenou hodnotou
093F   0820           02903             movf r1, W
0940   1D03           02904             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0941   22FA           02905             call if_87  ;pokud zmena spusti podprig
                      02906     
                      02907     
0942   0875           02908             movf pri5, W    ;kontroluje zda je zmena od minule
0943   00A0           02909             movwf r1
0944   0949           02910             comf ir_88, W
0945   07A0           02911             addwf r1, F
0946   0875           02912             movf pri5, W
0947   0FA0           02913             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0948   00C9           02914             movwf ir_88  ;priepise reg AN prievedenou hodnotou
0949   0820           02915             movf r1, W
094A   1D03           02916             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
094B   22FC           02917             call if_88  ;pokud zmena spusti podprig
                      02918     
                      02919     
094C   0876           02920             movf pri6, W    ;kontroluje zda je zmena od minule
094D   00A0           02921             movwf r1
094E   094A           02922             comf ir_89, W
094F   07A0           02923             addwf r1, F
0950   0876           02924             movf pri6, W
0951   0FA0           02925             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0952   00CA           02926             movwf ir_89  ;priepise reg AN prievedenou hodnotou
0953   0820           02927             movf r1, W
0954   1D03           02928             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0955   22FE           02929             call if_89  ;pokud zmena spusti podprig
                      02930     
                      02931     
0956   0877           02932             movf pri7, W    ;kontroluje zda je zmena od minule
0957   00A0           02933             movwf r1
0958   094B           02934             comf ir_90, W
0959   07A0           02935             addwf r1, F
095A   0877           02936             movf pri7, W
095B   0FA0           02937             incfsz r1, F  ;pokud zadna zmena pokracuje dal
095C   00CB           02938             movwf ir_90  ;priepise reg AN prievedenou hodnotou
095D   0820           02939             movf r1, W
095E   1D03           02940             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
095F   2300           02941             call if_90  ;pokud zmena spusti podprig
                      02942 
                      02943 
                      02944 
                      02945             ; Začne počítat čas pro procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0960   2059           02946             call watchstart
                      02947 
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02948             ;dotaz na procesor 4
0961   3004           02949             movlw .4  ;oznaceni ciloveho procesoru
0962   00F8           02950             movwf cil
Message[306]: Crossing page boundary -- ensure page bits are set.
0963   2139           02951             call dotaz  ;prijem dat z procesoru do pri0 - pri7
                      02952             
                      02953             ; Čeká až doběhne čas vyhrazený pro tento procesor WATCH2
Message[306]: Crossing page boundary -- ensure page bits are set.
0964   205C           02954             call watchwait
                      02955             
                      02956     
                      02957     
0965   0870           02958             movf pri0, W    ;kontroluje zda je zmena od minule
0966   00A0           02959             movwf r1
0967   094C           02960             comf ir_91, W
0968   07A0           02961             addwf r1, F
0969   0870           02962             movf pri0, W
096A   0FA0           02963             incfsz r1, F  ;pokud zadna zmena pokracuje dal
096B   00CC           02964             movwf ir_91  ;priepise reg AN prievedenou hodnotou
096C   0820           02965             movf r1, W
096D   1D03           02966             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
096E   2302           02967             call if_91  ;pokud zmena spusti podprig
                      02968     
                      02969     
096F   0871           02970             movf pri1, W    ;kontroluje zda je zmena od minule
0970   00A0           02971             movwf r1
0971   094D           02972             comf ir_92, W
0972   07A0           02973             addwf r1, F
0973   0871           02974             movf pri1, W
0974   0FA0           02975             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0975   00CD           02976             movwf ir_92  ;priepise reg AN prievedenou hodnotou
0976   0820           02977             movf r1, W
0977   1D03           02978             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0978   2304           02979             call if_92  ;pokud zmena spusti podprig
                      02980     
                      02981     
0979   0872           02982             movf pri2, W    ;kontroluje zda je zmena od minule
097A   00A0           02983             movwf r1
097B   094E           02984             comf ir_93, W
097C   07A0           02985             addwf r1, F
097D   0872           02986             movf pri2, W
097E   0FA0           02987             incfsz r1, F  ;pokud zadna zmena pokracuje dal
097F   00CE           02988             movwf ir_93  ;priepise reg AN prievedenou hodnotou
0980   0820           02989             movf r1, W
0981   1D03           02990             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0982   2306           02991             call if_93  ;pokud zmena spusti podprig
                      02992     
                      02993     
0983   0873           02994             movf pri3, W    ;kontroluje zda je zmena od minule
0984   00A0           02995             movwf r1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0985   094F           02996             comf ir_127, W
0986   07A0           02997             addwf r1, F
0987   0873           02998             movf pri3, W
0988   0FA0           02999             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0989   00CF           03000             movwf ir_127  ;priepise reg AN prievedenou hodnotou
098A   0820           03001             movf r1, W
098B   1D03           03002             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
098C   2308           03003             call if_127  ;pokud zmena spusti podprig
                      03004     
                      03005     
098D   0874           03006             movf pri4, W    ;kontroluje zda je zmena od minule
098E   00A0           03007             movwf r1
098F   0950           03008             comf ir_128, W
0990   07A0           03009             addwf r1, F
0991   0874           03010             movf pri4, W
0992   0FA0           03011             incfsz r1, F  ;pokud zadna zmena pokracuje dal
0993   00D0           03012             movwf ir_128  ;priepise reg AN prievedenou hodnotou
0994   0820           03013             movf r1, W
0995   1D03           03014             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
0996   230A           03015             call if_128  ;pokud zmena spusti podprig
                      03016     
                      03017     
0997   0875           03018             movf pri5, W    ;kontroluje zda je zmena od minule
0998   00A0           03019             movwf r1
0999   0935           03020             comf ir_x, W
099A   07A0           03021             addwf r1, F
099B   0875           03022             movf pri5, W
099C   0FA0           03023             incfsz r1, F  ;pokud zadna zmena pokracuje dal
099D   00B5           03024             movwf ir_x  ;priepise reg AN prievedenou hodnotou
099E   0820           03025             movf r1, W
099F   1D03           03026             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09A0   2357           03027             call if_x  ;pokud zmena spusti podprig
                      03028     
                      03029     
09A1   0876           03030             movf pri6, W    ;kontroluje zda je zmena od minule
09A2   00A0           03031             movwf r1
09A3   0935           03032             comf ir_x, W
09A4   07A0           03033             addwf r1, F
09A5   0876           03034             movf pri6, W
09A6   0FA0           03035             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09A7   00B5           03036             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09A8   0820           03037             movf r1, W
09A9   1D03           03038             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09AA   2357           03039             call if_x  ;pokud zmena spusti podprig
                      03040     
                      03041     
09AB   0877           03042             movf pri7, W    ;kontroluje zda je zmena od minule
09AC   00A0           03043             movwf r1
09AD   0935           03044             comf ir_x, W
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09AE   07A0           03045             addwf r1, F
09AF   0877           03046             movf pri7, W
09B0   0FA0           03047             incfsz r1, F  ;pokud zadna zmena pokracuje dal
09B1   00B5           03048             movwf ir_x  ;priepise reg AN prievedenou hodnotou
09B2   0820           03049             movf r1, W
09B3   1D03           03050             btfss STATUS, Z
Message[306]: Crossing page boundary -- ensure page bits are set.
09B4   2357           03051             call if_x  ;pokud zmena spusti podprig
                      03052 
                      03053 
                      03054 
09B5   158A           03055             bsf PCLATH,3 ;Select page 1
09B6   2848           03056             goto loop      ;zpet v cyklu na zacatek
                      03057         
                      03058         
                      03059         
                      03060 
                      03061 
                      03062 
                      03063 
                      03064 
                      03065 
09B7   084B           03066 okna        movf ir_90, W
09B8   39F0           03067             andlw b'11110000' ;odseknu konecnou cast
09B9   00A0           03068             movwf r1
09BA   09A0           03069             comf r1, F ;udelám dvojkový doplněk
09BB   0824           03070             movf o1tar, W
09BC   39F0           03071             andlw b'11110000' ;odseknu konecnou cast
09BD   07A0           03072             addwf r1, F ;sectu s dvojkovym doplnkem
09BE   0803           03073             movf STATUS, W
09BF   00A2           03074             movwf r3
09C0   1922           03075             btfsc r3, Z
09C1   2226           03076             call o1stop
09C2   1922           03077             btfsc r3, Z
09C3   29C8           03078             goto okno2
09C4   1C22           03079             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09C5   21FC           03080             call o1up
09C6   1822           03081             btfsc r3, C ;pokud preteklo, sjed dolu
09C7   2211           03082             call o1down
09C8   084C           03083 okno2       movf ir_91, W
09C9   39F0           03084             andlw b'11110000' ;odseknu konecnou cast
09CA   00A0           03085             movwf r1
09CB   09A0           03086             comf r1, F ;udelám dvojkový doplněk
09CC   0825           03087             movf o2tar, W
09CD   39F0           03088             andlw b'11110000' ;odseknu konecnou cast
09CE   07A0           03089             addwf r1, F ;sectu s dvojkovym doplnkem
09CF   0803           03090             movf STATUS, W
09D0   00A2           03091             movwf r3
09D1   1922           03092             btfsc r3, Z
09D2   2265           03093             call o2stop
09D3   1922           03094             btfsc r3, Z
09D4   29D9           03095             goto okno3
09D5   1C22           03096             btfss r3, C ;pokud nepreteklo, vyjed nahoru
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09D6   223B           03097             call o2up
09D7   1822           03098             btfsc r3, C ;pokud preteklo, sjed dolu
09D8   2250           03099             call o2down
09D9   084D           03100 okno3       movf ir_92, W
09DA   39F0           03101             andlw b'11110000' ;odseknu konecnou cast
09DB   00A0           03102             movwf r1
09DC   09A0           03103             comf r1, F ;udelám dvojkový doplněk
09DD   0826           03104             movf o3tar, W
09DE   39F0           03105             andlw b'11110000' ;odseknu konecnou cast
09DF   07A0           03106             addwf r1, F ;sectu s dvojkovym doplnkem
09E0   0803           03107             movf STATUS, W
09E1   00A2           03108             movwf r3
09E2   1922           03109             btfsc r3, Z
09E3   22A4           03110             call o3stop
09E4   1922           03111             btfsc r3, Z
09E5   29EA           03112             goto okno4
09E6   1C22           03113             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09E7   227A           03114             call o3up
09E8   1822           03115             btfsc r3, C ;pokud preteklo, sjed dolu
09E9   228F           03116             call o3down
09EA   084E           03117 okno4       movf ir_93, W
09EB   39F0           03118             andlw b'11110000' ;odseknu konecnou cast
09EC   00A0           03119             movwf r1
09ED   09A0           03120             comf r1, F ;udelám dvojkový doplněk
09EE   0827           03121             movf o4tar, W
09EF   39F0           03122             andlw b'11110000' ;odseknu konecnou cast
09F0   07A0           03123             addwf r1, F ;sectu s dvojkovym doplnkem
09F1   0803           03124             movf STATUS, W
09F2   00A2           03125             movwf r3
09F3   1922           03126             btfsc r3, Z
09F4   22E3           03127             call o4stop
09F5   1922           03128             btfsc r3, Z
09F6   0008           03129             return
09F7   1C22           03130             btfss r3, C ;pokud nepreteklo, vyjed nahoru
09F8   22B9           03131             call o4up
09F9   1822           03132             btfsc r3, C ;pokud preteklo, sjed dolu
09FA   22CE           03133             call o4down
09FB   0008           03134             return
                      03135 
                      03136 ;okno 1 nahoru, dolu, zastavit
09FC   19A9           03137 o1up        btfsc o_a, 3
09FD   2A06           03138             goto no1up
09FE   301D           03139             movlw b'11101' ;port D5
09FF   00D2           03140             movwf port
0A00   3003           03141             movlw b'11' ;procesor 3
0A01   00D3           03142             movwf prc
                      03143         
0A02   118A           03144             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A03   21F2           03145             call setout ;smaz port v prc
0A04   158A           03146             bsf PCLATH,3 ;Select page 1
0A05   15A9           03147             bsf o_a, 3 
0A06   1FA9           03148 no1up       btfss o_a, 7
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A07   0008           03149             return
0A08   300C           03150             movlw b'01100' ;port B4
0A09   00D2           03151             movwf port
0A0A   3002           03152             movlw b'10' ;procesor 2
0A0B   00D3           03153             movwf prc
                      03154             
0A0C   118A           03155             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A0D   2219           03156             call clrout ;smaz port v prc
0A0E   158A           03157             bsf PCLATH,3 ;Select page 1
0A0F   13A9           03158             bcf o_a, 7             
0A10   0008           03159             return
0A11   1DA9           03160 o1down      btfss o_a, 3
0A12   2A1B           03161             goto no1down
0A13   301D           03162             movlw b'11101' ;port D5
0A14   00D2           03163             movwf port
0A15   3003           03164             movlw b'11' ;procesor 3
0A16   00D3           03165             movwf prc
                      03166             
0A17   118A           03167             bcf PCLATH,3 ;Select page 0
Message[306]: Crossing page boundary -- ensure page bits are set.
0A18   2219           03168             call clrout ;smaz port v prc
0A19   158A           03169             bsf PCLATH,3 ;Select page 1
0A1A   11A9           03170             bcf o_a, 3 
0A1B   1BA9           03171 no1down     btfsc o_a, 7
0A1C   0008           03172             return
0A1D   300C           03173             movlw b'01100' ;port B4
0A1E   00D2           03174             movwf port
0A1F   3002           03175             movlw b'10' ;procesor 2
0A20   00D3           03176             movwf prc
                      03177             
0A21   118A           03178             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A22   21F2           03179             call setout ;smaz port v prc
0A23   158A           03180             bsf PCLATH,3 ;Select page 1
0A24   17A9           03181             bsf o_a, 7             
0A25   0008           03182             return
0A26   1DA9           03183 o1stop      btfss o_a, 3
0A27   2A30           03184             goto no1stop
0A28   301D           03185             movlw b'11101' ;port D5
0A29   00D2           03186             movwf port
0A2A   3003           03187             movlw b'11' ;procesor 3
0A2B   00D3           03188             movwf prc
                      03189             
0A2C   118A           03190             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A2D   2219           03191             call clrout ;smaz port v prc
0A2E   158A           03192             bsf PCLATH,3 ;Select page 1
0A2F   11A9           03193             bcf o_a, 3 
0A30   1FA9           03194 no1stop     btfss o_a, 7
0A31   0008           03195             return
0A32   300C           03196             movlw b'01100' ;port B4
0A33   00D2           03197             movwf port
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A34   3002           03198             movlw b'10' ;procesor 2
0A35   00D3           03199             movwf prc
                      03200             
0A36   118A           03201             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A37   2219           03202             call clrout ;smaz port v prc
0A38   158A           03203             bsf PCLATH,3 ;Select page 1
0A39   13A9           03204             bcf o_a, 7             
0A3A   0008           03205             return
                      03206 ;okno 2 nahoru, dolu, zastavit
0A3B   1A29           03207 o2up        btfsc o_a, 4
0A3C   2A45           03208             goto no2up
0A3D   3018           03209             movlw b'11000' ;port D0
0A3E   00D2           03210             movwf port
0A3F   3002           03211             movlw b'10' ;procesor 2
0A40   00D3           03212             movwf prc
                      03213             
0A41   118A           03214             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A42   21F2           03215             call setout ;smaz port v prc
0A43   158A           03216             bsf PCLATH,3 ;Select page 1
0A44   1629           03217             bsf o_a, 4 
0A45   1C2A           03218 no2up       btfss o_b, 0
0A46   0008           03219             return
0A47   300D           03220             movlw b'01101' ;port B5
0A48   00D2           03221             movwf port
0A49   3002           03222             movlw b'10' ;procesor 2
0A4A   00D3           03223             movwf prc
                      03224             
0A4B   118A           03225             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A4C   2219           03226             call clrout ;smaz port v prc
0A4D   158A           03227             bsf PCLATH,3 ;Select page 1
0A4E   102A           03228             bcf o_b, 0             
0A4F   0008           03229             return
0A50   1E29           03230 o2down      btfss o_a, 4
0A51   2A5A           03231             goto no2down
0A52   3018           03232             movlw b'11000' ;port D0
0A53   00D2           03233             movwf port
0A54   3002           03234             movlw b'10' ;procesor 2
0A55   00D3           03235             movwf prc
                      03236             
0A56   118A           03237             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A57   2219           03238             call clrout ;smaz port v prc
0A58   158A           03239             bsf PCLATH,3 ;Select page 1
0A59   1229           03240             bcf o_a, 4 
0A5A   182A           03241 no2down     btfsc o_b, 0
0A5B   0008           03242             return
0A5C   300D           03243             movlw b'01101' ;port B5
0A5D   00D2           03244             movwf port
0A5E   3002           03245             movlw b'10' ;procesor 2
0A5F   00D3           03246             movwf prc
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03247             
0A60   118A           03248             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A61   21F2           03249             call setout ;smaz port v prc
0A62   158A           03250             bsf PCLATH,3 ;Select page 1
0A63   142A           03251             bsf o_b, 0             
0A64   0008           03252             return
0A65   1E29           03253 o2stop      btfss o_a, 4
0A66   2A6F           03254             goto no2stop
0A67   3018           03255             movlw b'11000' ;port D0
0A68   00D2           03256             movwf port
0A69   3002           03257             movlw b'10' ;procesor 2
0A6A   00D3           03258             movwf prc
                      03259             
0A6B   118A           03260             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A6C   2219           03261             call clrout ;smaz port v prc
0A6D   158A           03262             bsf PCLATH,3 ;Select page 1
0A6E   1229           03263             bcf o_a, 4 
0A6F   1C2A           03264 no2stop     btfss o_b, 0
0A70   0008           03265             return
0A71   300D           03266             movlw b'01101' ;port B5
0A72   00D2           03267             movwf port
0A73   3002           03268             movlw b'10' ;procesor 2
0A74   00D3           03269             movwf prc
                      03270             
0A75   118A           03271             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A76   2219           03272             call clrout ;smaz port v prc
0A77   158A           03273             bsf PCLATH,3 ;Select page 1
0A78   102A           03274             bcf o_b, 0             
0A79   0008           03275             return
                      03276 ;okno 3 nahoru, dolu, zastavit
0A7A   1AA9           03277 o3up        btfsc o_a, 5
0A7B   2A84           03278             goto no3up
0A7C   300A           03279             movlw b'01010' ;port B2
0A7D   00D2           03280             movwf port
0A7E   3002           03281             movlw b'10' ;procesor 2
0A7F   00D3           03282             movwf prc
                      03283             
0A80   118A           03284             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A81   21F2           03285             call setout ;smaz port v prc
0A82   158A           03286             bsf PCLATH,3 ;Select page 1
0A83   16A9           03287             bsf o_a, 5 
0A84   1CAA           03288 no3up       btfss o_b, 1
0A85   0008           03289             return
0A86   300E           03290             movlw b'01110' ;port B6
0A87   00D2           03291             movwf port
0A88   3002           03292             movlw b'10' ;procesor 2
0A89   00D3           03293             movwf prc
                      03294             
0A8A   118A           03295             bcf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[306]: Crossing page boundary -- ensure page bits are set.
0A8B   2219           03296             call clrout ;smaz port v prc
0A8C   158A           03297             bsf PCLATH,3 ;Select page 1
0A8D   10AA           03298             bcf o_b, 1             
0A8E   0008           03299             return
0A8F   1EA9           03300 o3down      btfss o_a, 5
0A90   2A99           03301             goto no3down
0A91   300A           03302             movlw b'01010' ;port B2
0A92   00D2           03303             movwf port
0A93   3002           03304             movlw b'10' ;procesor 2
0A94   00D3           03305             movwf prc
                      03306             
0A95   118A           03307             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0A96   2219           03308             call clrout ;smaz port v prc
0A97   158A           03309             bsf PCLATH,3 ;Select page 1
0A98   12A9           03310             bcf o_a, 5 
0A99   18AA           03311 no3down     btfsc o_b, 1
0A9A   0008           03312             return
0A9B   300E           03313             movlw b'01110' ;port B6
0A9C   00D2           03314             movwf port
0A9D   3002           03315             movlw b'10' ;procesor 2
0A9E   00D3           03316             movwf prc
                      03317             
0A9F   118A           03318             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AA0   21F2           03319             call setout ;smaz port v prc
0AA1   158A           03320             bsf PCLATH,3 ;Select page 1
0AA2   14AA           03321             bsf o_b, 1             
0AA3   0008           03322             return
0AA4   1EA9           03323 o3stop      btfss o_a, 5
0AA5   2AAE           03324             goto no3stop
0AA6   300A           03325             movlw b'01010' ;port B2
0AA7   00D2           03326             movwf port
0AA8   3002           03327             movlw b'10' ;procesor 2
0AA9   00D3           03328             movwf prc
                      03329             
0AAA   118A           03330             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AAB   2219           03331             call clrout ;smaz port v prc
0AAC   158A           03332             bsf PCLATH,3 ;Select page 1
0AAD   12A9           03333             bcf o_a, 5 
0AAE   1CAA           03334 no3stop     btfss o_b, 1
0AAF   0008           03335             return
0AB0   300E           03336             movlw b'01110' ;port B6
0AB1   00D2           03337             movwf port
0AB2   3002           03338             movlw b'10' ;procesor 2
0AB3   00D3           03339             movwf prc
                      03340             
0AB4   118A           03341             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AB5   2219           03342             call clrout ;smaz port v prc
0AB6   158A           03343             bsf PCLATH,3 ;Select page 1
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AB7   10AA           03344             bcf o_b, 1             
0AB8   0008           03345             return
                      03346 ;okno 4 nahoru, dolu, zastavit
0AB9   1B29           03347 o4up        btfsc o_a, 6
0ABA   2AC3           03348             goto no4up
0ABB   300B           03349             movlw b'01011' ;port B3
0ABC   00D2           03350             movwf port
0ABD   3002           03351             movlw b'10' ;procesor 2
0ABE   00D3           03352             movwf prc
                      03353             
0ABF   118A           03354             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AC0   21F2           03355             call setout ;smaz port v prc
0AC1   158A           03356             bsf PCLATH,3 ;Select page 1
0AC2   1729           03357             bsf o_a, 6 
0AC3   1D2A           03358 no4up       btfss o_b, 2
0AC4   0008           03359             return
0AC5   300F           03360             movlw b'01111' ;port B7
0AC6   00D2           03361             movwf port
0AC7   3002           03362             movlw b'10' ;procesor 2
0AC8   00D3           03363             movwf prc
                      03364             
0AC9   118A           03365             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ACA   2219           03366             call clrout ;smaz port v prc
0ACB   158A           03367             bsf PCLATH,3 ;Select page 1
0ACC   112A           03368             bcf o_b, 2             
0ACD   0008           03369             return
0ACE   1F29           03370 o4down      btfss o_a, 6
0ACF   2AD8           03371             goto no4down
0AD0   300B           03372             movlw b'01011' ;port B3
0AD1   00D2           03373             movwf port
0AD2   3002           03374             movlw b'10' ;procesor 2
0AD3   00D3           03375             movwf prc
                      03376             
0AD4   118A           03377             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AD5   2219           03378             call clrout ;smaz port v prc
0AD6   158A           03379             bsf PCLATH,3 ;Select page 1
0AD7   1329           03380             bcf o_a, 6 
0AD8   192A           03381 no4down     btfsc o_b, 2
0AD9   0008           03382             return
0ADA   300F           03383             movlw b'01111' ;port B7
0ADB   00D2           03384             movwf port
0ADC   3002           03385             movlw b'10' ;procesor 2
0ADD   00D3           03386             movwf prc
                      03387             
0ADE   118A           03388             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0ADF   21F2           03389             call setout ;smaz port v prc
0AE0   158A           03390             bsf PCLATH,3 ;Select page 1
0AE1   152A           03391             bsf o_b, 2             
0AE2   0008           03392             return
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AE3   1F29           03393 o4stop      btfss o_a, 6
0AE4   2AED           03394             goto no4stop
0AE5   300B           03395             movlw b'01011' ;port B3
0AE6   00D2           03396             movwf port
0AE7   3002           03397             movlw b'10' ;procesor 2
0AE8   00D3           03398             movwf prc
                      03399             
0AE9   118A           03400             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AEA   2219           03401             call clrout ;smaz port v prc
0AEB   158A           03402             bsf PCLATH,3 ;Select page 1
0AEC   1329           03403             bcf o_a, 6 
0AED   1D2A           03404 no4stop     btfss o_b, 2
0AEE   0008           03405             return
0AEF   300F           03406             movlw b'01111' ;port B7
0AF0   00D2           03407             movwf port
0AF1   3002           03408             movlw b'10' ;procesor 2
0AF2   00D3           03409             movwf prc
                      03410             
0AF3   118A           03411             bcf PCLATH,3 ;Select page 1
Message[306]: Crossing page boundary -- ensure page bits are set.
0AF4   2219           03412             call clrout ;smaz port v prc
0AF5   158A           03413             bsf PCLATH,3 ;Select page 1
0AF6   112A           03414             bcf o_b, 2             
0AF7   0008           03415             return
                      03416             
                      03417             
                      03418             
                      03419             
                      03420 
                      03421 
                      03422 
                      03423 
0AF8   3032           03424 adconv      movlw .50 ; kolikrat se ma merit vstup
0AF9   00F7           03425             movwf ran2 ; decrementator pro cykl
0AFA   00FA           03426             movwf ran5 ; delitel pro vypocet prumeru
0AFB   0876           03427             movf ran1, W
0AFC   00F8           03428             movwf ran3 ; zachováni ANx vstupu
0AFD   01F2           03429             clrf CIS2_L
0AFE   01F3           03430             clrf CIS2_H
                      03431             
0AFF   0878           03432 adconv2     movf ran3, W
0B00   00F6           03433             movwf ran1 ; nasteni znova ANx vstupu
0B01   2320           03434             call adconv_one
                      03435             
                      03436             ; pripraveni cisla 1 k pricteni
0B02   01F1           03437             clrf CIS1_H
0B03   0876           03438             movf ran1, W
0B04   00F0           03439             movwf CIS1_L
                      03440             
                      03441             ; Secte dve 16-bitova cisla do max. hodnoty vysledku FFFFh (65535d)
                      03442             ; CIS1_H, CIS1_L + CIS2_H, CIS2_L -> OUT_H a OUT_L
                      03443         
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B05   0870           03444                 movf    CIS1_L,W        ; CIS1_L do W
0B06   0772           03445                 addwf   CIS2_L,W        ; W + CIS2_L do W
0B07   00F4           03446                 movwf   OUT_L           ; W do OUT_L
                      03447         
0B08   0871           03448                 movf    CIS1_H,W        ; CIS1_H do W
0B09   1803           03449                 btfsc   STATUS,C
0B0A   3E01           03450                 addlw   0x01            ; C=1, scitani preteklo tak uloz 1 do W
0B0B   0773           03451                 addwf   CIS2_H,W
0B0C   00F5           03452                 movwf   OUT_H           ; W do OUT_H
                      03453                 
                      03454                 ; ulozi OUT do CIS2
0B0D   0874           03455             movf OUT_L, W
0B0E   00F2           03456             movwf CIS2_L
0B0F   0875           03457             movf OUT_H, W
0B10   00F3           03458             movwf CIS2_H
                      03459             
                      03460             
0B11   0BF7           03461             decfsz ran2, F
0B12   2AFF           03462             goto adconv2
                      03463             
                      03464             ; vydeli poctem mereni
0B13   0872           03465             movf CIS2_L, W
0B14   00F0           03466             movwf A1
0B15   0873           03467             movf CIS2_H, W
0B16   00F1           03468             movwf A2
0B17   01F2           03469             clrf A3
                      03470             
0B18   087A           03471             movf ran5, W
0B19   00F3           03472             movwf B1
0B1A   01F4           03473             clrf B2
0B1B   01F5           03474             clrf B3
                      03475             
0B1C   232F           03476             call LOMENO24
0B1D   0876           03477             movf C1, W
0B1E   00F6           03478             movwf ran1
                      03479             
0B1F   0008           03480             return
                      03481         
0B20   1003           03482 adconv_one  bcf STATUS, C
0B21   0DF6           03483             rlf ran1, F
0B22   0DF6           03484             rlf ran1, F
0B23   0DF6           03485             rlf ran1, F
                      03486             
                      03487             ; ADCON0 REG     ;00 Fosc/2, 000 AN0, 1 start & in progres, 0, 1 shut up (povoleno)
0B24   13F6           03488             bcf ran1, 7
0B25   1776           03489             bsf ran1, 6
                      03490             ; 5
                      03491             ; 4
                      03492             ; 3
0B26   1576           03493             bsf ran1, 2
                      03494             ; 1
0B27   1476           03495             bsf ran1, 0
                      03496             
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B28   0876           03497             movf ran1, W
0B29   009F           03498             movwf ADCON0
                      03499             
0B2A   191F           03500             btfsc ADCON0, 2   ;ceka nez skonci AD prevod
0B2B   2B2A           03501             goto $-1
0B2C   081E           03502             movf ADRESH, W    ;kontroluje zda je zmena od minule
0B2D   00F6           03503             movwf ran1
0B2E   0008           03504             return
                      03505         
                      03506         
                      03507         
                      03508         
                      03509         
                      03510 ;-------------------------------;
                      03511 ; A1,2,3 / B1,2,3 = C1,2,3
                      03512 ;24Bit, pouze kladna cisla
                      03513 ;SZ=1=deleni nulou (B1,2,3=0)
                      03514 ;B se nezmeni, v A bude zbytek
                      03515 ;pouziva D1,2,3; X1
0B2F                  03516 LOMENO24
                      03517 ;test B na nulu; sZ=1=ANO
0B2F   08F3           03518         MOVF    B1,F
0B30   1903           03519         BTFSC   STATUS,Z        ;nenulove?
0B31   08F4           03520         MOVF    B2,F
0B32   1903           03521         BTFSC   STATUS,Z        ;nenulove?
0B33   08F5           03522         MOVF    B3,F
0B34   1903           03523         BTFSC   STATUS,Z        ;nenulove?
0B35   0008           03524         RETURN                  ;B1,2,3=0
                      03525 ;priprava pro deleni
0B36   0870           03526 LOM24   MOVF    A1,W            ;A do D
0B37   00F9           03527         MOVWF   D1              ;
0B38   0871           03528         MOVF    A2,W            ;
0B39   00FA           03529         MOVWF   D2              ;
0B3A   0872           03530         MOVF    A3,W            ;
0B3B   00FB           03531         MOVWF   D3              ;
0B3C   01F0           03532         CLRF    A1              ;nulovat
0B3D   01F1           03533         CLRF    A2              ;
0B3E   01F2           03534         CLRF    A3              ;
0B3F   3018           03535         MOVLW   24              ;pocet bitu
0B40   00FC           03536         MOVWF   X1              ;
0B41   1003           03537         BCF     STATUS,C        ;SC=0
                      03538 ;deleni
0B42   2354           03539 LDalsi  CALL    x2M             ;D,A posun vlevo, A-B=C
0B43   1C03           03540         BTFSS   STATUS,C        ;kladny vysledek?
0B44   2B4A           03541         GOTO    LZapor          ;NE
                      03542 ;LKlad
0B45   00F2           03543         MOVWF   A3              ;C do A
0B46   0877           03544         MOVF    C2,W            ;
0B47   00F1           03545         MOVWF   A2              ;
0B48   0876           03546         MOVF    C1,W            ;
0B49   00F0           03547         MOVWF   A1              ;
                      03548 
0B4A   0BFC           03549 LZapor  DECFSZ  X1,F            ;-1=0?
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B4B   2B42           03550         GOTO    LDalsi          ;jeste neni konec
                      03551 ;vysledek
0B4C   0D79           03552         RLF     D1,W            ;posledni x2
0B4D   00F6           03553         MOVWF   C1              ; a W do C
0B4E   0D7A           03554         RLF     D2,W            ;
0B4F   00F7           03555         MOVWF   C2              ;
0B50   0D7B           03556         RLF     D3,W            ;
0B51   00F8           03557         MOVWF   C3              ;
                      03558 
0B52   1103           03559         BCF     STATUS,Z        ;SZ=0
0B53   0008           03560         RETURN
                      03561 
                      03562 
                      03563 ;................................
                      03564 ; D1,2,3 A1,2,3 * 2 a Minus
0B54   0DF9           03565 x2M     RLF     D1,F            ;posuv vlevo
0B55   0DFA           03566         RLF     D2,F            ;
0B56   0DFB           03567         RLF     D3,F            ;
0B57   0DF0           03568         RLF     A1,F            ;
0B58   0DF1           03569         RLF     A2,F            ;
0B59   0DF2           03570         RLF     A3,F            ;
                      03571                                 ;pokracuje MINUS
                      03572 ;--------------------------------
                      03573 ; A1,2,3 - B1,2,3 = C1,2,3
                      03574 ;SC=0=zaporny vysledek
                      03575 ;A,B se nezmeni
0B5A   0873           03576 MINUS   MOVF    B1,W            ;W=B1
0B5B   0270           03577         SUBWF   A1,W            ;A1-B1=W
0B5C   00F6           03578         MOVWF   C1              ;C1=W=vysledek1
0B5D   0103           03579         CLRW                    ;W=0
0B5E   1C03           03580         BTFSS   STATUS,C        ;SUB kladne?
0B5F   3001           03581         MOVLW   1               ;W=1
0B60   0774           03582         ADDWF   B2,W            ;B2+W=W
0B61   01F8           03583         CLRF    C3              ;C3=0
0B62   1803           03584         BTFSC   STATUS,C        ;ADD nepreteklo?
0B63   1478           03585         BSF     C3,0            ;C3=1
0B64   0271           03586         SUBWF   A2,W            ;A2-W=W
0B65   00F7           03587         MOVWF   C2              ;C2=w=vysledek2
0B66   0878           03588         MOVF    C3,W            ;W=C3
0B67   1C03           03589         BTFSS   STATUS,C        ;SUB kladne?
0B68   3001           03590         MOVLW   1               ;W=1
0B69   0775           03591         ADDWF   B3,W            ;B3+W=W
0B6A   01F8           03592         CLRF    C3              ;C3=0
0B6B   1803           03593         BTFSC   STATUS,C        ;ADD nepreteklo?
0B6C   1478           03594         BSF     C3,0            ;C3=1
0B6D   0272           03595         SUBWF   A3,W            ;A3-W=W
0B6E   1878           03596         BTFSC   C3,0            ;C3=0?
0B6F   1003           03597         BCF     STATUS,C        ;SC=0
0B70   00F8           03598         MOVWF   C3              ;C3=W=vysledek3
0B71   0008           03599         RETURN
                      03600 
                      03601 
                      03602         end                                           ; KONEC PROGRAMU
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000070
A2                                00000071
A3                                00000072
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM                             00000005
B1                                00000073
B2                                00000074
B3                                00000075
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000076
C2                                00000077
C3                                00000078
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

CHS2                              00000005
CIS1_H                            00000071
CIS1_L                            00000070
CIS2_H                            00000073
CIS2_L                            00000072
CKE                               00000006
CKP                               00000004
CREN                              00000004
CSRC                              00000007
D                                 00000005
D1                                00000079
D2                                0000007A
D3                                0000007B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FL                                0000007E
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
LDalsi                            00000B42
LEDZAM                            00000002
LOM24                             00000B36
LOMENO24                          00000B2F
LZapor                            00000B4A
MINUS                             00000B5A
NOT_A                             00000005
NOT_ADDRESS                       00000005
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODSKOK                            00000004
OERR                              00000001
OPTION_REG                        00000081
OUT_H                             00000075
OUT_L                             00000074
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PCON_POR                          00000003
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
POR                               00000001
PORTA                             00000005
PORTA_temp                        0000005E
PORTB                             00000006
PORTB_temp                        0000005F
PORTC                             00000007
PORTC_temp                        00000060
PORTD                             00000008
PORTD_temp                        00000061
PORTE                             00000009
PORTE_temp                        00000062
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REDTUN                            00000001
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STARTED                           00000001
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0OF                              00000000
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OF                              00000004
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WATCHOVER                         00000002
WCOL                              00000007
WHITUN                            00000003
WR                                00000001
WREN                              00000002
WRERR                             00000003
X1                                0000007C
X2                                0000007D
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F874A                         00000001
adconv                            00000AF8
adconv2                           00000AFF
adconv_one                        00000B20
alabli                            0000012E
casov                             0000005A
cassir                            00000058
casvar                            0000006B
cil                               00000078
clrout                            00000219
conf                              00000059
dotaz                             00000139
dotazerr                          000001EE
if_127                            00000308
if_128                            0000030A
if_49                             000002E2
if_50                             000002DA
if_51                             000002E6
if_52                             000002E8
if_53                             000002EA
if_54                             000002EC
if_55                             000002EE
if_56                             000002F0
if_57                             000002F2
if_58                             00000240
if_59                             000002DC
if_60                             000002DE
if_61                             000002E0
if_62                             0000028D
if_80                             000002E4
if_84                             000002F4
if_85                             000002F6
if_86                             000002F8
if_87                             000002FA
if_88                             000002FC
if_89                             000002FE
if_90                             00000300
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

if_91                             00000302
if_92                             00000304
if_93                             00000306
if_x                              00000357
init                              00000016
inter                             0000004E
intoff                            00000048
inton                             0000003D
ir_127                            0000004F
ir_128                            00000050
ir_49                             00000036
ir_50                             00000037
ir_51                             00000038
ir_52                             00000039
ir_53                             0000003A
ir_54                             0000003B
ir_55                             0000003C
ir_56                             0000003D
ir_57                             0000003E
ir_58                             0000003F
ir_59                             00000040
ir_60                             00000041
ir_61                             00000042
ir_62                             00000043
ir_80                             00000044
ir_84                             00000045
ir_85                             00000046
ir_86                             00000047
ir_87                             00000048
ir_88                             00000049
ir_89                             0000004A
ir_90                             0000004B
ir_91                             0000004C
ir_92                             0000004D
ir_93                             0000004E
ir_x                              00000035
klakson                           00000700
ledPCRun                          00000078
ledzam                            0000070F
locked                            00000051
loop                              00000848
lzabli                            000000DC
no1down                           00000A1B
no1stop                           00000A30
no1up                             00000A06
no2down                           00000A5A
no2stop                           00000A6F
no2up                             00000A45
no3down                           00000A99
no3stop                           00000AAE
no3up                             00000A84
no4down                           00000AD8
no4stop                           00000AED
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

no4up                             00000AC3
o1down                            00000A11
o1stop                            00000A26
o1tar                             00000024
o1tmp                             00000020
o1up                              000009FC
o2down                            00000A50
o2stop                            00000A65
o2tar                             00000025
o2tmp                             00000021
o2up                              00000A3B
o3down                            00000A8F
o3stop                            00000AA4
o3tar                             00000026
o3tmp                             00000022
o3up                              00000A7A
o4down                            00000ACE
o4stop                            00000AE3
o4tar                             00000027
o4tmp                             00000023
o4up                              00000AB9
o_a                               00000029
o_b                               0000002A
o_c                               0000002B
o_d                               0000002C
o_e                               0000002D
o_f                               0000002E
o_g                               0000002F
o_h                               00000030
o_i                               00000031
o_j                               00000032
o_k                               00000033
o_l                               00000034
odsoff                            000000F9
okna                              000009B7
okno2                             000009C8
okno3                             000009D9
okno4                             000009EA
pcl_temp                          00000028
port                              00000052
prc                               00000053
pri0                              00000070
pri1                              00000071
pri2                              00000072
pri3                              00000073
pri4                              00000074
pri5                              00000075
pri6                              00000076
pri7                              00000077
r1                                00000020
r2                                00000021
r3                                00000022
r4                                00000023
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

r5                                00000024
r6                                00000025
radio                             00000060
ran1                              00000076
ran2                              00000077
ran3                              00000078
ran4                              00000079
ran5                              0000007A
restart                           00000800
rtuoff                            000000CB
s_temp                            00000027
setout                            000001F2
sirbeep                           00000097
spinac                            00000064
spioff                            000000F4
start                             00000825
t1_00                             000003A0
t1_01                             000003DE
t1_02                             00000406
t1_03                             0000042E
t1_04                             00000454
t1_05                             0000048A
t1_06                             000004AA
t1_07                             000004E6
t1_08                             000004F4
t1_09                             00000502
t1_10                             00000504
t1_11                             0000050E
t1_12                             00000515
t1_13                             0000051E
t1_14                             00000527
t1_15                             0000052E
t1_16                             00000535
t1_17                             0000053C
t1_18                             0000053E
t1_19                             00000540
t1_20                             00000542
t1_21                             00000549
t1_22                             00000550
t1_23                             00000557
t1_24                             0000055E
t1_25                             00000565
t1_26                             0000056C
t1_27                             0000057B
t1_28                             0000057D
t1_29                             0000057F
t1_30                             00000581
t1_31                             0000058A
t1_32                             00000593
t1_33                             0000059E
t1_34                             000005A9
t1_35                             000005B2
t1_36                             000005BB
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

t1_37                             000005C6
t1_38                             000005D6
t1_39                             000005D8
t1_40                             000005DA
t1_41                             000005E9
t1_42                             000005F8
t1_43                             00000607
t1_44                             00000616
t1_45                             00000625
t1_46                             00000629
t1_47                             0000062D
t1_48                             0000063C
t1_49                             0000063E
t1_50                             00000640
t1_51                             00000647
t1_52                             0000064B
t1_53                             0000064F
t1_54                             0000065E
t1_55                             0000066D
t1_56                             00000671
t1_57                             00000692
t1_58                             00000694
t1_59                             00000696
t1_60                             00000698
t1_61                             000006A3
t1_62                             000006B2
t1_63                             000006C1
t1_64                             000006CB
t1_65                             000006D5
t1_66                             000006DF
t1_67                             000006E9
t1_68                             000006EB
t1_69                             000006ED
t1_stop                           00000359
t1_x                              000006EF
t2_02                             00000421
t2_03                             00000447
t2_37                             000005CF
t2_stop                           0000035B
t3_02                             0000042A
t3_03                             00000450
t3_stop                           0000035D
timala                            00000067
timer1                            00000062
timlza                            0000005D
timods                            00000066
timrtu                            0000005C
timsir                            00000057
timspi                            00000065
timvar                            0000005B
timwtu                            00000063
tl1                               00000054
tl2                               00000055
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

tl3                               00000056
tx_stop                           0000035F
varoff                            000000A0
vterina                           0000006C
vterinka                          00000077
w100c                             000006F6
w20i                              000006F1
w40c                              000006FB
w_temp                            00000026
watchover                         00000057
watchstart                        00000059
watchwait                         0000005C
wtuoff                            000000E3
x0                                00000068
x1                                00000069
x2                                0000006A
x2M                               00000B54


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.35                        RJCAR1.ASM   3-13-2012  23:20:38         PAGE 82


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXX-- ---------------- ----------------
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XX--------------

All other memory blocks unused.

Program Memory Words Used:  2701
Program Memory Words Free:  1395


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    99 reported,     0 suppressed

